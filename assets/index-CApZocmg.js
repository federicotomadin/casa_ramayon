function ZA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Qv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pg={exports:{}},yu={},gg={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function eR(){if(n0)return st;n0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function N(H,te,ve){this.props=H,this.context=te,this.refs=C,this.updater=ve||b}N.prototype.isReactComponent={},N.prototype.setState=function(H,te){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,te,"setState")},N.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function L(){}L.prototype=N.prototype;function D(H,te,ve){this.props=H,this.context=te,this.refs=C,this.updater=ve||b}var j=D.prototype=new L;j.constructor=D,S(j,N.prototype),j.isPureReactComponent=!0;var B=Array.isArray,O=Object.prototype.hasOwnProperty,$={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function I(H,te,ve){var xe,Oe={},De=null,oe=null;if(te!=null)for(xe in te.ref!==void 0&&(oe=te.ref),te.key!==void 0&&(De=""+te.key),te)O.call(te,xe)&&!A.hasOwnProperty(xe)&&(Oe[xe]=te[xe]);var Ee=arguments.length-2;if(Ee===1)Oe.children=ve;else if(1<Ee){for(var Re=Array(Ee),Ue=0;Ue<Ee;Ue++)Re[Ue]=arguments[Ue+2];Oe.children=Re}if(H&&H.defaultProps)for(xe in Ee=H.defaultProps,Ee)Oe[xe]===void 0&&(Oe[xe]=Ee[xe]);return{$$typeof:t,type:H,key:De,ref:oe,props:Oe,_owner:$.current}}function P(H,te){return{$$typeof:t,type:H.type,key:te,ref:H.ref,props:H.props,_owner:H._owner}}function F(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function U(H){var te={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ve){return te[ve]})}var M=/\/+/g;function k(H,te){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):te.toString(36)}function ae(H,te,ve,xe,Oe){var De=typeof H;(De==="undefined"||De==="boolean")&&(H=null);var oe=!1;if(H===null)oe=!0;else switch(De){case"string":case"number":oe=!0;break;case"object":switch(H.$$typeof){case t:case e:oe=!0}}if(oe)return oe=H,Oe=Oe(oe),H=xe===""?"."+k(oe,0):xe,B(Oe)?(ve="",H!=null&&(ve=H.replace(M,"$&/")+"/"),ae(Oe,te,ve,"",function(Ue){return Ue})):Oe!=null&&(F(Oe)&&(Oe=P(Oe,ve+(!Oe.key||oe&&oe.key===Oe.key?"":(""+Oe.key).replace(M,"$&/")+"/")+H)),te.push(Oe)),1;if(oe=0,xe=xe===""?".":xe+":",B(H))for(var Ee=0;Ee<H.length;Ee++){De=H[Ee];var Re=xe+k(De,Ee);oe+=ae(De,te,ve,Re,Oe)}else if(Re=x(H),typeof Re=="function")for(H=Re.call(H),Ee=0;!(De=H.next()).done;)De=De.value,Re=xe+k(De,Ee++),oe+=ae(De,te,ve,Re,Oe);else if(De==="object")throw te=String(H),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return oe}function ge(H,te,ve){if(H==null)return H;var xe=[],Oe=0;return ae(H,xe,"","",function(De){return te.call(ve,De,Oe++)}),xe}function pe(H){if(H._status===-1){var te=H._result;te=te(),te.then(function(ve){(H._status===0||H._status===-1)&&(H._status=1,H._result=ve)},function(ve){(H._status===0||H._status===-1)&&(H._status=2,H._result=ve)}),H._status===-1&&(H._status=0,H._result=te)}if(H._status===1)return H._result.default;throw H._result}var ye={current:null},z={transition:null},K={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:z,ReactCurrentOwner:$};function Y(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:ge,forEach:function(H,te,ve){ge(H,function(){te.apply(this,arguments)},ve)},count:function(H){var te=0;return ge(H,function(){te++}),te},toArray:function(H){return ge(H,function(te){return te})||[]},only:function(H){if(!F(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},st.Component=N,st.Fragment=n,st.Profiler=s,st.PureComponent=D,st.StrictMode=r,st.Suspense=h,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,st.act=Y,st.cloneElement=function(H,te,ve){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var xe=S({},H.props),Oe=H.key,De=H.ref,oe=H._owner;if(te!=null){if(te.ref!==void 0&&(De=te.ref,oe=$.current),te.key!==void 0&&(Oe=""+te.key),H.type&&H.type.defaultProps)var Ee=H.type.defaultProps;for(Re in te)O.call(te,Re)&&!A.hasOwnProperty(Re)&&(xe[Re]=te[Re]===void 0&&Ee!==void 0?Ee[Re]:te[Re])}var Re=arguments.length-2;if(Re===1)xe.children=ve;else if(1<Re){Ee=Array(Re);for(var Ue=0;Ue<Re;Ue++)Ee[Ue]=arguments[Ue+2];xe.children=Ee}return{$$typeof:t,type:H.type,key:Oe,ref:De,props:xe,_owner:oe}},st.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},st.createElement=I,st.createFactory=function(H){var te=I.bind(null,H);return te.type=H,te},st.createRef=function(){return{current:null}},st.forwardRef=function(H){return{$$typeof:d,render:H}},st.isValidElement=F,st.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:pe}},st.memo=function(H,te){return{$$typeof:p,type:H,compare:te===void 0?null:te}},st.startTransition=function(H){var te=z.transition;z.transition={};try{H()}finally{z.transition=te}},st.unstable_act=Y,st.useCallback=function(H,te){return ye.current.useCallback(H,te)},st.useContext=function(H){return ye.current.useContext(H)},st.useDebugValue=function(){},st.useDeferredValue=function(H){return ye.current.useDeferredValue(H)},st.useEffect=function(H,te){return ye.current.useEffect(H,te)},st.useId=function(){return ye.current.useId()},st.useImperativeHandle=function(H,te,ve){return ye.current.useImperativeHandle(H,te,ve)},st.useInsertionEffect=function(H,te){return ye.current.useInsertionEffect(H,te)},st.useLayoutEffect=function(H,te){return ye.current.useLayoutEffect(H,te)},st.useMemo=function(H,te){return ye.current.useMemo(H,te)},st.useReducer=function(H,te,ve){return ye.current.useReducer(H,te,ve)},st.useRef=function(H){return ye.current.useRef(H)},st.useState=function(H){return ye.current.useState(H)},st.useSyncExternalStore=function(H,te,ve){return ye.current.useSyncExternalStore(H,te,ve)},st.useTransition=function(){return ye.current.useTransition()},st.version="18.3.1",st}var r0;function Xv(){return r0||(r0=1,gg.exports=eR()),gg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function tR(){if(s0)return yu;s0=1;var t=Xv(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,p){var g,v={},x=null,b=null;p!==void 0&&(x=""+p),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(b=h.ref);for(g in h)r.call(h,g)&&!o.hasOwnProperty(g)&&(v[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:d,key:x,ref:b,props:v,_owner:s.current}}return yu.Fragment=n,yu.jsx=c,yu.jsxs=c,yu}var i0;function nR(){return i0||(i0=1,pg.exports=tR()),pg.exports}var l=nR(),w=Xv();const de=Qv(w),rR=ZA({__proto__:null,default:de},[w]);var Ph={},vg={exports:{}},Yn={},yg={exports:{}},xg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function sR(){return o0||(o0=1,(function(t){function e(z,K){var Y=z.length;z.push(K);e:for(;0<Y;){var H=Y-1>>>1,te=z[H];if(0<s(te,K))z[H]=K,z[Y]=te,Y=H;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var K=z[0],Y=z.pop();if(Y!==K){z[0]=Y;e:for(var H=0,te=z.length,ve=te>>>1;H<ve;){var xe=2*(H+1)-1,Oe=z[xe],De=xe+1,oe=z[De];if(0>s(Oe,Y))De<te&&0>s(oe,Oe)?(z[H]=oe,z[De]=Y,H=De):(z[H]=Oe,z[xe]=Y,H=xe);else if(De<te&&0>s(oe,Y))z[H]=oe,z[De]=Y,H=De;else break e}}return K}function s(z,K){var Y=z.sortIndex-K.sortIndex;return Y!==0?Y:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],p=[],g=1,v=null,x=3,b=!1,S=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(z){for(var K=n(p);K!==null;){if(K.callback===null)r(p);else if(K.startTime<=z)r(p),K.sortIndex=K.expirationTime,e(h,K);else break;K=n(p)}}function B(z){if(C=!1,j(z),!S)if(n(h)!==null)S=!0,pe(O);else{var K=n(p);K!==null&&ye(B,K.startTime-z)}}function O(z,K){S=!1,C&&(C=!1,L(I),I=-1),b=!0;var Y=x;try{for(j(K),v=n(h);v!==null&&(!(v.expirationTime>K)||z&&!U());){var H=v.callback;if(typeof H=="function"){v.callback=null,x=v.priorityLevel;var te=H(v.expirationTime<=K);K=t.unstable_now(),typeof te=="function"?v.callback=te:v===n(h)&&r(h),j(K)}else r(h);v=n(h)}if(v!==null)var ve=!0;else{var xe=n(p);xe!==null&&ye(B,xe.startTime-K),ve=!1}return ve}finally{v=null,x=Y,b=!1}}var $=!1,A=null,I=-1,P=5,F=-1;function U(){return!(t.unstable_now()-F<P)}function M(){if(A!==null){var z=t.unstable_now();F=z;var K=!0;try{K=A(!0,z)}finally{K?k():($=!1,A=null)}}else $=!1}var k;if(typeof D=="function")k=function(){D(M)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ge=ae.port2;ae.port1.onmessage=M,k=function(){ge.postMessage(null)}}else k=function(){N(M,0)};function pe(z){A=z,$||($=!0,k())}function ye(z,K){I=N(function(){z(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){S||b||(S=!0,pe(O))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(z){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var Y=x;x=K;try{return z()}finally{x=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Y=x;x=z;try{return K()}finally{x=Y}},t.unstable_scheduleCallback=function(z,K,Y){var H=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?H+Y:H):Y=H,z){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=Y+te,z={id:g++,callback:K,priorityLevel:z,startTime:Y,expirationTime:te,sortIndex:-1},Y>H?(z.sortIndex=Y,e(p,z),n(h)===null&&z===n(p)&&(C?(L(I),I=-1):C=!0,ye(B,Y-H))):(z.sortIndex=te,e(h,z),S||b||(S=!0,pe(O))),z},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(z){var K=x;return function(){var Y=x;x=K;try{return z.apply(this,arguments)}finally{x=Y}}}})(xg)),xg}var a0;function iR(){return a0||(a0=1,yg.exports=sR()),yg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function oR(){if(l0)return Yn;l0=1;var t=Xv(),e=iR();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){c(i,a),c(i+"Capture",a)}function c(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function x(i){return h.call(v,i)?!0:h.call(g,i)?!1:p.test(i)?v[i]=!0:(g[i]=!0,!1)}function b(i,a,u,m){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,a,u,m){if(a===null||typeof a>"u"||b(i,a,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function C(i,a,u,m,y,_,R){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=i,this.type=a,this.sanitizeURL=_,this.removeEmptyString=R}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){N[i]=new C(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];N[a]=new C(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){N[i]=new C(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){N[i]=new C(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){N[i]=new C(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){N[i]=new C(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){N[i]=new C(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){N[i]=new C(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){N[i]=new C(i,5,!1,i.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function D(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(L,D);N[a]=new C(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(L,D);N[a]=new C(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(L,D);N[a]=new C(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){N[i]=new C(i,1,!1,i.toLowerCase(),null,!1,!1)}),N.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){N[i]=new C(i,1,!1,i.toLowerCase(),null,!0,!0)});function j(i,a,u,m){var y=N.hasOwnProperty(a)?N[a]:null;(y!==null?y.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,u,y,m)&&(u=null),m||y===null?x(a)&&(u===null?i.removeAttribute(a):i.setAttribute(a,""+u)):y.mustUseProperty?i[y.propertyName]=u===null?y.type===3?!1:"":u:(a=y.attributeName,m=y.attributeNamespace,u===null?i.removeAttribute(a):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,m?i.setAttributeNS(m,a,u):i.setAttribute(a,u))))}var B=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),$=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),U=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),z=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var Y=Object.assign,H;function te(i){if(H===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||""}return`
`+H+i}var ve=!1;function xe(i,a){if(!i||ve)return"";ve=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Z){var m=Z}Reflect.construct(i,[],a)}else{try{a.call()}catch(Z){m=Z}i.call(a.prototype)}else{try{throw Error()}catch(Z){m=Z}i()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),_=m.stack.split(`
`),R=y.length-1,W=_.length-1;1<=R&&0<=W&&y[R]!==_[W];)W--;for(;1<=R&&0<=W;R--,W--)if(y[R]!==_[W]){if(R!==1||W!==1)do if(R--,W--,0>W||y[R]!==_[W]){var q=`
`+y[R].replace(" at new "," at ");return i.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",i.displayName)),q}while(1<=R&&0<=W);break}}}finally{ve=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?te(i):""}function Oe(i){switch(i.tag){case 5:return te(i.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return i=xe(i.type,!1),i;case 11:return i=xe(i.type.render,!1),i;case 1:return i=xe(i.type,!0),i;default:return""}}function De(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case $:return"Portal";case P:return"Profiler";case I:return"StrictMode";case k:return"Suspense";case ae:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case U:return(i.displayName||"Context")+".Consumer";case F:return(i._context.displayName||"Context")+".Provider";case M:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ge:return a=i.displayName||null,a!==null?a:De(i.type)||"Memo";case pe:a=i._payload,i=i._init;try{return De(i(a))}catch{}}return null}function oe(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(a);case 8:return a===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ee(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Re(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ue(i){var a=Re(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),m=""+i[a];if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,_=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(R){m=""+R,_.call(this,R)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Je(i){i._valueTracker||(i._valueTracker=Ue(i))}function Ze(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),m="";return i&&(m=Re(i)?i.checked?"true":"false":i.value),i=m,i!==u?(a.setValue(i),!0):!1}function It(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function $t(i,a){var u=a.checked;return Y({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Bn(i,a){var u=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;u=Ee(a.value!=null?a.value:u),i._wrapperState={initialChecked:m,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function fe(i,a){a=a.checked,a!=null&&j(i,"checked",a,!1)}function Pe(i,a){fe(i,a);var u=Ee(a.value),m=a.type;if(u!=null)m==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Ke(i,a.type,u):a.hasOwnProperty("defaultValue")&&Ke(i,a.type,Ee(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Tt(i,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,u||a===i.value||(i.value=a),i.defaultValue=a}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Ke(i,a,u){(a!=="number"||It(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var tt=Array.isArray;function Vt(i,a,u,m){if(i=i.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=a.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Ee(u),a=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,m&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function nn(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Cn(i,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(tt(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}i._wrapperState={initialValue:Ee(u)}}function Qt(i,a){var u=Ee(a.value),m=Ee(a.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),a.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),m!=null&&(i.defaultValue=""+m)}function er(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function os(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vi(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?os(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var as,$a=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,m,y){MSApp.execUnsafeLocalFunction(function(){return i(a,u,m,y)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(as=as||document.createElement("div"),as.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=as.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function ei(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ha=["Webkit","ms","Moz","O"];Object.keys(ls).forEach(function(i){Ha.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),ls[a]=ls[i]})});function cs(i,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||ls.hasOwnProperty(i)&&ls[i]?(""+a).trim():a+"px"}function Fi(i,a){i=i.style;for(var u in a)if(a.hasOwnProperty(u)){var m=u.indexOf("--")===0,y=cs(u,a[u],m);u==="float"&&(u="cssFloat"),m?i.setProperty(u,y):i[u]=y}}var ea=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wn(i,a){if(a){if(ea[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Ui(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mr=null;function Ye(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ht=null,nt=null,vt=null;function gn(i){if(i=ru(i)){if(typeof ht!="function")throw Error(n(280));var a=i.stateNode;a&&(a=Gd(a),ht(i.stateNode,i.type,a))}}function tr(i){nt?vt?vt.push(i):vt=[i]:nt=i}function At(){if(nt){var i=nt,a=vt;if(vt=nt=null,gn(i),a)for(i=0;i<a.length;i++)gn(a[i])}}function Ln(i,a){return i(a)}function ft(){}var yr=!1;function qa(i,a,u){if(yr)return i(a,u);yr=!0;try{return Ln(i,a,u)}finally{yr=!1,(nt!==null||vt!==null)&&(ft(),At())}}function ti(i,a){var u=i.stateNode;if(u===null)return null;var m=Gd(u);if(m===null)return null;u=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var xr=!1;if(d)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){xr=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{xr=!1}function Sd(i,a,u,m,y,_,R,W,q){var Z=Array.prototype.slice.call(arguments,3);try{a.apply(u,Z)}catch(ie){this.onError(ie)}}var ni=!1,us=null,Ga=!1,_r=null,Cd={onError:function(i){ni=!0,us=i}};function Td(i,a,u,m,y,_,R,W,q){ni=!1,us=null,Sd.apply(Cd,arguments)}function Rc(i,a,u,m,y,_,R,W,q){if(Td.apply(this,arguments),ni){if(ni){var Z=us;ni=!1,us=null}else throw Error(n(198));Ga||(Ga=!0,_r=Z)}}function Lr(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function Pc(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Nd(i){if(Lr(i)!==i)throw Error(n(188))}function Id(i){var a=i.alternate;if(!a){if(a=Lr(i),a===null)throw Error(n(188));return a!==i?null:i}for(var u=i,m=a;;){var y=u.return;if(y===null)break;var _=y.alternate;if(_===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===u)return Nd(y),i;if(_===m)return Nd(y),a;_=_.sibling}throw Error(n(188))}if(u.return!==m.return)u=y,m=_;else{for(var R=!1,W=y.child;W;){if(W===u){R=!0,u=y,m=_;break}if(W===m){R=!0,m=y,u=_;break}W=W.sibling}if(!R){for(W=_.child;W;){if(W===u){R=!0,u=_,m=y;break}if(W===m){R=!0,m=_,u=y;break}W=W.sibling}if(!R)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:a}function kd(i){return i=Id(i),i!==null?ta(i):null}function ta(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=ta(i);if(a!==null)return a;i=i.sibling}return null}var jc=e.unstable_scheduleCallback,Ka=e.unstable_cancelCallback,na=e.unstable_shouldYield,ri=e.unstable_requestPaint,Rt=e.unstable_now,qm=e.unstable_getCurrentPriorityLevel,Ya=e.unstable_ImmediatePriority,Dc=e.unstable_UserBlockingPriority,ra=e.unstable_NormalPriority,Oc=e.unstable_LowPriority,Qa=e.unstable_IdlePriority,sa=null,nr=null;function Ad(i){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(sa,i,void 0,(i.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:ia,ds=Math.log,Er=Math.LN2;function ia(i){return i>>>=0,i===0?32:31-(ds(i)/Er|0)|0}var hs=64,zi=4194304;function yt(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function si(i,a){var u=i.pendingLanes;if(u===0)return 0;var m=0,y=i.suspendedLanes,_=i.pingedLanes,R=u&268435455;if(R!==0){var W=R&~y;W!==0?m=yt(W):(_&=R,_!==0&&(m=yt(_)))}else R=u&~y,R!==0?m=yt(R):_!==0&&(m=yt(_));if(m===0)return 0;if(a!==0&&a!==m&&(a&y)===0&&(y=m&-m,_=a&-a,y>=_||y===16&&(_&4194240)!==0))return a;if((m&4)!==0&&(m|=u&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=m;0<a;)u=31-rr(a),y=1<<u,m|=i[u],a&=~y;return m}function oa(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aa(i,a){for(var u=i.suspendedLanes,m=i.pingedLanes,y=i.expirationTimes,_=i.pendingLanes;0<_;){var R=31-rr(_),W=1<<R,q=y[R];q===-1?((W&u)===0||(W&m)!==0)&&(y[R]=oa(W,a)):q<=a&&(i.expiredLanes|=W),_&=~W}}function Mc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Lc(){var i=hs;return hs<<=1,(hs&4194240)===0&&(hs=64),i}function Vc(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function la(i,a,u){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-rr(a),i[a]=u}function Gm(i,a){var u=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<u;){var y=31-rr(u),_=1<<y;a[y]=0,m[y]=-1,i[y]=-1,u&=~_}}function Fc(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var m=31-rr(u),y=1<<m;y&a|i[m]&a&&(i[m]|=a),u&=~y}}var dt=0;function fs(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Uc,Xa,zc,Bc,Wc,ms=!1,Ja=[],ps=null,gs=null,vn=null,ca=new Map,ii=new Map,sr=[],Rd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bi(i,a){switch(i){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":ca.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ii.delete(a.pointerId)}}function Vr(i,a,u,m,y,_){return i===null||i.nativeEvent!==_?(i={blockedOn:a,domEventName:u,eventSystemFlags:m,nativeEvent:_,targetContainers:[y]},a!==null&&(a=ru(a),a!==null&&Xa(a)),i):(i.eventSystemFlags|=m,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function Pd(i,a,u,m,y){switch(a){case"focusin":return ps=Vr(ps,i,a,u,m,y),!0;case"dragenter":return gs=Vr(gs,i,a,u,m,y),!0;case"mouseover":return vn=Vr(vn,i,a,u,m,y),!0;case"pointerover":var _=y.pointerId;return ca.set(_,Vr(ca.get(_)||null,i,a,u,m,y)),!0;case"gotpointercapture":return _=y.pointerId,ii.set(_,Vr(ii.get(_)||null,i,a,u,m,y)),!0}return!1}function Za(i){var a=fa(i.target);if(a!==null){var u=Lr(a);if(u!==null){if(a=u.tag,a===13){if(a=Pc(u),a!==null){i.blockedOn=a,Wc(i.priority,function(){zc(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Nt(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=el(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Mr=m,u.target.dispatchEvent(m),Mr=null}else return a=ru(u),a!==null&&Xa(a),i.blockedOn=u,!1;a.shift()}return!0}function jd(i,a,u){Nt(i)&&u.delete(a)}function Km(){ms=!1,ps!==null&&Nt(ps)&&(ps=null),gs!==null&&Nt(gs)&&(gs=null),vn!==null&&Nt(vn)&&(vn=null),ca.forEach(jd),ii.forEach(jd)}function Wi(i,a){i.blockedOn===a&&(i.blockedOn=null,ms||(ms=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Km)))}function $i(i){function a(y){return Wi(y,i)}if(0<Ja.length){Wi(Ja[0],i);for(var u=1;u<Ja.length;u++){var m=Ja[u];m.blockedOn===i&&(m.blockedOn=null)}}for(ps!==null&&Wi(ps,i),gs!==null&&Wi(gs,i),vn!==null&&Wi(vn,i),ca.forEach(a),ii.forEach(a),u=0;u<sr.length;u++)m=sr[u],m.blockedOn===i&&(m.blockedOn=null);for(;0<sr.length&&(u=sr[0],u.blockedOn===null);)Za(u),u.blockedOn===null&&sr.shift()}var oi=B.ReactCurrentBatchConfig,ai=!0;function vs(i,a,u,m){var y=dt,_=oi.transition;oi.transition=null;try{dt=1,$c(i,a,u,m)}finally{dt=y,oi.transition=_}}function Dd(i,a,u,m){var y=dt,_=oi.transition;oi.transition=null;try{dt=4,$c(i,a,u,m)}finally{dt=y,oi.transition=_}}function $c(i,a,u,m){if(ai){var y=el(i,a,u,m);if(y===null)ip(i,a,m,ys,u),Bi(i,m);else if(Pd(y,i,a,u,m))m.stopPropagation();else if(Bi(i,m),a&4&&-1<Rd.indexOf(i)){for(;y!==null;){var _=ru(y);if(_!==null&&Uc(_),_=el(i,a,u,m),_===null&&ip(i,a,m,ys,u),_===y)break;y=_}y!==null&&m.stopPropagation()}else ip(i,a,m,null,u)}}var ys=null;function el(i,a,u,m){if(ys=null,i=Ye(m),i=fa(i),i!==null)if(a=Lr(i),a===null)i=null;else if(u=a.tag,u===13){if(i=Pc(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return ys=i,null}function tl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qm()){case Ya:return 1;case Dc:return 4;case ra:case Oc:return 16;case Qa:return 536870912;default:return 16}default:return 16}}var ir=null,nl=null,li=null;function Od(){if(li)return li;var i,a=nl,u=a.length,m,y="value"in ir?ir.value:ir.textContent,_=y.length;for(i=0;i<u&&a[i]===y[i];i++);var R=u-i;for(m=1;m<=R&&a[u-m]===y[_-m];m++);return li=y.slice(i,1<m?1-m:void 0)}function ua(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function xs(){return!0}function Hc(){return!1}function Tn(i){function a(u,m,y,_,R){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var W in i)i.hasOwnProperty(W)&&(u=i[W],this[W]=u?u(_):_[W]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?xs:Hc,this.isPropagationStopped=Hc,this}return Y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),a}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=Tn(ws),Hi=Y({},ws,{view:0,detail:0}),rl=Tn(Hi),sl,il,or,ha=Y({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qe,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==or&&(or&&i.type==="mousemove"?(sl=i.screenX-or.screenX,il=i.screenY-or.screenY):il=sl=0,or=i),sl)},movementY:function(i){return"movementY"in i?i.movementY:il}}),qc=Tn(ha),Md=Y({},ha,{dataTransfer:0}),Ld=Tn(Md),ol=Y({},Hi,{relatedTarget:0}),yn=Tn(ol),Vd=Y({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),Fd=Tn(Vd),qi=Y({},ws,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),f=Tn(qi),E=Y({},ws,{data:0}),T=Tn(E),V={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function me(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=ee[i])?!!a[i]:!1}function Qe(){return me}var Gt=Y({},Hi,{key:function(i){if(i.key){var a=V[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=ua(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?X[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qe,charCode:function(i){return i.type==="keypress"?ua(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ua(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_t=Tn(Gt),Xt=Y({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ar=Tn(Xt),ci=Y({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qe}),_s=Tn(ci),Es=Y({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),al=Tn(Es),Gc=Y({},ha,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Gk=Tn(Gc),Kk=[9,13,27,32],Ym=d&&"CompositionEvent"in window,Kc=null;d&&"documentMode"in document&&(Kc=document.documentMode);var Yk=d&&"TextEvent"in window&&!Kc,Kx=d&&(!Ym||Kc&&8<Kc&&11>=Kc),Yx=" ",Qx=!1;function Xx(i,a){switch(i){case"keyup":return Kk.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jx(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ll=!1;function Qk(i,a){switch(i){case"compositionend":return Jx(a);case"keypress":return a.which!==32?null:(Qx=!0,Yx);case"textInput":return i=a.data,i===Yx&&Qx?null:i;default:return null}}function Xk(i,a){if(ll)return i==="compositionend"||!Ym&&Xx(i,a)?(i=Od(),li=nl=ir=null,ll=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Kx&&a.locale!=="ko"?null:a.data;default:return null}}var Jk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zx(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Jk[i.type]:a==="textarea"}function ew(i,a,u,m){tr(m),a=$d(a,"onChange"),0<a.length&&(u=new da("onChange","change",null,u,m),i.push({event:u,listeners:a}))}var Yc=null,Qc=null;function Zk(i){yw(i,0)}function Ud(i){var a=fl(i);if(Ze(a))return i}function eA(i,a){if(i==="change")return a}var tw=!1;if(d){var Qm;if(d){var Xm="oninput"in document;if(!Xm){var nw=document.createElement("div");nw.setAttribute("oninput","return;"),Xm=typeof nw.oninput=="function"}Qm=Xm}else Qm=!1;tw=Qm&&(!document.documentMode||9<document.documentMode)}function rw(){Yc&&(Yc.detachEvent("onpropertychange",sw),Qc=Yc=null)}function sw(i){if(i.propertyName==="value"&&Ud(Qc)){var a=[];ew(a,Qc,i,Ye(i)),qa(Zk,a)}}function tA(i,a,u){i==="focusin"?(rw(),Yc=a,Qc=u,Yc.attachEvent("onpropertychange",sw)):i==="focusout"&&rw()}function nA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ud(Qc)}function rA(i,a){if(i==="click")return Ud(a)}function sA(i,a){if(i==="input"||i==="change")return Ud(a)}function iA(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Fr=typeof Object.is=="function"?Object.is:iA;function Xc(i,a){if(Fr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),m=Object.keys(a);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!h.call(a,y)||!Fr(i[y],a[y]))return!1}return!0}function iw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ow(i,a){var u=iw(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=a&&m>=a)return{node:u,offset:a-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=iw(u)}}function aw(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?aw(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function lw(){for(var i=window,a=It();a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)i=a.contentWindow;else break;a=It(i.document)}return a}function Jm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function oA(i){var a=lw(),u=i.focusedElem,m=i.selectionRange;if(a!==u&&u&&u.ownerDocument&&aw(u.ownerDocument.documentElement,u)){if(m!==null&&Jm(u)){if(a=m.start,i=m.end,i===void 0&&(i=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(i,u.value.length);else if(i=(a=u.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var y=u.textContent.length,_=Math.min(m.start,y);m=m.end===void 0?_:Math.min(m.end,y),!i.extend&&_>m&&(y=m,m=_,_=y),y=ow(u,_);var R=ow(u,m);y&&R&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==R.node||i.focusOffset!==R.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),i.removeAllRanges(),_>m?(i.addRange(a),i.extend(R.node,R.offset)):(a.setEnd(R.node,R.offset),i.addRange(a)))}}for(a=[],i=u;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)i=a[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var aA=d&&"documentMode"in document&&11>=document.documentMode,cl=null,Zm=null,Jc=null,ep=!1;function cw(i,a,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ep||cl==null||cl!==It(m)||(m=cl,"selectionStart"in m&&Jm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Jc&&Xc(Jc,m)||(Jc=m,m=$d(Zm,"onSelect"),0<m.length&&(a=new da("onSelect","select",null,a,u),i.push({event:a,listeners:m}),a.target=cl)))}function zd(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var ul={animationend:zd("Animation","AnimationEnd"),animationiteration:zd("Animation","AnimationIteration"),animationstart:zd("Animation","AnimationStart"),transitionend:zd("Transition","TransitionEnd")},tp={},uw={};d&&(uw=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function Bd(i){if(tp[i])return tp[i];if(!ul[i])return i;var a=ul[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in uw)return tp[i]=a[u];return i}var dw=Bd("animationend"),hw=Bd("animationiteration"),fw=Bd("animationstart"),mw=Bd("transitionend"),pw=new Map,gw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(i,a){pw.set(i,a),o(a,[i])}for(var np=0;np<gw.length;np++){var rp=gw[np],lA=rp.toLowerCase(),cA=rp[0].toUpperCase()+rp.slice(1);Gi(lA,"on"+cA)}Gi(dw,"onAnimationEnd"),Gi(hw,"onAnimationIteration"),Gi(fw,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(mw,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zc));function vw(i,a,u){var m=i.type||"unknown-event";i.currentTarget=u,Rc(m,a,void 0,i),i.currentTarget=null}function yw(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],y=m.event;m=m.listeners;e:{var _=void 0;if(a)for(var R=m.length-1;0<=R;R--){var W=m[R],q=W.instance,Z=W.currentTarget;if(W=W.listener,q!==_&&y.isPropagationStopped())break e;vw(y,W,Z),_=q}else for(R=0;R<m.length;R++){if(W=m[R],q=W.instance,Z=W.currentTarget,W=W.listener,q!==_&&y.isPropagationStopped())break e;vw(y,W,Z),_=q}}}if(Ga)throw i=_r,Ga=!1,_r=null,i}function Pt(i,a){var u=a[dp];u===void 0&&(u=a[dp]=new Set);var m=i+"__bubble";u.has(m)||(xw(a,i,2,!1),u.add(m))}function sp(i,a,u){var m=0;a&&(m|=4),xw(u,i,m,a)}var Wd="_reactListening"+Math.random().toString(36).slice(2);function eu(i){if(!i[Wd]){i[Wd]=!0,r.forEach(function(u){u!=="selectionchange"&&(uA.has(u)||sp(u,!1,i),sp(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Wd]||(a[Wd]=!0,sp("selectionchange",!1,a))}}function xw(i,a,u,m){switch(tl(a)){case 1:var y=vs;break;case 4:y=Dd;break;default:y=$c}u=y.bind(null,a,u,i),y=void 0,!xr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),m?y!==void 0?i.addEventListener(a,u,{capture:!0,passive:y}):i.addEventListener(a,u,!0):y!==void 0?i.addEventListener(a,u,{passive:y}):i.addEventListener(a,u,!1)}function ip(i,a,u,m,y){var _=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var W=m.stateNode.containerInfo;if(W===y||W.nodeType===8&&W.parentNode===y)break;if(R===4)for(R=m.return;R!==null;){var q=R.tag;if((q===3||q===4)&&(q=R.stateNode.containerInfo,q===y||q.nodeType===8&&q.parentNode===y))return;R=R.return}for(;W!==null;){if(R=fa(W),R===null)return;if(q=R.tag,q===5||q===6){m=_=R;continue e}W=W.parentNode}}m=m.return}qa(function(){var Z=_,ie=Ye(u),le=[];e:{var re=pw.get(i);if(re!==void 0){var we=da,Ce=i;switch(i){case"keypress":if(ua(u)===0)break e;case"keydown":case"keyup":we=_t;break;case"focusin":Ce="focus",we=yn;break;case"focusout":Ce="blur",we=yn;break;case"beforeblur":case"afterblur":we=yn;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Ld;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=_s;break;case dw:case hw:case fw:we=Fd;break;case mw:we=al;break;case"scroll":we=rl;break;case"wheel":we=Gk;break;case"copy":case"cut":case"paste":we=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=ar}var Ie=(a&4)!==0,Kt=!Ie&&i==="scroll",Q=Ie?re!==null?re+"Capture":null:re;Ie=[];for(var G=Z,J;G!==null;){J=G;var he=J.stateNode;if(J.tag===5&&he!==null&&(J=he,Q!==null&&(he=ti(G,Q),he!=null&&Ie.push(tu(G,he,J)))),Kt)break;G=G.return}0<Ie.length&&(re=new we(re,Ce,null,u,ie),le.push({event:re,listeners:Ie}))}}if((a&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",we=i==="mouseout"||i==="pointerout",re&&u!==Mr&&(Ce=u.relatedTarget||u.fromElement)&&(fa(Ce)||Ce[ui]))break e;if((we||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,we?(Ce=u.relatedTarget||u.toElement,we=Z,Ce=Ce?fa(Ce):null,Ce!==null&&(Kt=Lr(Ce),Ce!==Kt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(we=null,Ce=Z),we!==Ce)){if(Ie=qc,he="onMouseLeave",Q="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Ie=ar,he="onPointerLeave",Q="onPointerEnter",G="pointer"),Kt=we==null?re:fl(we),J=Ce==null?re:fl(Ce),re=new Ie(he,G+"leave",we,u,ie),re.target=Kt,re.relatedTarget=J,he=null,fa(ie)===Z&&(Ie=new Ie(Q,G+"enter",Ce,u,ie),Ie.target=J,Ie.relatedTarget=Kt,he=Ie),Kt=he,we&&Ce)t:{for(Ie=we,Q=Ce,G=0,J=Ie;J;J=dl(J))G++;for(J=0,he=Q;he;he=dl(he))J++;for(;0<G-J;)Ie=dl(Ie),G--;for(;0<J-G;)Q=dl(Q),J--;for(;G--;){if(Ie===Q||Q!==null&&Ie===Q.alternate)break t;Ie=dl(Ie),Q=dl(Q)}Ie=null}else Ie=null;we!==null&&ww(le,re,we,Ie,!1),Ce!==null&&Kt!==null&&ww(le,Kt,Ce,Ie,!0)}}e:{if(re=Z?fl(Z):window,we=re.nodeName&&re.nodeName.toLowerCase(),we==="select"||we==="input"&&re.type==="file")var ke=eA;else if(Zx(re))if(tw)ke=sA;else{ke=nA;var Le=tA}else(we=re.nodeName)&&we.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(ke=rA);if(ke&&(ke=ke(i,Z))){ew(le,ke,u,ie);break e}Le&&Le(i,re,Z),i==="focusout"&&(Le=re._wrapperState)&&Le.controlled&&re.type==="number"&&Ke(re,"number",re.value)}switch(Le=Z?fl(Z):window,i){case"focusin":(Zx(Le)||Le.contentEditable==="true")&&(cl=Le,Zm=Z,Jc=null);break;case"focusout":Jc=Zm=cl=null;break;case"mousedown":ep=!0;break;case"contextmenu":case"mouseup":case"dragend":ep=!1,cw(le,u,ie);break;case"selectionchange":if(aA)break;case"keydown":case"keyup":cw(le,u,ie)}var Ve;if(Ym)e:{switch(i){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else ll?Xx(i,u)&&(qe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(qe="onCompositionStart");qe&&(Kx&&u.locale!=="ko"&&(ll||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&ll&&(Ve=Od()):(ir=ie,nl="value"in ir?ir.value:ir.textContent,ll=!0)),Le=$d(Z,qe),0<Le.length&&(qe=new T(qe,i,null,u,ie),le.push({event:qe,listeners:Le}),Ve?qe.data=Ve:(Ve=Jx(u),Ve!==null&&(qe.data=Ve)))),(Ve=Yk?Qk(i,u):Xk(i,u))&&(Z=$d(Z,"onBeforeInput"),0<Z.length&&(ie=new T("onBeforeInput","beforeinput",null,u,ie),le.push({event:ie,listeners:Z}),ie.data=Ve))}yw(le,a)})}function tu(i,a,u){return{instance:i,listener:a,currentTarget:u}}function $d(i,a){for(var u=a+"Capture",m=[];i!==null;){var y=i,_=y.stateNode;y.tag===5&&_!==null&&(y=_,_=ti(i,u),_!=null&&m.unshift(tu(i,_,y)),_=ti(i,a),_!=null&&m.push(tu(i,_,y))),i=i.return}return m}function dl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function ww(i,a,u,m,y){for(var _=a._reactName,R=[];u!==null&&u!==m;){var W=u,q=W.alternate,Z=W.stateNode;if(q!==null&&q===m)break;W.tag===5&&Z!==null&&(W=Z,y?(q=ti(u,_),q!=null&&R.unshift(tu(u,q,W))):y||(q=ti(u,_),q!=null&&R.push(tu(u,q,W)))),u=u.return}R.length!==0&&i.push({event:a,listeners:R})}var dA=/\r\n?/g,hA=/\u0000|\uFFFD/g;function _w(i){return(typeof i=="string"?i:""+i).replace(dA,`
`).replace(hA,"")}function Hd(i,a,u){if(a=_w(a),_w(i)!==a&&u)throw Error(n(425))}function qd(){}var op=null,ap=null;function lp(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var cp=typeof setTimeout=="function"?setTimeout:void 0,fA=typeof clearTimeout=="function"?clearTimeout:void 0,Ew=typeof Promise=="function"?Promise:void 0,mA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ew<"u"?function(i){return Ew.resolve(null).then(i).catch(pA)}:cp;function pA(i){setTimeout(function(){throw i})}function up(i,a){var u=a,m=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(m===0){i.removeChild(y),$i(a);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=y}while(u);$i(a)}function Ki(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function bw(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return i;a--}else u==="/$"&&a++}i=i.previousSibling}return null}var hl=Math.random().toString(36).slice(2),bs="__reactFiber$"+hl,nu="__reactProps$"+hl,ui="__reactContainer$"+hl,dp="__reactEvents$"+hl,gA="__reactListeners$"+hl,vA="__reactHandles$"+hl;function fa(i){var a=i[bs];if(a)return a;for(var u=i.parentNode;u;){if(a=u[ui]||u[bs]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=bw(i);i!==null;){if(u=i[bs])return u;i=bw(i)}return a}i=u,u=i.parentNode}return null}function ru(i){return i=i[bs]||i[ui],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function fl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Gd(i){return i[nu]||null}var hp=[],ml=-1;function Yi(i){return{current:i}}function jt(i){0>ml||(i.current=hp[ml],hp[ml]=null,ml--)}function kt(i,a){ml++,hp[ml]=i.current,i.current=a}var Qi={},Nn=Yi(Qi),$n=Yi(!1),ma=Qi;function pl(i,a){var u=i.type.contextTypes;if(!u)return Qi;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var y={},_;for(_ in u)y[_]=a[_];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=y),y}function Hn(i){return i=i.childContextTypes,i!=null}function Kd(){jt($n),jt(Nn)}function Sw(i,a,u){if(Nn.current!==Qi)throw Error(n(168));kt(Nn,a),kt($n,u)}function Cw(i,a,u){var m=i.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var y in m)if(!(y in a))throw Error(n(108,oe(i)||"Unknown",y));return Y({},u,m)}function Yd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Qi,ma=Nn.current,kt(Nn,i),kt($n,$n.current),!0}function Tw(i,a,u){var m=i.stateNode;if(!m)throw Error(n(169));u?(i=Cw(i,a,ma),m.__reactInternalMemoizedMergedChildContext=i,jt($n),jt(Nn),kt(Nn,i)):jt($n),kt($n,u)}var di=null,Qd=!1,fp=!1;function Nw(i){di===null?di=[i]:di.push(i)}function yA(i){Qd=!0,Nw(i)}function Xi(){if(!fp&&di!==null){fp=!0;var i=0,a=dt;try{var u=di;for(dt=1;i<u.length;i++){var m=u[i];do m=m(!0);while(m!==null)}di=null,Qd=!1}catch(y){throw di!==null&&(di=di.slice(i+1)),jc(Ya,Xi),y}finally{dt=a,fp=!1}}return null}var gl=[],vl=0,Xd=null,Jd=0,br=[],Sr=0,pa=null,hi=1,fi="";function ga(i,a){gl[vl++]=Jd,gl[vl++]=Xd,Xd=i,Jd=a}function Iw(i,a,u){br[Sr++]=hi,br[Sr++]=fi,br[Sr++]=pa,pa=i;var m=hi;i=fi;var y=32-rr(m)-1;m&=~(1<<y),u+=1;var _=32-rr(a)+y;if(30<_){var R=y-y%5;_=(m&(1<<R)-1).toString(32),m>>=R,y-=R,hi=1<<32-rr(a)+y|u<<y|m,fi=_+i}else hi=1<<_|u<<y|m,fi=i}function mp(i){i.return!==null&&(ga(i,1),Iw(i,1,0))}function pp(i){for(;i===Xd;)Xd=gl[--vl],gl[vl]=null,Jd=gl[--vl],gl[vl]=null;for(;i===pa;)pa=br[--Sr],br[Sr]=null,fi=br[--Sr],br[Sr]=null,hi=br[--Sr],br[Sr]=null}var lr=null,cr=null,Ot=!1,Ur=null;function kw(i,a){var u=Ir(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=i,a=i.deletions,a===null?(i.deletions=[u],i.flags|=16):a.push(u)}function Aw(i,a){switch(i.tag){case 5:var u=i.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,lr=i,cr=Ki(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,lr=i,cr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=pa!==null?{id:hi,overflow:fi}:null,i.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Ir(18,null,null,0),u.stateNode=a,u.return=i,i.child=u,lr=i,cr=null,!0):!1;default:return!1}}function gp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function vp(i){if(Ot){var a=cr;if(a){var u=a;if(!Aw(i,a)){if(gp(i))throw Error(n(418));a=Ki(u.nextSibling);var m=lr;a&&Aw(i,a)?kw(m,u):(i.flags=i.flags&-4097|2,Ot=!1,lr=i)}}else{if(gp(i))throw Error(n(418));i.flags=i.flags&-4097|2,Ot=!1,lr=i}}}function Rw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;lr=i}function Zd(i){if(i!==lr)return!1;if(!Ot)return Rw(i),Ot=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!lp(i.type,i.memoizedProps)),a&&(a=cr)){if(gp(i))throw Pw(),Error(n(418));for(;a;)kw(i,a),a=Ki(a.nextSibling)}if(Rw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(a===0){cr=Ki(i.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}i=i.nextSibling}cr=null}}else cr=lr?Ki(i.stateNode.nextSibling):null;return!0}function Pw(){for(var i=cr;i;)i=Ki(i.nextSibling)}function yl(){cr=lr=null,Ot=!1}function yp(i){Ur===null?Ur=[i]:Ur.push(i)}var xA=B.ReactCurrentBatchConfig;function su(i,a,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var m=u.stateNode}if(!m)throw Error(n(147,i));var y=m,_=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(R){var W=y.refs;R===null?delete W[_]:W[_]=R},a._stringRef=_,a)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function eh(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function jw(i){var a=i._init;return a(i._payload)}function Dw(i){function a(Q,G){if(i){var J=Q.deletions;J===null?(Q.deletions=[G],Q.flags|=16):J.push(G)}}function u(Q,G){if(!i)return null;for(;G!==null;)a(Q,G),G=G.sibling;return null}function m(Q,G){for(Q=new Map;G!==null;)G.key!==null?Q.set(G.key,G):Q.set(G.index,G),G=G.sibling;return Q}function y(Q,G){return Q=io(Q,G),Q.index=0,Q.sibling=null,Q}function _(Q,G,J){return Q.index=J,i?(J=Q.alternate,J!==null?(J=J.index,J<G?(Q.flags|=2,G):J):(Q.flags|=2,G)):(Q.flags|=1048576,G)}function R(Q){return i&&Q.alternate===null&&(Q.flags|=2),Q}function W(Q,G,J,he){return G===null||G.tag!==6?(G=cg(J,Q.mode,he),G.return=Q,G):(G=y(G,J),G.return=Q,G)}function q(Q,G,J,he){var ke=J.type;return ke===A?ie(Q,G,J.props.children,he,J.key):G!==null&&(G.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===pe&&jw(ke)===G.type)?(he=y(G,J.props),he.ref=su(Q,G,J),he.return=Q,he):(he=Sh(J.type,J.key,J.props,null,Q.mode,he),he.ref=su(Q,G,J),he.return=Q,he)}function Z(Q,G,J,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=ug(J,Q.mode,he),G.return=Q,G):(G=y(G,J.children||[]),G.return=Q,G)}function ie(Q,G,J,he,ke){return G===null||G.tag!==7?(G=Sa(J,Q.mode,he,ke),G.return=Q,G):(G=y(G,J),G.return=Q,G)}function le(Q,G,J){if(typeof G=="string"&&G!==""||typeof G=="number")return G=cg(""+G,Q.mode,J),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case O:return J=Sh(G.type,G.key,G.props,null,Q.mode,J),J.ref=su(Q,null,G),J.return=Q,J;case $:return G=ug(G,Q.mode,J),G.return=Q,G;case pe:var he=G._init;return le(Q,he(G._payload),J)}if(tt(G)||K(G))return G=Sa(G,Q.mode,J,null),G.return=Q,G;eh(Q,G)}return null}function re(Q,G,J,he){var ke=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return ke!==null?null:W(Q,G,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return J.key===ke?q(Q,G,J,he):null;case $:return J.key===ke?Z(Q,G,J,he):null;case pe:return ke=J._init,re(Q,G,ke(J._payload),he)}if(tt(J)||K(J))return ke!==null?null:ie(Q,G,J,he,null);eh(Q,J)}return null}function we(Q,G,J,he,ke){if(typeof he=="string"&&he!==""||typeof he=="number")return Q=Q.get(J)||null,W(G,Q,""+he,ke);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case O:return Q=Q.get(he.key===null?J:he.key)||null,q(G,Q,he,ke);case $:return Q=Q.get(he.key===null?J:he.key)||null,Z(G,Q,he,ke);case pe:var Le=he._init;return we(Q,G,J,Le(he._payload),ke)}if(tt(he)||K(he))return Q=Q.get(J)||null,ie(G,Q,he,ke,null);eh(G,he)}return null}function Ce(Q,G,J,he){for(var ke=null,Le=null,Ve=G,qe=G=0,fn=null;Ve!==null&&qe<J.length;qe++){Ve.index>qe?(fn=Ve,Ve=null):fn=Ve.sibling;var gt=re(Q,Ve,J[qe],he);if(gt===null){Ve===null&&(Ve=fn);break}i&&Ve&&gt.alternate===null&&a(Q,Ve),G=_(gt,G,qe),Le===null?ke=gt:Le.sibling=gt,Le=gt,Ve=fn}if(qe===J.length)return u(Q,Ve),Ot&&ga(Q,qe),ke;if(Ve===null){for(;qe<J.length;qe++)Ve=le(Q,J[qe],he),Ve!==null&&(G=_(Ve,G,qe),Le===null?ke=Ve:Le.sibling=Ve,Le=Ve);return Ot&&ga(Q,qe),ke}for(Ve=m(Q,Ve);qe<J.length;qe++)fn=we(Ve,Q,qe,J[qe],he),fn!==null&&(i&&fn.alternate!==null&&Ve.delete(fn.key===null?qe:fn.key),G=_(fn,G,qe),Le===null?ke=fn:Le.sibling=fn,Le=fn);return i&&Ve.forEach(function(oo){return a(Q,oo)}),Ot&&ga(Q,qe),ke}function Ie(Q,G,J,he){var ke=K(J);if(typeof ke!="function")throw Error(n(150));if(J=ke.call(J),J==null)throw Error(n(151));for(var Le=ke=null,Ve=G,qe=G=0,fn=null,gt=J.next();Ve!==null&&!gt.done;qe++,gt=J.next()){Ve.index>qe?(fn=Ve,Ve=null):fn=Ve.sibling;var oo=re(Q,Ve,gt.value,he);if(oo===null){Ve===null&&(Ve=fn);break}i&&Ve&&oo.alternate===null&&a(Q,Ve),G=_(oo,G,qe),Le===null?ke=oo:Le.sibling=oo,Le=oo,Ve=fn}if(gt.done)return u(Q,Ve),Ot&&ga(Q,qe),ke;if(Ve===null){for(;!gt.done;qe++,gt=J.next())gt=le(Q,gt.value,he),gt!==null&&(G=_(gt,G,qe),Le===null?ke=gt:Le.sibling=gt,Le=gt);return Ot&&ga(Q,qe),ke}for(Ve=m(Q,Ve);!gt.done;qe++,gt=J.next())gt=we(Ve,Q,qe,gt.value,he),gt!==null&&(i&&gt.alternate!==null&&Ve.delete(gt.key===null?qe:gt.key),G=_(gt,G,qe),Le===null?ke=gt:Le.sibling=gt,Le=gt);return i&&Ve.forEach(function(JA){return a(Q,JA)}),Ot&&ga(Q,qe),ke}function Kt(Q,G,J,he){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case O:e:{for(var ke=J.key,Le=G;Le!==null;){if(Le.key===ke){if(ke=J.type,ke===A){if(Le.tag===7){u(Q,Le.sibling),G=y(Le,J.props.children),G.return=Q,Q=G;break e}}else if(Le.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===pe&&jw(ke)===Le.type){u(Q,Le.sibling),G=y(Le,J.props),G.ref=su(Q,Le,J),G.return=Q,Q=G;break e}u(Q,Le);break}else a(Q,Le);Le=Le.sibling}J.type===A?(G=Sa(J.props.children,Q.mode,he,J.key),G.return=Q,Q=G):(he=Sh(J.type,J.key,J.props,null,Q.mode,he),he.ref=su(Q,G,J),he.return=Q,Q=he)}return R(Q);case $:e:{for(Le=J.key;G!==null;){if(G.key===Le)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){u(Q,G.sibling),G=y(G,J.children||[]),G.return=Q,Q=G;break e}else{u(Q,G);break}else a(Q,G);G=G.sibling}G=ug(J,Q.mode,he),G.return=Q,Q=G}return R(Q);case pe:return Le=J._init,Kt(Q,G,Le(J._payload),he)}if(tt(J))return Ce(Q,G,J,he);if(K(J))return Ie(Q,G,J,he);eh(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,G!==null&&G.tag===6?(u(Q,G.sibling),G=y(G,J),G.return=Q,Q=G):(u(Q,G),G=cg(J,Q.mode,he),G.return=Q,Q=G),R(Q)):u(Q,G)}return Kt}var xl=Dw(!0),Ow=Dw(!1),th=Yi(null),nh=null,wl=null,xp=null;function wp(){xp=wl=nh=null}function _p(i){var a=th.current;jt(th),i._currentValue=a}function Ep(i,a,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),i===u)break;i=i.return}}function _l(i,a){nh=i,xp=wl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(qn=!0),i.firstContext=null)}function Cr(i){var a=i._currentValue;if(xp!==i)if(i={context:i,memoizedValue:a,next:null},wl===null){if(nh===null)throw Error(n(308));wl=i,nh.dependencies={lanes:0,firstContext:i}}else wl=wl.next=i;return a}var va=null;function bp(i){va===null?va=[i]:va.push(i)}function Mw(i,a,u,m){var y=a.interleaved;return y===null?(u.next=u,bp(a)):(u.next=y.next,y.next=u),a.interleaved=u,mi(i,m)}function mi(i,a){i.lanes|=a;var u=i.alternate;for(u!==null&&(u.lanes|=a),u=i,i=i.return;i!==null;)i.childLanes|=a,u=i.alternate,u!==null&&(u.childLanes|=a),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Ji=!1;function Sp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lw(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function pi(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Zi(i,a,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(pt&2)!==0){var y=m.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),m.pending=a,mi(i,u)}return y=m.interleaved,y===null?(a.next=a,bp(m)):(a.next=y.next,y.next=a),m.interleaved=a,mi(i,u)}function rh(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var m=a.lanes;m&=i.pendingLanes,u|=m,a.lanes=u,Fc(i,u)}}function Vw(i,a){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var R={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?y=_=R:_=_.next=R,u=u.next}while(u!==null);_===null?y=_=a:_=_.next=a}else y=_=a;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:m.shared,effects:m.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}function sh(i,a,u,m){var y=i.updateQueue;Ji=!1;var _=y.firstBaseUpdate,R=y.lastBaseUpdate,W=y.shared.pending;if(W!==null){y.shared.pending=null;var q=W,Z=q.next;q.next=null,R===null?_=Z:R.next=Z,R=q;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,W=ie.lastBaseUpdate,W!==R&&(W===null?ie.firstBaseUpdate=Z:W.next=Z,ie.lastBaseUpdate=q))}if(_!==null){var le=y.baseState;R=0,ie=Z=q=null,W=_;do{var re=W.lane,we=W.eventTime;if((m&re)===re){ie!==null&&(ie=ie.next={eventTime:we,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Ce=i,Ie=W;switch(re=a,we=u,Ie.tag){case 1:if(Ce=Ie.payload,typeof Ce=="function"){le=Ce.call(we,le,re);break e}le=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ie.payload,re=typeof Ce=="function"?Ce.call(we,le,re):Ce,re==null)break e;le=Y({},le,re);break e;case 2:Ji=!0}}W.callback!==null&&W.lane!==0&&(i.flags|=64,re=y.effects,re===null?y.effects=[W]:re.push(W))}else we={eventTime:we,lane:re,tag:W.tag,payload:W.payload,callback:W.callback,next:null},ie===null?(Z=ie=we,q=le):ie=ie.next=we,R|=re;if(W=W.next,W===null){if(W=y.shared.pending,W===null)break;re=W,W=re.next,re.next=null,y.lastBaseUpdate=re,y.shared.pending=null}}while(!0);if(ie===null&&(q=le),y.baseState=q,y.firstBaseUpdate=Z,y.lastBaseUpdate=ie,a=y.shared.interleaved,a!==null){y=a;do R|=y.lane,y=y.next;while(y!==a)}else _===null&&(y.shared.lanes=0);wa|=R,i.lanes=R,i.memoizedState=le}}function Fw(i,a,u){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var m=i[a],y=m.callback;if(y!==null){if(m.callback=null,m=u,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var iu={},Ss=Yi(iu),ou=Yi(iu),au=Yi(iu);function ya(i){if(i===iu)throw Error(n(174));return i}function Cp(i,a){switch(kt(au,a),kt(ou,i),kt(Ss,iu),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Vi(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=Vi(a,i)}jt(Ss),kt(Ss,a)}function El(){jt(Ss),jt(ou),jt(au)}function Uw(i){ya(au.current);var a=ya(Ss.current),u=Vi(a,i.type);a!==u&&(kt(ou,i),kt(Ss,u))}function Tp(i){ou.current===i&&(jt(Ss),jt(ou))}var Ft=Yi(0);function ih(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Np=[];function Ip(){for(var i=0;i<Np.length;i++)Np[i]._workInProgressVersionPrimary=null;Np.length=0}var oh=B.ReactCurrentDispatcher,kp=B.ReactCurrentBatchConfig,xa=0,Ut=null,rn=null,dn=null,ah=!1,lu=!1,cu=0,wA=0;function In(){throw Error(n(321))}function Ap(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!Fr(i[u],a[u]))return!1;return!0}function Rp(i,a,u,m,y,_){if(xa=_,Ut=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,oh.current=i===null||i.memoizedState===null?SA:CA,i=u(m,y),lu){_=0;do{if(lu=!1,cu=0,25<=_)throw Error(n(301));_+=1,dn=rn=null,a.updateQueue=null,oh.current=TA,i=u(m,y)}while(lu)}if(oh.current=uh,a=rn!==null&&rn.next!==null,xa=0,dn=rn=Ut=null,ah=!1,a)throw Error(n(300));return i}function Pp(){var i=cu!==0;return cu=0,i}function Cs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Ut.memoizedState=dn=i:dn=dn.next=i,dn}function Tr(){if(rn===null){var i=Ut.alternate;i=i!==null?i.memoizedState:null}else i=rn.next;var a=dn===null?Ut.memoizedState:dn.next;if(a!==null)dn=a,rn=i;else{if(i===null)throw Error(n(310));rn=i,i={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},dn===null?Ut.memoizedState=dn=i:dn=dn.next=i}return dn}function uu(i,a){return typeof a=="function"?a(i):a}function jp(i){var a=Tr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=rn,y=m.baseQueue,_=u.pending;if(_!==null){if(y!==null){var R=y.next;y.next=_.next,_.next=R}m.baseQueue=y=_,u.pending=null}if(y!==null){_=y.next,m=m.baseState;var W=R=null,q=null,Z=_;do{var ie=Z.lane;if((xa&ie)===ie)q!==null&&(q=q.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:i(m,Z.action);else{var le={lane:ie,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};q===null?(W=q=le,R=m):q=q.next=le,Ut.lanes|=ie,wa|=ie}Z=Z.next}while(Z!==null&&Z!==_);q===null?R=m:q.next=W,Fr(m,a.memoizedState)||(qn=!0),a.memoizedState=m,a.baseState=R,a.baseQueue=q,u.lastRenderedState=m}if(i=u.interleaved,i!==null){y=i;do _=y.lane,Ut.lanes|=_,wa|=_,y=y.next;while(y!==i)}else y===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Dp(i){var a=Tr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=u.dispatch,y=u.pending,_=a.memoizedState;if(y!==null){u.pending=null;var R=y=y.next;do _=i(_,R.action),R=R.next;while(R!==y);Fr(_,a.memoizedState)||(qn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),u.lastRenderedState=_}return[_,m]}function zw(){}function Bw(i,a){var u=Ut,m=Tr(),y=a(),_=!Fr(m.memoizedState,y);if(_&&(m.memoizedState=y,qn=!0),m=m.queue,Op(Hw.bind(null,u,m,i),[i]),m.getSnapshot!==a||_||dn!==null&&dn.memoizedState.tag&1){if(u.flags|=2048,du(9,$w.bind(null,u,m,y,a),void 0,null),hn===null)throw Error(n(349));(xa&30)!==0||Ww(u,a,y)}return y}function Ww(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=Ut.updateQueue,a===null?(a={lastEffect:null,stores:null},Ut.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function $w(i,a,u,m){a.value=u,a.getSnapshot=m,qw(a)&&Gw(i)}function Hw(i,a,u){return u(function(){qw(a)&&Gw(i)})}function qw(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!Fr(i,u)}catch{return!0}}function Gw(i){var a=mi(i,1);a!==null&&$r(a,i,1,-1)}function Kw(i){var a=Cs();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:i},a.queue=i,i=i.dispatch=bA.bind(null,Ut,i),[a.memoizedState,i]}function du(i,a,u,m){return i={tag:i,create:a,destroy:u,deps:m,next:null},a=Ut.updateQueue,a===null?(a={lastEffect:null,stores:null},Ut.updateQueue=a,a.lastEffect=i.next=i):(u=a.lastEffect,u===null?a.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,a.lastEffect=i)),i}function Yw(){return Tr().memoizedState}function lh(i,a,u,m){var y=Cs();Ut.flags|=i,y.memoizedState=du(1|a,u,void 0,m===void 0?null:m)}function ch(i,a,u,m){var y=Tr();m=m===void 0?null:m;var _=void 0;if(rn!==null){var R=rn.memoizedState;if(_=R.destroy,m!==null&&Ap(m,R.deps)){y.memoizedState=du(a,u,_,m);return}}Ut.flags|=i,y.memoizedState=du(1|a,u,_,m)}function Qw(i,a){return lh(8390656,8,i,a)}function Op(i,a){return ch(2048,8,i,a)}function Xw(i,a){return ch(4,2,i,a)}function Jw(i,a){return ch(4,4,i,a)}function Zw(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function e_(i,a,u){return u=u!=null?u.concat([i]):null,ch(4,4,Zw.bind(null,a,i),u)}function Mp(){}function t_(i,a){var u=Tr();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&Ap(a,m[1])?m[0]:(u.memoizedState=[i,a],i)}function n_(i,a){var u=Tr();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&Ap(a,m[1])?m[0]:(i=i(),u.memoizedState=[i,a],i)}function r_(i,a,u){return(xa&21)===0?(i.baseState&&(i.baseState=!1,qn=!0),i.memoizedState=u):(Fr(u,a)||(u=Lc(),Ut.lanes|=u,wa|=u,i.baseState=!0),a)}function _A(i,a){var u=dt;dt=u!==0&&4>u?u:4,i(!0);var m=kp.transition;kp.transition={};try{i(!1),a()}finally{dt=u,kp.transition=m}}function s_(){return Tr().memoizedState}function EA(i,a,u){var m=ro(i);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},i_(i))o_(a,u);else if(u=Mw(i,a,u,m),u!==null){var y=Fn();$r(u,i,m,y),a_(u,a,m)}}function bA(i,a,u){var m=ro(i),y={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(i_(i))o_(a,y);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var R=a.lastRenderedState,W=_(R,u);if(y.hasEagerState=!0,y.eagerState=W,Fr(W,R)){var q=a.interleaved;q===null?(y.next=y,bp(a)):(y.next=q.next,q.next=y),a.interleaved=y;return}}catch{}finally{}u=Mw(i,a,y,m),u!==null&&(y=Fn(),$r(u,i,m,y),a_(u,a,m))}}function i_(i){var a=i.alternate;return i===Ut||a!==null&&a===Ut}function o_(i,a){lu=ah=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function a_(i,a,u){if((u&4194240)!==0){var m=a.lanes;m&=i.pendingLanes,u|=m,a.lanes=u,Fc(i,u)}}var uh={readContext:Cr,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},SA={readContext:Cr,useCallback:function(i,a){return Cs().memoizedState=[i,a===void 0?null:a],i},useContext:Cr,useEffect:Qw,useImperativeHandle:function(i,a,u){return u=u!=null?u.concat([i]):null,lh(4194308,4,Zw.bind(null,a,i),u)},useLayoutEffect:function(i,a){return lh(4194308,4,i,a)},useInsertionEffect:function(i,a){return lh(4,2,i,a)},useMemo:function(i,a){var u=Cs();return a=a===void 0?null:a,i=i(),u.memoizedState=[i,a],i},useReducer:function(i,a,u){var m=Cs();return a=u!==void 0?u(a):a,m.memoizedState=m.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},m.queue=i,i=i.dispatch=EA.bind(null,Ut,i),[m.memoizedState,i]},useRef:function(i){var a=Cs();return i={current:i},a.memoizedState=i},useState:Kw,useDebugValue:Mp,useDeferredValue:function(i){return Cs().memoizedState=i},useTransition:function(){var i=Kw(!1),a=i[0];return i=_A.bind(null,i[1]),Cs().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,u){var m=Ut,y=Cs();if(Ot){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),hn===null)throw Error(n(349));(xa&30)!==0||Ww(m,a,u)}y.memoizedState=u;var _={value:u,getSnapshot:a};return y.queue=_,Qw(Hw.bind(null,m,_,i),[i]),m.flags|=2048,du(9,$w.bind(null,m,_,u,a),void 0,null),u},useId:function(){var i=Cs(),a=hn.identifierPrefix;if(Ot){var u=fi,m=hi;u=(m&~(1<<32-rr(m)-1)).toString(32)+u,a=":"+a+"R"+u,u=cu++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=wA++,a=":"+a+"r"+u.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},CA={readContext:Cr,useCallback:t_,useContext:Cr,useEffect:Op,useImperativeHandle:e_,useInsertionEffect:Xw,useLayoutEffect:Jw,useMemo:n_,useReducer:jp,useRef:Yw,useState:function(){return jp(uu)},useDebugValue:Mp,useDeferredValue:function(i){var a=Tr();return r_(a,rn.memoizedState,i)},useTransition:function(){var i=jp(uu)[0],a=Tr().memoizedState;return[i,a]},useMutableSource:zw,useSyncExternalStore:Bw,useId:s_,unstable_isNewReconciler:!1},TA={readContext:Cr,useCallback:t_,useContext:Cr,useEffect:Op,useImperativeHandle:e_,useInsertionEffect:Xw,useLayoutEffect:Jw,useMemo:n_,useReducer:Dp,useRef:Yw,useState:function(){return Dp(uu)},useDebugValue:Mp,useDeferredValue:function(i){var a=Tr();return rn===null?a.memoizedState=i:r_(a,rn.memoizedState,i)},useTransition:function(){var i=Dp(uu)[0],a=Tr().memoizedState;return[i,a]},useMutableSource:zw,useSyncExternalStore:Bw,useId:s_,unstable_isNewReconciler:!1};function zr(i,a){if(i&&i.defaultProps){a=Y({},a),i=i.defaultProps;for(var u in i)a[u]===void 0&&(a[u]=i[u]);return a}return a}function Lp(i,a,u,m){a=i.memoizedState,u=u(m,a),u=u==null?a:Y({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var dh={isMounted:function(i){return(i=i._reactInternals)?Lr(i)===i:!1},enqueueSetState:function(i,a,u){i=i._reactInternals;var m=Fn(),y=ro(i),_=pi(m,y);_.payload=a,u!=null&&(_.callback=u),a=Zi(i,_,y),a!==null&&($r(a,i,y,m),rh(a,i,y))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var m=Fn(),y=ro(i),_=pi(m,y);_.tag=1,_.payload=a,u!=null&&(_.callback=u),a=Zi(i,_,y),a!==null&&($r(a,i,y,m),rh(a,i,y))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=Fn(),m=ro(i),y=pi(u,m);y.tag=2,a!=null&&(y.callback=a),a=Zi(i,y,m),a!==null&&($r(a,i,m,u),rh(a,i,m))}};function l_(i,a,u,m,y,_,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,_,R):a.prototype&&a.prototype.isPureReactComponent?!Xc(u,m)||!Xc(y,_):!0}function c_(i,a,u){var m=!1,y=Qi,_=a.contextType;return typeof _=="object"&&_!==null?_=Cr(_):(y=Hn(a)?ma:Nn.current,m=a.contextTypes,_=(m=m!=null)?pl(i,y):Qi),a=new a(u,_),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=dh,i.stateNode=a,a._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=_),a}function u_(i,a,u,m){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,m),a.state!==i&&dh.enqueueReplaceState(a,a.state,null)}function Vp(i,a,u,m){var y=i.stateNode;y.props=u,y.state=i.memoizedState,y.refs={},Sp(i);var _=a.contextType;typeof _=="object"&&_!==null?y.context=Cr(_):(_=Hn(a)?ma:Nn.current,y.context=pl(i,_)),y.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Lp(i,a,_,u),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&dh.enqueueReplaceState(y,y.state,null),sh(i,u,y,m),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function bl(i,a){try{var u="",m=a;do u+=Oe(m),m=m.return;while(m);var y=u}catch(_){y=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:a,stack:y,digest:null}}function Fp(i,a,u){return{value:i,source:null,stack:u??null,digest:a??null}}function Up(i,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var NA=typeof WeakMap=="function"?WeakMap:Map;function d_(i,a,u){u=pi(-1,u),u.tag=3,u.payload={element:null};var m=a.value;return u.callback=function(){yh||(yh=!0,tg=m),Up(i,a)},u}function h_(i,a,u){u=pi(-1,u),u.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var y=a.value;u.payload=function(){return m(y)},u.callback=function(){Up(i,a)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){Up(i,a),typeof m!="function"&&(to===null?to=new Set([this]):to.add(this));var R=a.stack;this.componentDidCatch(a.value,{componentStack:R!==null?R:""})}),u}function f_(i,a,u){var m=i.pingCache;if(m===null){m=i.pingCache=new NA;var y=new Set;m.set(a,y)}else y=m.get(a),y===void 0&&(y=new Set,m.set(a,y));y.has(u)||(y.add(u),i=zA.bind(null,i,a,u),a.then(i,i))}function m_(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function p_(i,a,u,m,y){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=pi(-1,1),a.tag=2,Zi(u,a,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var IA=B.ReactCurrentOwner,qn=!1;function Vn(i,a,u,m){a.child=i===null?Ow(a,null,u,m):xl(a,i.child,u,m)}function g_(i,a,u,m,y){u=u.render;var _=a.ref;return _l(a,y),m=Rp(i,a,u,m,_,y),u=Pp(),i!==null&&!qn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,gi(i,a,y)):(Ot&&u&&mp(a),a.flags|=1,Vn(i,a,m,y),a.child)}function v_(i,a,u,m,y){if(i===null){var _=u.type;return typeof _=="function"&&!lg(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=_,y_(i,a,_,m,y)):(i=Sh(u.type,null,m,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(_=i.child,(i.lanes&y)===0){var R=_.memoizedProps;if(u=u.compare,u=u!==null?u:Xc,u(R,m)&&i.ref===a.ref)return gi(i,a,y)}return a.flags|=1,i=io(_,m),i.ref=a.ref,i.return=a,a.child=i}function y_(i,a,u,m,y){if(i!==null){var _=i.memoizedProps;if(Xc(_,m)&&i.ref===a.ref)if(qn=!1,a.pendingProps=m=_,(i.lanes&y)!==0)(i.flags&131072)!==0&&(qn=!0);else return a.lanes=i.lanes,gi(i,a,y)}return zp(i,a,u,m,y)}function x_(i,a,u){var m=a.pendingProps,y=m.children,_=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(Cl,ur),ur|=u;else{if((u&1073741824)===0)return i=_!==null?_.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,kt(Cl,ur),ur|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=_!==null?_.baseLanes:u,kt(Cl,ur),ur|=m}else _!==null?(m=_.baseLanes|u,a.memoizedState=null):m=u,kt(Cl,ur),ur|=m;return Vn(i,a,y,u),a.child}function w_(i,a){var u=a.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function zp(i,a,u,m,y){var _=Hn(u)?ma:Nn.current;return _=pl(a,_),_l(a,y),u=Rp(i,a,u,m,_,y),m=Pp(),i!==null&&!qn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,gi(i,a,y)):(Ot&&m&&mp(a),a.flags|=1,Vn(i,a,u,y),a.child)}function __(i,a,u,m,y){if(Hn(u)){var _=!0;Yd(a)}else _=!1;if(_l(a,y),a.stateNode===null)fh(i,a),c_(a,u,m),Vp(a,u,m,y),m=!0;else if(i===null){var R=a.stateNode,W=a.memoizedProps;R.props=W;var q=R.context,Z=u.contextType;typeof Z=="object"&&Z!==null?Z=Cr(Z):(Z=Hn(u)?ma:Nn.current,Z=pl(a,Z));var ie=u.getDerivedStateFromProps,le=typeof ie=="function"||typeof R.getSnapshotBeforeUpdate=="function";le||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(W!==m||q!==Z)&&u_(a,R,m,Z),Ji=!1;var re=a.memoizedState;R.state=re,sh(a,m,R,y),q=a.memoizedState,W!==m||re!==q||$n.current||Ji?(typeof ie=="function"&&(Lp(a,u,ie,m),q=a.memoizedState),(W=Ji||l_(a,u,W,m,re,q,Z))?(le||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(a.flags|=4194308)):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=q),R.props=m,R.state=q,R.context=Z,m=W):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{R=a.stateNode,Lw(i,a),W=a.memoizedProps,Z=a.type===a.elementType?W:zr(a.type,W),R.props=Z,le=a.pendingProps,re=R.context,q=u.contextType,typeof q=="object"&&q!==null?q=Cr(q):(q=Hn(u)?ma:Nn.current,q=pl(a,q));var we=u.getDerivedStateFromProps;(ie=typeof we=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(W!==le||re!==q)&&u_(a,R,m,q),Ji=!1,re=a.memoizedState,R.state=re,sh(a,m,R,y);var Ce=a.memoizedState;W!==le||re!==Ce||$n.current||Ji?(typeof we=="function"&&(Lp(a,u,we,m),Ce=a.memoizedState),(Z=Ji||l_(a,u,Z,m,re,Ce,q)||!1)?(ie||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,Ce,q),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,Ce,q)),typeof R.componentDidUpdate=="function"&&(a.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof R.componentDidUpdate!="function"||W===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||W===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=Ce),R.props=m,R.state=Ce,R.context=q,m=Z):(typeof R.componentDidUpdate!="function"||W===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||W===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),m=!1)}return Bp(i,a,u,m,_,y)}function Bp(i,a,u,m,y,_){w_(i,a);var R=(a.flags&128)!==0;if(!m&&!R)return y&&Tw(a,u,!1),gi(i,a,_);m=a.stateNode,IA.current=a;var W=R&&typeof u.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,i!==null&&R?(a.child=xl(a,i.child,null,_),a.child=xl(a,null,W,_)):Vn(i,a,W,_),a.memoizedState=m.state,y&&Tw(a,u,!0),a.child}function E_(i){var a=i.stateNode;a.pendingContext?Sw(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Sw(i,a.context,!1),Cp(i,a.containerInfo)}function b_(i,a,u,m,y){return yl(),yp(y),a.flags|=256,Vn(i,a,u,m),a.child}var Wp={dehydrated:null,treeContext:null,retryLane:0};function $p(i){return{baseLanes:i,cachePool:null,transitions:null}}function S_(i,a,u){var m=a.pendingProps,y=Ft.current,_=!1,R=(a.flags&128)!==0,W;if((W=R)||(W=i!==null&&i.memoizedState===null?!1:(y&2)!==0),W?(_=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),kt(Ft,y&1),i===null)return vp(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(R=m.children,i=m.fallback,_?(m=a.mode,_=a.child,R={mode:"hidden",children:R},(m&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=R):_=Ch(R,m,0,null),i=Sa(i,m,u,null),_.return=a,i.return=a,_.sibling=i,a.child=_,a.child.memoizedState=$p(u),a.memoizedState=Wp,i):Hp(a,R));if(y=i.memoizedState,y!==null&&(W=y.dehydrated,W!==null))return kA(i,a,R,m,W,y,u);if(_){_=m.fallback,R=a.mode,y=i.child,W=y.sibling;var q={mode:"hidden",children:m.children};return(R&1)===0&&a.child!==y?(m=a.child,m.childLanes=0,m.pendingProps=q,a.deletions=null):(m=io(y,q),m.subtreeFlags=y.subtreeFlags&14680064),W!==null?_=io(W,_):(_=Sa(_,R,u,null),_.flags|=2),_.return=a,m.return=a,m.sibling=_,a.child=m,m=_,_=a.child,R=i.child.memoizedState,R=R===null?$p(u):{baseLanes:R.baseLanes|u,cachePool:null,transitions:R.transitions},_.memoizedState=R,_.childLanes=i.childLanes&~u,a.memoizedState=Wp,m}return _=i.child,i=_.sibling,m=io(_,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=u),m.return=a,m.sibling=null,i!==null&&(u=a.deletions,u===null?(a.deletions=[i],a.flags|=16):u.push(i)),a.child=m,a.memoizedState=null,m}function Hp(i,a){return a=Ch({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function hh(i,a,u,m){return m!==null&&yp(m),xl(a,i.child,null,u),i=Hp(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function kA(i,a,u,m,y,_,R){if(u)return a.flags&256?(a.flags&=-257,m=Fp(Error(n(422))),hh(i,a,R,m)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(_=m.fallback,y=a.mode,m=Ch({mode:"visible",children:m.children},y,0,null),_=Sa(_,y,R,null),_.flags|=2,m.return=a,_.return=a,m.sibling=_,a.child=m,(a.mode&1)!==0&&xl(a,i.child,null,R),a.child.memoizedState=$p(R),a.memoizedState=Wp,_);if((a.mode&1)===0)return hh(i,a,R,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var W=m.dgst;return m=W,_=Error(n(419)),m=Fp(_,m,void 0),hh(i,a,R,m)}if(W=(R&i.childLanes)!==0,qn||W){if(m=hn,m!==null){switch(R&-R){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|R))!==0?0:y,y!==0&&y!==_.retryLane&&(_.retryLane=y,mi(i,y),$r(m,i,y,-1))}return ag(),m=Fp(Error(n(421))),hh(i,a,R,m)}return y.data==="$?"?(a.flags|=128,a.child=i.child,a=BA.bind(null,i),y._reactRetry=a,null):(i=_.treeContext,cr=Ki(y.nextSibling),lr=a,Ot=!0,Ur=null,i!==null&&(br[Sr++]=hi,br[Sr++]=fi,br[Sr++]=pa,hi=i.id,fi=i.overflow,pa=a),a=Hp(a,m.children),a.flags|=4096,a)}function C_(i,a,u){i.lanes|=a;var m=i.alternate;m!==null&&(m.lanes|=a),Ep(i.return,a,u)}function qp(i,a,u,m,y){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=m,_.tail=u,_.tailMode=y)}function T_(i,a,u){var m=a.pendingProps,y=m.revealOrder,_=m.tail;if(Vn(i,a,m.children,u),m=Ft.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&C_(i,u,a);else if(i.tag===19)C_(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(kt(Ft,m),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(u=a.child,y=null;u!==null;)i=u.alternate,i!==null&&ih(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),qp(a,!1,y,u,_);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&ih(i)===null){a.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}qp(a,!0,u,null,_);break;case"together":qp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function fh(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function gi(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),wa|=a.lanes,(u&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,u=io(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=io(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function AA(i,a,u){switch(a.tag){case 3:E_(a),yl();break;case 5:Uw(a);break;case 1:Hn(a.type)&&Yd(a);break;case 4:Cp(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,y=a.memoizedProps.value;kt(th,m._currentValue),m._currentValue=y;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(kt(Ft,Ft.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?S_(i,a,u):(kt(Ft,Ft.current&1),i=gi(i,a,u),i!==null?i.sibling:null);kt(Ft,Ft.current&1);break;case 19:if(m=(u&a.childLanes)!==0,(i.flags&128)!==0){if(m)return T_(i,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),kt(Ft,Ft.current),m)break;return null;case 22:case 23:return a.lanes=0,x_(i,a,u)}return gi(i,a,u)}var N_,Gp,I_,k_;N_=function(i,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Gp=function(){},I_=function(i,a,u,m){var y=i.memoizedProps;if(y!==m){i=a.stateNode,ya(Ss.current);var _=null;switch(u){case"input":y=$t(i,y),m=$t(i,m),_=[];break;case"select":y=Y({},y,{value:void 0}),m=Y({},m,{value:void 0}),_=[];break;case"textarea":y=nn(i,y),m=nn(i,m),_=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=qd)}Wn(u,m);var R;u=null;for(Z in y)if(!m.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var W=y[Z];for(R in W)W.hasOwnProperty(R)&&(u||(u={}),u[R]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(s.hasOwnProperty(Z)?_||(_=[]):(_=_||[]).push(Z,null));for(Z in m){var q=m[Z];if(W=y!=null?y[Z]:void 0,m.hasOwnProperty(Z)&&q!==W&&(q!=null||W!=null))if(Z==="style")if(W){for(R in W)!W.hasOwnProperty(R)||q&&q.hasOwnProperty(R)||(u||(u={}),u[R]="");for(R in q)q.hasOwnProperty(R)&&W[R]!==q[R]&&(u||(u={}),u[R]=q[R])}else u||(_||(_=[]),_.push(Z,u)),u=q;else Z==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,W=W?W.__html:void 0,q!=null&&W!==q&&(_=_||[]).push(Z,q)):Z==="children"?typeof q!="string"&&typeof q!="number"||(_=_||[]).push(Z,""+q):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(s.hasOwnProperty(Z)?(q!=null&&Z==="onScroll"&&Pt("scroll",i),_||W===q||(_=[])):(_=_||[]).push(Z,q))}u&&(_=_||[]).push("style",u);var Z=_;(a.updateQueue=Z)&&(a.flags|=4)}},k_=function(i,a,u,m){u!==m&&(a.flags|=4)};function hu(i,a){if(!Ot)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function kn(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(a)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=m,i.childLanes=u,a}function RA(i,a,u){var m=a.pendingProps;switch(pp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(a),null;case 1:return Hn(a.type)&&Kd(),kn(a),null;case 3:return m=a.stateNode,El(),jt($n),jt(Nn),Ip(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Zd(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ur!==null&&(sg(Ur),Ur=null))),Gp(i,a),kn(a),null;case 5:Tp(a);var y=ya(au.current);if(u=a.type,i!==null&&a.stateNode!=null)I_(i,a,u,m,y),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return kn(a),null}if(i=ya(Ss.current),Zd(a)){m=a.stateNode,u=a.type;var _=a.memoizedProps;switch(m[bs]=a,m[nu]=_,i=(a.mode&1)!==0,u){case"dialog":Pt("cancel",m),Pt("close",m);break;case"iframe":case"object":case"embed":Pt("load",m);break;case"video":case"audio":for(y=0;y<Zc.length;y++)Pt(Zc[y],m);break;case"source":Pt("error",m);break;case"img":case"image":case"link":Pt("error",m),Pt("load",m);break;case"details":Pt("toggle",m);break;case"input":Bn(m,_),Pt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!_.multiple},Pt("invalid",m);break;case"textarea":Cn(m,_),Pt("invalid",m)}Wn(u,_),y=null;for(var R in _)if(_.hasOwnProperty(R)){var W=_[R];R==="children"?typeof W=="string"?m.textContent!==W&&(_.suppressHydrationWarning!==!0&&Hd(m.textContent,W,i),y=["children",W]):typeof W=="number"&&m.textContent!==""+W&&(_.suppressHydrationWarning!==!0&&Hd(m.textContent,W,i),y=["children",""+W]):s.hasOwnProperty(R)&&W!=null&&R==="onScroll"&&Pt("scroll",m)}switch(u){case"input":Je(m),Tt(m,_,!0);break;case"textarea":Je(m),er(m);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(m.onclick=qd)}m=y,a.updateQueue=m,m!==null&&(a.flags|=4)}else{R=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=os(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=R.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=R.createElement(u,{is:m.is}):(i=R.createElement(u),u==="select"&&(R=i,m.multiple?R.multiple=!0:m.size&&(R.size=m.size))):i=R.createElementNS(i,u),i[bs]=a,i[nu]=m,N_(i,a,!1,!1),a.stateNode=i;e:{switch(R=Ui(u,m),u){case"dialog":Pt("cancel",i),Pt("close",i),y=m;break;case"iframe":case"object":case"embed":Pt("load",i),y=m;break;case"video":case"audio":for(y=0;y<Zc.length;y++)Pt(Zc[y],i);y=m;break;case"source":Pt("error",i),y=m;break;case"img":case"image":case"link":Pt("error",i),Pt("load",i),y=m;break;case"details":Pt("toggle",i),y=m;break;case"input":Bn(i,m),y=$t(i,m),Pt("invalid",i);break;case"option":y=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},y=Y({},m,{value:void 0}),Pt("invalid",i);break;case"textarea":Cn(i,m),y=nn(i,m),Pt("invalid",i);break;default:y=m}Wn(u,y),W=y;for(_ in W)if(W.hasOwnProperty(_)){var q=W[_];_==="style"?Fi(i,q):_==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&$a(i,q)):_==="children"?typeof q=="string"?(u!=="textarea"||q!=="")&&ei(i,q):typeof q=="number"&&ei(i,""+q):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?q!=null&&_==="onScroll"&&Pt("scroll",i):q!=null&&j(i,_,q,R))}switch(u){case"input":Je(i),Tt(i,m,!1);break;case"textarea":Je(i),er(i);break;case"option":m.value!=null&&i.setAttribute("value",""+Ee(m.value));break;case"select":i.multiple=!!m.multiple,_=m.value,_!=null?Vt(i,!!m.multiple,_,!1):m.defaultValue!=null&&Vt(i,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=qd)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return kn(a),null;case 6:if(i&&a.stateNode!=null)k_(i,a,i.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(u=ya(au.current),ya(Ss.current),Zd(a)){if(m=a.stateNode,u=a.memoizedProps,m[bs]=a,(_=m.nodeValue!==u)&&(i=lr,i!==null))switch(i.tag){case 3:Hd(m.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Hd(m.nodeValue,u,(i.mode&1)!==0)}_&&(a.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[bs]=a,a.stateNode=m}return kn(a),null;case 13:if(jt(Ft),m=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ot&&cr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Pw(),yl(),a.flags|=98560,_=!1;else if(_=Zd(a),m!==null&&m.dehydrated!==null){if(i===null){if(!_)throw Error(n(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[bs]=a}else yl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;kn(a),_=!1}else Ur!==null&&(sg(Ur),Ur=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(Ft.current&1)!==0?sn===0&&(sn=3):ag())),a.updateQueue!==null&&(a.flags|=4),kn(a),null);case 4:return El(),Gp(i,a),i===null&&eu(a.stateNode.containerInfo),kn(a),null;case 10:return _p(a.type._context),kn(a),null;case 17:return Hn(a.type)&&Kd(),kn(a),null;case 19:if(jt(Ft),_=a.memoizedState,_===null)return kn(a),null;if(m=(a.flags&128)!==0,R=_.rendering,R===null)if(m)hu(_,!1);else{if(sn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(R=ih(i),R!==null){for(a.flags|=128,hu(_,!1),m=R.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=u,u=a.child;u!==null;)_=u,i=m,_.flags&=14680066,R=_.alternate,R===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=R.childLanes,_.lanes=R.lanes,_.child=R.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=R.memoizedProps,_.memoizedState=R.memoizedState,_.updateQueue=R.updateQueue,_.type=R.type,i=R.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return kt(Ft,Ft.current&1|2),a.child}i=i.sibling}_.tail!==null&&Rt()>Tl&&(a.flags|=128,m=!0,hu(_,!1),a.lanes=4194304)}else{if(!m)if(i=ih(R),i!==null){if(a.flags|=128,m=!0,u=i.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),hu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!R.alternate&&!Ot)return kn(a),null}else 2*Rt()-_.renderingStartTime>Tl&&u!==1073741824&&(a.flags|=128,m=!0,hu(_,!1),a.lanes=4194304);_.isBackwards?(R.sibling=a.child,a.child=R):(u=_.last,u!==null?u.sibling=R:a.child=R,_.last=R)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=Rt(),a.sibling=null,u=Ft.current,kt(Ft,m?u&1|2:u&1),a):(kn(a),null);case 22:case 23:return og(),m=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(ur&1073741824)!==0&&(kn(a),a.subtreeFlags&6&&(a.flags|=8192)):kn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function PA(i,a){switch(pp(a),a.tag){case 1:return Hn(a.type)&&Kd(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return El(),jt($n),jt(Nn),Ip(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Tp(a),null;case 13:if(jt(Ft),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));yl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return jt(Ft),null;case 4:return El(),null;case 10:return _p(a.type._context),null;case 22:case 23:return og(),null;case 24:return null;default:return null}}var mh=!1,An=!1,jA=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Sl(i,a){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){Ht(i,a,m)}else u.current=null}function Kp(i,a,u){try{u()}catch(m){Ht(i,a,m)}}var A_=!1;function DA(i,a){if(op=ai,i=lw(),Jm(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var R=0,W=-1,q=-1,Z=0,ie=0,le=i,re=null;t:for(;;){for(var we;le!==u||y!==0&&le.nodeType!==3||(W=R+y),le!==_||m!==0&&le.nodeType!==3||(q=R+m),le.nodeType===3&&(R+=le.nodeValue.length),(we=le.firstChild)!==null;)re=le,le=we;for(;;){if(le===i)break t;if(re===u&&++Z===y&&(W=R),re===_&&++ie===m&&(q=R),(we=le.nextSibling)!==null)break;le=re,re=le.parentNode}le=we}u=W===-1||q===-1?null:{start:W,end:q}}else u=null}u=u||{start:0,end:0}}else u=null;for(ap={focusedElem:i,selectionRange:u},ai=!1,Se=a;Se!==null;)if(a=Se,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Se=i;else for(;Se!==null;){a=Se;try{var Ce=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Ie=Ce.memoizedProps,Kt=Ce.memoizedState,Q=a.stateNode,G=Q.getSnapshotBeforeUpdate(a.elementType===a.type?Ie:zr(a.type,Ie),Kt);Q.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){Ht(a,a.return,he)}if(i=a.sibling,i!==null){i.return=a.return,Se=i;break}Se=a.return}return Ce=A_,A_=!1,Ce}function fu(i,a,u){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&i)===i){var _=y.destroy;y.destroy=void 0,_!==void 0&&Kp(a,u,_)}y=y.next}while(y!==m)}}function ph(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&i)===i){var m=u.create;u.destroy=m()}u=u.next}while(u!==a)}}function Yp(i){var a=i.ref;if(a!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof a=="function"?a(i):a.current=i}}function R_(i){var a=i.alternate;a!==null&&(i.alternate=null,R_(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[bs],delete a[nu],delete a[dp],delete a[gA],delete a[vA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function P_(i){return i.tag===5||i.tag===3||i.tag===4}function j_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||P_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qp(i,a,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(i,a):u.insertBefore(i,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(i,u)):(a=u,a.appendChild(i)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=qd));else if(m!==4&&(i=i.child,i!==null))for(Qp(i,a,u),i=i.sibling;i!==null;)Qp(i,a,u),i=i.sibling}function Xp(i,a,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(Xp(i,a,u),i=i.sibling;i!==null;)Xp(i,a,u),i=i.sibling}var xn=null,Br=!1;function eo(i,a,u){for(u=u.child;u!==null;)D_(i,a,u),u=u.sibling}function D_(i,a,u){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(sa,u)}catch{}switch(u.tag){case 5:An||Sl(u,a);case 6:var m=xn,y=Br;xn=null,eo(i,a,u),xn=m,Br=y,xn!==null&&(Br?(i=xn,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):xn.removeChild(u.stateNode));break;case 18:xn!==null&&(Br?(i=xn,u=u.stateNode,i.nodeType===8?up(i.parentNode,u):i.nodeType===1&&up(i,u),$i(i)):up(xn,u.stateNode));break;case 4:m=xn,y=Br,xn=u.stateNode.containerInfo,Br=!0,eo(i,a,u),xn=m,Br=y;break;case 0:case 11:case 14:case 15:if(!An&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var _=y,R=_.destroy;_=_.tag,R!==void 0&&((_&2)!==0||(_&4)!==0)&&Kp(u,a,R),y=y.next}while(y!==m)}eo(i,a,u);break;case 1:if(!An&&(Sl(u,a),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(W){Ht(u,a,W)}eo(i,a,u);break;case 21:eo(i,a,u);break;case 22:u.mode&1?(An=(m=An)||u.memoizedState!==null,eo(i,a,u),An=m):eo(i,a,u);break;default:eo(i,a,u)}}function O_(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new jA),a.forEach(function(m){var y=WA.bind(null,i,m);u.has(m)||(u.add(m),m.then(y,y))})}}function Wr(i,a){var u=a.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];try{var _=i,R=a,W=R;e:for(;W!==null;){switch(W.tag){case 5:xn=W.stateNode,Br=!1;break e;case 3:xn=W.stateNode.containerInfo,Br=!0;break e;case 4:xn=W.stateNode.containerInfo,Br=!0;break e}W=W.return}if(xn===null)throw Error(n(160));D_(_,R,y),xn=null,Br=!1;var q=y.alternate;q!==null&&(q.return=null),y.return=null}catch(Z){Ht(y,a,Z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)M_(a,i),a=a.sibling}function M_(i,a){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Wr(a,i),Ts(i),m&4){try{fu(3,i,i.return),ph(3,i)}catch(Ie){Ht(i,i.return,Ie)}try{fu(5,i,i.return)}catch(Ie){Ht(i,i.return,Ie)}}break;case 1:Wr(a,i),Ts(i),m&512&&u!==null&&Sl(u,u.return);break;case 5:if(Wr(a,i),Ts(i),m&512&&u!==null&&Sl(u,u.return),i.flags&32){var y=i.stateNode;try{ei(y,"")}catch(Ie){Ht(i,i.return,Ie)}}if(m&4&&(y=i.stateNode,y!=null)){var _=i.memoizedProps,R=u!==null?u.memoizedProps:_,W=i.type,q=i.updateQueue;if(i.updateQueue=null,q!==null)try{W==="input"&&_.type==="radio"&&_.name!=null&&fe(y,_),Ui(W,R);var Z=Ui(W,_);for(R=0;R<q.length;R+=2){var ie=q[R],le=q[R+1];ie==="style"?Fi(y,le):ie==="dangerouslySetInnerHTML"?$a(y,le):ie==="children"?ei(y,le):j(y,ie,le,Z)}switch(W){case"input":Pe(y,_);break;case"textarea":Qt(y,_);break;case"select":var re=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!_.multiple;var we=_.value;we!=null?Vt(y,!!_.multiple,we,!1):re!==!!_.multiple&&(_.defaultValue!=null?Vt(y,!!_.multiple,_.defaultValue,!0):Vt(y,!!_.multiple,_.multiple?[]:"",!1))}y[nu]=_}catch(Ie){Ht(i,i.return,Ie)}}break;case 6:if(Wr(a,i),Ts(i),m&4){if(i.stateNode===null)throw Error(n(162));y=i.stateNode,_=i.memoizedProps;try{y.nodeValue=_}catch(Ie){Ht(i,i.return,Ie)}}break;case 3:if(Wr(a,i),Ts(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{$i(a.containerInfo)}catch(Ie){Ht(i,i.return,Ie)}break;case 4:Wr(a,i),Ts(i);break;case 13:Wr(a,i),Ts(i),y=i.child,y.flags&8192&&(_=y.memoizedState!==null,y.stateNode.isHidden=_,!_||y.alternate!==null&&y.alternate.memoizedState!==null||(eg=Rt())),m&4&&O_(i);break;case 22:if(ie=u!==null&&u.memoizedState!==null,i.mode&1?(An=(Z=An)||ie,Wr(a,i),An=Z):Wr(a,i),Ts(i),m&8192){if(Z=i.memoizedState!==null,(i.stateNode.isHidden=Z)&&!ie&&(i.mode&1)!==0)for(Se=i,ie=i.child;ie!==null;){for(le=Se=ie;Se!==null;){switch(re=Se,we=re.child,re.tag){case 0:case 11:case 14:case 15:fu(4,re,re.return);break;case 1:Sl(re,re.return);var Ce=re.stateNode;if(typeof Ce.componentWillUnmount=="function"){m=re,u=re.return;try{a=m,Ce.props=a.memoizedProps,Ce.state=a.memoizedState,Ce.componentWillUnmount()}catch(Ie){Ht(m,u,Ie)}}break;case 5:Sl(re,re.return);break;case 22:if(re.memoizedState!==null){F_(le);continue}}we!==null?(we.return=re,Se=we):F_(le)}ie=ie.sibling}e:for(ie=null,le=i;;){if(le.tag===5){if(ie===null){ie=le;try{y=le.stateNode,Z?(_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(W=le.stateNode,q=le.memoizedProps.style,R=q!=null&&q.hasOwnProperty("display")?q.display:null,W.style.display=cs("display",R))}catch(Ie){Ht(i,i.return,Ie)}}}else if(le.tag===6){if(ie===null)try{le.stateNode.nodeValue=Z?"":le.memoizedProps}catch(Ie){Ht(i,i.return,Ie)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===i)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===i)break e;for(;le.sibling===null;){if(le.return===null||le.return===i)break e;ie===le&&(ie=null),le=le.return}ie===le&&(ie=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Wr(a,i),Ts(i),m&4&&O_(i);break;case 21:break;default:Wr(a,i),Ts(i)}}function Ts(i){var a=i.flags;if(a&2){try{e:{for(var u=i.return;u!==null;){if(P_(u)){var m=u;break e}u=u.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(ei(y,""),m.flags&=-33);var _=j_(i);Xp(i,_,y);break;case 3:case 4:var R=m.stateNode.containerInfo,W=j_(i);Qp(i,W,R);break;default:throw Error(n(161))}}catch(q){Ht(i,i.return,q)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function OA(i,a,u){Se=i,L_(i)}function L_(i,a,u){for(var m=(i.mode&1)!==0;Se!==null;){var y=Se,_=y.child;if(y.tag===22&&m){var R=y.memoizedState!==null||mh;if(!R){var W=y.alternate,q=W!==null&&W.memoizedState!==null||An;W=mh;var Z=An;if(mh=R,(An=q)&&!Z)for(Se=y;Se!==null;)R=Se,q=R.child,R.tag===22&&R.memoizedState!==null?U_(y):q!==null?(q.return=R,Se=q):U_(y);for(;_!==null;)Se=_,L_(_),_=_.sibling;Se=y,mh=W,An=Z}V_(i)}else(y.subtreeFlags&8772)!==0&&_!==null?(_.return=y,Se=_):V_(i)}}function V_(i){for(;Se!==null;){var a=Se;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:An||ph(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!An)if(u===null)m.componentDidMount();else{var y=a.elementType===a.type?u.memoizedProps:zr(a.type,u.memoizedProps);m.componentDidUpdate(y,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&Fw(a,_,m);break;case 3:var R=a.updateQueue;if(R!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Fw(a,R,u)}break;case 5:var W=a.stateNode;if(u===null&&a.flags&4){u=W;var q=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&u.focus();break;case"img":q.src&&(u.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Z=a.alternate;if(Z!==null){var ie=Z.memoizedState;if(ie!==null){var le=ie.dehydrated;le!==null&&$i(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}An||a.flags&512&&Yp(a)}catch(re){Ht(a,a.return,re)}}if(a===i){Se=null;break}if(u=a.sibling,u!==null){u.return=a.return,Se=u;break}Se=a.return}}function F_(i){for(;Se!==null;){var a=Se;if(a===i){Se=null;break}var u=a.sibling;if(u!==null){u.return=a.return,Se=u;break}Se=a.return}}function U_(i){for(;Se!==null;){var a=Se;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{ph(4,a)}catch(q){Ht(a,u,q)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var y=a.return;try{m.componentDidMount()}catch(q){Ht(a,y,q)}}var _=a.return;try{Yp(a)}catch(q){Ht(a,_,q)}break;case 5:var R=a.return;try{Yp(a)}catch(q){Ht(a,R,q)}}}catch(q){Ht(a,a.return,q)}if(a===i){Se=null;break}var W=a.sibling;if(W!==null){W.return=a.return,Se=W;break}Se=a.return}}var MA=Math.ceil,gh=B.ReactCurrentDispatcher,Jp=B.ReactCurrentOwner,Nr=B.ReactCurrentBatchConfig,pt=0,hn=null,Jt=null,wn=0,ur=0,Cl=Yi(0),sn=0,mu=null,wa=0,vh=0,Zp=0,pu=null,Gn=null,eg=0,Tl=1/0,vi=null,yh=!1,tg=null,to=null,xh=!1,no=null,wh=0,gu=0,ng=null,_h=-1,Eh=0;function Fn(){return(pt&6)!==0?Rt():_h!==-1?_h:_h=Rt()}function ro(i){return(i.mode&1)===0?1:(pt&2)!==0&&wn!==0?wn&-wn:xA.transition!==null?(Eh===0&&(Eh=Lc()),Eh):(i=dt,i!==0||(i=window.event,i=i===void 0?16:tl(i.type)),i)}function $r(i,a,u,m){if(50<gu)throw gu=0,ng=null,Error(n(185));la(i,u,m),((pt&2)===0||i!==hn)&&(i===hn&&((pt&2)===0&&(vh|=u),sn===4&&so(i,wn)),Kn(i,m),u===1&&pt===0&&(a.mode&1)===0&&(Tl=Rt()+500,Qd&&Xi()))}function Kn(i,a){var u=i.callbackNode;aa(i,a);var m=si(i,i===hn?wn:0);if(m===0)u!==null&&Ka(u),i.callbackNode=null,i.callbackPriority=0;else if(a=m&-m,i.callbackPriority!==a){if(u!=null&&Ka(u),a===1)i.tag===0?yA(B_.bind(null,i)):Nw(B_.bind(null,i)),mA(function(){(pt&6)===0&&Xi()}),u=null;else{switch(fs(m)){case 1:u=Ya;break;case 4:u=Dc;break;case 16:u=ra;break;case 536870912:u=Qa;break;default:u=ra}u=Q_(u,z_.bind(null,i))}i.callbackPriority=a,i.callbackNode=u}}function z_(i,a){if(_h=-1,Eh=0,(pt&6)!==0)throw Error(n(327));var u=i.callbackNode;if(Nl()&&i.callbackNode!==u)return null;var m=si(i,i===hn?wn:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||a)a=bh(i,m);else{a=m;var y=pt;pt|=2;var _=$_();(hn!==i||wn!==a)&&(vi=null,Tl=Rt()+500,Ea(i,a));do try{FA();break}catch(W){W_(i,W)}while(!0);wp(),gh.current=_,pt=y,Jt!==null?a=0:(hn=null,wn=0,a=sn)}if(a!==0){if(a===2&&(y=Mc(i),y!==0&&(m=y,a=rg(i,y))),a===1)throw u=mu,Ea(i,0),so(i,m),Kn(i,Rt()),u;if(a===6)so(i,m);else{if(y=i.current.alternate,(m&30)===0&&!LA(y)&&(a=bh(i,m),a===2&&(_=Mc(i),_!==0&&(m=_,a=rg(i,_))),a===1))throw u=mu,Ea(i,0),so(i,m),Kn(i,Rt()),u;switch(i.finishedWork=y,i.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:ba(i,Gn,vi);break;case 3:if(so(i,m),(m&130023424)===m&&(a=eg+500-Rt(),10<a)){if(si(i,0)!==0)break;if(y=i.suspendedLanes,(y&m)!==m){Fn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=cp(ba.bind(null,i,Gn,vi),a);break}ba(i,Gn,vi);break;case 4:if(so(i,m),(m&4194240)===m)break;for(a=i.eventTimes,y=-1;0<m;){var R=31-rr(m);_=1<<R,R=a[R],R>y&&(y=R),m&=~_}if(m=y,m=Rt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*MA(m/1960))-m,10<m){i.timeoutHandle=cp(ba.bind(null,i,Gn,vi),m);break}ba(i,Gn,vi);break;case 5:ba(i,Gn,vi);break;default:throw Error(n(329))}}}return Kn(i,Rt()),i.callbackNode===u?z_.bind(null,i):null}function rg(i,a){var u=pu;return i.current.memoizedState.isDehydrated&&(Ea(i,a).flags|=256),i=bh(i,a),i!==2&&(a=Gn,Gn=u,a!==null&&sg(a)),i}function sg(i){Gn===null?Gn=i:Gn.push.apply(Gn,i)}function LA(i){for(var a=i;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var y=u[m],_=y.getSnapshot;y=y.value;try{if(!Fr(_(),y))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function so(i,a){for(a&=~Zp,a&=~vh,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var u=31-rr(a),m=1<<u;i[u]=-1,a&=~m}}function B_(i){if((pt&6)!==0)throw Error(n(327));Nl();var a=si(i,0);if((a&1)===0)return Kn(i,Rt()),null;var u=bh(i,a);if(i.tag!==0&&u===2){var m=Mc(i);m!==0&&(a=m,u=rg(i,m))}if(u===1)throw u=mu,Ea(i,0),so(i,a),Kn(i,Rt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,ba(i,Gn,vi),Kn(i,Rt()),null}function ig(i,a){var u=pt;pt|=1;try{return i(a)}finally{pt=u,pt===0&&(Tl=Rt()+500,Qd&&Xi())}}function _a(i){no!==null&&no.tag===0&&(pt&6)===0&&Nl();var a=pt;pt|=1;var u=Nr.transition,m=dt;try{if(Nr.transition=null,dt=1,i)return i()}finally{dt=m,Nr.transition=u,pt=a,(pt&6)===0&&Xi()}}function og(){ur=Cl.current,jt(Cl)}function Ea(i,a){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,fA(u)),Jt!==null)for(u=Jt.return;u!==null;){var m=u;switch(pp(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Kd();break;case 3:El(),jt($n),jt(Nn),Ip();break;case 5:Tp(m);break;case 4:El();break;case 13:jt(Ft);break;case 19:jt(Ft);break;case 10:_p(m.type._context);break;case 22:case 23:og()}u=u.return}if(hn=i,Jt=i=io(i.current,null),wn=ur=a,sn=0,mu=null,Zp=vh=wa=0,Gn=pu=null,va!==null){for(a=0;a<va.length;a++)if(u=va[a],m=u.interleaved,m!==null){u.interleaved=null;var y=m.next,_=u.pending;if(_!==null){var R=_.next;_.next=y,m.next=R}u.pending=m}va=null}return i}function W_(i,a){do{var u=Jt;try{if(wp(),oh.current=uh,ah){for(var m=Ut.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}ah=!1}if(xa=0,dn=rn=Ut=null,lu=!1,cu=0,Jp.current=null,u===null||u.return===null){sn=1,mu=a,Jt=null;break}e:{var _=i,R=u.return,W=u,q=a;if(a=wn,W.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var Z=q,ie=W,le=ie.tag;if((ie.mode&1)===0&&(le===0||le===11||le===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var we=m_(R);if(we!==null){we.flags&=-257,p_(we,R,W,_,a),we.mode&1&&f_(_,Z,a),a=we,q=Z;var Ce=a.updateQueue;if(Ce===null){var Ie=new Set;Ie.add(q),a.updateQueue=Ie}else Ce.add(q);break e}else{if((a&1)===0){f_(_,Z,a),ag();break e}q=Error(n(426))}}else if(Ot&&W.mode&1){var Kt=m_(R);if(Kt!==null){(Kt.flags&65536)===0&&(Kt.flags|=256),p_(Kt,R,W,_,a),yp(bl(q,W));break e}}_=q=bl(q,W),sn!==4&&(sn=2),pu===null?pu=[_]:pu.push(_),_=R;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var Q=d_(_,q,a);Vw(_,Q);break e;case 1:W=q;var G=_.type,J=_.stateNode;if((_.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(to===null||!to.has(J)))){_.flags|=65536,a&=-a,_.lanes|=a;var he=h_(_,W,a);Vw(_,he);break e}}_=_.return}while(_!==null)}q_(u)}catch(ke){a=ke,Jt===u&&u!==null&&(Jt=u=u.return);continue}break}while(!0)}function $_(){var i=gh.current;return gh.current=uh,i===null?uh:i}function ag(){(sn===0||sn===3||sn===2)&&(sn=4),hn===null||(wa&268435455)===0&&(vh&268435455)===0||so(hn,wn)}function bh(i,a){var u=pt;pt|=2;var m=$_();(hn!==i||wn!==a)&&(vi=null,Ea(i,a));do try{VA();break}catch(y){W_(i,y)}while(!0);if(wp(),pt=u,gh.current=m,Jt!==null)throw Error(n(261));return hn=null,wn=0,sn}function VA(){for(;Jt!==null;)H_(Jt)}function FA(){for(;Jt!==null&&!na();)H_(Jt)}function H_(i){var a=Y_(i.alternate,i,ur);i.memoizedProps=i.pendingProps,a===null?q_(i):Jt=a,Jp.current=null}function q_(i){var a=i;do{var u=a.alternate;if(i=a.return,(a.flags&32768)===0){if(u=RA(u,a,ur),u!==null){Jt=u;return}}else{if(u=PA(u,a),u!==null){u.flags&=32767,Jt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{sn=6,Jt=null;return}}if(a=a.sibling,a!==null){Jt=a;return}Jt=a=i}while(a!==null);sn===0&&(sn=5)}function ba(i,a,u){var m=dt,y=Nr.transition;try{Nr.transition=null,dt=1,UA(i,a,u,m)}finally{Nr.transition=y,dt=m}return null}function UA(i,a,u,m){do Nl();while(no!==null);if((pt&6)!==0)throw Error(n(327));u=i.finishedWork;var y=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var _=u.lanes|u.childLanes;if(Gm(i,_),i===hn&&(Jt=hn=null,wn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||xh||(xh=!0,Q_(ra,function(){return Nl(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=Nr.transition,Nr.transition=null;var R=dt;dt=1;var W=pt;pt|=4,Jp.current=null,DA(i,u),M_(u,i),oA(ap),ai=!!op,ap=op=null,i.current=u,OA(u),ri(),pt=W,dt=R,Nr.transition=_}else i.current=u;if(xh&&(xh=!1,no=i,wh=y),_=i.pendingLanes,_===0&&(to=null),Ad(u.stateNode),Kn(i,Rt()),a!==null)for(m=i.onRecoverableError,u=0;u<a.length;u++)y=a[u],m(y.value,{componentStack:y.stack,digest:y.digest});if(yh)throw yh=!1,i=tg,tg=null,i;return(wh&1)!==0&&i.tag!==0&&Nl(),_=i.pendingLanes,(_&1)!==0?i===ng?gu++:(gu=0,ng=i):gu=0,Xi(),null}function Nl(){if(no!==null){var i=fs(wh),a=Nr.transition,u=dt;try{if(Nr.transition=null,dt=16>i?16:i,no===null)var m=!1;else{if(i=no,no=null,wh=0,(pt&6)!==0)throw Error(n(331));var y=pt;for(pt|=4,Se=i.current;Se!==null;){var _=Se,R=_.child;if((Se.flags&16)!==0){var W=_.deletions;if(W!==null){for(var q=0;q<W.length;q++){var Z=W[q];for(Se=Z;Se!==null;){var ie=Se;switch(ie.tag){case 0:case 11:case 15:fu(8,ie,_)}var le=ie.child;if(le!==null)le.return=ie,Se=le;else for(;Se!==null;){ie=Se;var re=ie.sibling,we=ie.return;if(R_(ie),ie===Z){Se=null;break}if(re!==null){re.return=we,Se=re;break}Se=we}}}var Ce=_.alternate;if(Ce!==null){var Ie=Ce.child;if(Ie!==null){Ce.child=null;do{var Kt=Ie.sibling;Ie.sibling=null,Ie=Kt}while(Ie!==null)}}Se=_}}if((_.subtreeFlags&2064)!==0&&R!==null)R.return=_,Se=R;else e:for(;Se!==null;){if(_=Se,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:fu(9,_,_.return)}var Q=_.sibling;if(Q!==null){Q.return=_.return,Se=Q;break e}Se=_.return}}var G=i.current;for(Se=G;Se!==null;){R=Se;var J=R.child;if((R.subtreeFlags&2064)!==0&&J!==null)J.return=R,Se=J;else e:for(R=G;Se!==null;){if(W=Se,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:ph(9,W)}}catch(ke){Ht(W,W.return,ke)}if(W===R){Se=null;break e}var he=W.sibling;if(he!==null){he.return=W.return,Se=he;break e}Se=W.return}}if(pt=y,Xi(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(sa,i)}catch{}m=!0}return m}finally{dt=u,Nr.transition=a}}return!1}function G_(i,a,u){a=bl(u,a),a=d_(i,a,1),i=Zi(i,a,1),a=Fn(),i!==null&&(la(i,1,a),Kn(i,a))}function Ht(i,a,u){if(i.tag===3)G_(i,i,u);else for(;a!==null;){if(a.tag===3){G_(a,i,u);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(to===null||!to.has(m))){i=bl(u,i),i=h_(a,i,1),a=Zi(a,i,1),i=Fn(),a!==null&&(la(a,1,i),Kn(a,i));break}}a=a.return}}function zA(i,a,u){var m=i.pingCache;m!==null&&m.delete(a),a=Fn(),i.pingedLanes|=i.suspendedLanes&u,hn===i&&(wn&u)===u&&(sn===4||sn===3&&(wn&130023424)===wn&&500>Rt()-eg?Ea(i,0):Zp|=u),Kn(i,a)}function K_(i,a){a===0&&((i.mode&1)===0?a=1:(a=zi,zi<<=1,(zi&130023424)===0&&(zi=4194304)));var u=Fn();i=mi(i,a),i!==null&&(la(i,a,u),Kn(i,u))}function BA(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),K_(i,u)}function WA(i,a){var u=0;switch(i.tag){case 13:var m=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),K_(i,u)}var Y_;Y_=function(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps||$n.current)qn=!0;else{if((i.lanes&u)===0&&(a.flags&128)===0)return qn=!1,AA(i,a,u);qn=(i.flags&131072)!==0}else qn=!1,Ot&&(a.flags&1048576)!==0&&Iw(a,Jd,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;fh(i,a),i=a.pendingProps;var y=pl(a,Nn.current);_l(a,u),y=Rp(null,a,m,i,y,u);var _=Pp();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Hn(m)?(_=!0,Yd(a)):_=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Sp(a),y.updater=dh,a.stateNode=y,y._reactInternals=a,Vp(a,m,i,u),a=Bp(null,a,m,!0,_,u)):(a.tag=0,Ot&&_&&mp(a),Vn(null,a,y,u),a=a.child),a;case 16:m=a.elementType;e:{switch(fh(i,a),i=a.pendingProps,y=m._init,m=y(m._payload),a.type=m,y=a.tag=HA(m),i=zr(m,i),y){case 0:a=zp(null,a,m,i,u);break e;case 1:a=__(null,a,m,i,u);break e;case 11:a=g_(null,a,m,i,u);break e;case 14:a=v_(null,a,m,zr(m.type,i),u);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:zr(m,y),zp(i,a,m,y,u);case 1:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:zr(m,y),__(i,a,m,y,u);case 3:e:{if(E_(a),i===null)throw Error(n(387));m=a.pendingProps,_=a.memoizedState,y=_.element,Lw(i,a),sh(a,m,null,u);var R=a.memoizedState;if(m=R.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){y=bl(Error(n(423)),a),a=b_(i,a,m,u,y);break e}else if(m!==y){y=bl(Error(n(424)),a),a=b_(i,a,m,u,y);break e}else for(cr=Ki(a.stateNode.containerInfo.firstChild),lr=a,Ot=!0,Ur=null,u=Ow(a,null,m,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(yl(),m===y){a=gi(i,a,u);break e}Vn(i,a,m,u)}a=a.child}return a;case 5:return Uw(a),i===null&&vp(a),m=a.type,y=a.pendingProps,_=i!==null?i.memoizedProps:null,R=y.children,lp(m,y)?R=null:_!==null&&lp(m,_)&&(a.flags|=32),w_(i,a),Vn(i,a,R,u),a.child;case 6:return i===null&&vp(a),null;case 13:return S_(i,a,u);case 4:return Cp(a,a.stateNode.containerInfo),m=a.pendingProps,i===null?a.child=xl(a,null,m,u):Vn(i,a,m,u),a.child;case 11:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:zr(m,y),g_(i,a,m,y,u);case 7:return Vn(i,a,a.pendingProps,u),a.child;case 8:return Vn(i,a,a.pendingProps.children,u),a.child;case 12:return Vn(i,a,a.pendingProps.children,u),a.child;case 10:e:{if(m=a.type._context,y=a.pendingProps,_=a.memoizedProps,R=y.value,kt(th,m._currentValue),m._currentValue=R,_!==null)if(Fr(_.value,R)){if(_.children===y.children&&!$n.current){a=gi(i,a,u);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var W=_.dependencies;if(W!==null){R=_.child;for(var q=W.firstContext;q!==null;){if(q.context===m){if(_.tag===1){q=pi(-1,u&-u),q.tag=2;var Z=_.updateQueue;if(Z!==null){Z=Z.shared;var ie=Z.pending;ie===null?q.next=q:(q.next=ie.next,ie.next=q),Z.pending=q}}_.lanes|=u,q=_.alternate,q!==null&&(q.lanes|=u),Ep(_.return,u,a),W.lanes|=u;break}q=q.next}}else if(_.tag===10)R=_.type===a.type?null:_.child;else if(_.tag===18){if(R=_.return,R===null)throw Error(n(341));R.lanes|=u,W=R.alternate,W!==null&&(W.lanes|=u),Ep(R,u,a),R=_.sibling}else R=_.child;if(R!==null)R.return=_;else for(R=_;R!==null;){if(R===a){R=null;break}if(_=R.sibling,_!==null){_.return=R.return,R=_;break}R=R.return}_=R}Vn(i,a,y.children,u),a=a.child}return a;case 9:return y=a.type,m=a.pendingProps.children,_l(a,u),y=Cr(y),m=m(y),a.flags|=1,Vn(i,a,m,u),a.child;case 14:return m=a.type,y=zr(m,a.pendingProps),y=zr(m.type,y),v_(i,a,m,y,u);case 15:return y_(i,a,a.type,a.pendingProps,u);case 17:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:zr(m,y),fh(i,a),a.tag=1,Hn(m)?(i=!0,Yd(a)):i=!1,_l(a,u),c_(a,m,y),Vp(a,m,y,u),Bp(null,a,m,!0,i,u);case 19:return T_(i,a,u);case 22:return x_(i,a,u)}throw Error(n(156,a.tag))};function Q_(i,a){return jc(i,a)}function $A(i,a,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(i,a,u,m){return new $A(i,a,u,m)}function lg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function HA(i){if(typeof i=="function")return lg(i)?1:0;if(i!=null){if(i=i.$$typeof,i===M)return 11;if(i===ge)return 14}return 2}function io(i,a){var u=i.alternate;return u===null?(u=Ir(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Sh(i,a,u,m,y,_){var R=2;if(m=i,typeof i=="function")lg(i)&&(R=1);else if(typeof i=="string")R=5;else e:switch(i){case A:return Sa(u.children,y,_,a);case I:R=8,y|=8;break;case P:return i=Ir(12,u,a,y|2),i.elementType=P,i.lanes=_,i;case k:return i=Ir(13,u,a,y),i.elementType=k,i.lanes=_,i;case ae:return i=Ir(19,u,a,y),i.elementType=ae,i.lanes=_,i;case ye:return Ch(u,y,_,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:R=10;break e;case U:R=9;break e;case M:R=11;break e;case ge:R=14;break e;case pe:R=16,m=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=Ir(R,u,a,y),a.elementType=i,a.type=m,a.lanes=_,a}function Sa(i,a,u,m){return i=Ir(7,i,m,a),i.lanes=u,i}function Ch(i,a,u,m){return i=Ir(22,i,m,a),i.elementType=ye,i.lanes=u,i.stateNode={isHidden:!1},i}function cg(i,a,u){return i=Ir(6,i,null,a),i.lanes=u,i}function ug(i,a,u){return a=Ir(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function qA(i,a,u,m,y){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vc(0),this.expirationTimes=Vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vc(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function dg(i,a,u,m,y,_,R,W,q){return i=new qA(i,a,u,W,q),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Ir(3,null,null,a),i.current=_,_.stateNode=i,_.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sp(_),i}function GA(i,a,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:m==null?null:""+m,children:i,containerInfo:a,implementation:u}}function X_(i){if(!i)return Qi;i=i._reactInternals;e:{if(Lr(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Hn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Hn(u))return Cw(i,u,a)}return a}function J_(i,a,u,m,y,_,R,W,q){return i=dg(u,m,!0,i,y,_,R,W,q),i.context=X_(null),u=i.current,m=Fn(),y=ro(u),_=pi(m,y),_.callback=a??null,Zi(u,_,y),i.current.lanes=y,la(i,y,m),Kn(i,m),i}function Th(i,a,u,m){var y=a.current,_=Fn(),R=ro(y);return u=X_(u),a.context===null?a.context=u:a.pendingContext=u,a=pi(_,R),a.payload={element:i},m=m===void 0?null:m,m!==null&&(a.callback=m),i=Zi(y,a,R),i!==null&&($r(i,y,R,_),rh(i,y,R)),R}function Nh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Z_(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function hg(i,a){Z_(i,a),(i=i.alternate)&&Z_(i,a)}function KA(){return null}var e0=typeof reportError=="function"?reportError:function(i){console.error(i)};function fg(i){this._internalRoot=i}Ih.prototype.render=fg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));Th(i,a,null,null)},Ih.prototype.unmount=fg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;_a(function(){Th(null,i,null,null)}),a[ui]=null}};function Ih(i){this._internalRoot=i}Ih.prototype.unstable_scheduleHydration=function(i){if(i){var a=Bc();i={blockedOn:null,target:i,priority:a};for(var u=0;u<sr.length&&a!==0&&a<sr[u].priority;u++);sr.splice(u,0,i),u===0&&Za(i)}};function mg(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function kh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function t0(){}function YA(i,a,u,m,y){if(y){if(typeof m=="function"){var _=m;m=function(){var Z=Nh(R);_.call(Z)}}var R=J_(a,m,i,0,null,!1,!1,"",t0);return i._reactRootContainer=R,i[ui]=R.current,eu(i.nodeType===8?i.parentNode:i),_a(),R}for(;y=i.lastChild;)i.removeChild(y);if(typeof m=="function"){var W=m;m=function(){var Z=Nh(q);W.call(Z)}}var q=dg(i,0,!1,null,null,!1,!1,"",t0);return i._reactRootContainer=q,i[ui]=q.current,eu(i.nodeType===8?i.parentNode:i),_a(function(){Th(a,q,u,m)}),q}function Ah(i,a,u,m,y){var _=u._reactRootContainer;if(_){var R=_;if(typeof y=="function"){var W=y;y=function(){var q=Nh(R);W.call(q)}}Th(a,R,i,y)}else R=YA(u,a,i,y,m);return Nh(R)}Uc=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var u=yt(a.pendingLanes);u!==0&&(Fc(a,u|1),Kn(a,Rt()),(pt&6)===0&&(Tl=Rt()+500,Xi()))}break;case 13:_a(function(){var m=mi(i,1);if(m!==null){var y=Fn();$r(m,i,1,y)}}),hg(i,1)}},Xa=function(i){if(i.tag===13){var a=mi(i,134217728);if(a!==null){var u=Fn();$r(a,i,134217728,u)}hg(i,134217728)}},zc=function(i){if(i.tag===13){var a=ro(i),u=mi(i,a);if(u!==null){var m=Fn();$r(u,i,a,m)}hg(i,a)}},Bc=function(){return dt},Wc=function(i,a){var u=dt;try{return dt=i,a()}finally{dt=u}},ht=function(i,a,u){switch(a){case"input":if(Pe(i,u),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var m=u[a];if(m!==i&&m.form===i.form){var y=Gd(m);if(!y)throw Error(n(90));Ze(m),Pe(m,y)}}}break;case"textarea":Qt(i,u);break;case"select":a=u.value,a!=null&&Vt(i,!!u.multiple,a,!1)}},Ln=ig,ft=_a;var QA={usingClientEntryPoint:!1,Events:[ru,fl,Gd,tr,At,ig]},vu={findFiberByHostInstance:fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XA={bundleType:vu.bundleType,version:vu.version,rendererPackageName:vu.rendererPackageName,rendererConfig:vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=kd(i),i===null?null:i.stateNode},findFiberByHostInstance:vu.findFiberByHostInstance||KA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{sa=Rh.inject(XA),nr=Rh}catch{}}return Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QA,Yn.createPortal=function(i,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mg(a))throw Error(n(200));return GA(i,a,null,u)},Yn.createRoot=function(i,a){if(!mg(i))throw Error(n(299));var u=!1,m="",y=e0;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=dg(i,1,!1,null,null,u,!1,m,y),i[ui]=a.current,eu(i.nodeType===8?i.parentNode:i),new fg(a)},Yn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=kd(a),i=i===null?null:i.stateNode,i},Yn.flushSync=function(i){return _a(i)},Yn.hydrate=function(i,a,u){if(!kh(a))throw Error(n(200));return Ah(null,i,a,!0,u)},Yn.hydrateRoot=function(i,a,u){if(!mg(i))throw Error(n(405));var m=u!=null&&u.hydratedSources||null,y=!1,_="",R=e0;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),a=J_(a,null,i,1,u??null,y,!1,_,R),i[ui]=a.current,eu(i),m)for(i=0;i<m.length;i++)u=m[i],y=u._getVersion,y=y(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,y]:a.mutableSourceEagerHydrationData.push(u,y);return new Ih(a)},Yn.render=function(i,a,u){if(!kh(a))throw Error(n(200));return Ah(null,i,a,!1,u)},Yn.unmountComponentAtNode=function(i){if(!kh(i))throw Error(n(40));return i._reactRootContainer?(_a(function(){Ah(null,null,i,!1,function(){i._reactRootContainer=null,i[ui]=null})}),!0):!1},Yn.unstable_batchedUpdates=ig,Yn.unstable_renderSubtreeIntoContainer=function(i,a,u,m){if(!kh(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Ah(i,a,u,!1,m)},Yn.version="18.3.1-next-f1338f8080-20240426",Yn}var c0;function xS(){if(c0)return vg.exports;c0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vg.exports=oR(),vg.exports}var u0;function aR(){if(u0)return Ph;u0=1;var t=xS();return Ph.createRoot=t.createRoot,Ph.hydrateRoot=t.hydrateRoot,Ph}var lR=aR();const cR=Qv(lR);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var d0="popstate";function uR(t={}){function e(r,s){let{pathname:o,search:c,hash:d}=r.location;return tv("",{pathname:o,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Lu(s)}return hR(e,n,null,t)}function Lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dR(){return Math.random().toString(36).substring(2,10)}function h0(t,e){return{usr:t.state,key:t.key,idx:e}}function tv(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?uc(e):e,state:n,key:e&&e.key||r||dR()}}function Lu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function uc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function hR(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,c=s.history,d="POP",h=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function v(){d="POP";let N=g(),L=N==null?null:N-p;p=N,h&&h({action:d,location:C.location,delta:L})}function x(N,L){d="PUSH";let D=tv(C.location,N,L);p=g()+1;let j=h0(D,p),B=C.createHref(D);try{c.pushState(j,"",B)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(B)}o&&h&&h({action:d,location:C.location,delta:1})}function b(N,L){d="REPLACE";let D=tv(C.location,N,L);p=g();let j=h0(D,p),B=C.createHref(D);c.replaceState(j,"",B),o&&h&&h({action:d,location:C.location,delta:0})}function S(N){return fR(N)}let C={get action(){return d},get location(){return t(s,c)},listen(N){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(d0,v),h=N,()=>{s.removeEventListener(d0,v),h=null}},createHref(N){return e(s,N)},createURL:S,encodeLocation(N){let L=S(N);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:x,replace:b,go(N){return c.go(N)}};return C}function fR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Lu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function wS(t,e,n="/"){return mR(t,e,n,!1)}function mR(t,e,n,r){let s=typeof e=="string"?uc(e):e,o=Si(s.pathname||"/",n);if(o==null)return null;let c=_S(t);pR(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=TR(o);d=SR(c[h],p,r)}return d}function _S(t,e=[],n=[],r="",s=!1){let o=(c,d,h=s,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&h)return;Lt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=bi([r,g.relativePath]),x=n.concat(g);c.children&&c.children.length>0&&(Lt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),_S(c.children,e,x,v,h)),!(c.path==null&&!c.index)&&e.push({path:v,score:ER(v,c.index),routesMeta:x})};return t.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))o(c,d);else for(let p of ES(c.path))o(c,d,!0,p)}),e}function ES(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let c=ES(r.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),s&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function pR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var gR=/^:[\w-]+$/,vR=3,yR=2,xR=1,wR=10,_R=-2,f0=t=>t==="*";function ER(t,e){let n=t.split("/"),r=n.length;return n.some(f0)&&(r+=_R),e&&(r+=yR),n.filter(s=>!f0(s)).reduce((s,o)=>s+(gR.test(o)?vR:o===""?xR:wR),r)}function bR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function SR(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=pf({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),x=h.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=pf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),c.push({params:s,pathname:bi([o,v.pathname]),pathnameBase:AR(bi([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=bi([o,v.pathnameBase]))}return c}function pf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=CR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},x)=>{if(g==="*"){let S=d[x]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const b=d[x];return v&&!b?p[g]=void 0:p[g]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:t}}function CR(t,e=!1,n=!0){Zr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function TR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Si(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var NR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function IR(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?uc(t):t,o;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?o=m0(n.substring(1),"/"):o=m0(n,e)):o=e,{pathname:o,search:RR(r),hash:PR(s)}}function m0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function wg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jv(t){let e=kR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Zv(t,e,n,r=!1){let s;typeof t=="string"?s=uc(t):(s={...t},Lt(!s.pathname||!s.pathname.includes("?"),wg("?","pathname","search",s)),Lt(!s.pathname||!s.pathname.includes("#"),wg("#","pathname","hash",s)),Lt(!s.search||!s.search.includes("#"),wg("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;s.pathname=x.join("/")}d=v>=0?e[v]:"/"}let h=IR(s,d),p=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var bi=t=>t.join("/").replace(/\/\/+/g,"/"),AR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,jR=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function DR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function OR(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var bS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function SS(t,e){let n=t;if(typeof n!="string"||!NR.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(bS)try{let o=new URL(window.location.href),c=n.startsWith("//")?new URL(o.protocol+n):new URL(n),d=Si(c.pathname,e);c.origin===o.origin&&d!=null?n=d+c.search+c.hash:s=!0}catch{Zr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CS=["POST","PUT","PATCH","DELETE"];new Set(CS);var MR=["GET",...CS];new Set(MR);var dc=w.createContext(null);dc.displayName="DataRouter";var Jf=w.createContext(null);Jf.displayName="DataRouterState";var LR=w.createContext(!1),TS=w.createContext({isTransitioning:!1});TS.displayName="ViewTransition";var VR=w.createContext(new Map);VR.displayName="Fetchers";var FR=w.createContext(null);FR.displayName="Await";var gr=w.createContext(null);gr.displayName="Navigation";var ed=w.createContext(null);ed.displayName="Location";var rs=w.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var ey=w.createContext(null);ey.displayName="RouteError";var NS="REACT_ROUTER_ERROR",UR="REDIRECT",zR="ROUTE_ERROR_RESPONSE";function BR(t){if(t.startsWith(`${NS}:${UR}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function WR(t){if(t.startsWith(`${NS}:${zR}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new jR(e.status,e.statusText,e.data)}catch{}}function $R(t,{relative:e}={}){Lt(hc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(gr),{hash:s,pathname:o,search:c}=td(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:bi([n,o])),r.createHref({pathname:d,search:c,hash:s})}function hc(){return w.useContext(ed)!=null}function Gs(){return Lt(hc(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(ed).location}var IS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kS(t){w.useContext(gr).static||w.useLayoutEffect(t)}function Zf(){let{isDataRoute:t}=w.useContext(rs);return t?iP():HR()}function HR(){Lt(hc(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(dc),{basename:e,navigator:n}=w.useContext(gr),{matches:r}=w.useContext(rs),{pathname:s}=Gs(),o=JSON.stringify(Jv(r)),c=w.useRef(!1);return kS(()=>{c.current=!0}),w.useCallback((h,p={})=>{if(Zr(c.current,IS),!c.current)return;if(typeof h=="number"){n.go(h);return}let g=Zv(h,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:bi([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,o,s,t])}var qR=w.createContext(null);function GR(t){let e=w.useContext(rs).outlet;return w.useMemo(()=>e&&w.createElement(qR.Provider,{value:t},e),[e,t])}function td(t,{relative:e}={}){let{matches:n}=w.useContext(rs),{pathname:r}=Gs(),s=JSON.stringify(Jv(n));return w.useMemo(()=>Zv(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function KR(t,e){return AS(t,e)}function AS(t,e,n,r,s){var D;Lt(hc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=w.useContext(gr),{matches:c}=w.useContext(rs),d=c[c.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let j=v&&v.path||"";PS(p,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let x=Gs(),b;if(e){let j=typeof e=="string"?uc(e):e;Lt(g==="/"||((D=j.pathname)==null?void 0:D.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),b=j}else b=x;let S=b.pathname||"/",C=S;if(g!=="/"){let j=g.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=wS(t,{pathname:C});Zr(v||N!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Zr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=ZR(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:bi([g,o.encodeLocation?o.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:bi([g,o.encodeLocation?o.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),c,n,r,s);return e&&L?w.createElement(ed.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},L):L}function YR(){let t=sP(),e=DR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,c)}var QR=w.createElement(YR,null),RS=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=WR(t.digest);n&&(t=n)}let e=t!==void 0?w.createElement(rs.Provider,{value:this.props.routeContext},w.createElement(ey.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?w.createElement(XR,{error:t},e):e}};RS.contextType=LR;var _g=new WeakMap;function XR({children:t,error:e}){let{basename:n}=w.useContext(gr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=BR(e.digest);if(r){let s=_g.get(e);if(s)throw s;let o=SS(r.location,n);if(bS&&!_g.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw _g.set(e,c),c}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function JR({routeContext:t,match:e,children:n}){let r=w.useContext(dc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(rs.Provider,{value:t},n)}function ZR(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n==null?void 0:n.errors;if(c!=null){let g=o.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);Lt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,h=-1;if(n)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=g),v.route.id){let{loaderData:x,errors:b}=n,S=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||S){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let p=n&&r?(g,v)=>{var x,b;r(g,{location:n.location,params:((b=(x=n.matches)==null?void 0:x[0])==null?void 0:b.params)??{},unstable_pattern:OR(n.matches),errorInfo:v})}:void 0;return o.reduceRight((g,v,x)=>{let b,S=!1,C=null,N=null;n&&(b=c&&v.route.id?c[v.route.id]:void 0,C=v.route.errorElement||QR,d&&(h<0&&x===0?(PS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,N=null):h===x&&(S=!0,N=v.route.hydrateFallbackElement||null)));let L=e.concat(o.slice(0,x+1)),D=()=>{let j;return b?j=C:S?j=N:v.route.Component?j=w.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=g,w.createElement(JR,{match:v,routeContext:{outlet:g,matches:L,isDataRoute:n!=null},children:j})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?w.createElement(RS,{location:n.location,revalidation:n.revalidation,component:C,error:b,children:D(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:p}):D()},null)}function ty(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eP(t){let e=w.useContext(dc);return Lt(e,ty(t)),e}function tP(t){let e=w.useContext(Jf);return Lt(e,ty(t)),e}function nP(t){let e=w.useContext(rs);return Lt(e,ty(t)),e}function ny(t){let e=nP(t),n=e.matches[e.matches.length-1];return Lt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function rP(){return ny("useRouteId")}function sP(){var r;let t=w.useContext(ey),e=tP("useRouteError"),n=ny("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function iP(){let{router:t}=eP("useNavigate"),e=ny("useNavigate"),n=w.useRef(!1);return kS(()=>{n.current=!0}),w.useCallback(async(s,o={})=>{Zr(n.current,IS),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var p0={};function PS(t,e,n){!e&&!p0[t]&&(p0[t]=!0,Zr(!1,n))}w.memo(oP);function oP({routes:t,future:e,state:n,onError:r}){return AS(t,void 0,n,r,e)}function jS({to:t,replace:e,state:n,relative:r}){Lt(hc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=w.useContext(gr);Zr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=w.useContext(rs),{pathname:c}=Gs(),d=Zf(),h=Zv(t,Jv(o),c,r==="path"),p=JSON.stringify(h);return w.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:r})},[d,p,r,e,n]),null}function aP(t){return GR(t.context)}function Pn(t){Lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1,unstable_useTransitions:c}){Lt(!hc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:d,navigator:s,static:o,unstable_useTransitions:c,future:{}}),[d,s,o,c]);typeof n=="string"&&(n=uc(n));let{pathname:p="/",search:g="",hash:v="",state:x=null,key:b="default"}=n,S=w.useMemo(()=>{let C=Si(p,d);return C==null?null:{location:{pathname:C,search:g,hash:v,state:x,key:b},navigationType:r}},[d,p,g,v,x,b,r]);return Zr(S!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(gr.Provider,{value:h},w.createElement(ed.Provider,{children:e,value:S}))}function cP({children:t,location:e}){return KR(nv(t),e)}function nv(t,e=[]){let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let o=[...e,s];if(r.type===w.Fragment){n.push.apply(n,nv(r.props.children,o));return}Lt(r.type===Pn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=nv(r.props.children,o)),n.push(c)}),n}var Qh="get",Xh="application/x-www-form-urlencoded";function em(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function uP(t){return em(t)&&t.tagName.toLowerCase()==="button"}function dP(t){return em(t)&&t.tagName.toLowerCase()==="form"}function hP(t){return em(t)&&t.tagName.toLowerCase()==="input"}function fP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mP(t,e){return t.button===0&&(!e||e==="_self")&&!fP(t)}var jh=null;function pP(){if(jh===null)try{new FormData(document.createElement("form"),0),jh=!1}catch{jh=!0}return jh}var gP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eg(t){return t!=null&&!gP.has(t)?(Zr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xh}"`),null):t}function vP(t,e){let n,r,s,o,c;if(dP(t)){let d=t.getAttribute("action");r=d?Si(d,e):null,n=t.getAttribute("method")||Qh,s=Eg(t.getAttribute("enctype"))||Xh,o=new FormData(t)}else if(uP(t)||hP(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?Si(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Qh,s=Eg(t.getAttribute("formenctype"))||Eg(d.getAttribute("enctype"))||Xh,o=new FormData(d,t),!pP()){let{name:p,type:g,value:v}=t;if(g==="image"){let x=p?`${p}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else p&&o.append(p,v)}}else{if(em(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qh,r=null,s=Xh,c=t}return o&&s==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ry(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yP(t,e,n,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:e&&Si(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function xP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _P(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await xP(o,n);return c.links?c.links():[]}return[]}));return CP(r.flat(1).filter(wP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function g0(t,e,n,r,s,o){let c=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,d=(h,p)=>{var g;return n[p].pathname!==h.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>c(h,p)||d(h,p)):o==="data"?e.filter((h,p)=>{var v;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function EP(t,e,{includeHydrateFallback:n}={}){return bP(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function bP(t){return[...new Set(t)]}function SP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function CP(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(SP(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function DS(){let t=w.useContext(dc);return ry(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function TP(){let t=w.useContext(Jf);return ry(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var sy=w.createContext(void 0);sy.displayName="FrameworkContext";function OS(){let t=w.useContext(sy);return ry(t,"You must render this element inside a <HydratedRouter> element"),t}function NP(t,e){let n=w.useContext(sy),[r,s]=w.useState(!1),[o,c]=w.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,x=w.useRef(null);w.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let C=L=>{L.forEach(D=>{c(D.isIntersecting)})},N=new IntersectionObserver(C,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[t]),w.useEffect(()=>{if(r){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[r]);let b=()=>{s(!0)},S=()=>{s(!1),c(!1)};return n?t!=="intent"?[o,x,{}]:[o,x,{onFocus:xu(d,b),onBlur:xu(h,S),onMouseEnter:xu(p,b),onMouseLeave:xu(g,S),onTouchStart:xu(v,b)}]:[!1,x,{}]}function xu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function IP({page:t,...e}){let{router:n}=DS(),r=w.useMemo(()=>wS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(AP,{page:t,matches:r,...e}):null}function kP(t){let{manifest:e,routeModules:n}=OS(),[r,s]=w.useState([]);return w.useEffect(()=>{let o=!1;return _P(t,e,n).then(c=>{o||s(c)}),()=>{o=!0}},[t,e,n]),r}function AP({page:t,matches:e,...n}){let r=Gs(),{future:s,manifest:o,routeModules:c}=OS(),{basename:d}=DS(),{loaderData:h,matches:p}=TP(),g=w.useMemo(()=>g0(t,e,p,o,r,"data"),[t,e,p,o,r]),v=w.useMemo(()=>g0(t,e,p,o,r,"assets"),[t,e,p,o,r]),x=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,N=!1;if(e.forEach(D=>{var B;let j=o.routes[D.route.id];!j||!j.hasLoader||(!g.some(O=>O.route.id===D.route.id)&&D.route.id in h&&((B=c[D.route.id])!=null&&B.shouldRevalidate)||j.hasClientLoader?N=!0:C.add(D.route.id))}),C.size===0)return[];let L=yP(t,d,s.unstable_trailingSlashAwareDataRequests,"data");return N&&C.size>0&&L.searchParams.set("_routes",e.filter(D=>C.has(D.route.id)).map(D=>D.route.id).join(",")),[L.pathname+L.search]},[d,s.unstable_trailingSlashAwareDataRequests,h,r,o,g,e,t,c]),b=w.useMemo(()=>EP(v,o),[v,o]),S=kP(v);return w.createElement(w.Fragment,null,x.map(C=>w.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),b.map(C=>w.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),S.map(({key:C,link:N})=>w.createElement("link",{key:C,nonce:n.nonce,...N,crossOrigin:N.crossOrigin??n.crossOrigin})))}function RP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var PP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PP&&(window.__reactRouterVersion="7.13.0")}catch{}function jP({basename:t,children:e,unstable_useTransitions:n,window:r}){let s=w.useRef();s.current==null&&(s.current=uR({window:r,v5Compat:!0}));let o=s.current,[c,d]=w.useState({action:o.action,location:o.location}),h=w.useCallback(p=>{n===!1?d(p):w.startTransition(()=>d(p))},[n]);return w.useLayoutEffect(()=>o.listen(h),[o,h]),w.createElement(lP,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:n})}var MS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,js=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:c,state:d,target:h,to:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:x,...b},S){let{basename:C,unstable_useTransitions:N}=w.useContext(gr),L=typeof p=="string"&&MS.test(p),D=SS(p,C);p=D.to;let j=$R(p,{relative:s}),[B,O,$]=NP(r,b),A=LP(p,{replace:c,state:d,target:h,preventScrollReset:g,relative:s,viewTransition:v,unstable_defaultShouldRevalidate:x,unstable_useTransitions:N});function I(F){e&&e(F),F.defaultPrevented||A(F)}let P=w.createElement("a",{...b,...$,href:D.absoluteURL||j,onClick:D.isExternal||o?e:I,ref:RP(S,O),target:h,"data-discover":!L&&n==="render"?"true":void 0});return B&&!L?w.createElement(w.Fragment,null,P,w.createElement(IP,{page:j})):P});js.displayName="Link";var DP=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:c,viewTransition:d,children:h,...p},g){let v=td(c,{relative:p.relative}),x=Gs(),b=w.useContext(Jf),{navigator:S,basename:C}=w.useContext(gr),N=b!=null&&BP(v)&&d===!0,L=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,D=x.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(D=D.toLowerCase(),j=j?j.toLowerCase():null,L=L.toLowerCase()),j&&C&&(j=Si(j,C)||j);const B=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let O=D===L||!s&&D.startsWith(L)&&D.charAt(B)==="/",$=j!=null&&(j===L||!s&&j.startsWith(L)&&j.charAt(L.length)==="/"),A={isActive:O,isPending:$,isTransitioning:N},I=O?e:void 0,P;typeof r=="function"?P=r(A):P=[r,O?"active":null,$?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(A):o;return w.createElement(js,{...p,"aria-current":I,className:P,ref:g,style:F,to:c,viewTransition:d},typeof h=="function"?h(A):h)});DP.displayName="NavLink";var OP=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:c=Qh,action:d,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:x,...b},S)=>{let{unstable_useTransitions:C}=w.useContext(gr),N=UP(),L=zP(d,{relative:p}),D=c.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&MS.test(d),B=O=>{if(h&&h(O),O.defaultPrevented)return;O.preventDefault();let $=O.nativeEvent.submitter,A=($==null?void 0:$.getAttribute("formmethod"))||c,I=()=>N($||O.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:s,state:o,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:x});C&&n!==!1?w.startTransition(()=>I()):I()};return w.createElement("form",{ref:S,method:D,action:L,onSubmit:r?h:B,...b,"data-discover":!j&&t==="render"?"true":void 0})});OP.displayName="Form";function MP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LS(t){let e=w.useContext(dc);return Lt(e,MP(t)),e}function LP(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h}={}){let p=Zf(),g=Gs(),v=td(t,{relative:o});return w.useCallback(x=>{if(mP(x,e)){x.preventDefault();let b=n!==void 0?n:Lu(g)===Lu(v),S=()=>p(t,{replace:b,state:r,preventScrollReset:s,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d});h?w.startTransition(()=>S()):S()}},[g,p,v,n,r,e,t,s,o,c,d,h])}var VP=0,FP=()=>`__${String(++VP)}__`;function UP(){let{router:t}=LS("useSubmit"),{basename:e}=w.useContext(gr),n=rP(),r=t.fetch,s=t.navigate;return w.useCallback(async(o,c={})=>{let{action:d,method:h,encType:p,formData:g,body:v}=vP(o,e);if(c.navigate===!1){let x=c.fetcherKey||FP();await r(x,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||h,formEncType:c.encType||p,flushSync:c.flushSync})}else await s(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||h,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,s,e,n])}function zP(t,{relative:e}={}){let{basename:n}=w.useContext(gr),r=w.useContext(rs);Lt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...td(t||".",{relative:e})},c=Gs();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:bi([n,o.pathname])),Lu(o)}function BP(t,{relative:e}={}){let n=w.useContext(TS);Lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=LS("useViewTransitionState"),s=td(t,{relative:e});if(!n.isTransitioning)return!1;let o=Si(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Si(n.nextLocation.pathname,r)||n.nextLocation.pathname;return pf(s.pathname,c)!=null||pf(s.pathname,o)!=null}var nd=xS();const VS=Qv(nd),WP=()=>{};var v0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},$P=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],c=t[n++],d=t[n++],h=((s&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},US={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],c=s+1<t.length,d=c?t[s+1]:0,h=s+2<t.length,p=h?t[s+2]:0,g=o>>2,v=(o&3)<<4|d>>4;let x=(d&15)<<2|p>>6,b=p&63;h||(b=64,c||(x=64)),r.push(n[g],n[v],n[x],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$P(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||d==null||p==null||v==null)throw new HP;const x=o<<2|d>>4;if(r.push(x),p!==64){const b=d<<4&240|p>>2;if(r.push(b),v!==64){const S=p<<6&192|v;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qP=function(t){const e=FS(t);return US.encodeByteArray(e,!0)},gf=function(t){return qP(t).replace(/\./g,"")},zS=function(t){try{return US.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=()=>GP().__FIREBASE_DEFAULTS__,YP=()=>{if(typeof process>"u"||typeof v0>"u")return;const t=v0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zS(t[1]);return e&&JSON.parse(e)},tm=()=>{try{return WP()||KP()||YP()||QP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BS=t=>{var e,n;return(n=(e=tm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},iy=t=>{const e=BS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WS=()=>{var t;return(t=tm())==null?void 0:t.config},$S=t=>{var e;return(e=tm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nm(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[gf(JSON.stringify(n)),gf(JSON.stringify(c)),""].join(".")}const Au={};function JP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Au))Au[e]?t.emulator.push(e):t.prod.push(e);return t}function ZP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let y0=!1;function rm(t,e){if(typeof window>"u"||typeof document>"u"||!Di(window.location.host)||Au[t]===e||Au[t]||y0)return;Au[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=JP().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,b){x.setAttribute("width","24"),x.setAttribute("id",b),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{y0=!0,c()},x}function g(x,b){x.setAttribute("id",b),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=ZP(r),b=n("text"),S=document.getElementById(b)||document.createElement("span"),C=n("learnmore"),N=document.getElementById(C)||document.createElement("a"),L=n("preprendIcon"),D=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const j=x.element;d(j),g(N,C);const B=p();h(D,L),j.append(D,S,N,B),document.body.appendChild(j)}o?(S.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ej(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function tj(){var e;const t=(e=tm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ij(){const t=Mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oj(){return!tj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aj(){try{return typeof indexedDB=="object"}catch{return!1}}function lj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="FirebaseError";class ss extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cj,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rd.prototype.create)}}class rd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?uj(o,r):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new ss(s,d,r)}}function uj(t,e){return t.replace(dj,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const dj=/\{\$([^}]+)}/g;function hj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ra(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],c=e[s];if(x0(o)&&x0(c)){if(!Ra(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function x0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Eu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function bu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fj(t,e){const n=new mj(t,e);return n.subscribe.bind(n)}class mj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pj(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=bg),s.error===void 0&&(s.error=bg),s.complete===void 0&&(s.complete=bg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class Ci{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new XP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yj(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vj(t){return t===Ta?void 0:t}function yj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const wj={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},_j=lt.INFO,Ej={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},bj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Ej[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oy{constructor(e){this.name=e,this._logLevel=_j,this._logHandler=bj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const Sj=(t,e)=>e.some(n=>t instanceof n);let w0,_0;function Cj(){return w0||(w0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tj(){return _0||(_0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qS=new WeakMap,rv=new WeakMap,GS=new WeakMap,Sg=new WeakMap,ay=new WeakMap;function Nj(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(vo(t.result)),s()},c=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&qS.set(n,t)}).catch(()=>{}),ay.set(e,t),e}function Ij(t){if(rv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),s()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});rv.set(t,e)}let sv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kj(t){sv=t(sv)}function Aj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cg(this),e,...n);return GS.set(r,e.sort?e.sort():[e]),vo(r)}:Tj().includes(t)?function(...e){return t.apply(Cg(this),e),vo(qS.get(this))}:function(...e){return vo(t.apply(Cg(this),e))}}function Rj(t){return typeof t=="function"?Aj(t):(t instanceof IDBTransaction&&Ij(t),Sj(t,Cj())?new Proxy(t,sv):t)}function vo(t){if(t instanceof IDBRequest)return Nj(t);if(Sg.has(t))return Sg.get(t);const e=Rj(t);return e!==t&&(Sg.set(t,e),ay.set(e,t)),e}const Cg=t=>ay.get(t);function Pj(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(t,e),d=vo(c);return r&&c.addEventListener("upgradeneeded",h=>{r(vo(c.result),h.oldVersion,h.newVersion,vo(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const jj=["get","getKey","getAll","getAllKeys","count"],Dj=["put","add","delete","clear"],Tg=new Map;function E0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tg.get(e))return Tg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Dj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||jj.includes(n)))return;const o=async function(c,...d){const h=this.transaction(c,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),s&&h.done]))[0]};return Tg.set(e,o),o}kj(t=>({...t,get:(e,n,r)=>E0(e,n)||t.get(e,n,r),has:(e,n)=>!!E0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Mj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const iv="@firebase/app",b0="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new oy("@firebase/app"),Lj="@firebase/app-compat",Vj="@firebase/analytics-compat",Fj="@firebase/analytics",Uj="@firebase/app-check-compat",zj="@firebase/app-check",Bj="@firebase/auth",Wj="@firebase/auth-compat",$j="@firebase/database",Hj="@firebase/data-connect",qj="@firebase/database-compat",Gj="@firebase/functions",Kj="@firebase/functions-compat",Yj="@firebase/installations",Qj="@firebase/installations-compat",Xj="@firebase/messaging",Jj="@firebase/messaging-compat",Zj="@firebase/performance",e2="@firebase/performance-compat",t2="@firebase/remote-config",n2="@firebase/remote-config-compat",r2="@firebase/storage",s2="@firebase/storage-compat",i2="@firebase/firestore",o2="@firebase/ai",a2="@firebase/firestore-compat",l2="firebase",c2="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="[DEFAULT]",u2={[iv]:"fire-core",[Lj]:"fire-core-compat",[Fj]:"fire-analytics",[Vj]:"fire-analytics-compat",[zj]:"fire-app-check",[Uj]:"fire-app-check-compat",[Bj]:"fire-auth",[Wj]:"fire-auth-compat",[$j]:"fire-rtdb",[Hj]:"fire-data-connect",[qj]:"fire-rtdb-compat",[Gj]:"fire-fn",[Kj]:"fire-fn-compat",[Yj]:"fire-iid",[Qj]:"fire-iid-compat",[Xj]:"fire-fcm",[Jj]:"fire-fcm-compat",[Zj]:"fire-perf",[e2]:"fire-perf-compat",[t2]:"fire-rc",[n2]:"fire-rc-compat",[r2]:"fire-gcs",[s2]:"fire-gcs-compat",[i2]:"fire-fst",[a2]:"fire-fst-compat",[o2]:"fire-vertex","fire-js":"fire-js",[l2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=new Map,d2=new Map,av=new Map;function S0(t,e){try{t.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bo(t){const e=t.name;if(av.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;av.set(e,t);for(const n of vf.values())S0(n,t);for(const n of d2.values())S0(n,t);return!0}function id(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yo=new rd("app","Firebase",h2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=c2;function KS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ov,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw yo.create("bad-app-name",{appName:String(s)});if(n||(n=WS()),!n)throw yo.create("no-options");const o=vf.get(s);if(o){if(Ra(n,o.options)&&Ra(r,o.config))return o;throw yo.create("duplicate-app",{appName:s})}const c=new xj(s);for(const h of av.values())c.addComponent(h);const d=new f2(n,r,c);return vf.set(s,d),d}function sm(t=ov){const e=vf.get(t);if(!e&&t===ov&&WS())return KS();if(!e)throw yo.create("no-app",{appName:t});return e}function Rr(t,e,n){let r=u2[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(c.join(" "));return}bo(new Ci(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="firebase-heartbeat-database",p2=1,Vu="firebase-heartbeat-store";let Ng=null;function YS(){return Ng||(Ng=Pj(m2,p2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vu)}catch(n){console.warn(n)}}}}).catch(t=>{throw yo.create("idb-open",{originalErrorMessage:t.message})})),Ng}async function g2(t){try{const n=(await YS()).transaction(Vu),r=await n.objectStore(Vu).get(QS(t));return await n.done,r}catch(e){if(e instanceof ss)Ti.warn(e.message);else{const n=yo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ti.warn(n.message)}}}async function C0(t,e){try{const r=(await YS()).transaction(Vu,"readwrite");await r.objectStore(Vu).put(e,QS(t)),await r.done}catch(n){if(n instanceof ss)Ti.warn(n.message);else{const r=yo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ti.warn(r.message)}}}function QS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=1024,y2=30;class x2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=T0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>y2){const c=E2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ti.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=T0(),{heartbeatsToSend:r,unsentEntries:s}=w2(this._heartbeatsCache.heartbeats),o=gf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ti.warn(n),""}}}function T0(){return new Date().toISOString().substring(0,10)}function w2(t,e=v2){const n=[];let r=t.slice();for(const s of t){const o=n.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),N0(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),N0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aj()?lj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await g2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return C0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return C0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function N0(t){return gf(JSON.stringify({version:2,heartbeats:t})).length}function E2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t){bo(new Ci("platform-logger",e=>new Oj(e),"PRIVATE")),bo(new Ci("heartbeat",e=>new x2(e),"PRIVATE")),Rr(iv,b0,t),Rr(iv,b0,"esm2020"),Rr("fire-js","")}b2("");function XS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S2=XS,JS=new rd("auth","Firebase",XS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new oy("@firebase/auth");function C2(t,...e){yf.logLevel<=lt.WARN&&yf.warn(`Auth (${Fa}): ${t}`,...e)}function Jh(t,...e){yf.logLevel<=lt.ERROR&&yf.error(`Auth (${Fa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t,...e){throw ly(t,...e)}function Ms(t,...e){return ly(t,...e)}function ZS(t,e,n){const r={...S2(),[e]:n};return new rd("auth","Firebase",r).create(e,{appName:t.name})}function xo(t){return ZS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ly(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JS.create(t,...e)}function $e(t,e,...n){if(!t)throw ly(e,...n)}function xi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jh(e),new Error(e)}function Ni(t,e){t||xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function T2(){return I0()==="http:"||I0()==="https:"}function I0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T2()||rj()||"connection"in navigator)?navigator.onLine:!0}function I2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ni(n>e,"Short delay should be less than long delay!"),this.isMobile=ej()||sj()}get(){return N2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t,e){Ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],R2=new od(3e4,6e4);function Ua(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function jo(t,e,n,r,s={}){return tC(t,s,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const d=sd({key:t.config.apiKey,...c}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:h,...o};return nj()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Di(t.emulatorConfig.host)&&(p.credentials="include"),eC.fetch()(await nC(t,t.config.apiHost,n,d),p)})}async function tC(t,e,n){t._canInitEmulator=!1;const r={...k2,...e};try{const s=new j2(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Dh(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Dh(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw Dh(t,"user-disabled",c);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ZS(t,g,p);es(t,g)}}catch(s){if(s instanceof ss)throw s;es(t,"network-request-failed",{message:String(s)})}}async function im(t,e,n,r,s={}){const o=await jo(t,e,n,r,s);return"mfaPendingCredential"in o&&es(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function nC(t,e,n,r){const s=`${e}${n}?${r}`,o=t,c=o.config.emulator?cy(t.config,s):`${t.config.apiScheme}://${s}`;return A2.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function P2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ms(this.auth,"network-request-failed")),R2.get())})}}function Dh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ms(t,e,r);return s.customData._tokenResponse=n,s}function k0(t){return t!==void 0&&t.enterprise!==void 0}class D2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return P2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O2(t,e){return jo(t,"GET","/v2/recaptchaConfig",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(t,e){return jo(t,"POST","/v1/accounts:delete",e)}async function xf(t,e){return jo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L2(t,e=!1){const n=qt(t),r=await n.getIdToken(e),s=uy(r);$e(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Ru(Ig(s.auth_time)),issuedAtTime:Ru(Ig(s.iat)),expirationTime:Ru(Ig(s.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ig(t){return Number(t)*1e3}function uy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const s=zS(n);return s?JSON.parse(s):(Jh("Failed to decode base64 JWT payload"),null)}catch(s){return Jh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function A0(t){const e=uy(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ss&&V2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function V2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ru(this.lastLoginAt),this.creationTime=Ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(t){var v;const e=t.auth,n=await t.getIdToken(),r=await Fu(t,xf(e,{idToken:n}));$e(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(v=s.providerUserInfo)!=null&&v.length?rC(s.providerUserInfo):[],c=z2(t.providerData,o),d=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),p=d?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new cv(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function U2(t){const e=qt(t);await wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z2(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function rC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(t,e){const n=await tC(t,{},async()=>{const r=sd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,c=await nC(t,s,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:r};return t.emulatorConfig&&Di(t.emulatorConfig.host)&&(h.credentials="include"),eC.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W2(t,e){return jo(t,"POST","/v2/accounts:revokeToken",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const n=A0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await B2(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,c=new Ul;return r&&($e(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&($e(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&($e(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ul,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new F2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Fu(this,this.stsTokenManager.getToken(this.auth,e));return $e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return L2(this,e)}reload(){return U2(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(xo(this.auth));const e=await this.getIdToken();return await Fu(this,M2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,h=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:b,providerData:S,stsTokenManager:C}=n;$e(v&&C,e,"internal-error");const N=Ul.fromJSON(this.name,C);$e(typeof v=="string",e,"internal-error"),ao(r,e.name),ao(s,e.name),$e(typeof x=="boolean",e,"internal-error"),$e(typeof b=="boolean",e,"internal-error"),ao(o,e.name),ao(c,e.name),ao(d,e.name),ao(h,e.name),ao(p,e.name),ao(g,e.name);const L=new Kr({uid:v,auth:e,email:s,emailVerified:x,displayName:r,isAnonymous:b,photoURL:c,phoneNumber:o,tenantId:d,stsTokenManager:N,createdAt:p,lastLoginAt:g});return S&&Array.isArray(S)&&(L.providerData=S.map(D=>({...D}))),h&&(L._redirectEventId=h),L}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ul;s.updateFromServerResponse(n);const o=new Kr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await wf(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];$e(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?rC(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),d=new Ul;d.updateFromIdToken(r);const h=new Kr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new cv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=new Map;function wi(t){Ni(t instanceof Function,"Expected a class definition");let e=R0.get(t);return e?(Ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,R0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sC.type="NONE";const P0=sC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t,e,n){return`firebase:${t}:${e}:${n}`}class zl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Zh(this.userKey,s.apiKey,o),this.fullPersistenceKey=Zh("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xf(this.auth,{idToken:e}).catch(()=>{});return n?Kr._fromGetAccountInfoResponse(this.auth,n,e):null}return Kr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zl(wi(P0),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||wi(P0);const c=Zh(r,e.config.apiKey,e.name);let d=null;for(const p of n)try{const g=await p._get(c);if(g){let v;if(typeof g=="string"){const x=await xf(e,{idToken:g}).catch(()=>{});if(!x)break;v=await Kr._fromGetAccountInfoResponse(e,x,g)}else v=Kr._fromJSON(e,g);p!==o&&(d=v),o=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new zl(o,e,r):(o=h[0],d&&await o._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new zl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uC(e))return"Blackberry";if(dC(e))return"Webos";if(oC(e))return"Safari";if((e.includes("chrome/")||aC(e))&&!e.includes("edge/"))return"Chrome";if(cC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iC(t=Mn()){return/firefox\//i.test(t)}function oC(t=Mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aC(t=Mn()){return/crios\//i.test(t)}function lC(t=Mn()){return/iemobile/i.test(t)}function cC(t=Mn()){return/android/i.test(t)}function uC(t=Mn()){return/blackberry/i.test(t)}function dC(t=Mn()){return/webos/i.test(t)}function dy(t=Mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $2(t=Mn()){var e;return dy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function H2(){return ij()&&document.documentMode===10}function hC(t=Mn()){return dy(t)||cC(t)||dC(t)||uC(t)||/windows phone/i.test(t)||lC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t,e=[]){let n;switch(t){case"Browser":n=j0(Mn());break;case"Worker":n=`${j0(Mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,d)=>{try{const h=e(o);c(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(t,e={}){return jo(t,"GET","/v2/passwordPolicy",Ua(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=6;class Y2{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??K2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D0(this),this.idTokenSubscription=new D0(this),this.beforeStateQueue=new q2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wi(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await zl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xf(this,{idToken:e}),r=await Kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(fr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(o=this.redirectUser)==null?void 0:o._redirectEventId,d=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&(h!=null&&h.user)&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=I2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(xo(this));const n=e?qt(e):null;return n&&$e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(xo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(xo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await G2(this),n=new Y2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await W2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wi(e)||this._popupRedirectResolver;$e(n,this,"argument-error"),this.redirectPersistenceManager=await zl.create(this,[wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&C2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function fc(t){return qt(t)}class D0{constructor(e){this.auth=e,this.observer=null,this.addObserver=fj(n=>this.observer=n)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X2(t){om=t}function mC(t){return om.loadJS(t)}function J2(){return om.recaptchaEnterpriseScript}function Z2(){return om.gapiScript}function eD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class tD{constructor(){this.enterprise=new nD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const rD="recaptcha-enterprise",pC="NO_RECAPTCHA";class sD{constructor(e){this.type=rD,this.auth=fc(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{O2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new D2(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(h=>{d(h)})})}function s(o,c,d){const h=window.grecaptcha;k0(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{c(p)}).catch(()=>{c(pC)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tD().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(d=>{if(!n&&k0(window.grecaptcha))s(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=J2();h.length!==0&&(h+=d),mC(h).then(()=>{s(d,o,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function O0(t,e,n,r=!1,s=!1){const o=new sD(t);let c;if(s)c=pC;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function M0(t,e,n,r,s){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await O0(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await O0(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t,e){const n=id(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Ra(o,e??{}))return s;es(s,"already-initialized")}return n.initialize({options:e})}function oD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aD(t,e,n){const r=fc(t);$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=gC(e),{host:c,port:d}=lD(e),h=d===null?"":`:${d}`,p={url:`${o}//${c}${h}/`},g=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){$e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$e(Ra(p,r.config.emulator)&&Ra(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Di(c)?(nm(`${o}//${c}${h}`),rm("Auth",!0)):cD()}function gC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lD(t){const e=gC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:L0(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:L0(c)}}}function L0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,n){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function uD(t,e){return jo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e){return im(t,"POST","/v1/accounts:signInWithPassword",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(t,e){return im(t,"POST","/v1/accounts:signInWithEmailLink",Ua(t,e))}async function fD(t,e){return im(t,"POST","/v1/accounts:signInWithEmailLink",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends hy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Uu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Uu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return M0(e,n,"signInWithPassword",dD);case"emailLink":return hD(e,{email:this._email,oobCode:this._password});default:es(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return M0(e,r,"signUpPassword",uD);case"emailLink":return fD(e,{idToken:n,email:this._email,oobCode:this._password});default:es(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(t,e){return im(t,"POST","/v1/accounts:signInWithIdp",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="http://localhost";class Pa extends hy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const c=new Pa(r,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Bl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bl(e,n)}buildRequest(){const e={requestUri:mD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gD(t){const e=Eu(bu(t)).link,n=e?Eu(bu(e)).deep_link_id:null,r=Eu(bu(t)).deep_link_id;return(r?Eu(bu(r)).link:null)||r||n||e||t}class fy{constructor(e){const n=Eu(bu(e)),r=n.apiKey??null,s=n.oobCode??null,o=pD(n.mode??null);$e(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gD(e);try{return new fy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this.providerId=mc.PROVIDER_ID}static credential(e,n){return Uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=fy.parseLink(n);return $e(r,"argument-error"),Uu._fromEmailAndCode(e,r.code,r.tenantId)}}mc.PROVIDER_ID="password";mc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends vC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends ad{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.FACEBOOK_SIGN_IN_METHOD="facebook.com";ho.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends ad{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pa._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fo.credential(n,r)}catch{return null}}}fo.GOOGLE_SIGN_IN_METHOD="google.com";fo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends ad{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mo.credential(e.oauthAccessToken)}catch{return null}}}mo.GITHUB_SIGN_IN_METHOD="github.com";mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends ad{constructor(){super("twitter.com")}static credential(e,n){return Pa._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return po.credential(n,r)}catch{return null}}}po.TWITTER_SIGN_IN_METHOD="twitter.com";po.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Kr._fromIdTokenResponse(e,r,s),c=V0(r);return new Xl({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=V0(r);return new Xl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function V0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends ss{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,_f.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new _f(e,n,r,s)}}function yC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_f._fromErrorAndOperation(t,o,e,r):o})}async function vD(t,e,n=!1){const r=await Fu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(t,e,n=!1){const{auth:r}=t;if(fr(r.app))return Promise.reject(xo(r));const s="reauthenticate";try{const o=await Fu(t,yC(r,s,e,t),n);$e(o.idToken,r,"internal-error");const c=uy(o.idToken);$e(c,r,"internal-error");const{sub:d}=c;return $e(t.uid===d,r,"user-mismatch"),Xl._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&es(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(t,e,n=!1){if(fr(t.app))return Promise.reject(xo(t));const r="signIn",s=await yC(t,r,e),o=await Xl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function xD(t,e){return xC(fc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t){const e=fc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function _D(t,e,n){return fr(t.app)?Promise.reject(xo(t)):xD(qt(t),mc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wD(t),r})}function ED(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function bD(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function SD(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}function CD(t){return qt(t).signOut()}const Ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ef,"1"),this.storage.removeItem(Ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=1e3,ND=10;class _C extends wC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);H2()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ND):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},TD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_C.type="LOCAL";const ID=_C;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC extends wC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}EC.type="SESSION";const bC=EC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new am(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(c).map(async p=>p(n.origin,o)),h=await kD(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}am.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((d,h)=>{const p=my("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(v){const x=v;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(x.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(){return window}function RD(t){Ls().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(){return typeof Ls().WorkerGlobalScope<"u"&&typeof Ls().importScripts=="function"}async function PD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function DD(){return SC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firebaseLocalStorageDb",OD=1,bf="firebaseLocalStorage",TC="fbase_key";class ld{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lm(t,e){return t.transaction([bf],e?"readwrite":"readonly").objectStore(bf)}function MD(){const t=indexedDB.deleteDatabase(CC);return new ld(t).toPromise()}function uv(){const t=indexedDB.open(CC,OD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bf,{keyPath:TC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bf)?e(r):(r.close(),await MD(),e(await uv()))})})}async function F0(t,e,n){const r=lm(t,!0).put({[TC]:e,value:n});return new ld(r).toPromise()}async function LD(t,e){const n=lm(t,!1).get(e),r=await new ld(n).toPromise();return r===void 0?null:r.value}function U0(t,e){const n=lm(t,!0).delete(e);return new ld(n).toPromise()}const VD=800,FD=3;class NC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>FD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=am._getInstance(DD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await PD(),!this.activeServiceWorker)return;this.sender=new AD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uv();return await F0(e,Ef,"1"),await U0(e,Ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>F0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>LD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>U0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=lm(s,!1).getAll();return new ld(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NC.type="LOCAL";const UD=NC;new od(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t,e){return e?wi(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py extends hy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BD(t){return xC(t.auth,new py(t),t.bypassAuthState)}function WD(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),yD(n,new py(t),t.bypassAuthState)}async function $D(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),vD(n,new py(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BD;case"linkViaPopup":case"linkViaRedirect":return $D;case"reauthViaPopup":case"reauthViaRedirect":return WD;default:es(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=new od(2e3,1e4);class Fl extends IC{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Fl.currentPopupAction&&Fl.currentPopupAction.cancel(),Fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=my();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HD.get())};e()}}Fl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="pendingRedirect",ef=new Map;class GD extends IC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ef.get(this.auth._key());if(!e){try{const r=await KD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ef.set(this.auth._key(),e)}return this.bypassAuthState||ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KD(t,e){const n=XD(e),r=QD(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function YD(t,e){ef.set(t._key(),e)}function QD(t){return wi(t._redirectPersistence)}function XD(t){return Zh(qD,t.config.apiKey,t.name)}async function JD(t,e,n=!1){if(fr(t.app))return Promise.reject(xo(t));const r=fc(t),s=zD(r,e),c=await new GD(r,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=600*1e3;class eO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kC(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ms(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZD&&this.cachedEventUids.clear(),this.cachedEventUids.has(z0(e))}saveEventToCache(e){this.cachedEventUids.add(z0(e)),this.lastProcessedEventTime=Date.now()}}function z0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(t,e={}){return jo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sO=/^https?/;async function iO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nO(t);for(const n of e)try{if(oO(n))return}catch{}es(t,"unauthorized-domain")}function oO(t){const e=lv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!sO.test(n))return!1;if(rO.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=new od(3e4,6e4);function B0(){const t=Ls().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lO(t){return new Promise((e,n)=>{var s,o,c;function r(){B0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B0(),n(Ms(t,"network-request-failed"))},timeout:aO.get()})}if((o=(s=Ls().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((c=Ls().gapi)!=null&&c.load)r();else{const d=eD("iframefcb");return Ls()[d]=()=>{gapi.load?r():n(Ms(t,"network-request-failed"))},mC(`${Z2()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw tf=null,e})}let tf=null;function cO(t){return tf=tf||lO(t),tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=new od(5e3,15e3),dO="__/auth/iframe",hO="emulator/auth/iframe",fO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pO(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cy(e,hO):`https://${t.config.authDomain}/${dO}`,r={apiKey:e.apiKey,appName:t.name,v:Fa},s=mO.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${sd(r).slice(1)}`}async function gO(t){const e=await cO(t),n=Ls().gapi;return $e(n,t,"internal-error"),e.open({where:document.body,url:pO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fO,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const c=Ms(t,"network-request-failed"),d=Ls().setTimeout(()=>{o(c)},uO.get());function h(){Ls().clearTimeout(d),s(r)}r.ping(h).then(h,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yO=500,xO=600,wO="_blank",_O="http://localhost";class W0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EO(t,e,n,r=yO,s=xO){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h={...vO,width:r.toString(),height:s.toString(),top:o,left:c},p=Mn().toLowerCase();n&&(d=aC(p)?wO:n),iC(p)&&(e=e||_O,h.scrollbars="yes");const g=Object.entries(h).reduce((x,[b,S])=>`${x}${b}=${S},`,"");if($2(p)&&d!=="_self")return bO(e||"",d),new W0(null);const v=window.open(e||"",d,g);$e(v,t,"popup-blocked");try{v.focus()}catch{}return new W0(v)}function bO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="__/auth/handler",CO="emulator/auth/handler",TO=encodeURIComponent("fac");async function $0(t,e,n,r,s,o){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fa,eventId:s};if(e instanceof vC){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",hj(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))c[g]=v}if(e instanceof ad){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await t._getAppCheckToken(),p=h?`#${TO}=${encodeURIComponent(h)}`:"";return`${NO(t)}?${sd(d).slice(1)}${p}`}function NO({config:t}){return t.emulator?cy(t,CO):`https://${t.authDomain}/${SO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="webStorageSupport";class IO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bC,this._completeRedirectFn=JD,this._overrideRedirectResult=YD}async _openPopup(e,n,r,s){var c;Ni((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const o=await $0(e,n,r,lv(),s);return EO(e,o,my())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await $0(e,n,r,lv(),s);return RD(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Ni(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await gO(e),r=new eO(e);return n.register("authEvent",s=>($e(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kg,{type:kg},s=>{var c;const o=(c=s==null?void 0:s[0])==null?void 0:c[kg];o!==void 0&&n(!!o),es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hC()||oC()||dy()}}const kO=IO;var H0="@firebase/auth",q0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PO(t){bo(new Ci("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;$e(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fC(t)},p=new Q2(r,s,o,h);return oD(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bo(new Ci("auth-internal",e=>{const n=fc(e.getProvider("auth").getImmediate());return(r=>new AO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(H0,q0,RO(t)),Rr(H0,q0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=300,DO=$S("authIdTokenMaxAge")||jO;let G0=null;const OO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DO)return;const s=n==null?void 0:n.token;G0!==s&&(G0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function MO(t=sm()){const e=id(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iD(t,{popupRedirectResolver:kO,persistence:[UD,ID,bC]}),r=$S("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=OO(o.toString());bD(n,c,()=>c(n.currentUser)),ED(n,d=>c(d))}}const s=BS("auth");return s&&aD(n,`http://${s}`),n}function LO(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}X2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Ms("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",LO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PO("Browser");var VO="firebase",FO="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(VO,FO,"app");var K0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wo,AC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,I){function P(){}P.prototype=I.prototype,A.F=I.prototype,A.prototype=new P,A.prototype.constructor=A,A.D=function(F,U,M){for(var k=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)k[ae-2]=arguments[ae];return I.prototype[U].apply(F,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,I,P){P||(P=0);const F=Array(16);if(typeof I=="string")for(var U=0;U<16;++U)F[U]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(U=0;U<16;++U)F[U]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=A.g[0],P=A.g[1],U=A.g[2];let M=A.g[3],k;k=I+(M^P&(U^M))+F[0]+3614090360&4294967295,I=P+(k<<7&4294967295|k>>>25),k=M+(U^I&(P^U))+F[1]+3905402710&4294967295,M=I+(k<<12&4294967295|k>>>20),k=U+(P^M&(I^P))+F[2]+606105819&4294967295,U=M+(k<<17&4294967295|k>>>15),k=P+(I^U&(M^I))+F[3]+3250441966&4294967295,P=U+(k<<22&4294967295|k>>>10),k=I+(M^P&(U^M))+F[4]+4118548399&4294967295,I=P+(k<<7&4294967295|k>>>25),k=M+(U^I&(P^U))+F[5]+1200080426&4294967295,M=I+(k<<12&4294967295|k>>>20),k=U+(P^M&(I^P))+F[6]+2821735955&4294967295,U=M+(k<<17&4294967295|k>>>15),k=P+(I^U&(M^I))+F[7]+4249261313&4294967295,P=U+(k<<22&4294967295|k>>>10),k=I+(M^P&(U^M))+F[8]+1770035416&4294967295,I=P+(k<<7&4294967295|k>>>25),k=M+(U^I&(P^U))+F[9]+2336552879&4294967295,M=I+(k<<12&4294967295|k>>>20),k=U+(P^M&(I^P))+F[10]+4294925233&4294967295,U=M+(k<<17&4294967295|k>>>15),k=P+(I^U&(M^I))+F[11]+2304563134&4294967295,P=U+(k<<22&4294967295|k>>>10),k=I+(M^P&(U^M))+F[12]+1804603682&4294967295,I=P+(k<<7&4294967295|k>>>25),k=M+(U^I&(P^U))+F[13]+4254626195&4294967295,M=I+(k<<12&4294967295|k>>>20),k=U+(P^M&(I^P))+F[14]+2792965006&4294967295,U=M+(k<<17&4294967295|k>>>15),k=P+(I^U&(M^I))+F[15]+1236535329&4294967295,P=U+(k<<22&4294967295|k>>>10),k=I+(U^M&(P^U))+F[1]+4129170786&4294967295,I=P+(k<<5&4294967295|k>>>27),k=M+(P^U&(I^P))+F[6]+3225465664&4294967295,M=I+(k<<9&4294967295|k>>>23),k=U+(I^P&(M^I))+F[11]+643717713&4294967295,U=M+(k<<14&4294967295|k>>>18),k=P+(M^I&(U^M))+F[0]+3921069994&4294967295,P=U+(k<<20&4294967295|k>>>12),k=I+(U^M&(P^U))+F[5]+3593408605&4294967295,I=P+(k<<5&4294967295|k>>>27),k=M+(P^U&(I^P))+F[10]+38016083&4294967295,M=I+(k<<9&4294967295|k>>>23),k=U+(I^P&(M^I))+F[15]+3634488961&4294967295,U=M+(k<<14&4294967295|k>>>18),k=P+(M^I&(U^M))+F[4]+3889429448&4294967295,P=U+(k<<20&4294967295|k>>>12),k=I+(U^M&(P^U))+F[9]+568446438&4294967295,I=P+(k<<5&4294967295|k>>>27),k=M+(P^U&(I^P))+F[14]+3275163606&4294967295,M=I+(k<<9&4294967295|k>>>23),k=U+(I^P&(M^I))+F[3]+4107603335&4294967295,U=M+(k<<14&4294967295|k>>>18),k=P+(M^I&(U^M))+F[8]+1163531501&4294967295,P=U+(k<<20&4294967295|k>>>12),k=I+(U^M&(P^U))+F[13]+2850285829&4294967295,I=P+(k<<5&4294967295|k>>>27),k=M+(P^U&(I^P))+F[2]+4243563512&4294967295,M=I+(k<<9&4294967295|k>>>23),k=U+(I^P&(M^I))+F[7]+1735328473&4294967295,U=M+(k<<14&4294967295|k>>>18),k=P+(M^I&(U^M))+F[12]+2368359562&4294967295,P=U+(k<<20&4294967295|k>>>12),k=I+(P^U^M)+F[5]+4294588738&4294967295,I=P+(k<<4&4294967295|k>>>28),k=M+(I^P^U)+F[8]+2272392833&4294967295,M=I+(k<<11&4294967295|k>>>21),k=U+(M^I^P)+F[11]+1839030562&4294967295,U=M+(k<<16&4294967295|k>>>16),k=P+(U^M^I)+F[14]+4259657740&4294967295,P=U+(k<<23&4294967295|k>>>9),k=I+(P^U^M)+F[1]+2763975236&4294967295,I=P+(k<<4&4294967295|k>>>28),k=M+(I^P^U)+F[4]+1272893353&4294967295,M=I+(k<<11&4294967295|k>>>21),k=U+(M^I^P)+F[7]+4139469664&4294967295,U=M+(k<<16&4294967295|k>>>16),k=P+(U^M^I)+F[10]+3200236656&4294967295,P=U+(k<<23&4294967295|k>>>9),k=I+(P^U^M)+F[13]+681279174&4294967295,I=P+(k<<4&4294967295|k>>>28),k=M+(I^P^U)+F[0]+3936430074&4294967295,M=I+(k<<11&4294967295|k>>>21),k=U+(M^I^P)+F[3]+3572445317&4294967295,U=M+(k<<16&4294967295|k>>>16),k=P+(U^M^I)+F[6]+76029189&4294967295,P=U+(k<<23&4294967295|k>>>9),k=I+(P^U^M)+F[9]+3654602809&4294967295,I=P+(k<<4&4294967295|k>>>28),k=M+(I^P^U)+F[12]+3873151461&4294967295,M=I+(k<<11&4294967295|k>>>21),k=U+(M^I^P)+F[15]+530742520&4294967295,U=M+(k<<16&4294967295|k>>>16),k=P+(U^M^I)+F[2]+3299628645&4294967295,P=U+(k<<23&4294967295|k>>>9),k=I+(U^(P|~M))+F[0]+4096336452&4294967295,I=P+(k<<6&4294967295|k>>>26),k=M+(P^(I|~U))+F[7]+1126891415&4294967295,M=I+(k<<10&4294967295|k>>>22),k=U+(I^(M|~P))+F[14]+2878612391&4294967295,U=M+(k<<15&4294967295|k>>>17),k=P+(M^(U|~I))+F[5]+4237533241&4294967295,P=U+(k<<21&4294967295|k>>>11),k=I+(U^(P|~M))+F[12]+1700485571&4294967295,I=P+(k<<6&4294967295|k>>>26),k=M+(P^(I|~U))+F[3]+2399980690&4294967295,M=I+(k<<10&4294967295|k>>>22),k=U+(I^(M|~P))+F[10]+4293915773&4294967295,U=M+(k<<15&4294967295|k>>>17),k=P+(M^(U|~I))+F[1]+2240044497&4294967295,P=U+(k<<21&4294967295|k>>>11),k=I+(U^(P|~M))+F[8]+1873313359&4294967295,I=P+(k<<6&4294967295|k>>>26),k=M+(P^(I|~U))+F[15]+4264355552&4294967295,M=I+(k<<10&4294967295|k>>>22),k=U+(I^(M|~P))+F[6]+2734768916&4294967295,U=M+(k<<15&4294967295|k>>>17),k=P+(M^(U|~I))+F[13]+1309151649&4294967295,P=U+(k<<21&4294967295|k>>>11),k=I+(U^(P|~M))+F[4]+4149444226&4294967295,I=P+(k<<6&4294967295|k>>>26),k=M+(P^(I|~U))+F[11]+3174756917&4294967295,M=I+(k<<10&4294967295|k>>>22),k=U+(I^(M|~P))+F[2]+718787259&4294967295,U=M+(k<<15&4294967295|k>>>17),k=P+(M^(U|~I))+F[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+(U+(k<<21&4294967295|k>>>11))&4294967295,A.g[2]=A.g[2]+U&4294967295,A.g[3]=A.g[3]+M&4294967295}r.prototype.v=function(A,I){I===void 0&&(I=A.length);const P=I-this.blockSize,F=this.C;let U=this.h,M=0;for(;M<I;){if(U==0)for(;M<=P;)s(this,A,M),M+=this.blockSize;if(typeof A=="string"){for(;M<I;)if(F[U++]=A.charCodeAt(M++),U==this.blockSize){s(this,F),U=0;break}}else for(;M<I;)if(F[U++]=A[M++],U==this.blockSize){s(this,F),U=0;break}}this.h=U,this.o+=I},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;I=this.o*8;for(var P=A.length-8;P<A.length;++P)A[P]=I&255,I/=256;for(this.v(A),A=Array(16),I=0,P=0;P<4;++P)for(let F=0;F<32;F+=8)A[I++]=this.g[P]>>>F&255;return A};function o(A,I){var P=d;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=I(A)}function c(A,I){this.h=I;const P=[];let F=!0;for(let U=A.length-1;U>=0;U--){const M=A[U]|0;F&&M==I||(P[U]=M,F=!1)}this.g=P}var d={};function h(A){return-128<=A&&A<128?o(A,function(I){return new c([I|0],I<0?-1:0)}):new c([A|0],A<0?-1:0)}function p(A){if(isNaN(A)||!isFinite(A))return v;if(A<0)return N(p(-A));const I=[];let P=1;for(let F=0;A>=P;F++)I[F]=A/P|0,P*=4294967296;return new c(I,0)}function g(A,I){if(A.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(A.charAt(0)=="-")return N(g(A.substring(1),I));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=p(Math.pow(I,8));let F=v;for(let M=0;M<A.length;M+=8){var U=Math.min(8,A.length-M);const k=parseInt(A.substring(M,M+U),I);U<8?(U=p(Math.pow(I,U)),F=F.j(U).add(p(k))):(F=F.j(P),F=F.add(p(k)))}return F}var v=h(0),x=h(1),b=h(16777216);t=c.prototype,t.m=function(){if(C(this))return-N(this).m();let A=0,I=1;for(let P=0;P<this.g.length;P++){const F=this.i(P);A+=(F>=0?F:4294967296+F)*I,I*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S(this))return"0";if(C(this))return"-"+N(this).toString(A);const I=p(Math.pow(A,6));var P=this;let F="";for(;;){const U=B(P,I).g;P=L(P,U.j(I));let M=((P.g.length>0?P.g[0]:P.h)>>>0).toString(A);if(P=U,S(P))return M+F;for(;M.length<6;)M="0"+M;F=M+F}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function S(A){if(A.h!=0)return!1;for(let I=0;I<A.g.length;I++)if(A.g[I]!=0)return!1;return!0}function C(A){return A.h==-1}t.l=function(A){return A=L(this,A),C(A)?-1:S(A)?0:1};function N(A){const I=A.g.length,P=[];for(let F=0;F<I;F++)P[F]=~A.g[F];return new c(P,~A.h).add(x)}t.abs=function(){return C(this)?N(this):this},t.add=function(A){const I=Math.max(this.g.length,A.g.length),P=[];let F=0;for(let U=0;U<=I;U++){let M=F+(this.i(U)&65535)+(A.i(U)&65535),k=(M>>>16)+(this.i(U)>>>16)+(A.i(U)>>>16);F=k>>>16,M&=65535,k&=65535,P[U]=k<<16|M}return new c(P,P[P.length-1]&-2147483648?-1:0)};function L(A,I){return A.add(N(I))}t.j=function(A){if(S(this)||S(A))return v;if(C(this))return C(A)?N(this).j(N(A)):N(N(this).j(A));if(C(A))return N(this.j(N(A)));if(this.l(b)<0&&A.l(b)<0)return p(this.m()*A.m());const I=this.g.length+A.g.length,P=[];for(var F=0;F<2*I;F++)P[F]=0;for(F=0;F<this.g.length;F++)for(let U=0;U<A.g.length;U++){const M=this.i(F)>>>16,k=this.i(F)&65535,ae=A.i(U)>>>16,ge=A.i(U)&65535;P[2*F+2*U]+=k*ge,D(P,2*F+2*U),P[2*F+2*U+1]+=M*ge,D(P,2*F+2*U+1),P[2*F+2*U+1]+=k*ae,D(P,2*F+2*U+1),P[2*F+2*U+2]+=M*ae,D(P,2*F+2*U+2)}for(A=0;A<I;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=I;A<2*I;A++)P[A]=0;return new c(P,0)};function D(A,I){for(;(A[I]&65535)!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function j(A,I){this.g=A,this.h=I}function B(A,I){if(S(I))throw Error("division by zero");if(S(A))return new j(v,v);if(C(A))return I=B(N(A),I),new j(N(I.g),N(I.h));if(C(I))return I=B(A,N(I)),new j(N(I.g),I.h);if(A.g.length>30){if(C(A)||C(I))throw Error("slowDivide_ only works with positive integers.");for(var P=x,F=I;F.l(A)<=0;)P=O(P),F=O(F);var U=$(P,1),M=$(F,1);for(F=$(F,2),P=$(P,2);!S(F);){var k=M.add(F);k.l(A)<=0&&(U=U.add(P),M=k),F=$(F,1),P=$(P,1)}return I=L(A,U.j(I)),new j(U,I)}for(U=v;A.l(I)>=0;){for(P=Math.max(1,Math.floor(A.m()/I.m())),F=Math.ceil(Math.log(P)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),M=p(P),k=M.j(I);C(k)||k.l(A)>0;)P-=F,M=p(P),k=M.j(I);S(M)&&(M=x),U=U.add(M),A=L(A,k)}return new j(U,A)}t.B=function(A){return B(this,A).h},t.and=function(A){const I=Math.max(this.g.length,A.g.length),P=[];for(let F=0;F<I;F++)P[F]=this.i(F)&A.i(F);return new c(P,this.h&A.h)},t.or=function(A){const I=Math.max(this.g.length,A.g.length),P=[];for(let F=0;F<I;F++)P[F]=this.i(F)|A.i(F);return new c(P,this.h|A.h)},t.xor=function(A){const I=Math.max(this.g.length,A.g.length),P=[];for(let F=0;F<I;F++)P[F]=this.i(F)^A.i(F);return new c(P,this.h^A.h)};function O(A){const I=A.g.length+1,P=[];for(let F=0;F<I;F++)P[F]=A.i(F)<<1|A.i(F-1)>>>31;return new c(P,A.h)}function $(A,I){const P=I>>5;I%=32;const F=A.g.length-P,U=[];for(let M=0;M<F;M++)U[M]=I>0?A.i(M+P)>>>I|A.i(M+P+1)<<32-I:A.i(M+P);return new c(U,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,AC=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=g,wo=c}).apply(typeof K0<"u"?K0:typeof self<"u"?self:typeof window<"u"?window:{});var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RC,Su,PC,nf,dv,jC,DC,OC;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oh=="object"&&Oh];for(var E=0;E<f.length;++E){var T=f[E];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(f,E){if(E)e:{var T=r;f=f.split(".");for(var V=0;V<f.length-1;V++){var X=f[V];if(!(X in T))break e;T=T[X]}f=f[f.length-1],V=T[f],E=E(V),E!=V&&E!=null&&e(T,f,{configurable:!0,writable:!0,value:E})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(E){var T=[],V;for(V in E)Object.prototype.hasOwnProperty.call(E,V)&&T.push([V,E[V]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function d(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function h(f,E,T){return f.call.apply(f.bind,arguments)}function p(f,E,T){return p=h,p.apply(null,arguments)}function g(f,E){var T=Array.prototype.slice.call(arguments,1);return function(){var V=T.slice();return V.push.apply(V,arguments),f.apply(this,V)}}function v(f,E){function T(){}T.prototype=E.prototype,f.Z=E.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(V,X,ee){for(var me=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)me[Qe-2]=arguments[Qe];return E.prototype[X].apply(V,me)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function b(f){const E=f.length;if(E>0){const T=Array(E);for(let V=0;V<E;V++)T[V]=f[V];return T}return[]}function S(f,E){for(let V=1;V<arguments.length;V++){const X=arguments[V];var T=typeof X;if(T=T!="object"?T:X?Array.isArray(X)?"array":T:"null",T=="array"||T=="object"&&typeof X.length=="number"){T=f.length||0;const ee=X.length||0;f.length=T+ee;for(let me=0;me<ee;me++)f[T+me]=X[me]}else f.push(X)}}class C{constructor(E,T){this.i=E,this.j=T,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function N(f){c.setTimeout(()=>{throw f},0)}function L(){var f=A;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class D{constructor(){this.h=this.g=null}add(E,T){const V=j.get();V.set(E,T),this.h?this.h.next=V:this.g=V,this.h=V}}var j=new C(()=>new B,f=>f.reset());class B{constructor(){this.next=this.g=this.h=null}set(E,T){this.h=E,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let O,$=!1,A=new D,I=()=>{const f=Promise.resolve(void 0);O=()=>{f.then(P)}};function P(){for(var f;f=L();){try{f.h.call(f.g)}catch(T){N(T)}var E=j;E.j(f),E.h<100&&(E.h++,f.next=E.g,E.g=f)}$=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,E),c.removeEventListener("test",T,E)}catch{}return f})();function k(f){return/^[\s\xa0]*$/.test(f)}function ae(f,E){U.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,E)}v(ae,U),ae.prototype.init=function(f,E){const T=this.type=f.type,V=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget,E||(T=="mouseover"?E=f.fromElement:T=="mouseout"&&(E=f.toElement)),this.relatedTarget=E,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),pe=0;function ye(f,E,T,V,X){this.listener=f,this.proxy=null,this.src=E,this.type=T,this.capture=!!V,this.ha=X,this.key=++pe,this.da=this.fa=!1}function z(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function K(f,E,T){for(const V in f)E.call(T,f[V],V,f)}function Y(f,E){for(const T in f)E.call(void 0,f[T],T,f)}function H(f){const E={};for(const T in f)E[T]=f[T];return E}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(f,E){let T,V;for(let X=1;X<arguments.length;X++){V=arguments[X];for(T in V)f[T]=V[T];for(let ee=0;ee<te.length;ee++)T=te[ee],Object.prototype.hasOwnProperty.call(V,T)&&(f[T]=V[T])}}function xe(f){this.src=f,this.g={},this.h=0}xe.prototype.add=function(f,E,T,V,X){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const me=De(f,E,V,X);return me>-1?(E=f[me],T||(E.fa=!1)):(E=new ye(E,this.src,ee,!!V,X),E.fa=T,f.push(E)),E};function Oe(f,E){const T=E.type;if(T in f.g){var V=f.g[T],X=Array.prototype.indexOf.call(V,E,void 0),ee;(ee=X>=0)&&Array.prototype.splice.call(V,X,1),ee&&(z(E),f.g[T].length==0&&(delete f.g[T],f.h--))}}function De(f,E,T,V){for(let X=0;X<f.length;++X){const ee=f[X];if(!ee.da&&ee.listener==E&&ee.capture==!!T&&ee.ha==V)return X}return-1}var oe="closure_lm_"+(Math.random()*1e6|0),Ee={};function Re(f,E,T,V,X){if(Array.isArray(E)){for(let ee=0;ee<E.length;ee++)Re(f,E[ee],T,V,X);return null}return T=Tt(T),f&&f[ge]?f.J(E,T,d(V)?!!V.capture:!1,X):Ue(f,E,T,!1,V,X)}function Ue(f,E,T,V,X,ee){if(!E)throw Error("Invalid event type");const me=d(X)?!!X.capture:!!X;let Qe=fe(f);if(Qe||(f[oe]=Qe=new xe(f)),T=Qe.add(E,T,V,me,ee),T.proxy)return T;if(V=Je(),T.proxy=V,V.src=f,V.listener=T,f.addEventListener)M||(X=me),X===void 0&&(X=!1),f.addEventListener(E.toString(),V,X);else if(f.attachEvent)f.attachEvent($t(E.toString()),V);else if(f.addListener&&f.removeListener)f.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Je(){function f(T){return E.call(f.src,f.listener,T)}const E=Bn;return f}function Ze(f,E,T,V,X){if(Array.isArray(E))for(var ee=0;ee<E.length;ee++)Ze(f,E[ee],T,V,X);else V=d(V)?!!V.capture:!!V,T=Tt(T),f&&f[ge]?(f=f.i,ee=String(E).toString(),ee in f.g&&(E=f.g[ee],T=De(E,T,V,X),T>-1&&(z(E[T]),Array.prototype.splice.call(E,T,1),E.length==0&&(delete f.g[ee],f.h--)))):f&&(f=fe(f))&&(E=f.g[E.toString()],f=-1,E&&(f=De(E,T,V,X)),(T=f>-1?E[f]:null)&&It(T))}function It(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[ge])Oe(E.i,f);else{var T=f.type,V=f.proxy;E.removeEventListener?E.removeEventListener(T,V,f.capture):E.detachEvent?E.detachEvent($t(T),V):E.addListener&&E.removeListener&&E.removeListener(V),(T=fe(E))?(Oe(T,f),T.h==0&&(T.src=null,E[oe]=null)):z(f)}}}function $t(f){return f in Ee?Ee[f]:Ee[f]="on"+f}function Bn(f,E){if(f.da)f=!0;else{E=new ae(E,this);const T=f.listener,V=f.ha||f.src;f.fa&&It(f),f=T.call(V,E)}return f}function fe(f){return f=f[oe],f instanceof xe?f:null}var Pe="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tt(f){return typeof f=="function"?f:(f[Pe]||(f[Pe]=function(E){return f.handleEvent(E)}),f[Pe])}function Ke(){F.call(this),this.i=new xe(this),this.M=this,this.G=null}v(Ke,F),Ke.prototype[ge]=!0,Ke.prototype.removeEventListener=function(f,E,T,V){Ze(this,f,E,T,V)};function tt(f,E){var T,V=f.G;if(V)for(T=[];V;V=V.G)T.push(V);if(f=f.M,V=E.type||E,typeof E=="string")E=new U(E,f);else if(E instanceof U)E.target=E.target||f;else{var X=E;E=new U(V,f),ve(E,X)}X=!0;let ee,me;if(T)for(me=T.length-1;me>=0;me--)ee=E.g=T[me],X=Vt(ee,V,!0,E)&&X;if(ee=E.g=f,X=Vt(ee,V,!0,E)&&X,X=Vt(ee,V,!1,E)&&X,T)for(me=0;me<T.length;me++)ee=E.g=T[me],X=Vt(ee,V,!1,E)&&X}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var f=this.i;for(const E in f.g){const T=f.g[E];for(let V=0;V<T.length;V++)z(T[V]);delete f.g[E],f.h--}}this.G=null},Ke.prototype.J=function(f,E,T,V){return this.i.add(String(f),E,!1,T,V)},Ke.prototype.K=function(f,E,T,V){return this.i.add(String(f),E,!0,T,V)};function Vt(f,E,T,V){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();let X=!0;for(let ee=0;ee<E.length;++ee){const me=E[ee];if(me&&!me.da&&me.capture==T){const Qe=me.listener,Gt=me.ha||me.src;me.fa&&Oe(f.i,me),X=Qe.call(Gt,V)!==!1&&X}}return X&&!V.defaultPrevented}function nn(f,E){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:c.setTimeout(f,E||0)}function Cn(f){f.g=nn(()=>{f.g=null,f.i&&(f.i=!1,Cn(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class Qt extends F{constructor(E,T){super(),this.m=E,this.l=T,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Cn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function er(f){F.call(this),this.h=f,this.g={}}v(er,F);var os=[];function Vi(f){K(f.g,function(E,T){this.g.hasOwnProperty(T)&&It(E)},f),f.g={}}er.prototype.N=function(){er.Z.N.call(this),Vi(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=c.JSON.stringify,$a=c.JSON.parse,ei=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function ls(){}function Ha(){}var cs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fi(){U.call(this,"d")}v(Fi,U);function ea(){U.call(this,"c")}v(ea,U);var Wn={},Ui=null;function Mr(){return Ui=Ui||new Ke}Wn.Ia="serverreachability";function Ye(f){U.call(this,Wn.Ia,f)}v(Ye,U);function ht(f){const E=Mr();tt(E,new Ye(E))}Wn.STAT_EVENT="statevent";function nt(f,E){U.call(this,Wn.STAT_EVENT,f),this.stat=E}v(nt,U);function vt(f){const E=Mr();tt(E,new nt(E,f))}Wn.Ja="timingevent";function gn(f,E){U.call(this,Wn.Ja,f),this.size=E}v(gn,U);function tr(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},E)}function At(){this.g=!0}At.prototype.ua=function(){this.g=!1};function Ln(f,E,T,V,X,ee){f.info(function(){if(f.g)if(ee){var me="",Qe=ee.split("&");for(let _t=0;_t<Qe.length;_t++){var Gt=Qe[_t].split("=");if(Gt.length>1){const Xt=Gt[0];Gt=Gt[1];const ar=Xt.split("_");me=ar.length>=2&&ar[1]=="type"?me+(Xt+"="+Gt+"&"):me+(Xt+"=redacted&")}}}else me=null;else me=ee;return"XMLHTTP REQ ("+V+") [attempt "+X+"]: "+E+`
`+T+`
`+me})}function ft(f,E,T,V,X,ee,me){f.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+X+"]: "+E+`
`+T+`
`+ee+" "+me})}function yr(f,E,T,V){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+ti(f,T)+(V?" "+V:"")})}function qa(f,E){f.info(function(){return"TIMEOUT: "+E})}At.prototype.info=function(){};function ti(f,E){if(!f.g)return E;if(!E)return null;try{const ee=JSON.parse(E);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var T=ee[f];if(!(T.length<2)){var V=T[1];if(Array.isArray(V)&&!(V.length<1)){var X=V[0];if(X!="noop"&&X!="stop"&&X!="close")for(let me=1;me<V.length;me++)V[me]=""}}}}return as(ee)}catch{return E}}var xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sd;function ni(){}v(ni,ls),ni.prototype.g=function(){return new XMLHttpRequest},Sd=new ni;function us(f){return encodeURIComponent(String(f))}function Ga(f){var E=1;f=f.split(":");const T=[];for(;E>0&&f.length;)T.push(f.shift()),E--;return f.length&&T.push(f.join(":")),T}function _r(f,E,T,V){this.j=f,this.i=E,this.l=T,this.S=V||1,this.V=new er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Cd}function Cd(){this.i=null,this.g="",this.h=!1}var Td={},Rc={};function Lr(f,E,T){f.M=1,f.A=si(Er(E)),f.u=T,f.R=!0,Pc(f,null)}function Pc(f,E){f.F=Date.now(),ta(f),f.B=Er(f.A);var T=f.B,V=f.S;Array.isArray(V)||(V=[String(V)]),Bc(T.i,"t",V),f.C=0,T=f.j.L,f.h=new Cd,f.g=Md(f.j,T?E:null,!f.u),f.P>0&&(f.O=new Qt(p(f.Y,f,f.g),f.P)),E=f.V,T=f.g,V=f.ba;var X="readystatechange";Array.isArray(X)||(X&&(os[0]=X.toString()),X=os);for(let ee=0;ee<X.length;ee++){const me=Re(T,X[ee],V||E.handleEvent,!1,E.h||E);if(!me)break;E.g[me.key]=me}E=f.J?H(f.J):{},f.u?(f.v||(f.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,E)):(f.v="GET",f.g.ea(f.B,f.v,null,E)),ht(),Ln(f.i,f.v,f.B,f.l,f.S,f.u)}_r.prototype.ba=function(f){f=f.target;const E=this.O;E&&vs(f)==3?E.j():this.Y(f)},_r.prototype.Y=function(f){try{if(f==this.g)e:{const Qe=vs(this.g),Gt=this.g.ya(),_t=this.g.ca();if(!(Qe<3)&&(Qe!=3||this.g&&(this.h.h||this.g.la()||Dd(this.g)))){this.K||Qe!=4||Gt==7||(Gt==8||_t<=0?ht(3):ht(2)),Ka(this);var E=this.g.ca();this.X=E;var T=Nd(this);if(this.o=E==200,ft(this.i,this.v,this.B,this.l,this.S,Qe,E),this.o){if(this.U&&!this.L){t:{if(this.g){var V,X=this.g;if((V=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(V)){var ee=V;break t}}ee=null}if(f=ee)yr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Rt(this,f);else{this.o=!1,this.m=3,vt(12),ri(this),na(this);break e}}if(this.R){f=!0;let Xt;for(;!this.K&&this.C<T.length;)if(Xt=kd(this,T),Xt==Rc){Qe==4&&(this.m=4,vt(14),f=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Td){this.m=4,vt(15),yr(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else yr(this.i,this.l,Xt,null),Rt(this,Xt);if(Id(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||T.length!=0||this.h.h||(this.m=1,vt(16),f=!1),this.o=this.o&&f,!f)yr(this.i,this.l,T,"[Invalid Chunked Response]"),ri(this),na(this);else if(T.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),da(me),me.P=!0,vt(11))}}else yr(this.i,this.l,T,null),Rt(this,T);Qe==4&&ri(this),this.o&&!this.K&&(Qe==4?sl(this.j,this):(this.o=!1,ta(this)))}else $c(this.g),E==400&&T.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),ri(this),na(this)}}}catch{}finally{}};function Nd(f){if(!Id(f))return f.g.la();const E=Dd(f.g);if(E==="")return"";let T="";const V=E.length,X=vs(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ri(f),na(f),"";f.h.i=new c.TextDecoder}for(let ee=0;ee<V;ee++)f.h.h=!0,T+=f.h.i.decode(E[ee],{stream:!(X&&ee==V-1)});return E.length=0,f.h.g+=T,f.C=0,f.h.g}function Id(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function kd(f,E){var T=f.C,V=E.indexOf(`
`,T);return V==-1?Rc:(T=Number(E.substring(T,V)),isNaN(T)?Td:(V+=1,V+T>E.length?Rc:(E=E.slice(V,V+T),f.C=V+T,E)))}_r.prototype.cancel=function(){this.K=!0,ri(this)};function ta(f){f.T=Date.now()+f.H,jc(f,f.H)}function jc(f,E){if(f.D!=null)throw Error("WatchDog timer not null");f.D=tr(p(f.aa,f),E)}function Ka(f){f.D&&(c.clearTimeout(f.D),f.D=null)}_r.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(qa(this.i,this.B),this.M!=2&&(ht(),vt(17)),ri(this),this.m=2,na(this)):jc(this,this.T-f)};function na(f){f.j.I==0||f.K||sl(f.j,f)}function ri(f){Ka(f);var E=f.O;E&&typeof E.dispose=="function"&&E.dispose(),f.O=null,Vi(f.V),f.g&&(E=f.g,f.g=null,E.abort(),E.dispose())}function Rt(f,E){try{var T=f.j;if(T.I!=0&&(T.g==f||Oc(T.h,f))){if(!f.L&&Oc(T.h,f)&&T.I==3){try{var V=T.Ba.g.parse(E)}catch{V=null}if(Array.isArray(V)&&V.length==3){var X=V;if(X[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)rl(T),ir(T);else break e;ws(T),vt(18)}}else T.xa=X[1],0<T.xa-T.K&&X[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=tr(p(T.Va,T),6e3));ra(T.h)<=1&&T.ta&&(T.ta=void 0)}else or(T,11)}else if((f.L||T.g==f)&&rl(T),!k(E))for(X=T.Ba.g.parse(E),E=0;E<X.length;E++){let _t=X[E];const Xt=_t[0];if(!(Xt<=T.K))if(T.K=Xt,_t=_t[1],T.I==2)if(_t[0]=="c"){T.M=_t[1],T.ba=_t[2];const ar=_t[3];ar!=null&&(T.ka=ar,T.j.info("VER="+T.ka));const ci=_t[4];ci!=null&&(T.za=ci,T.j.info("SVER="+T.za));const _s=_t[5];_s!=null&&typeof _s=="number"&&_s>0&&(V=1.5*_s,T.O=V,T.j.info("backChannelRequestTimeoutMs_="+V)),V=T;const Es=f.g;if(Es){const al=Es.g?Es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(al){var ee=V.h;ee.g||al.indexOf("spdy")==-1&&al.indexOf("quic")==-1&&al.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Qa(ee,ee.h),ee.h=null))}if(V.G){const Gc=Es.g?Es.g.getResponseHeader("X-HTTP-Session-Id"):null;Gc&&(V.wa=Gc,yt(V.J,V.G,Gc))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),V=T;var me=f;if(V.na=qc(V,V.L?V.ba:null,V.W),me.L){sa(V.h,me);var Qe=me,Gt=V.O;Gt&&(Qe.H=Gt),Qe.D&&(Ka(Qe),ta(Qe)),V.g=me}else Tn(V);T.i.length>0&&li(T)}else _t[0]!="stop"&&_t[0]!="close"||or(T,7);else T.I==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?or(T,7):tl(T):_t[0]!="noop"&&T.l&&T.l.qa(_t),T.A=0)}}ht(4)}catch{}}var qm=class{constructor(f,E){this.g=f,this.map=E}};function Ya(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ra(f){return f.h?1:f.g?f.g.size:0}function Oc(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function Qa(f,E){f.g?f.g.add(E):f.h=E}function sa(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}Ya.prototype.cancel=function(){if(this.i=nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function nr(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const T of f.g.values())E=E.concat(T.G);return E}return b(f.i)}var Ad=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rr(f,E){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const V=f[T].indexOf("=");let X,ee=null;V>=0?(X=f[T].substring(0,V),ee=f[T].substring(V+1)):X=f[T],E(X,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function ds(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;f instanceof ds?(this.l=f.l,ia(this,f.j),this.o=f.o,this.g=f.g,hs(this,f.u),this.h=f.h,zi(this,Wc(f.i)),this.m=f.m):f&&(E=String(f).match(Ad))?(this.l=!1,ia(this,E[1]||"",!0),this.o=oa(E[2]||""),this.g=oa(E[3]||"",!0),hs(this,E[4]),this.h=oa(E[5]||"",!0),zi(this,E[6]||"",!0),this.m=oa(E[7]||"")):(this.l=!1,this.i=new dt(null,this.l))}ds.prototype.toString=function(){const f=[];var E=this.j;E&&f.push(aa(E,Lc,!0),":");var T=this.g;return(T||E=="file")&&(f.push("//"),(E=this.o)&&f.push(aa(E,Lc,!0),"@"),f.push(us(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(aa(T,T.charAt(0)=="/"?la:Vc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",aa(T,Fc)),f.join("")},ds.prototype.resolve=function(f){const E=Er(this);let T=!!f.j;T?ia(E,f.j):T=!!f.o,T?E.o=f.o:T=!!f.g,T?E.g=f.g:T=f.u!=null;var V=f.h;if(T)hs(E,f.u);else if(T=!!f.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var X=E.h.lastIndexOf("/");X!=-1&&(V=E.h.slice(0,X+1)+V)}if(X=V,X==".."||X==".")V="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){V=X.lastIndexOf("/",0)==0,X=X.split("/");const ee=[];for(let me=0;me<X.length;){const Qe=X[me++];Qe=="."?V&&me==X.length&&ee.push(""):Qe==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),V&&me==X.length&&ee.push("")):(ee.push(Qe),V=!0)}V=ee.join("/")}else V=X}return T?E.h=V:T=f.i.toString()!=="",T?zi(E,Wc(f.i)):T=!!f.m,T&&(E.m=f.m),E};function Er(f){return new ds(f)}function ia(f,E,T){f.j=T?oa(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function hs(f,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);f.u=E}else f.u=null}function zi(f,E,T){E instanceof dt?(f.i=E,Ja(f.i,f.l)):(T||(E=aa(E,Gm)),f.i=new dt(E,f.l))}function yt(f,E,T){f.i.set(E,T)}function si(f){return yt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function oa(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function aa(f,E,T){return typeof f=="string"?(f=encodeURI(f).replace(E,Mc),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Mc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Lc=/[#\/\?@]/g,Vc=/[#\?:]/g,la=/[#\?]/g,Gm=/[#\?@]/g,Fc=/#/g;function dt(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function fs(f){f.g||(f.g=new Map,f.h=0,f.i&&rr(f.i,function(E,T){f.add(decodeURIComponent(E.replace(/\+/g," ")),T)}))}t=dt.prototype,t.add=function(f,E){fs(this),this.i=null,f=ms(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(E),this.h+=1,this};function Uc(f,E){fs(f),E=ms(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function Xa(f,E){return fs(f),E=ms(f,E),f.g.has(E)}t.forEach=function(f,E){fs(this),this.g.forEach(function(T,V){T.forEach(function(X){f.call(E,X,V,this)},this)},this)};function zc(f,E){fs(f);let T=[];if(typeof E=="string")Xa(f,E)&&(T=T.concat(f.g.get(ms(f,E))));else for(f=Array.from(f.g.values()),E=0;E<f.length;E++)T=T.concat(f[E]);return T}t.set=function(f,E){return fs(this),this.i=null,f=ms(this,f),Xa(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},t.get=function(f,E){return f?(f=zc(this,f),f.length>0?String(f[0]):E):E};function Bc(f,E,T){Uc(f,E),T.length>0&&(f.i=null,f.g.set(ms(f,E),b(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(let V=0;V<E.length;V++){var T=E[V];const X=us(T);T=zc(this,T);for(let ee=0;ee<T.length;ee++){let me=X;T[ee]!==""&&(me+="="+us(T[ee])),f.push(me)}}return this.i=f.join("&")};function Wc(f){const E=new dt;return E.i=f.i,f.g&&(E.g=new Map(f.g),E.h=f.h),E}function ms(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function Ja(f,E){E&&!f.j&&(fs(f),f.i=null,f.g.forEach(function(T,V){const X=V.toLowerCase();V!=X&&(Uc(this,V),Bc(this,X,T))},f)),f.j=E}function ps(f,E){const T=new At;if(c.Image){const V=new Image;V.onload=g(vn,T,"TestLoadImage: loaded",!0,E,V),V.onerror=g(vn,T,"TestLoadImage: error",!1,E,V),V.onabort=g(vn,T,"TestLoadImage: abort",!1,E,V),V.ontimeout=g(vn,T,"TestLoadImage: timeout",!1,E,V),c.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=f}else E(!1)}function gs(f,E){const T=new At,V=new AbortController,X=setTimeout(()=>{V.abort(),vn(T,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:V.signal}).then(ee=>{clearTimeout(X),ee.ok?vn(T,"TestPingServer: ok",!0,E):vn(T,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(X),vn(T,"TestPingServer: error",!1,E)})}function vn(f,E,T,V,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),V(T)}catch{}}function ca(){this.g=new ei}function ii(f){this.i=f.Sb||null,this.h=f.ab||!1}v(ii,ls),ii.prototype.g=function(){return new sr(this.i,this.h)};function sr(f,E){Ke.call(this),this.H=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(sr,Ke),t=sr.prototype,t.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=E,this.readyState=1,Vr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(E.body=f),(this.H||c).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Bi(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Vr(this)),this.g&&(this.readyState=3,Vr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rd(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rd(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?Bi(this):Vr(this),this.readyState==3&&Rd(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Bi(this))},t.Na=function(f){this.g&&(this.response=f,Bi(this))},t.ga=function(){this.g&&Bi(this)};function Bi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Vr(f)}t.setRequestHeader=function(f,E){this.A.append(f,E)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var T=E.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=E.next();return f.join(`\r
`)};function Vr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Pd(f){let E="";return K(f,function(T,V){E+=V,E+=":",E+=T,E+=`\r
`}),E}function Za(f,E,T){e:{for(V in T){var V=!1;break e}V=!0}V||(T=Pd(T),typeof f=="string"?T!=null&&us(T):yt(f,E,T))}function Nt(f){Ke.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Nt,Ke);var jd=/^https?$/i,Km=["POST","PUT"];t=Nt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,E,T,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sd.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(ee){Wi(this,ee);return}if(f=T||"",T=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var X in V)T.set(X,V[X]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ee of V.keys())T.set(ee,V.get(ee));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(T.keys()).find(ee=>ee.toLowerCase()=="content-type"),X=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Km,E,void 0)>=0)||V||X||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,me]of T)this.g.setRequestHeader(ee,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){Wi(this,ee)}};function Wi(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.o=5,$i(f),ai(f)}function $i(f){f.A||(f.A=!0,tt(f,"complete"),tt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,tt(this,"complete"),tt(this,"abort"),ai(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),Nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?oi(this):this.Xa())},t.Xa=function(){oi(this)};function oi(f){if(f.h&&typeof o<"u"){if(f.v&&vs(f)==4)setTimeout(f.Ca.bind(f),0);else if(tt(f,"readystatechange"),vs(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var T;if(!(T=E)){var V;if(V=ee===0){let me=String(f.D).match(Ad)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),V=!jd.test(me?me.toLowerCase():"")}T=V}if(T)tt(f,"complete"),tt(f,"success");else{f.o=6;try{var X=vs(f)>2?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.ca()+"]",$i(f)}}finally{ai(f)}}}}function ai(f,E){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,E||tt(f,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function vs(f){return f.g?f.g.readyState:0}t.ca=function(){try{return vs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),$a(E)}};function Dd(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function $c(f){const E={};f=(f.g&&vs(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<f.length;V++){if(k(f[V]))continue;var T=Ga(f[V]);const X=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ee=E[X]||[];E[X]=ee,ee.push(T)}Y(E,function(V){return V.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(f,E,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||E}function el(f){this.za=0,this.i=[],this.j=new At,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ys("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ys("baseRetryDelayMs",5e3,f),this.Za=ys("retryDelaySeedMs",1e4,f),this.Ta=ys("forwardChannelMaxRetries",2,f),this.va=ys("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Ya(f&&f.concurrentRequestLimit),this.Ba=new ca,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=el.prototype,t.ka=8,t.I=1,t.connect=function(f,E,T,V){vt(0),this.W=f,this.H=E||{},T&&V!==void 0&&(this.H.OSID=T,this.H.OAID=V),this.F=this.X,this.J=qc(this,null,this.W),li(this)};function tl(f){if(nl(f),f.I==3){var E=f.V++,T=Er(f.J);if(yt(T,"SID",f.M),yt(T,"RID",E),yt(T,"TYPE","terminate"),xs(f,T),E=new _r(f,f.j,E),E.M=2,E.A=si(Er(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(E.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=E.A,T=!0),T||(E.g=Md(E.j,null),E.g.ea(E.A)),E.F=Date.now(),ta(E)}ha(f)}function ir(f){f.g&&(da(f),f.g.cancel(),f.g=null)}function nl(f){ir(f),f.v&&(c.clearTimeout(f.v),f.v=null),rl(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function li(f){if(!Dc(f.h)&&!f.m){f.m=!0;var E=f.Ea;O||I(),$||(O(),$=!0),A.add(E,f),f.D=0}}function Od(f,E){return ra(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=E.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=tr(p(f.Ea,f,E),il(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const X=new _r(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=H(ee),ve(ee,this.U)):ee=this.U),this.u!==null||this.R||(X.J=ee,ee=null),this.S)e:{for(var E=0,T=0;T<this.i.length;T++){t:{var V=this.i[T];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(E+=V,E>4096){E=T;break e}if(E===4096||T===this.i.length-1){E=T+1;break e}}E=1e3}else E=1e3;E=Hc(this,X,E),T=Er(this.J),yt(T,"RID",f),yt(T,"CVER",22),this.G&&yt(T,"X-HTTP-Session-Id",this.G),xs(this,T),ee&&(this.R?E="headers="+us(Pd(ee))+"&"+E:this.u&&Za(T,this.u,ee)),Qa(this.h,X),this.Ra&&yt(T,"TYPE","init"),this.S?(yt(T,"$req",E),yt(T,"SID","null"),X.U=!0,Lr(X,T,null)):Lr(X,T,E),this.I=2}}else this.I==3&&(f?ua(this,f):this.i.length==0||Dc(this.h)||ua(this))};function ua(f,E){var T;E?T=E.l:T=f.V++;const V=Er(f.J);yt(V,"SID",f.M),yt(V,"RID",T),yt(V,"AID",f.K),xs(f,V),f.u&&f.o&&Za(V,f.u,f.o),T=new _r(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),E&&(f.i=E.G.concat(f.i)),E=Hc(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Qa(f.h,T),Lr(T,V,E)}function xs(f,E){f.H&&K(f.H,function(T,V){yt(E,V,T)}),f.l&&K({},function(T,V){yt(E,V,T)})}function Hc(f,E,T){T=Math.min(f.i.length,T);const V=f.l?p(f.l.Ka,f.l,f):null;e:{var X=f.i;let Qe=-1;for(;;){const Gt=["count="+T];Qe==-1?T>0?(Qe=X[0].g,Gt.push("ofs="+Qe)):Qe=0:Gt.push("ofs="+Qe);let _t=!0;for(let Xt=0;Xt<T;Xt++){var ee=X[Xt].g;const ar=X[Xt].map;if(ee-=Qe,ee<0)Qe=Math.max(0,X[Xt].g-100),_t=!1;else try{ee="req"+ee+"_"||"";try{var me=ar instanceof Map?ar:Object.entries(ar);for(const[ci,_s]of me){let Es=_s;d(_s)&&(Es=as(_s)),Gt.push(ee+ci+"="+encodeURIComponent(Es))}}catch(ci){throw Gt.push(ee+"type="+encodeURIComponent("_badmap")),ci}}catch{V&&V(ar)}}if(_t){me=Gt.join("&");break e}}me=void 0}return f=f.i.splice(0,T),E.G=f,me}function Tn(f){if(!f.g&&!f.v){f.Y=1;var E=f.Da;O||I(),$||(O(),$=!0),A.add(E,f),f.A=0}}function ws(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=tr(p(f.Da,f),il(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Hi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=tr(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),ir(this),Hi(this))};function da(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Hi(f){f.g=new _r(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var E=Er(f.na);yt(E,"RID","rpc"),yt(E,"SID",f.M),yt(E,"AID",f.K),yt(E,"CI",f.F?"0":"1"),!f.F&&f.ia&&yt(E,"TO",f.ia),yt(E,"TYPE","xmlhttp"),xs(f,E),f.u&&f.o&&Za(E,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=si(Er(E)),T.u=null,T.R=!0,Pc(T,f)}t.Va=function(){this.C!=null&&(this.C=null,ir(this),ws(this),vt(19))};function rl(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function sl(f,E){var T=null;if(f.g==E){rl(f),da(f),f.g=null;var V=2}else if(Oc(f.h,E))T=E.G,sa(f.h,E),V=1;else return;if(f.I!=0){if(E.o)if(V==1){T=E.u?E.u.length:0,E=Date.now()-E.F;var X=f.D;V=Mr(),tt(V,new gn(V,T)),li(f)}else Tn(f);else if(X=E.m,X==3||X==0&&E.X>0||!(V==1&&Od(f,E)||V==2&&ws(f)))switch(T&&T.length>0&&(E=f.h,E.i=E.i.concat(T)),X){case 1:or(f,5);break;case 4:or(f,10);break;case 3:or(f,6);break;default:or(f,2)}}}function il(f,E){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*E}function or(f,E){if(f.j.info("Error code "+E),E==2){var T=p(f.bb,f),V=f.Ua;const X=!V;V=new ds(V||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ia(V,"https"),si(V),X?ps(V.toString(),T):gs(V.toString(),T)}else vt(2);f.I=0,f.l&&f.l.pa(E),ha(f),nl(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function ha(f){if(f.I=0,f.ja=[],f.l){const E=nr(f.h);(E.length!=0||f.i.length!=0)&&(S(f.ja,E),S(f.ja,f.i),f.h.i.length=0,b(f.i),f.i.length=0),f.l.oa()}}function qc(f,E,T){var V=T instanceof ds?Er(T):new ds(T);if(V.g!="")E&&(V.g=E+"."+V.g),hs(V,V.u);else{var X=c.location;V=X.protocol,E=E?E+"."+X.hostname:X.hostname,X=+X.port;const ee=new ds(null);V&&ia(ee,V),E&&(ee.g=E),X&&hs(ee,X),T&&(ee.h=T),V=ee}return T=f.G,E=f.wa,T&&E&&yt(V,T,E),yt(V,"VER",f.ka),xs(f,V),V}function Md(f,E,T){if(E&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Aa&&!f.ma?new Nt(new ii({ab:T})):new Nt(f.ma),E.Fa(f.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ld(){}t=Ld.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ol(){}ol.prototype.g=function(f,E){return new yn(f,E)};function yn(f,E){Ke.call(this),this.g=new el(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(f?f["X-WebChannel-Client-Profile"]=E.sa:f={"X-WebChannel-Client-Profile":E.sa}),this.g.U=f,(f=E&&E.Qb)&&!k(f)&&(this.g.u=f),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!k(E)&&(this.g.G=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new qi(this)}v(yn,Ke),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){tl(this.g)},yn.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=as(f),f=T);E.i.push(new qm(E.Ya++,f)),E.I==3&&li(E)},yn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,yn.Z.N.call(this)};function Vd(f){Fi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const T in E){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}v(Vd,Fi);function Fd(){ea.call(this),this.status=1}v(Fd,ea);function qi(f){this.g=f}v(qi,Ld),qi.prototype.ra=function(){tt(this.g,"a")},qi.prototype.qa=function(f){tt(this.g,new Vd(f))},qi.prototype.pa=function(f){tt(this.g,new Fd)},qi.prototype.oa=function(){tt(this.g,"b")},ol.prototype.createWebChannel=ol.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,OC=function(){return new ol},DC=function(){return Mr()},jC=Wn,dv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,nf=xr,wr.COMPLETE="complete",PC=wr,Ha.EventType=cs,cs.OPEN="a",cs.CLOSE="b",cs.ERROR="c",cs.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,Su=Ha,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,RC=Nt}).apply(typeof Oh<"u"?Oh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc="12.9.0";function UO(t){pc=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new oy("@firebase/firestore");function Ol(){return ja.logLevel}function _e(t,...e){if(ja.logLevel<=lt.DEBUG){const n=e.map(gy);ja.debug(`Firestore (${pc}): ${t}`,...n)}}function Ii(t,...e){if(ja.logLevel<=lt.ERROR){const n=e.map(gy);ja.error(`Firestore (${pc}): ${t}`,...n)}}function Da(t,...e){if(ja.logLevel<=lt.WARN){const n=e.map(gy);ja.warn(`Firestore (${pc}): ${t}`,...n)}}function gy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,MC(t,r,n)}function MC(t,e,n){let r=`FIRESTORE (${pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ii(r),new Error(r)}function wt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||MC(e,s,r)}function Xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Dn.UNAUTHENTICATED)))}shutdown(){}}class BO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class WO{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new ka;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ka,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},d=h=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ka)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new LC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class $O{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class HO{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $O(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const r=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Y0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=GO(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function hv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return Ag(s)===Ag(o)?ct(s,o):Ag(s)?1:-1}return ct(t.length,e.length)}const KO=55296,YO=57343;function Ag(t){const e=t.charCodeAt(0);return e>=KO&&e<=YO}function Jl(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="__name__";class ks{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ks.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ks?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=ks.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return ct(e.length,n.length)}static compareSegments(e,n){const r=ks.isNumericId(e),s=ks.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ks.extractNumericId(e).compare(ks.extractNumericId(n)):hv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wo.fromString(e.substring(4,e.length-2))}}class Dt extends ks{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Dt(n)}static emptyPath(){return new Dt([])}}const QO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends ks{construct(e,n,r){return new bn(e,n,r)}static isValidIdentifier(e){return QO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q0}static keyField(){return new bn([Q0])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Ae(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Ae(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ae(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(r+=d,s++):(o(),s++)}if(o(),c)throw new Ae(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Dt.fromString(e))}static fromName(e){return new Me(Dt.fromString(e).popFirst(5))}static empty(){return new Me(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t,e,n){if(!n)throw new Ae(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XO(t,e,n,r){if(e===!0&&r===!0)throw new Ae(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function X0(t){if(!Me.isDocumentKey(t))throw new Ae(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function J0(t){if(Me.isDocumentKey(t))throw new Ae(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function FC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function yy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function _o(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yy(t);throw new Ae(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t,e){const n={typeString:t};return e&&(n.value=e),n}function cd(t,e){if(!FC(t))throw new Ae(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(s&&typeof c!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ae(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=-62135596800,eE=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*eE);return new xt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Z0)throw new Ae(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eE}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cd(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Z0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:en("string",xt._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new xt(0,0))}static max(){return new Ge(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=-1;function JO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ge.fromTimestamp(r===1e9?new xt(n+1,0):new xt(n,r));return new So(s,Me.empty(),e)}function ZO(t){return new So(t.readTime,t.key,zu)}class So{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new So(Ge.min(),Me.empty(),zu)}static max(){return new So(Ge.max(),Me.empty(),zu)}}function eM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==tM)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,r)=>{n(e)}))}static reject(e){return new ne(((n,r)=>{r(e)}))}static waitFor(e){return new ne(((n,r)=>{let s=0,o=0,c=!1;e.forEach((d=>{++s,d.next((()=>{++o,c&&o===s&&n()}),(h=>r(h)))})),c=!0,o===s&&n()}))}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next((s=>s?ne.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,o)=>{r.push(n.call(this,s,o))})),this.waitFor(r)}static mapArray(e,n){return new ne(((r,s)=>{const o=e.length,c=new Array(o);let d=0;for(let h=0;h<o;h++){const p=h;n(e[p]).next((g=>{c[p]=g,++d,d===o&&r(c)}),(g=>s(g)))}}))}static doWhile(e,n){return new ne(((r,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):r()};o()}))}}function rM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=-1;function um(t){return t==null}function Sf(t){return t===0&&1/t==-1/0}function sM(t){return typeof t=="number"&&Number.isInteger(t)&&!Sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="";function iM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=tE(e)),e=oM(t.get(n),e);return tE(e)}function oM(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case UC:n+="";break;default:n+=o}}return n}function tE(t){return t+UC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Do(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mh(this.root,e,this.comparator,!0)}}class Mh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??_n.RED,this.left=s??_n.EMPTY,this.right=o??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new _n(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rE(this.data.getIterator())}getIteratorFrom(e){return new rE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class rE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new mr([])}unionWith(e){let n=new cn(bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new BC("Invalid base64 string: "+o):o}})(e);return new Sn(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const aM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Co(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=aM.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function To(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="server_timestamp",$C="__type__",HC="__previous_value__",qC="__local_write_time__";function wy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[$C])==null?void 0:r.stringValue)===WC}function dm(t){const e=t.mapValue.fields[HC];return wy(e)?dm(e):e}function Bu(t){const e=Co(t.mapValue.fields[qC].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n,r,s,o,c,d,h,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=g,this.apiKey=v}}const Cf="(default)";class Wu{constructor(e,n){this.projectId=e,this.database=n||Cf}static empty(){return new Wu("","")}get isDefaultDatabase(){return this.database===Cf}isEqual(e){return e instanceof Wu&&e.projectId===this.projectId&&e.database===this.database}}function cM(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ae(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="__type__",uM="__max__",Lh={mapValue:{}},KC="__vector__",Tf="value";function No(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wy(t)?4:hM(t)?9007199254740991:dM(t)?10:11:He(28295,{value:t})}function Ws(t,e){if(t===e)return!0;const n=No(t);if(n!==No(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bu(t).isEqual(Bu(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=Co(s.timestampValue),d=Co(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return To(s.bytesValue).isEqual(To(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return Yt(s.geoPointValue.latitude)===Yt(o.geoPointValue.latitude)&&Yt(s.geoPointValue.longitude)===Yt(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Yt(s.integerValue)===Yt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=Yt(s.doubleValue),d=Yt(o.doubleValue);return c===d?Sf(c)===Sf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Jl(t.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return(function(s,o){const c=s.mapValue.fields||{},d=o.mapValue.fields||{};if(nE(c)!==nE(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!Ws(c[h],d[h])))return!1;return!0})(t,e);default:return He(52216,{left:t})}}function $u(t,e){return(t.values||[]).find((n=>Ws(n,e)))!==void 0}function Zl(t,e){if(t===e)return 0;const n=No(t),r=No(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=Yt(o.integerValue||o.doubleValue),h=Yt(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(t,e);case 3:return sE(t.timestampValue,e.timestampValue);case 4:return sE(Bu(t),Bu(e));case 5:return hv(t.stringValue,e.stringValue);case 6:return(function(o,c){const d=To(o),h=To(c);return d.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),h=c.split("/");for(let p=0;p<d.length&&p<h.length;p++){const g=ct(d[p],h[p]);if(g!==0)return g}return ct(d.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=ct(Yt(o.latitude),Yt(c.latitude));return d!==0?d:ct(Yt(o.longitude),Yt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return iE(t.arrayValue,e.arrayValue);case 10:return(function(o,c){var x,b,S,C;const d=o.fields||{},h=c.fields||{},p=(x=d[Tf])==null?void 0:x.arrayValue,g=(b=h[Tf])==null?void 0:b.arrayValue,v=ct(((S=p==null?void 0:p.values)==null?void 0:S.length)||0,((C=g==null?void 0:g.values)==null?void 0:C.length)||0);return v!==0?v:iE(p,g)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Lh.mapValue&&c===Lh.mapValue)return 0;if(o===Lh.mapValue)return 1;if(c===Lh.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),p=c.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const x=hv(h[v],g[v]);if(x!==0)return x;const b=Zl(d[h[v]],p[g[v]]);if(b!==0)return b}return ct(h.length,g.length)})(t.mapValue,e.mapValue);default:throw He(23264,{he:n})}}function sE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=Co(t),r=Co(e),s=ct(n.seconds,r.seconds);return s!==0?s:ct(n.nanos,r.nanos)}function iE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Zl(n[s],r[s]);if(o)return o}return ct(n.length,r.length)}function ec(t){return fv(t)}function fv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Co(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return To(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=fv(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${fv(n.fields[c])}`;return s+"}"})(t.mapValue):He(61005,{value:t})}function rf(t){switch(No(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dm(t);return e?16+rf(e):16;case 5:return 2*t.stringValue.length;case 6:return To(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+rf(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Do(r.fields,((o,c)=>{s+=o.length+rf(c)})),s})(t.mapValue);default:throw He(13486,{value:t})}}function mv(t){return!!t&&"integerValue"in t}function _y(t){return!!t&&"arrayValue"in t}function oE(t){return!!t&&"nullValue"in t}function aE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sf(t){return!!t&&"mapValue"in t}function dM(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[GC])==null?void 0:r.stringValue)===KC}function Pu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Do(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Pu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pu(t.arrayValue.values[n]);return e}return{...t}}function hM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===uM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(n)}setAll(e){let n=bn.emptyPath(),r={},s=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=d.popLast()}c?r[d.lastSegment()]=Pu(c):s.push(d.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());sf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];sf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Do(n,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Xn(Pu(this.value))}}function YC(t){const e=[];return Do(t.fields,((n,r)=>{const s=new bn([n]);if(sf(r)){const o=YC(r.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)})),new mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n,r,s,o,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new On(e,0,Ge.min(),Ge.min(),Ge.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,s){return new On(e,1,n,Ge.min(),r,s,0)}static newNoDocument(e,n){return new On(e,2,n,Ge.min(),Ge.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new On(e,3,n,Ge.min(),Ge.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n){this.position=e,this.inclusive=n}}function lE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],c=t.position[s];if(o.field.isKeyField()?r=Me.comparator(Me.fromName(c.referenceValue),n.key):r=Zl(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function cE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ws(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n="asc"){this.field=e,this.dir=n}}function fM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{}class an extends QC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pM(e,n,r):n==="array-contains"?new yM(e,r):n==="in"?new xM(e,r):n==="not-in"?new wM(e,r):n==="array-contains-any"?new _M(e,r):new an(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gM(e,r):new vM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zl(n,this.value)):n!==null&&No(this.value)===No(n)&&this.matchesComparison(Zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $s extends QC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $s(e,n)}matches(e){return XC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XC(t){return t.op==="and"}function JC(t){return mM(t)&&XC(t)}function mM(t){for(const e of t.filters)if(e instanceof $s)return!1;return!0}function pv(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+ec(t.value);if(JC(t))return t.filters.map((e=>pv(e))).join(",");{const e=t.filters.map((n=>pv(n))).join(",");return`${t.op}(${e})`}}function ZC(t,e){return t instanceof an?(function(r,s){return s instanceof an&&r.op===s.op&&r.field.isEqual(s.field)&&Ws(r.value,s.value)})(t,e):t instanceof $s?(function(r,s){return s instanceof $s&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,c,d)=>o&&ZC(c,s.filters[d])),!0):!1})(t,e):void He(19439)}function eT(t){return t instanceof an?(function(n){return`${n.field.canonicalString()} ${n.op} ${ec(n.value)}`})(t):t instanceof $s?(function(n){return n.op.toString()+" {"+n.getFilters().map(eT).join(" ,")+"}"})(t):"Filter"}class pM extends an{constructor(e,n,r){super(e,n,r),this.key=Me.fromName(r.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class gM extends an{constructor(e,n){super(e,"in",n),this.keys=tT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class vM extends an{constructor(e,n){super(e,"not-in",n),this.keys=tT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function tT(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Me.fromName(r.referenceValue)))}class yM extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _y(n)&&$u(n.arrayValue,this.value)}}class xM extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$u(this.value.arrayValue,n)}}class wM extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$u(this.value.arrayValue,n)}}class _M extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_y(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>$u(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n=null,r=[],s=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function uE(t,e=null,n=[],r=[],s=null,o=null,c=null){return new EM(t,e,n,r,s,o,c)}function Ey(t){const e=Xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>pv(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),um(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ec(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ec(r))).join(",")),e.Te=n}return e.Te}function by(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cE(t.startAt,e.startAt)&&cE(t.endAt,e.endAt)}function gv(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n=null,r=[],s=[],o=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=h,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function bM(t,e,n,r,s,o,c,d){return new hm(t,e,n,r,s,o,c,d)}function Sy(t){return new hm(t)}function dE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SM(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function CM(t){return t.collectionGroup!==null}function ju(t){const e=Xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new cn(bn.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new If(o,r))})),n.has(bn.keyField().canonicalString())||e.Ie.push(new If(bn.keyField(),r))}return e.Ie}function Vs(t){const e=Xe(t);return e.Ee||(e.Ee=TM(e,ju(t))),e.Ee}function TM(t,e){if(t.limitType==="F")return uE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new If(s.field,o)}));const n=t.endAt?new Nf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nf(t.startAt.position,t.startAt.inclusive):null;return uE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vv(t,e,n){return new hm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fm(t,e){return by(Vs(t),Vs(e))&&t.limitType===e.limitType}function nT(t){return`${Ey(Vs(t))}|lt:${t.limitType}`}function Ml(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>eT(s))).join(", ")}]`),um(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>ec(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>ec(s))).join(",")),`Target(${r})`})(Vs(t))}; limitType=${t.limitType})`}function mm(t,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Me.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,s){for(const o of ju(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(c,d,h){const p=lE(c,d,h);return c.inclusive?p<=0:p<0})(r.startAt,ju(r),s)||r.endAt&&!(function(c,d,h){const p=lE(c,d,h);return c.inclusive?p>=0:p>0})(r.endAt,ju(r),s))})(t,e)}function NM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rT(t){return(e,n)=>{let r=!1;for(const s of ju(t)){const o=IM(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function IM(t,e,n){const r=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(o,c,d){const h=c.data.field(o),p=d.data.field(o);return h!==null&&p!==null?Zl(h,p):He(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Do(this.inner,((n,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return zC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=new Wt(Me.comparator);function ki(){return kM}const sT=new Wt(Me.comparator);function Cu(...t){let e=sT;for(const n of t)e=e.insert(n.key,n);return e}function iT(t){let e=sT;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ia(){return Du()}function oT(){return Du()}function Du(){return new za((t=>t.toString()),((t,e)=>t.isEqual(e)))}const AM=new Wt(Me.comparator),RM=new cn(Me.comparator);function ut(...t){let e=RM;for(const n of t)e=e.add(n);return e}const PM=new cn(ct);function jM(){return PM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(e)?"-0":e}}function aT(t){return{integerValue:""+t}}function DM(t,e){return sM(e)?aT(e):Cy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(){this._=void 0}}function OM(t,e,n){return t instanceof kf?(function(s,o){const c={fields:{[$C]:{stringValue:WC},[qC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&wy(o)&&(o=dm(o)),o&&(c.fields[HC]=o),{mapValue:c}})(n,e):t instanceof Hu?cT(t,e):t instanceof qu?uT(t,e):(function(s,o){const c=lT(s,o),d=hE(c)+hE(s.Ae);return mv(c)&&mv(s.Ae)?aT(d):Cy(s.serializer,d)})(t,e)}function MM(t,e,n){return t instanceof Hu?cT(t,e):t instanceof qu?uT(t,e):n}function lT(t,e){return t instanceof Af?(function(r){return mv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class kf extends pm{}class Hu extends pm{constructor(e){super(),this.elements=e}}function cT(t,e){const n=dT(e);for(const r of t.elements)n.some((s=>Ws(s,r)))||n.push(r);return{arrayValue:{values:n}}}class qu extends pm{constructor(e){super(),this.elements=e}}function uT(t,e){let n=dT(e);for(const r of t.elements)n=n.filter((s=>!Ws(s,r)));return{arrayValue:{values:n}}}class Af extends pm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function hE(t){return Yt(t.integerValue||t.doubleValue)}function dT(t){return _y(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function LM(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Hu&&s instanceof Hu||r instanceof qu&&s instanceof qu?Jl(r.elements,s.elements,Ws):r instanceof Af&&s instanceof Af?Ws(r.Ae,s.Ae):r instanceof kf&&s instanceof kf})(t.transform,e.transform)}class VM{constructor(e,n){this.version=e,this.transformResults=n}}class Xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xr}static exists(e){return new Xr(void 0,e)}static updateTime(e){return new Xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function of(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gm{}function hT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ty(t.key,Xr.none()):new ud(t.key,t.data,Xr.none());{const n=t.data,r=Xn.empty();let s=new cn(bn.comparator);for(let o of e.fields)if(!s.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new Oo(t.key,r,new mr(s.toArray()),Xr.none())}}function FM(t,e,n){t instanceof ud?(function(s,o,c){const d=s.value.clone(),h=mE(s.fieldTransforms,o,c.transformResults);d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Oo?(function(s,o,c){if(!of(s.precondition,o))return void o.convertToUnknownDocument(c.version);const d=mE(s.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(fT(s)),h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):(function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Ou(t,e,n,r){return t instanceof ud?(function(o,c,d,h){if(!of(o.precondition,c))return d;const p=o.value.clone(),g=pE(o.fieldTransforms,h,c);return p.setAll(g),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof Oo?(function(o,c,d,h){if(!of(o.precondition,c))return d;const p=pE(o.fieldTransforms,h,c),g=c.data;return g.setAll(fT(o)),g.setAll(p),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(o,c,d){return of(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function UM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=lT(r.transform,s||null);o!=null&&(n===null&&(n=Xn.empty()),n.set(r.field,o))}return n||null}function fE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Jl(r,s,((o,c)=>LM(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ud extends gm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Oo extends gm{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function fT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function mE(t,e,n){const r=new Map;wt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const o=t[s],c=o.transform,d=e.data.field(o.field);r.set(o.field,MM(c,d,n[s]))}return r}function pE(t,e,n){const r=new Map;for(const s of t){const o=s.transform,c=n.data.field(s.field);r.set(s.field,OM(o,c,e))}return r}class Ty extends gm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zM extends gm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&FM(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ou(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ou(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=oT();return this.mutations.forEach((s=>{const o=e.get(s.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(s.key)?null:d;const h=hT(c,d);h!==null&&r.set(s.key,h),c.isValidDocument()||c.convertToNoDocument(Ge.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ut())}isEqual(e){return this.batchId===e.batchId&&Jl(this.mutations,e.mutations,((n,r)=>fE(n,r)))&&Jl(this.baseMutations,e.baseMutations,((n,r)=>fE(n,r)))}}class Ny{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return AM})();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new Ny(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WM=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,mt;function HM(t){switch(t){case se.OK:return He(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function mT(t){if(t===void 0)return Ii("GRPC error has no .code"),se.UNKNOWN;switch(t){case Zt.OK:return se.OK;case Zt.CANCELLED:return se.CANCELLED;case Zt.UNKNOWN:return se.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return se.INTERNAL;case Zt.UNAVAILABLE:return se.UNAVAILABLE;case Zt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Zt.NOT_FOUND:return se.NOT_FOUND;case Zt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Zt.ABORTED:return se.ABORTED;case Zt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Zt.DATA_LOSS:return se.DATA_LOSS;default:return He(39323,{code:t})}}(mt=Zt||(Zt={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=new wo([4294967295,4294967295],0);function gE(t){const e=qM().encode(t),n=new AC;return n.update(e),new Uint8Array(n.digest())}function vE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wo([n,r],0),new wo([s,o],0)]}class Iy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tu(`Invalid padding: ${n}`);if(r<0)throw new Tu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Tu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=wo.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(wo.fromNumber(r)));return s.compare(GM)===1&&(s=new wo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=gE(e),[r,s]=vE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);if(!this.we(c))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Iy(o,s,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=gE(e),[r,s]=vE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);this.be(c)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,dd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vm(Ge.min(),s,new Wt(ct),ki(),ut())}}class dd{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new dd(r,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class pT{constructor(e,n){this.targetId=e,this.Ce=n}}class gT{constructor(e,n,r=Sn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class yE{constructor(){this.ve=0,this.Fe=xE(),this.Me=Sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),r=ut();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:He(38017,{changeType:o})}})),new dd(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=xE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class KM{constructor(e){this.Ge=e,this.ze=new Map,this.je=ki(),this.He=Vh(),this.Je=Vh(),this.Ze=new Wt(ct)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(gv(o))if(r===0){const c=new Me(o.path);this.et(n,c,On.newNoDocument(c,Ge.min()))}else wt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(e),h=d?this.ct(d,e,c):1;if(h!==0){this.it(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let c,d;try{c=To(r).toUint8Array()}catch(h){if(h instanceof BC)return Da("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new Iy(c,s,o)}catch(h){return Da(h instanceof Tu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(n,o,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&gv(d.target)){const h=new Me(d.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,On.newNoDocument(h,e))}o.Be&&(n.set(c,o.ke()),o.Ke())}}));let r=ut();this.Je.forEach(((o,c)=>{let d=!0;c.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const s=new vm(e,n,this.Ze,this.je,r);return this.je=ki(),this.He=Vh(),this.Je=Vh(),this.Ze=new Wt(ct),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new yE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new cn(ct),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new cn(ct),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vh(){return new Wt(Me.comparator)}function xE(){return new Wt(Me.comparator)}const YM={asc:"ASCENDING",desc:"DESCENDING"},QM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XM={and:"AND",or:"OR"};class JM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yv(t,e){return t.useProto3Json||um(e)?e:{value:e}}function Rf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZM(t,e){return Rf(t,e.toTimestamp())}function Fs(t){return wt(!!t,49232),Ge.fromTimestamp((function(n){const r=Co(n);return new xt(r.seconds,r.nanos)})(t))}function ky(t,e){return xv(t,e).canonicalString()}function xv(t,e){const n=(function(s){return new Dt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function yT(t){const e=Dt.fromString(t);return wt(bT(e),10190,{key:e.toString()}),e}function wv(t,e){return ky(t.databaseId,e.path)}function Rg(t,e){const n=yT(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(wT(n))}function xT(t,e){return ky(t.databaseId,e)}function e4(t){const e=yT(t);return e.length===4?Dt.emptyPath():wT(e)}function _v(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wT(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function wE(t,e,n){return{name:wv(t,e),fields:n.value.mapValue.fields}}function t4(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:He(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(p,g){return p.useProto3Json?(wt(g===void 0||typeof g=="string",58123),Sn.fromBase64String(g||"")):(wt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Sn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const g=p.code===void 0?se.UNKNOWN:mT(p.code);return new Ae(g,p.message||"")})(c);n=new gT(r,s,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Rg(t,r.document.name),o=Fs(r.document.updateTime),c=r.document.createTime?Fs(r.document.createTime):Ge.min(),d=new Xn({mapValue:{fields:r.document.fields}}),h=On.newFoundDocument(s,o,c,d),p=r.targetIds||[],g=r.removedTargetIds||[];n=new af(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Rg(t,r.document),o=r.readTime?Fs(r.readTime):Ge.min(),c=On.newNoDocument(s,o),d=r.removedTargetIds||[];n=new af([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Rg(t,r.document),o=r.removedTargetIds||[];n=new af([],o,s,null)}else{if(!("filter"in e))return He(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new $M(s,o),d=r.targetId;n=new pT(d,c)}}return n}function n4(t,e){let n;if(e instanceof ud)n={update:wE(t,e.key,e.value)};else if(e instanceof Ty)n={delete:wv(t,e.key)};else if(e instanceof Oo)n={update:wE(t,e.key,e.data),updateMask:d4(e.fieldMask)};else{if(!(e instanceof zM))return He(16599,{dt:e.type});n={verify:wv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const d=c.transform;if(d instanceof kf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Hu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof qu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Af)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw He(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:ZM(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:He(27497)})(t,e.precondition)),n}function r4(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map((n=>(function(s,o){let c=s.updateTime?Fs(s.updateTime):Fs(o);return c.isEqual(Ge.min())&&(c=Fs(o)),new VM(c,s.transformResults||[])})(n,e)))):[]}function s4(t,e){return{documents:[xT(t,e.path)]}}function i4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xT(t,s);const o=(function(p){if(p.length!==0)return ET($s.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(p){if(p.length!==0)return p.map((g=>(function(x){return{field:Ll(x.field),direction:l4(x.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=yv(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:s}}function o4(t){let e=e4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){wt(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(v){const x=_T(v);return x instanceof $s&&JC(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((x=>(function(S){return new If(Vl(S.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let x;return x=typeof v=="object"?v.value:v,um(x)?null:x})(n.limit));let h=null;n.startAt&&(h=(function(v){const x=!!v.before,b=v.values||[];return new Nf(b,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const x=!v.before,b=v.values||[];return new Nf(b,x)})(n.endAt)),bM(e,s,c,o,d,"F",h,p)}function a4(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _T(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vl(n.unaryFilter.field);return an.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Vl(n.unaryFilter.field);return an.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vl(n.unaryFilter.field);return an.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vl(n.unaryFilter.field);return an.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(t):t.fieldFilter!==void 0?(function(n){return an.create(Vl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return $s.create(n.compositeFilter.filters.map((r=>_T(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(n.compositeFilter.op))})(t):He(30097,{filter:t})}function l4(t){return YM[t]}function c4(t){return QM[t]}function u4(t){return XM[t]}function Ll(t){return{fieldPath:t.canonicalString()}}function Vl(t){return bn.fromServerFormat(t.fieldPath)}function ET(t){return t instanceof an?(function(n){if(n.op==="=="){if(aE(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NAN"}};if(oE(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aE(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NAN"}};if(oE(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ll(n.field),op:c4(n.op),value:n.value}}})(t):t instanceof $s?(function(n){const r=n.getFilters().map((s=>ET(s)));return r.length===1?r[0]:{compositeFilter:{op:u4(n.op),filters:r}}})(t):He(54877,{filter:t})}function d4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function bT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function ST(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n,r,s,o=Ge.min(),c=Ge.min(),d=Sn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.yt=e}}function f4(t){const e=o4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.Sn=new p4}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(So.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(So.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class p4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new cn(Dt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new cn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CT=41943040;class Qn{static withCacheSize(e){return new Qn(e,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(CT,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new tc(0)}static ar(){return new tc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="LruGarbageCollector",g4=1048576;function bE([t,e],[n,r]){const s=ct(t,n);return s===0?ct(e,r):s}class v4{constructor(e){this.Pr=e,this.buffer=new cn(bE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class y4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){_e(EE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vc(n)?_e(EE,"Ignoring IndexedDB error during garbage collection: ",n):await gc(n)}await this.Ar(3e5)}))}}class x4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(cm.ce);const r=new v4(n);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(_E)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_E):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,o,c,d,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,c=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(r=v,d=Date.now(),this.removeTargets(e,r,n)))).next((v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),Ol()<=lt.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${v} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v}))))}}function w4(t,e){return new x4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.changes=new za((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Ou(r.mutation,s,mr.empty(),xt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ut()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ut()){const s=Ia();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((o=>{let c=Cu();return o.forEach(((d,h)=>{c=c.insert(d,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Ia();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ut())))}populateOverlays(e,n,r){const s=[];return r.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,s){let o=ki();const c=Du(),d=(function(){return Du()})();return n.forEach(((h,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Oo)?o=o.insert(p.key,p):g!==void 0?(c.set(p.key,g.mutation.getFieldMask()),Ou(g.mutation,p,g.mutation.getFieldMask(),xt.now())):c.set(p.key,mr.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((p,g)=>c.set(p,g))),n.forEach(((p,g)=>d.set(p,new E4(g,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=Du();let s=new Wt(((c,d)=>c-d)),o=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((h=>{const p=n.get(h);if(p===null)return;let g=r.get(h)||mr.empty();g=d.applyToLocalView(p,g),r.set(h,g);const v=(s.get(d.batchId)||ut()).add(h);s=s.insert(d.batchId,v)}))})).next((()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,g=h.value,v=oT();g.forEach((x=>{if(!o.has(x)){const b=hT(n.get(x),r.get(x));b!==null&&v.set(x,b),o=o.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ne.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return SM(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ne.resolve(Ia());let d=zu,h=o;return c.next((p=>ne.forEach(p,((g,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),o.get(g)?ne.resolve():this.remoteDocumentCache.getEntry(e,g).next((x=>{h=h.insert(g,x)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,h,p,ut()))).next((g=>({batchId:d,changes:iT(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((r=>{let s=Cu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let c=Cu();return this.indexManager.getCollectionParents(e,o).next((d=>ne.forEach(d,(h=>{const p=(function(v,x){return new hm(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((v,x)=>{c=c.insert(v,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s)))).next((c=>{o.forEach(((h,p)=>{const g=p.getKey();c.get(g)===null&&(c=c.insert(g,On.newInvalidDocument(g)))}));let d=Cu();return c.forEach(((h,p)=>{const g=o.get(h);g!==void 0&&Ou(g.mutation,p,mr.empty(),xt.now()),mm(n,p)&&(d=d.insert(h,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Fs(s.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(s){return{name:s.name,query:f4(s.bundledQuery),readTime:Fs(s.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.overlays=new Wt(Me.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ia();return ne.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,o)=>{this.bt(e,n,o)})),ne.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const s=Ia(),o=n.length+1,c=new Me(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&s.set(h.getKey(),h)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Wt(((p,g)=>p-g));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=o.get(p.largestBatchId);g===null&&(g=Ia(),o=o.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=Ia(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,g)=>d.set(p,g))),!(d.size()>=s)););return ne.resolve(d)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new WM(n,r));let o=this.Lr.get(n);o===void 0&&(o=ut(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(){this.kr=new cn(mn.Kr),this.qr=new cn(mn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new mn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new mn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Me(new Dt([])),r=new mn(n,e),s=new mn(n,e+1),o=[];return this.qr.forEachInRange([r,s],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Me(new Dt([])),r=new mn(n,e),s=new mn(n,e+1);let o=ut();return this.qr.forEachInRange([r,s],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new mn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Me.comparator(e.key,n.key)||ct(e.Hr,n.Hr)}static Ur(e,n){return ct(e.Hr,n.Hr)||Me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new cn(mn.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new BM(o,n,r,s);this.mutationQueue.push(c);for(const d of s)this.Jr=this.Jr.add(new mn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),o=s<0?0:s;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?xy:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mn(n,0),s=new mn(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,s],(c=>{const d=this.Zr(c.Hr);o.push(d)})),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new cn(ct);return n.forEach((s=>{const o=new mn(s,0),c=new mn(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(d=>{r=r.add(d.Hr)}))})),ne.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Me.isDocumentKey(o)||(o=o.child(""));const c=new mn(new Me(o),0);let d=new cn(ct);return this.Jr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(h.Hr)),!0)}),c),ne.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){wt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ne.forEach(n.mutations,(s=>{const o=new mn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new mn(n,0),s=this.Jr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.ti=e,this.docs=(function(){return new Wt(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,c=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let r=ki();return n.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():On.newInvalidDocument(s))})),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=ki();const c=n.path,d=new Me(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||eM(ZO(g),r)<=0||(s.has(g.key)||mm(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,n,r,s){He(9500)}ni(e,n){return ne.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new k4(this)}getSize(e){return ne.resolve(this.size)}}class k4 extends _4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.persistence=e,this.ri=new za((n=>Ey(n)),by),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.ii=0,this.si=new Ay,this.targetCount=0,this.oi=tc._r()}forEachTarget(e,n){return this.ri.forEach(((r,s)=>n(s))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new tc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),ne.waitFor(o).next((()=>s))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((c=>{o.push(s.markPotentiallyOrphaned(e,c))})),ne.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n){this._i={},this.overlays={},this.ai=new cm(0),this.ui=!1,this.ui=!0,this.ci=new T4,this.referenceDelegate=e(this),this.li=new A4(this),this.indexManager=new m4,this.remoteDocumentCache=(function(s){return new I4(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new h4(n),this.Pi=new S4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new C4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new N4(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const s=new R4(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((o=>this.referenceDelegate.Ii(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,n){return ne.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class R4 extends nM{constructor(e){super(),this.currentSequenceNumber=e}}class Ry{constructor(e){this.persistence=e,this.Ri=new Ay,this.Ai=null}static Vi(e){return new Ry(e)}get di(){if(this.Ai)return this.Ai;throw He(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(r=>{const s=Me.fromPath(r);return this.mi(e,s).next((o=>{o||n.removeEntry(s,Ge.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Pf{constructor(e,n){this.persistence=e,this.fi=new za((r=>iM(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=w4(this,n)}static Vi(e,n){return new Pf(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ne.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((o=>o?ne.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(e,(c=>this.wr(e,c,n).next((d=>{d||(r++,o.removeEntry(c,Ge.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rf(e.data.value)),n}wr(e,n,r){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return ne.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=ut(),s=ut();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Py(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return oj()?8:rM(Mn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.gs(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(e,n,s,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new P4;return this.ys(e,n,c).next((d=>{if(o.result=d,this.As)return this.ws(e,n,c,d.size)}))})).next((()=>o.result))}ws(e,n,r,s){return r.documentReadCount<this.Vs?(Ol()<=lt.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Ml(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(Ol()<=lt.DEBUG&&_e("QueryEngine","Query:",Ml(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Ol()<=lt.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Ml(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vs(n))):ne.resolve())}gs(e,n){if(dE(n))return ne.resolve(null);let r=Vs(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=vv(n,null,"F"),r=Vs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=ut(...o);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.bs(n,d);return this.Ss(n,p,c,h.readTime)?this.gs(e,vv(n,null,"F")):this.Ds(e,p,n,h)}))))})))))}ps(e,n,r,s){return dE(n)||s.isEqual(Ge.min())?ne.resolve(null):this.fs.getDocuments(e,r).next((o=>{const c=this.bs(n,o);return this.Ss(n,c,r,s)?ne.resolve(null):(Ol()<=lt.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ml(n)),this.Ds(e,c,n,JO(s,zu)).next((d=>d)))}))}bs(e,n){let r=new cn(rT(e));return n.forEach(((s,o)=>{mm(e,o)&&(r=r.add(o))})),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(e,n,r){return Ol()<=lt.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Ml(n)),this.fs.getDocumentsMatchingQuery(e,n,So.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="LocalStore",D4=3e8;class O4{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Wt(ct),this.Fs=new za((o=>Ey(o)),by),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function M4(t,e,n,r){return new O4(t,e,n,r)}async function NT(t,e){const n=Xe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],d=[];let h=ut();for(const p of s){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of o){d.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function L4(t,e){const n=Xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,h,p,g){const v=p.batch,x=v.keys();let b=ne.resolve();return x.forEach((S=>{b=b.next((()=>g.getEntry(h,S))).next((C=>{const N=p.docVersions.get(S);wt(N!==null,48541),C.version.compareTo(N)<0&&(v.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),g.addEntry(C)))}))})),b.next((()=>d.mutationQueue.removeMutationBatch(h,v)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let h=ut();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function IT(t){const e=Xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function V4(t,e){const n=Xe(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const d=[];e.targetChanges.forEach(((g,v)=>{const x=s.get(v);if(!x)return;d.push(n.li.removeMatchingKeys(o,g.removedDocuments,v).next((()=>n.li.addMatchingKeys(o,g.addedDocuments,v))));let b=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(Sn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,r)),s=s.insert(v,b),(function(C,N,L){return C.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=D4?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(x,b,g)&&d.push(n.li.updateTargetData(o,b))}));let h=ki(),p=ut();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),d.push(F4(o,c,e.documentUpdates).next((g=>{h=g.Bs,p=g.Ls}))),!r.isEqual(Ge.min())){const g=n.li.getLastRemoteSnapshotVersion(o).next((v=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));d.push(g)}return ne.waitFor(d).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,p))).next((()=>h))})).then((o=>(n.vs=s,o)))}function F4(t,e,n){let r=ut(),s=ut();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let c=ki();return n.forEach(((d,h)=>{const p=o.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),h.isNoDocument()&&h.version.isEqual(Ge.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):_e(jy,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)})),{Bs:c,Ls:s}}))}function U4(t,e){const n=Xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=xy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function z4(t,e){const n=Xe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.li.getTargetData(r,e).next((o=>o?(s=o,ne.resolve(s)):n.li.allocateTargetId(r).next((c=>(s=new go(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Ev(t,e,n){const r=Xe(t),s=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!vc(c))throw c;_e(jy,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function SE(t,e,n){const r=Xe(t);let s=Ge.min(),o=ut();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,p,g){const v=Xe(h),x=v.Fs.get(g);return x!==void 0?ne.resolve(v.vs.get(x)):v.li.getTargetData(p,g)})(r,c,Vs(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,d.targetId).next((h=>{o=h}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,n?s:Ge.min(),n?o:ut()))).next((d=>(B4(r,NM(e),d),{documents:d,ks:o})))))}function B4(t,e,n){let r=t.Ms.get(e)||Ge.min();n.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Ms.set(e,r)}class CE{constructor(){this.activeTargetIds=jM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W4{constructor(){this.vo=new CE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new CE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="ConnectivityMonitor";class NE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){_e(TE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){_e(TE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh=null;function bv(){return Fh===null?Fh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fh++,"0x"+Fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="RestConnection",H4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class q4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Cf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,o){const c=bv(),d=this.Qo(e,n.toUriEncodedString());_e(Pg,`Sending RPC '${e}' ${c}:`,d,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(h,s,o);const{host:p}=new URL(d),g=Di(p);return this.zo(e,d,h,r,g).then((v=>(_e(Pg,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Da(Pg,`RPC '${e}' ${c} failed with error: `,v,"url: ",d,"request:",r),v}))}jo(e,n,r,s,o,c){return this.Wo(e,n,r,s,o)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}Qo(e,n){const r=H4[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection",wu=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class Wl extends q4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Wl.c_){const e=DC();wu(e,jC.STAT_EVENT,(n=>{n.stat===dv.PROXY?_e(Rn,"STAT_EVENT: detected buffering proxy"):n.stat===dv.NOPROXY&&_e(Rn,"STAT_EVENT: detected no buffering proxy")})),Wl.c_=!0}}zo(e,n,r,s,o){const c=bv();return new Promise(((d,h)=>{const p=new RC;p.setWithCredentials(!0),p.listenOnce(PC.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case nf.NO_ERROR:const v=p.getResponseJson();_e(Rn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),d(v);break;case nf.TIMEOUT:_e(Rn,`RPC '${e}' ${c} timed out`),h(new Ae(se.DEADLINE_EXCEEDED,"Request time out"));break;case nf.HTTP_ERROR:const x=p.getStatus();if(_e(Rn,`RPC '${e}' ${c} failed with status:`,x,"response text:",p.getResponseText()),x>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const S=b==null?void 0:b.error;if(S&&S.status&&S.message){const C=(function(L){const D=L.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(D)>=0?D:se.UNKNOWN})(S.status);h(new Ae(C,S.message))}else h(new Ae(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Ae(se.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{_e(Rn,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(s);_e(Rn,`RPC '${e}' ${c} sending request:`,s),p.send(n,"POST",g,r,15)}))}T_(e,n,r){const s=bv(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=o.join("");_e(Rn,`Creating RPC '${e}' stream ${s}: ${p}`,d);const g=c.createWebChannel(p,d);this.I_(g);let v=!1,x=!1;const b=new G4({Ho:S=>{x?_e(Rn,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(v||(_e(Rn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),_e(Rn,`RPC '${e}' stream ${s} sending:`,S),g.send(S))},Jo:()=>g.close()});return wu(g,Su.EventType.OPEN,(()=>{x||(_e(Rn,`RPC '${e}' stream ${s} transport opened.`),b.i_())})),wu(g,Su.EventType.CLOSE,(()=>{x||(x=!0,_e(Rn,`RPC '${e}' stream ${s} transport closed`),b.o_(),this.E_(g))})),wu(g,Su.EventType.ERROR,(S=>{x||(x=!0,Da(Rn,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),b.o_(new Ae(se.UNAVAILABLE,"The operation could not be completed")))})),wu(g,Su.EventType.MESSAGE,(S=>{var C;if(!x){const N=S.data[0];wt(!!N,16349);const L=N,D=(L==null?void 0:L.error)||((C=L[0])==null?void 0:C.error);if(D){_e(Rn,`RPC '${e}' stream ${s} received error:`,D);const j=D.status;let B=(function(A){const I=Zt[A];if(I!==void 0)return mT(I)})(j),O=D.message;j==="NOT_FOUND"&&O.includes("database")&&O.includes("does not exist")&&O.includes(this.databaseId.database)&&Da(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),B===void 0&&(B=se.INTERNAL,O="Unknown error status: "+j+" with message "+D.message),x=!0,b.o_(new Ae(B,O)),g.close()}else _e(Rn,`RPC '${e}' stream ${s} received:`,N),b.__(N)}})),Wl.u_(),setTimeout((()=>{b.s_()}),0),b}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return OC()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){return new Wl(t)}function jg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){return new JM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wl.c_=!1;class kT{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&_e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="PersistentStream";class AT{constructor(e,n,r,s,o,c,d,h){this.Ci=e,this.b_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Ii(n.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new Ae(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(IE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(_e(IE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Y4 extends AT{constructor(e,n,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=t4(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ge.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ge.min():c.readTime?Fs(c.readTime):Ge.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=_v(this.serializer),n.addTarget=(function(o,c){let d;const h=c.target;if(d=gv(h)?{documents:s4(o,h)}:{query:i4(o,h).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=vT(o,c.resumeToken);const p=yv(o,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ge.min())>0){d.readTime=Rf(o,c.snapshotVersion.toTimestamp());const p=yv(o,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=a4(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=_v(this.serializer),n.removeTarget=e,this.K_(n)}}class Q4 extends AT{constructor(e,n,r,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=r4(e.writeResults,e.commitTime),r=Fs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=_v(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>n4(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{}class J4 extends X4{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ae(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(e,xv(n,r),s,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(se.UNKNOWN,o.toString())}))}jo(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,xv(n,r),s,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ae(se.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Z4(t,e,n,r){return new J4(t,e,n,r)}class eL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ii(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class tL{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Ba(this)&&(_e(Oa,"Restarting streams for network reachability change."),await(async function(h){const p=Xe(h);p.Ea.add(4),await hd(p),p.Va.set("Unknown"),p.Ea.delete(4),await xm(p)})(this))}))})),this.Va=new eL(r,s)}}async function xm(t){if(Ba(t))for(const e of t.Ra)await e(!0)}async function hd(t){for(const e of t.Ra)await e(!1)}function RT(t,e){const n=Xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ly(n)?My(n):yc(n).O_()&&Oy(n,e))}function Dy(t,e){const n=Xe(t),r=yc(n);n.Ia.delete(e),r.O_()&&PT(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ba(n)&&n.Va.set("Unknown"))}function Oy(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yc(t).Z_(e)}function PT(t,e){t.da.$e(e),yc(t).X_(e)}function My(t){t.da=new KM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),yc(t).start(),t.Va.ua()}function Ly(t){return Ba(t)&&!yc(t).x_()&&t.Ia.size>0}function Ba(t){return Xe(t).Ea.size===0}function jT(t){t.da=void 0}async function nL(t){t.Va.set("Online")}async function rL(t){t.Ia.forEach(((e,n)=>{Oy(t,e)}))}async function sL(t,e){jT(t),Ly(t)?(t.Va.ha(e),My(t)):t.Va.set("Unknown")}async function iL(t,e,n){if(t.Va.set("Online"),e instanceof gT&&e.state===2&&e.cause)try{await(async function(s,o){const c=o.cause;for(const d of o.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ia.delete(d),s.da.removeTarget(d))})(t,e)}catch(r){_e(Oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jf(t,r)}else if(e instanceof af?t.da.Xe(e):e instanceof pT?t.da.st(e):t.da.tt(e),!n.isEqual(Ge.min()))try{const r=await IT(t.localStore);n.compareTo(r)>=0&&await(function(o,c){const d=o.da.Tt(c);return d.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Ia.get(p);g&&o.Ia.set(p,g.withResumeToken(h.resumeToken,c))}})),d.targetMismatches.forEach(((h,p)=>{const g=o.Ia.get(h);if(!g)return;o.Ia.set(h,g.withResumeToken(Sn.EMPTY_BYTE_STRING,g.snapshotVersion)),PT(o,h);const v=new go(g.target,h,p,g.sequenceNumber);Oy(o,v)})),o.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){_e(Oa,"Failed to raise snapshot:",r),await jf(t,r)}}async function jf(t,e,n){if(!vc(e))throw e;t.Ea.add(1),await hd(t),t.Va.set("Offline"),n||(n=()=>IT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(Oa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xm(t)}))}function DT(t,e){return e().catch((n=>jf(t,n,e)))}async function wm(t){const e=Xe(t),n=Io(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xy;for(;oL(e);)try{const s=await U4(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,aL(e,s)}catch(s){await jf(e,s)}OT(e)&&MT(e)}function oL(t){return Ba(t)&&t.Ta.length<10}function aL(t,e){t.Ta.push(e);const n=Io(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function OT(t){return Ba(t)&&!Io(t).x_()&&t.Ta.length>0}function MT(t){Io(t).start()}async function lL(t){Io(t).ra()}async function cL(t){const e=Io(t);for(const n of t.Ta)e.ea(n.mutations)}async function uL(t,e,n){const r=t.Ta.shift(),s=Ny.from(r,e,n);await DT(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await wm(t)}async function dL(t,e){e&&Io(t).Y_&&await(async function(r,s){if((function(c){return HM(c)&&c!==se.ABORTED})(s.code)){const o=r.Ta.shift();Io(r).B_(),await DT(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await wm(r)}})(t,e),OT(t)&&MT(t)}async function kE(t,e){const n=Xe(t);n.asyncQueue.verifyOperationInProgress(),_e(Oa,"RemoteStore received new credentials");const r=Ba(n);n.Ea.add(3),await hd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xm(n)}async function hL(t,e){const n=Xe(t);e?(n.Ea.delete(2),await xm(n)):e||(n.Ea.add(2),await hd(n),n.Va.set("Unknown"))}function yc(t){return t.ma||(t.ma=(function(n,r,s){const o=Xe(n);return o.sa(),new Y4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Zo:nL.bind(null,t),Yo:rL.bind(null,t),t_:sL.bind(null,t),J_:iL.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Ly(t)?My(t):t.Va.set("Unknown")):(await t.ma.stop(),jT(t))}))),t.ma}function Io(t){return t.fa||(t.fa=(function(n,r,s){const o=Xe(n);return o.sa(),new Q4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:lL.bind(null,t),t_:dL.bind(null,t),ta:cL.bind(null,t),na:uL.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await wm(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(Oa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new ka,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const c=Date.now()+r,d=new Vy(e,n,c,s,o);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fy(t,e){if(Ii("AsyncQueue",`${e}: ${t}`),vc(t))return new Ae(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{static emptySet(e){return new $l(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Me.comparator(n.key,r.key):(n,r)=>Me.comparator(n.key,r.key),this.keyedMap=Cu(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $l)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $l;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.ga=new Wt(Me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):He(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class nc{constructor(e,n,r,s,o,c,d,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,o){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new nc(e,n,$l.emptySet(n),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class mL{constructor(){this.queries=RE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Xe(n),o=s.queries;s.queries=RE(),o.forEach(((c,d)=>{for(const h of d.ba)h.onError(r)}))})(this,new Ae(se.ABORTED,"Firestore shutting down"))}}function RE(){return new za((t=>nT(t)),fm)}async function pL(t,e){const n=Xe(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.Sa()&&e.Da()&&(r=2):(o=new fL,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=Fy(c,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Uy(n)}async function gL(t,e){const n=Xe(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const c=o.ba.indexOf(e);c>=0&&(o.ba.splice(c,1),o.ba.length===0?s=e.Da()?0:1:!o.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vL(t,e){const n=Xe(t);let r=!1;for(const s of e){const o=s.query,c=n.queries.get(o);if(c){for(const d of c.ba)d.Fa(s)&&(r=!0);c.wa=s}}r&&Uy(n)}function yL(t,e,n){const r=Xe(t),s=r.queries.get(e);if(s)for(const o of s.ba)o.onError(n);r.queries.delete(e)}function Uy(t){t.Ca.forEach((e=>{e.next()}))}var Sv,PE;(PE=Sv||(Sv={})).Ma="default",PE.Cache="cache";class xL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new nc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.key=e}}class VT{constructor(e){this.key=e}}class wL{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ut(),this.mutatedKeys=ut(),this.eu=rT(e),this.tu=new $l(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new AE,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,v)=>{const x=s.get(g),b=mm(this.query,v)?v:null,S=!!x&&this.mutatedKeys.has(x.key),C=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let N=!1;x&&b?x.data.isEqual(b.data)?S!==C&&(r.track({type:3,doc:b}),N=!0):this.su(x,b)||(r.track({type:2,doc:b}),N=!0,(h&&this.eu(b,h)>0||p&&this.eu(b,p)<0)&&(d=!0)):!x&&b?(r.track({type:0,doc:b}),N=!0):x&&!b&&(r.track({type:1,doc:x}),N=!0,(h||p)&&(d=!0)),N&&(b?(c=c.add(b),o=C?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:c,iu:r,Ss:d,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,v)=>(function(b,S){const C=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Vt:N})}};return C(b)-C(S)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),s=s??!1;const d=n&&!s?this._u():[],h=this.Ya.size===0&&this.current&&!s?1:0,p=h!==this.Xa;return this.Xa=h,c.length!==0||p?{snapshot:new nc(this.query,e.tu,o,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new VT(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new LT(r))})),n}cu(e){this.Za=e.ks,this.Ya=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return nc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const zy="SyncEngine";class _L{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class EL{constructor(e){this.key=e,this.hu=!1}}class bL{constructor(e,n,r,s,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new za((d=>nT(d)),fm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Wt(Me.comparator),this.Au=new Map,this.Vu=new Ay,this.du={},this.mu=new Map,this.fu=tc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SL(t,e,n=!0){const r=$T(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await FT(r,e,n,!0),s}async function CL(t,e){const n=$T(t);await FT(n,e,!0,!1)}async function FT(t,e,n,r){const s=await z4(t.localStore,Vs(e)),o=s.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await TL(t,e,o,c==="current",s.resumeToken)),t.isPrimaryClient&&n&&RT(t.remoteStore,s),d}async function TL(t,e,n,r,s){t.pu=(v,x,b)=>(async function(C,N,L,D){let j=N.view.ru(L);j.Ss&&(j=await SE(C.localStore,N.query,!1).then((({documents:A})=>N.view.ru(A,j))));const B=D&&D.targetChanges.get(N.targetId),O=D&&D.targetMismatches.get(N.targetId)!=null,$=N.view.applyChanges(j,C.isPrimaryClient,B,O);return DE(C,N.targetId,$.au),$.snapshot})(t,v,x,b);const o=await SE(t.localStore,e,!0),c=new wL(e,o.ks),d=c.ru(o.documents),h=dd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=c.applyChanges(d,t.isPrimaryClient,h);DE(t,n,p.au);const g=new _L(e,n,c);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function NL(t,e,n){const r=Xe(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((c=>!fm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ev(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Dy(r.remoteStore,s.targetId),Cv(r,s.targetId)})).catch(gc)):(Cv(r,s.targetId),await Ev(r.localStore,s.targetId,!0))}async function IL(t,e){const n=Xe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dy(n.remoteStore,r.targetId))}async function kL(t,e,n){const r=ML(t);try{const s=await(function(c,d){const h=Xe(c),p=xt.now(),g=d.reduce(((b,S)=>b.add(S.key)),ut());let v,x;return h.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let S=ki(),C=ut();return h.xs.getEntries(b,g).next((N=>{S=N,S.forEach(((L,D)=>{D.isValidDocument()||(C=C.add(L))}))})).next((()=>h.localDocuments.getOverlayedDocuments(b,S))).next((N=>{v=N;const L=[];for(const D of d){const j=UM(D,v.get(D.key).overlayedDocument);j!=null&&L.push(new Oo(D.key,j,YC(j.value.mapValue),Xr.exists(!0)))}return h.mutationQueue.addMutationBatch(b,p,L,d)})).next((N=>{x=N;const L=N.applyToLocalDocumentSet(v,C);return h.documentOverlayCache.saveOverlays(b,N.batchId,L)}))})).then((()=>({batchId:x.batchId,changes:iT(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(c,d,h){let p=c.du[c.currentUser.toKey()];p||(p=new Wt(ct)),p=p.insert(d,h),c.du[c.currentUser.toKey()]=p})(r,s.batchId,n),await fd(r,s.changes),await wm(r.remoteStore)}catch(s){const o=Fy(s,"Failed to persist write");n.reject(o)}}async function UT(t,e){const n=Xe(t);try{const r=await V4(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const c=n.Au.get(o);c&&(wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?wt(c.hu,14607):s.removedDocuments.size>0&&(wt(c.hu,42227),c.hu=!1))})),await fd(n,r,e)}catch(r){await gc(r)}}function jE(t,e,n){const r=Xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(c,d){const h=Xe(c);h.onlineState=d;let p=!1;h.queries.forEach(((g,v)=>{for(const x of v.ba)x.va(d)&&(p=!0)})),p&&Uy(h)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AL(t,e,n){const r=Xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let c=new Wt(Me.comparator);c=c.insert(o,On.newNoDocument(o,Ge.min()));const d=ut().add(o),h=new vm(Ge.min(),new Map,new Wt(ct),c,d);await UT(r,h),r.Ru=r.Ru.remove(o),r.Au.delete(e),By(r)}else await Ev(r.localStore,e,!1).then((()=>Cv(r,e,n))).catch(gc)}async function RL(t,e){const n=Xe(t),r=e.batch.batchId;try{const s=await L4(n.localStore,e);BT(n,r,null),zT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fd(n,s)}catch(s){await gc(s)}}async function PL(t,e,n){const r=Xe(t);try{const s=await(function(c,d){const h=Xe(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return h.mutationQueue.lookupMutationBatch(p,d).next((v=>(wt(v!==null,37113),g=v.keys(),h.mutationQueue.removeMutationBatch(p,v)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>h.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);BT(r,e,n),zT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fd(r,s)}catch(s){await gc(s)}}function zT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function BT(t,e,n){const r=Xe(t);let s=r.du[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Cv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||WT(t,r)}))}function WT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Dy(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),By(t))}function DE(t,e,n){for(const r of n)r instanceof LT?(t.Vu.addReference(r.key,e),jL(t,r)):r instanceof VT?(_e(zy,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||WT(t,r.key)):He(19791,{wu:r})}function jL(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(_e(zy,"New document in limbo: "+n),t.Eu.add(r),By(t))}function By(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me(Dt.fromString(e)),r=t.fu.next();t.Au.set(r,new EL(n)),t.Ru=t.Ru.insert(n,r),RT(t.remoteStore,new go(Vs(Sy(n.path)),r,"TargetPurposeLimboResolution",cm.ce))}}async function fd(t,e,n){const r=Xe(t),s=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,h)=>{c.push(r.pu(h,e,n).then((p=>{var g;if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){s.push(p);const v=Py.Es(h.targetId,p);o.push(v)}})))})),await Promise.all(c),r.Pu.J_(s),await(async function(h,p){const g=Xe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ne.forEach(p,(x=>ne.forEach(x.Ts,(b=>g.persistence.referenceDelegate.addReference(v,x.targetId,b))).next((()=>ne.forEach(x.Is,(b=>g.persistence.referenceDelegate.removeReference(v,x.targetId,b)))))))))}catch(v){if(!vc(v))throw v;_e(jy,"Failed to update sequence numbers: "+v)}for(const v of p){const x=v.targetId;if(!v.fromCache){const b=g.vs.get(x),S=b.snapshotVersion,C=b.withLastLimboFreeSnapshotVersion(S);g.vs=g.vs.insert(x,C)}}})(r.localStore,o))}async function DL(t,e){const n=Xe(t);if(!n.currentUser.isEqual(e)){_e(zy,"User change. New user:",e.toKey());const r=await NT(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((h=>{h.reject(new Ae(se.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fd(n,r.Ns)}}function OL(t,e){const n=Xe(t),r=n.Au.get(e);if(r&&r.hu)return ut().add(r.key);{let s=ut();const o=n.Iu.get(e);if(!o)return s;for(const c of o){const d=n.Tu.get(c);s=s.unionWith(d.view.nu)}return s}}function $T(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AL.bind(null,e),e.Pu.J_=vL.bind(null,e.eventManager),e.Pu.yu=yL.bind(null,e.eventManager),e}function ML(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PL.bind(null,e),e}class Df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ym(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return M4(this.persistence,new j4,e.initialUser,this.serializer)}Cu(e){return new TT(Ry.Vi,this.serializer)}Du(e){return new W4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Df.provider={build:()=>new Df};class LL extends Df{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){wt(this.persistence.referenceDelegate instanceof Pf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new y4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new TT((r=>Pf.Vi(r,n)),this.serializer)}}class Tv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DL.bind(null,this.syncEngine),await hL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mL})()}createDatastore(e){const n=ym(e.databaseInfo.databaseId),r=K4(e.databaseInfo);return Z4(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,o,c,d){return new tL(r,s,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>jE(this.syncEngine,n,0)),(function(){return NE.v()?new NE:new $4})())}createSyncEngine(e,n){return(function(s,o,c,d,h,p,g){const v=new bL(s,o,c,d,h,p);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const o=Xe(s);_e(Oa,"RemoteStore shutting down."),o.Ea.add(5),await hd(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Tv.provider={build:()=>new Tv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="FirestoreClient";class FL{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=Dn.UNAUTHENTICATED,this.clientId=vy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{_e(ko,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(_e(ko,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ka;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Dg(t,e){t.asyncQueue.verifyOperationInProgress(),_e(ko,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await NT(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function OE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await UL(t);_e(ko,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>kE(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>kE(e.remoteStore,s))),t._onlineComponents=e}async function UL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(ko,"Using user provided OfflineComponentProvider");try{await Dg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===se.FAILED_PRECONDITION||s.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Da("Error using user provided cache. Falling back to memory cache: "+n),await Dg(t,new Df)}}else _e(ko,"Using default OfflineComponentProvider"),await Dg(t,new LL(void 0));return t._offlineComponents}async function HT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(ko,"Using user provided OnlineComponentProvider"),await OE(t,t._uninitializedComponentsProvider._online)):(_e(ko,"Using default OnlineComponentProvider"),await OE(t,new Tv))),t._onlineComponents}function zL(t){return HT(t).then((e=>e.syncEngine))}async function ME(t){const e=await HT(t),n=e.eventManager;return n.onListen=SL.bind(null,e.syncEngine),n.onUnlisten=NL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=IL.bind(null,e.syncEngine),n}function BL(t,e,n,r){const s=new VL(r),o=new xL(e,s,n);return t.asyncQueue.enqueueAndForget((async()=>pL(await ME(t),o))),()=>{s.Nu(),t.asyncQueue.enqueueAndForget((async()=>gL(await ME(t),o)))}}function WL(t,e){const n=new ka;return t.asyncQueue.enqueueAndForget((async()=>kL(await zL(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="ComponentProvider",LE=new Map;function HL(t,e,n,r,s){return new lM(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,qT(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firestore.googleapis.com",VE=!0;class FE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GT,this.ssl=VE}else this.host=e.host,this.ssl=e.ssl??VE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<g4)throw new Ae(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _m{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new zO;switch(r.type){case"firstParty":return new HO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=LE.get(n);r&&(_e($L,"Removing Datastore"),LE.delete(n),r.terminate())})(this),Promise.resolve()}}function qL(t,e,n,r={}){var p;t=_o(t,_m);const s=Di(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;s&&(nm(`https://${d}`),rm("Firestore",!0)),o.host!==GT&&o.host!==d&&Da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:d,ssl:s,emulatorOptions:r};if(!Ra(h,c)&&(t._setSettings(h),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=Dn.MOCK_USER;else{g=HS(r.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Ae(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Dn(x)}t._authCredentials=new BO(new LC(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Em(this.firestore,e,this._query)}}class ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(cd(n,ln._jsonSchema))return new ln(e,r||null,new Me(Dt.fromString(n.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:en("string",ln._jsonSchemaVersion),referencePath:en("string")};class Eo extends Em{constructor(e,n,r){super(e,n,Sy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new Me(e))}withConverter(e){return new Eo(this.firestore,e,this._path)}}function Og(t,e,...n){if(t=qt(t),VC("collection","path",e),t instanceof _m){const r=Dt.fromString(e,...n);return J0(r),new Eo(t,null,r)}{if(!(t instanceof ln||t instanceof Eo))throw new Ae(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return J0(r),new Eo(t.firestore,null,r)}}function lf(t,e,...n){if(t=qt(t),arguments.length===1&&(e=vy.newId()),VC("doc","path",e),t instanceof _m){const r=Dt.fromString(e,...n);return X0(r),new ln(t,null,new Me(r))}{if(!(t instanceof ln||t instanceof Eo))throw new Ae(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return X0(r),new ln(t.firestore,t instanceof Eo?t.converter:null,new Me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="AsyncQueue";class zE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kT(this,"async_queue_retry"),this._c=()=>{const r=jg();r&&_e(UE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=jg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ka;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!vc(e))throw e;_e(UE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ii("INTERNAL UNHANDLED ERROR: ",BE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Vy.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&He(47125,{Pc:BE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function BE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class rc extends _m{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new zE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zE(e),this._firestoreClient=void 0,await e}}}function GL(t,e){const n=typeof t=="object"?t:sm(),r=typeof t=="string"?t:Cf,s=id(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=iy("firestore");o&&qL(s,...o)}return s}function KT(t){if(t._terminated)throw new Ae(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||KL(t),t._firestoreClient}function KL(t){var r,s,o,c;const e=t._freezeSettings(),n=HL(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new FL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ar(Sn.fromBase64String(e))}catch(n){throw new Ae(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ar(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cd(e,Ar._jsonSchema))return Ar.fromBase64String(e.bytes)}}Ar._jsonSchemaVersion="firestore/bytes/1.0",Ar._jsonSchema={type:en("string",Ar._jsonSchemaVersion),bytes:en("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Us._jsonSchemaVersion}}static fromJSON(e){if(cd(e,Us._jsonSchema))return new Us(e.latitude,e.longitude)}}Us._jsonSchemaVersion="firestore/geoPoint/1.0",Us._jsonSchema={type:en("string",Us._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cd(e,Jr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Jr(e.vectorValues);throw new Ae(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jr._jsonSchemaVersion="firestore/vectorValue/1.0",Jr._jsonSchema={type:en("string",Jr._jsonSchemaVersion),vectorValues:en("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=/^__.*__$/;class QL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new ud(e,this.data,n,this.fieldTransforms)}}class YT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{dataSource:t})}}class Hy{constructor(e,n,r,s,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Hy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Of(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(QT(this.dataSource)&&YL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class XL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ym(e)}createContext(e,n,r,s=!1){return new Hy({dataSource:e,methodName:n,targetDoc:r,path:bn.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XT(t){const e=t._freezeSettings(),n=ym(t._databaseId);return new XL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JL(t,e,n,r,s,o={}){const c=t.createContext(o.merge||o.mergeFields?2:0,e,n,s);qy("Data must be an object, but it was:",c,r);const d=JT(r,c);let h,p;if(o.merge)h=new mr(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const x=Gu(e,v,n);if(!c.contains(x))throw new Ae(se.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);t1(g,x)||g.push(x)}h=new mr(g),p=c.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,p=c.fieldTransforms;return new QL(new Xn(d),h,p)}class bm extends $y{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bm}}function ZL(t,e,n,r){const s=t.createContext(1,e,n);qy("Data must be an object, but it was:",s,r);const o=[],c=Xn.empty();Do(r,((h,p)=>{const g=e1(e,h,n);p=qt(p);const v=s.childContextForFieldPath(g);if(p instanceof bm)o.push(g);else{const x=Sm(p,v);x!=null&&(o.push(g),c.set(g,x))}}));const d=new mr(o);return new YT(c,d,s.fieldTransforms)}function eV(t,e,n,r,s,o){const c=t.createContext(1,e,n),d=[Gu(e,r,n)],h=[s];if(o.length%2!=0)throw new Ae(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)d.push(Gu(e,o[x])),h.push(o[x+1]);const p=[],g=Xn.empty();for(let x=d.length-1;x>=0;--x)if(!t1(p,d[x])){const b=d[x];let S=h[x];S=qt(S);const C=c.childContextForFieldPath(b);if(S instanceof bm)p.push(b);else{const N=Sm(S,C);N!=null&&(p.push(b),g.set(b,N))}}const v=new mr(p);return new YT(g,v,c.fieldTransforms)}function Sm(t,e){if(ZT(t=qt(t)))return qy("Unsupported field value:",e,t),JT(t,e);if(t instanceof $y)return(function(r,s){if(!QT(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const o=[];let c=0;for(const d of r){let h=Sm(d,s.childContextForArray(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}})(t,e)}return(function(r,s){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=xt.fromDate(r);return{timestampValue:Rf(s.serializer,o)}}if(r instanceof xt){const o=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rf(s.serializer,o)}}if(r instanceof Us)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ar)return{bytesValue:vT(s.serializer,r._byteString)};if(r instanceof ln){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ky(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Jr)return(function(c,d){const h=c instanceof Jr?c.toArray():c;return{mapValue:{fields:{[GC]:{stringValue:KC},[Tf]:{arrayValue:{values:h.map((g=>{if(typeof g!="number")throw d.createError("VectorValues must only contain numeric values.");return Cy(d.serializer,g)}))}}}}}})(r,s);if(ST(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${yy(r)}`)})(t,e)}function JT(t,e){const n={};return zC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Do(t,((r,s)=>{const o=Sm(s,e.childContextForField(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function ZT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof Us||t instanceof Ar||t instanceof ln||t instanceof $y||t instanceof Jr||ST(t))}function qy(t,e,n){if(!ZT(n)||!FC(n)){const r=yy(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Gu(t,e,n){if((e=qt(e))instanceof Wy)return e._internalPath;if(typeof e=="string")return e1(t,e);throw Of("Field path arguments must be of type string or ",t,!1,void 0,n)}const tV=new RegExp("[~\\*/\\[\\]]");function e1(t,e,n){if(e.search(tV)>=0)throw Of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wy(...e.split("."))._internalPath}catch{throw Of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Of(t,e,n,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${r}`),c&&(h+=` in document ${s}`),h+=")"),new Ae(se.INVALID_ARGUMENT,d+t+h)}function t1(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{convertValue(e,n="none"){switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(To(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Do(e,((s,o)=>{r[s]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,s,o;const n=(o=(s=(r=e.fields)==null?void 0:r[Tf].arrayValue)==null?void 0:s.values)==null?void 0:o.map((c=>Yt(c.doubleValue)));return new Jr(n)}convertGeoPoint(e){return new Us(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){const n=Co(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);wt(bT(r),9688,{name:e});const s=new Wu(r.get(1),r.get(3)),o=new Me(r.popFirst(5));return s.isEqual(n)||Ii(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends nV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ar(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}const WE="@firebase/firestore",$E="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Gu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rV extends r1{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function iV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends r1{constructor(e,n,r,s,o,c){super(e,n,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:en("string",Aa._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class cf extends Aa{data(e={}){return super.data(e)}}class Hl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Nu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new cf(this._firestore,this._userDataWriter,r.key,r,new Nu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((d=>{const h=new cf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Nu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const h=new cf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Nu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),g=c.indexOf(d.doc.key)),{type:oV(d.type),doc:h,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hl._jsonSchemaVersion="firestore/querySnapshot/1.0",Hl._jsonSchema={type:en("string",Hl._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};function qE(t,e,n,...r){t=_o(t,ln);const s=_o(t.firestore,rc),o=XT(s);let c;return c=typeof(e=qt(e))=="string"||e instanceof Wy?eV(o,"updateDoc",t._key,e,n,r):ZL(o,"updateDoc",t._key,e),Gy(s,[c.toMutation(t._key,Xr.exists(!0))])}function aV(t){return Gy(_o(t.firestore,rc),[new Ty(t._key,Xr.none())])}function GE(t,e){const n=_o(t.firestore,rc),r=lf(t),s=iV(t.converter,e),o=XT(t.firestore);return Gy(n,[JL(o,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Xr.exists(!1))]).then((()=>r))}function lV(t,...e){var p,g,v;t=qt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||HE(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(HE(e[r])){const x=e[r];e[r]=(p=x.next)==null?void 0:p.bind(x),e[r+1]=(g=x.error)==null?void 0:g.bind(x),e[r+2]=(v=x.complete)==null?void 0:v.bind(x)}let o,c,d;if(t instanceof ln)c=_o(t.firestore,rc),d=Sy(t._key.path),o={next:x=>{e[r]&&e[r](cV(c,t,x))},error:e[r+1],complete:e[r+2]};else{const x=_o(t,Em);c=_o(x.firestore,rc),d=x._query;const b=new n1(c);o={next:S=>{e[r]&&e[r](new Hl(c,b,x,S))},error:e[r+1],complete:e[r+2]},sV(t._query)}const h=KT(c);return BL(h,d,s,o)}function Gy(t,e){const n=KT(t);return WL(n,e)}function cV(t,e,n){const r=n.docs.get(e._key),s=new n1(t);return new Aa(t,s,e._key,r,new Nu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){UO(Fa),bo(new Ci("firestore",((r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new rc(new WO(r.getProvider("auth-internal")),new qO(c,r.getProvider("app-check-internal")),cM(c,s),c);return o={useFetchStreams:n,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),Rr(WE,$E,e),Rr(WE,$E,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firebasestorage.googleapis.com",uV="storageBucket",dV=120*1e3,hV=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends ss{constructor(e,n,r=0){super(Mg(e),`Firebase Storage: ${n} (${Mg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ks.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hs||(Hs={}));function Mg(t){return"storage/"+t}function fV(){const t="An unknown error occurred, please check the error payload for server response.";return new Ks(Hs.UNKNOWN,t)}function mV(){return new Ks(Hs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pV(){return new Ks(Hs.CANCELED,"User canceled the upload/download.")}function gV(t){return new Ks(Hs.INVALID_URL,"Invalid URL '"+t+"'.")}function vV(t){return new Ks(Hs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function KE(t){return new Ks(Hs.INVALID_ARGUMENT,t)}function i1(){return new Ks(Hs.APP_DELETED,"The Firebase app was deleted.")}function yV(t){return new Ks(Hs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Yr.makeFromUrl(e,n)}catch{return new Yr(e,"")}if(r.path==="")return r;throw vV(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+s+c,"i"),h={bucket:1,path:3};function p(B){B.path_=decodeURIComponent(B.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",b=new RegExp(`^https?://${v}/${g}/b/${s}/o${x}`,"i"),S={bucket:1,path:3},C=n===s1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",L=new RegExp(`^https?://${C}/${s}/${N}`,"i"),j=[{regex:d,indices:h,postModify:o},{regex:b,indices:S,postModify:p},{regex:L,indices:{bucket:1,path:2},postModify:p}];for(let B=0;B<j.length;B++){const O=j[B],$=O.regex.exec(e);if($){const A=$[O.indices.bucket];let I=$[O.indices.path];I||(I=""),r=new Yr(A,I),O.postModify(r);break}}if(r==null)throw gV(e);return r}}class xV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t,e,n){let r=1,s=null,o=null,c=!1,d=0;function h(){return d===2}let p=!1;function g(...N){p||(p=!0,e.apply(null,N))}function v(N){s=setTimeout(()=>{s=null,t(b,h())},N)}function x(){o&&clearTimeout(o)}function b(N,...L){if(p){x();return}if(N){x(),g.call(null,N,...L);return}if(h()||c){x(),g.call(null,N,...L);return}r<64&&(r*=2);let j;d===1?(d=2,j=0):j=(r+Math.random())*1e3,v(j)}let S=!1;function C(N){S||(S=!0,x(),!p&&(s!==null?(N||(d=2),clearTimeout(s),v(0)):N||(d=1)))}return v(0),o=setTimeout(()=>{c=!0,C(!0)},n),C}function _V(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t){return t!==void 0}function YE(t,e,n,r){if(r<e)throw KE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw KE(`Invalid value for '${t}'. Expected ${n} or less.`)}function bV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Mf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Mf||(Mf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n,r,s,o,c,d,h,p,g,v,x=!0,b=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,C)=>{this.resolve_=S,this.reject_=C,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Uh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{const h=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===Mf.NO_ERROR,h=o.getStatus();if(!d||SV(h,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Mf.ABORT;r(!1,new Uh(!1,null,g));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new Uh(p,o))})},n=(r,s)=>{const o=this.resolve_,c=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());EV(h)?o(h):o()}catch(h){c(h)}else if(d!==null){const h=fV();h.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,h)):c(h)}else if(s.canceled){const h=this.appDelete_?i1():pV();c(h)}else{const h=mV();c(h)}};this.canceled_?n(!1,new Uh(!1,null,!0)):this.backoffId_=wV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_V(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Uh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function TV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function NV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function IV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function kV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function AV(t,e,n,r,s,o,c=!0,d=!1){const h=bV(t.urlParams),p=t.url+h,g=Object.assign({},t.headers);return IV(g,e),TV(g,n),NV(g,o),kV(g,r),new CV(p,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function PV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this._service=e,n instanceof Yr?this._location=n:this._location=Yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Lf(e,n)}get root(){const e=new Yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PV(this._location.path)}get storage(){return this._service}get parent(){const e=RV(this._location.path);if(e===null)return null;const n=new Yr(this._location.bucket,e);return new Lf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yV(e)}}function QE(t,e){const n=e==null?void 0:e[uV];return n==null?null:Yr.makeFromBucketSpec(n,t)}function jV(t,e,n,r={}){t.host=`${e}:${n}`;const s=Di(e);s&&(nm(`https://${t.host}/b`),rm("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:HS(o,t.app.options.projectId))}class DV{constructor(e,n,r,s,o,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=s1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dV,this._maxUploadRetryTime=hV,this._requests=new Set,s!=null?this._bucket=Yr.makeFromBucketSpec(s,this._host):this._bucket=QE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yr.makeFromBucketSpec(this._url,e):this._bucket=QE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Lf(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new xV(i1());{const c=AV(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const XE="@firebase/storage",JE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="storage";function OV(t=sm(),e){t=qt(t);const r=id(t,o1).getImmediate({identifier:e}),s=iy("storage");return s&&MV(r,...s),r}function MV(t,e,n,r={}){jV(t,e,n,r)}function LV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new DV(n,r,s,e,Fa)}function VV(){bo(new Ci(o1,LV,"PUBLIC").setMultipleInstances(!0)),Rr(XE,JE,""),Rr(XE,JE,"esm2020")}VV();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="type.googleapis.com/google.protobuf.Int64Value",UV="type.googleapis.com/google.protobuf.UInt64Value";function a1(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Vf(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Vf(e));if(typeof t=="function"||typeof t=="object")return a1(t,e=>Vf(e));throw new Error("Data cannot be encoded in JSON: "+t)}function sc(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case FV:case UV:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>sc(e)):typeof t=="function"||typeof t=="object"?a1(t,e=>sc(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Jn extends ss{constructor(e,n,r){super(`${Ky}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Jn.prototype)}}function zV(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Ff(t,e){let n=zV(t),r=n,s;try{const o=e&&e.error;if(o){const c=o.status;if(typeof c=="string"){if(!ZE[c])return new Jn("internal","internal");n=ZE[c],r=c}const d=o.message;typeof d=="string"&&(r=d),s=o.details,s!==void 0&&(s=sc(s))}}catch{}return n==="ok"?null:new Jn(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,fr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||s==null||s.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="us-central1",WV=/^data: (.*?)(?:\n|$)/;function $V(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Jn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class HV{constructor(e,n,r,s,o=Nv,c=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new BV(e,n,r,s),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(o);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=Nv}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function qV(t,e,n){const r=Di(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(nm(t.emulatorOrigin+"/backends"),rm("Functions",!0))}function GV(t,e,n){const r=s=>YV(t,e,s,{});return r.stream=(s,o)=>XV(t,e,s,o),r}function l1(t){return t.emulatorOrigin&&Di(t.emulatorOrigin)?"include":void 0}async function KV(t,e,n,r,s){n["Content-Type"]="application/json";let o;try{o=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:l1(s)})}catch{return{status:0,json:null}}let c=null;try{c=await o.json()}catch{}return{status:o.status,json:c}}async function c1(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function YV(t,e,n,r){const s=t._url(e);return QV(t,s,n,r)}async function QV(t,e,n,r){n=Vf(n);const s={data:n},o=await c1(t,r),c=r.timeout||7e4,d=$V(c),h=await Promise.race([KV(e,s,o,t.fetchImpl,t),d.promise,t.cancelAllRequests]);if(d.cancel(),!h)throw new Jn("cancelled","Firebase Functions instance was deleted.");const p=Ff(h.status,h.json);if(p)throw p;if(!h.json)throw new Jn("internal","Response is not valid JSON object.");let g=h.json.data;if(typeof g>"u"&&(g=h.json.result),typeof g>"u")throw new Jn("internal","Response is missing data field.");return{data:sc(g)}}function XV(t,e,n,r){const s=t._url(e);return JV(t,s,n,r||{})}async function JV(t,e,n,r){var x;n=Vf(n);const s={data:n},o=await c1(t,r);o["Content-Type"]="application/json",o.Accept="text/event-stream";let c;try{c=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:o,signal:r==null?void 0:r.signal,credentials:l1(t)})}catch(b){if(b instanceof Error&&b.name==="AbortError"){const C=new Jn("cancelled","Request was cancelled.");return{data:Promise.reject(C),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(C)}}}}}}const S=Ff(0,null);return{data:Promise.reject(S),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(S)}}}}}}let d,h;const p=new Promise((b,S)=>{d=b,h=S});(x=r==null?void 0:r.signal)==null||x.addEventListener("abort",()=>{const b=new Jn("cancelled","Request was cancelled.");h(b)});const g=c.body.getReader(),v=ZV(g,d,h,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const b=v.getReader();return{async next(){const{value:S,done:C}=await b.read();return{value:S,done:C}},async return(){return await b.cancel(),{done:!0,value:void 0}}}}},data:p}}function ZV(t,e,n,r){const s=(c,d)=>{const h=c.match(WV);if(!h)return;const p=h[1];try{const g=JSON.parse(p);if("result"in g){e(sc(g.result));return}if("message"in g){d.enqueue(sc(g.message));return}if("error"in g){const v=Ff(0,g);d.error(v),n(v);return}}catch(g){if(g instanceof Jn){d.error(g),n(g);return}}},o=new TextDecoder;return new ReadableStream({start(c){let d="";return h();async function h(){if(r!=null&&r.aborted){const p=new Jn("cancelled","Request was cancelled");return c.error(p),n(p),Promise.resolve()}try{const{value:p,done:g}=await t.read();if(g){d.trim()&&s(d.trim(),c),c.close();return}if(r!=null&&r.aborted){const x=new Jn("cancelled","Request was cancelled");c.error(x),n(x),await t.cancel();return}d+=o.decode(p,{stream:!0});const v=d.split(`
`);d=v.pop()||"";for(const x of v)x.trim()&&s(x.trim(),c);return h()}catch(p){const g=p instanceof Jn?p:Ff(0,null);c.error(g),n(g)}}},cancel(){return t.cancel()}})}const eb="@firebase/functions",tb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF="auth-internal",tF="app-check-internal",nF="messaging-internal";function rF(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),o=n.getProvider(eF),c=n.getProvider(nF),d=n.getProvider(tF);return new HV(s,o,c,d,r)};bo(new Ci(Ky,e,"PUBLIC").setMultipleInstances(!0)),Rr(eb,tb,t),Rr(eb,tb,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t=sm(),e=Nv){const r=id(qt(t),Ky).getImmediate({identifier:e}),s=iy("functions");return s&&iF(r,...s),r}function iF(t,e,n){qV(qt(t),e,n)}function oF(t,e,n){return GV(qt(t),e)}rF();const aF={apiKey:"AIzaSyAW-K6O13y3Tl4I5mJT0Os9lphAkk-Vw70",authDomain:"casa-ramayon.firebaseapp.com",projectId:"casa-ramayon",storageBucket:"casa-ramayon.firebasestorage.app",messagingSenderId:"577627616386",appId:"1:577627616386:web:9b970b73ec573fbea8f09b"},Cm=KS(aF),Il=GL(Cm);OV(Cm);const Lg=MO(Cm),lF=sF(Cm);function cF(t){return oF(lF,t)}const u1=w.createContext(void 0);function uF({children:t}){const[e,n]=w.useState(null),[r,s]=w.useState(!0);w.useEffect(()=>{const d=SD(Lg,h=>{n(h),s(!1)});return()=>d()},[]);const o=async(d,h)=>{await _D(Lg,d,h)},c=async()=>{await CD(Lg)};return l.jsx(u1.Provider,{value:{user:e,loading:r,signIn:o,signOut:c},children:t})}function Yy(){const t=w.useContext(u1);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const d1=w.createContext(void 0);function dF(t){const e=t.replace(/\D/g,""),n=parseInt(e,10);return isNaN(n)?0:n}function hF(t){return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function fF({children:t}){const[e,n]=w.useState([]),[r,s]=w.useState(!1),o=(v,x=1)=>{n(b=>b.find(C=>C.product.id===v.id)?b.map(C=>C.product.id===v.id?{...C,quantity:C.quantity+x}:C):[...b,{product:v,quantity:x}])},c=v=>{n(x=>x.filter(b=>b.product.id!==v))},d=(v,x)=>{if(x<=0){c(v);return}n(b=>b.map(S=>S.product.id===v?{...S,quantity:x}:S))},h=()=>n([]),p=e.reduce((v,x)=>v+x.quantity,0),g=hF(e.reduce((v,x)=>v+dF(x.product.price)*x.quantity,0));return l.jsx(d1.Provider,{value:{items:e,addToCart:o,removeFromCart:c,updateQuantity:d,clearCart:h,itemCount:p,totalFormatted:g,cartOpen:r,setCartOpen:s,openCart:()=>s(!0)},children:t})}function Qy(){const t=w.useContext(d1);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t}const h1="dmg61dxrz",mF="casa_ramayon",uf=()=>!!h1,pF=async(t,e="general")=>{var o;const n=new FormData;n.append("file",t),n.append("upload_preset",mF),n.append("folder",`casa_ramayon/${e}`);const r=await fetch(`https://api.cloudinary.com/v1_1/${h1}/image/upload`,{method:"POST",body:n});if(!r.ok){const c=await r.json();throw new Error(((o=c.error)==null?void 0:o.message)||"Failed to upload image")}return(await r.json()).secure_url},nb=[],rb=[],sb=[],ib=[],ob=[{id:"1",name:"Amigo Mentor - Casa Ramayon",price:"$50.000",period:"mensual",description:"Nuestra categora ms exclusiva. Incluye beneficios premium en eventos, formacin y la posibilidad de utilizar el espacio para tus propios eventos.",benefits:["Brindis Privados: Invitacin exclusiva a previas de inauguraciones artsticas o nuevos ciclos.","Pase Libre Cultural: Entrada libre a todos los eventos pagos de la agenda anual.","Acceso Total a Formacin: 50% de descuento en talleres, clnicas y seminarios.","Experiencias Exclusivas (+1): Invitado a eventos especiales para la comunidad.","Beneficios en Obra y Tienda: 15% o 20% de descuento en compra de obras.","Casa Ramayon con vos: Uso del espacio con 50% de descuento una vez al ao."],featured:!0,isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"2",name:"Amigo Aliado - Casa Ramayon",price:"$20.000",period:"mensual",description:"Una forma accesible de sumarte a la comunidad. Pensado para quienes quieren acercarse a la cultura y disfrutar de beneficios en la casa.",benefits:["10% de descuento en la Yerbatera.","20% de descuento en todos los cursos y talleres de La Casa.","30% de descuento en entradas a conciertos.","Prioridad en eventos con capacidad reducida."],featured:!1,isActive:!0,createdAt:new Date,updatedAt:new Date}],ab=[],lb=[],cb=[],ub=[{id:"historia",slug:"historia",title:"Nuestra Historia",content:"Casa Ramayon naci en...",isActive:!0,updatedAt:new Date},{id:"espacio",slug:"espacio",title:"El Espacio",content:"Nuestras instalaciones incluyen...",isActive:!0,updatedAt:new Date},{id:"amigo",slug:"amigo",title:"Hacete Amigo",subtitle:"Sumate a la comunidad de Casa Ramayon y colabor con el espacio cultural. Eleg la categora que ms te guste y disfrut de beneficios exclusivos, descuentos en eventos, talleres y mucho ms.",content:"Tu generosidad construye la cultura.",isActive:!0,updatedAt:new Date}],f1=w.createContext(void 0),et={events:"casa_ramayon_events",products:"casa_ramayon_products",workshops:"casa_ramayon_workshops",guidedTours:"casa_ramayon_guided_tours",memberships:"casa_ramayon_memberships",sponsors:"casa_ramayon_sponsors",teamMembers:"casa_ramayon_team_members",pages:"casa_ramayon_pages",subscribers:"casa_ramayon_subscribers"},Ns=(t,e)=>{try{const n=localStorage.getItem(t);if(n)return JSON.parse(n)}catch(n){console.error("Error loading from localStorage:",n)}return e},zh=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error("Error saving to localStorage:",n)}};function gF({children:t}){const[e,n]=w.useState([]),[r,s]=w.useState([]),[o,c]=w.useState([]),[d,h]=w.useState([]),[p,g]=w.useState([]),[v,x]=w.useState([]),[b,S]=w.useState([]),[C,N]=w.useState([]),[L,D]=w.useState([]),[j,B]=w.useState(!0),[O,$]=w.useState(!1);w.useEffect(()=>{if(O)n(Ns(et.events,nb)),s(Ns(et.products,rb)),c(Ns(et.workshops,sb)),h(Ns(et.guidedTours,ib)),g(Ns(et.memberships,ob)),x(Ns(et.sponsors,ab)),S(Ns(et.teamMembers,cb)),N(Ns(et.pages,ub)),D(Ns(et.subscribers,lb)),B(!1);else{const fe=[],Pe=(Tt,Ke,tt,Vt)=>lV(Og(Il,Tt),nn=>{const Cn=nn.docs.map(Qt=>{var er,os;return{id:Qt.id,...Qt.data(),createdAt:((er=Qt.data().createdAt)==null?void 0:er.toDate())||new Date,updatedAt:((os=Qt.data().updatedAt)==null?void 0:os.toDate())||new Date}});tt(Cn)},nn=>{console.error(`Error fetching ${Tt}:`,nn),$(!0),tt(Ns(Ke,Vt))});return fe.push(Pe("events",et.events,n,nb)),fe.push(Pe("products",et.products,s,rb)),fe.push(Pe("workshops",et.workshops,c,sb)),fe.push(Pe("guidedTours",et.guidedTours,h,ib)),fe.push(Pe("memberships",et.memberships,g,ob)),fe.push(Pe("sponsors",et.sponsors,x,ab)),fe.push(Pe("teamMembers",et.teamMembers,S,cb)),fe.push(Pe("pages",et.pages,N,ub)),fe.push(Pe("subscribers",et.subscribers,D,lb)),setTimeout(()=>B(!1),2e3),()=>fe.forEach(Tt=>Tt())}},[O]);const A=async(fe,Pe,Tt,Ke,tt)=>{const Vt={...Tt,createdAt:new Date,updatedAt:new Date};if(O){const nn=Date.now().toString(),Cn={...Vt,id:nn},Qt=[...Ke,Cn];tt(Qt),zh(Pe,Qt)}else await GE(Og(Il,fe),{...Vt,createdAt:xt.now(),updatedAt:xt.now()})},I=async(fe,Pe,Tt,Ke,tt,Vt)=>{const nn={...Ke,updatedAt:new Date};if(O){const Cn=tt.map(Qt=>Qt.id===Tt?{...Qt,...nn}:Qt);Vt(Cn),zh(Pe,Cn)}else await qE(lf(Il,fe,Tt),{...nn,updatedAt:xt.now()})},P=async(fe,Pe,Tt,Ke,tt)=>{if(O){const Vt=Ke.filter(nn=>nn.id!==Tt);tt(Vt),zh(Pe,Vt)}else await aV(lf(Il,fe,Tt))},F=fe=>A("events",et.events,fe,e,n),U=(fe,Pe)=>I("events",et.events,fe,Pe,e,n),M=fe=>P("events",et.events,fe,e,n),k=fe=>A("products",et.products,fe,r,s),ae=(fe,Pe)=>I("products",et.products,fe,Pe,r,s),ge=fe=>P("products",et.products,fe,r,s),pe=fe=>A("workshops",et.workshops,fe,o,c),ye=(fe,Pe)=>I("workshops",et.workshops,fe,Pe,o,c),z=fe=>P("workshops",et.workshops,fe,o,c),K=fe=>A("guidedTours",et.guidedTours,fe,d,h),Y=(fe,Pe)=>I("guidedTours",et.guidedTours,fe,Pe,d,h),H=fe=>P("guidedTours",et.guidedTours,fe,d,h),te=fe=>A("memberships",et.memberships,fe,p,g),ve=(fe,Pe)=>I("memberships",et.memberships,fe,Pe,p,g),xe=fe=>P("memberships",et.memberships,fe,p,g),Oe=fe=>A("sponsors",et.sponsors,fe,v,x),De=(fe,Pe)=>I("sponsors",et.sponsors,fe,Pe,v,x),oe=fe=>P("sponsors",et.sponsors,fe,v,x),Ee=fe=>A("teamMembers",et.teamMembers,fe,b,S),Re=(fe,Pe)=>I("teamMembers",et.teamMembers,fe,Pe,b,S),Ue=fe=>P("teamMembers",et.teamMembers,fe,b,S),Je=async fe=>{const Pe=fe.trim().toLowerCase();if(!Pe)throw new Error("Por favor ingres un email vlido");if(L.some(Ke=>Ke.email.toLowerCase()===Pe))throw new Error("Este email ya est suscrito");await A("subscribers",et.subscribers,{email:Pe},L,D)},Ze=fe=>P("subscribers",et.subscribers,fe,L,D),It=async(fe,Pe)=>{const Tt={...Pe,updatedAt:new Date};if(O){const Ke=C.map(tt=>tt.slug===fe?{...tt,...Tt}:tt);C.find(tt=>tt.slug===fe)||Ke.push({id:fe,slug:fe,title:Pe.title||"",content:Pe.content||"",isActive:Pe.isActive??!0,updatedAt:new Date}),N(Ke),zh(et.pages,Ke)}else{const Ke=C.find(tt=>tt.slug===fe);Ke?await qE(lf(Il,"pages",Ke.id),{...Tt,updatedAt:xt.now()}):await GE(Og(Il,"pages"),{slug:fe,...Tt,updatedAt:xt.now()})}},$t=async(fe,Pe)=>{if(!uf())throw new Error("Cloudinary no est configurado. Agreg VITE_CLOUDINARY_CLOUD_NAME y VITE_CLOUDINARY_UPLOAD_PRESET en tu archivo .env. Ver Configuracin en el panel.");return await pF(fe,Pe)},Bn=async fe=>{console.log("Image deletion not implemented:",fe)};return l.jsx(f1.Provider,{value:{events:e,products:r,workshops:o,guidedTours:d,memberships:p,sponsors:v,teamMembers:b,pages:C,subscribers:L,loading:j,useLocalStorage:O,addEvent:F,updateEvent:U,deleteEvent:M,addProduct:k,updateProduct:ae,deleteProduct:ge,addWorkshop:pe,updateWorkshop:ye,deleteWorkshop:z,addGuidedTour:K,updateGuidedTour:Y,deleteGuidedTour:H,addMembership:te,updateMembership:ve,deleteMembership:xe,addSponsor:Oe,updateSponsor:De,deleteSponsor:oe,addTeamMember:Ee,updateTeamMember:Re,deleteTeamMember:Ue,updatePage:It,addSubscriber:Je,deleteSubscriber:Ze,uploadImage:$t,deleteImage:Bn},children:t})}function zn(){const t=w.useContext(f1);if(t===void 0)throw new Error("useData must be used within a DataProvider");return t}function vF({children:t}){const{user:e,loading:n}=Yy(),r=Gs(),s=localStorage.getItem("casa_ramayon_demo_auth")==="true";return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):!e&&!s?l.jsx(jS,{to:"/panel/login",state:{from:r},replace:!0}):l.jsx(l.Fragment,{children:t})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:c,...d},h)=>w.createElement("svg",{ref:h,...xF,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:m1("lucide",s),...d},[...c.map(([p,g])=>w.createElement(p,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(t,e)=>{const n=w.forwardRef(({className:r,...s},o)=>w.createElement(wF,{ref:o,iconNode:e,className:m1(`lucide-${yF(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=We("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=We("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=We("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=We("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=We("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=We("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=We("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=We("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=We("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=We("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=We("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=We("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=We("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=We("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=We("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=We("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=We("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=We("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=We("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=We("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=We("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=We("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=We("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=We("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=We("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=We("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=We("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=We("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=We("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=We("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=We("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=We("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=We("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=We("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=We("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=We("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=We("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=We("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=We("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=We("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=We("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function mb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function tx(...t){return e=>{let n=!1;const r=t.map(s=>{const o=mb(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():mb(t[s],null)}}}}function at(...t){return w.useCallback(tx(...t),t)}var Ao=w.forwardRef((t,e)=>{const{children:n,...r}=t,s=w.Children.toArray(n),o=s.find(HF);if(o){const c=o.props.children,d=s.map(h=>h===o?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:h);return l.jsx(Av,{...r,ref:e,children:w.isValidElement(c)?w.cloneElement(c,void 0,d):null})}return l.jsx(Av,{...r,ref:e,children:n})});Ao.displayName="Slot";var Av=w.forwardRef((t,e)=>{const{children:n,...r}=t;if(w.isValidElement(n)){const s=GF(n);return w.cloneElement(n,{...qF(r,n.props),ref:e?tx(e,s):s})}return w.Children.count(n)>1?w.Children.only(null):null});Av.displayName="SlotClone";var y1=({children:t})=>l.jsx(l.Fragment,{children:t});function HF(t){return w.isValidElement(t)&&t.type===y1}function qF(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...d)=>{o(...d),s(...d)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function GF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function x1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=x1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function w1(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=x1(t))&&(r&&(r+=" "),r+=e);return r}const pb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,gb=w1,Im=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return gb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,c=Object.keys(s).map(p=>{const g=n==null?void 0:n[p],v=o==null?void 0:o[p];if(g===null)return null;const x=pb(g)||pb(v);return s[p][x]}),d=n&&Object.entries(n).reduce((p,g)=>{let[v,x]=g;return x===void 0||(p[v]=x),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:v,className:x,...b}=g;return Object.entries(b).every(S=>{let[C,N]=S;return Array.isArray(N)?N.includes({...o,...d}[C]):{...o,...d}[C]===N})?[...p,v,x]:p},[]);return gb(t,c,h,n==null?void 0:n.class,n==null?void 0:n.className)},KF=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},YF=(t,e)=>({classGroupId:t,validator:e}),_1=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),zf="-",vb=[],QF="arbitrary..",XF=t=>{const e=ZF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return JF(c);const d=c.split(zf),h=d[0]===""&&d.length>1?1:0;return E1(d,h,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const h=r[c],p=n[c];return h?p?KF(p,h):h:p||vb}return n[c]||vb}}},E1=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const s=t[e],o=n.nextPart.get(s);if(o){const p=E1(t,e+1,o);if(p)return p}const c=n.validators;if(c===null)return;const d=e===0?t.join(zf):t.slice(e).join(zf),h=c.length;for(let p=0;p<h;p++){const g=c[p];if(g.validator(d))return g.classGroupId}},JF=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?QF+r:void 0})(),ZF=t=>{const{theme:e,classGroups:n}=t;return e3(n,e)},e3=(t,e)=>{const n=_1();for(const r in t){const s=t[r];nx(s,n,r,e)}return n},nx=(t,e,n,r)=>{const s=t.length;for(let o=0;o<s;o++){const c=t[o];t3(c,e,n,r)}},t3=(t,e,n,r)=>{if(typeof t=="string"){n3(t,e,n);return}if(typeof t=="function"){r3(t,e,n,r);return}s3(t,e,n,r)},n3=(t,e,n)=>{const r=t===""?e:b1(e,t);r.classGroupId=n},r3=(t,e,n,r)=>{if(i3(t)){nx(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(YF(n,t))},s3=(t,e,n,r)=>{const s=Object.entries(t),o=s.length;for(let c=0;c<o;c++){const[d,h]=s[c];nx(h,b1(e,d),n,r)}},b1=(t,e)=>{let n=t;const r=e.split(zf),s=r.length;for(let o=0;o<s;o++){const c=r[o];let d=n.nextPart.get(c);d||(d=_1(),n.nextPart.set(c,d)),n=d}return n},i3=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,o3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const s=(o,c)=>{n[o]=c,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let c=n[o];if(c!==void 0)return c;if((c=r[o])!==void 0)return s(o,c),c},set(o,c){o in n?n[o]=c:s(o,c)}}},Rv="!",yb=":",a3=[],xb=(t,e,n,r,s)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),l3=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let c=0,d=0,h=0,p;const g=s.length;for(let C=0;C<g;C++){const N=s[C];if(c===0&&d===0){if(N===yb){o.push(s.slice(h,C)),h=C+1;continue}if(N==="/"){p=C;continue}}N==="["?c++:N==="]"?c--:N==="("?d++:N===")"&&d--}const v=o.length===0?s:s.slice(h);let x=v,b=!1;v.endsWith(Rv)?(x=v.slice(0,-1),b=!0):v.startsWith(Rv)&&(x=v.slice(1),b=!0);const S=p&&p>h?p-h:void 0;return xb(o,b,x,S)};if(e){const s=e+yb,o=r;r=c=>c.startsWith(s)?o(c.slice(s.length)):xb(a3,!1,c,void 0,!0)}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},c3=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let o=0;o<n.length;o++){const c=n[o],d=c[0]==="[",h=e.has(c);d||h?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(c)):s.push(c)}return s.length>0&&(s.sort(),r.push(...s)),r}},u3=t=>({cache:o3(t.cacheSize),parseClassName:l3(t),sortModifiers:c3(t),...XF(t)}),d3=/\s+/,h3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,c=[],d=t.trim().split(d3);let h="";for(let p=d.length-1;p>=0;p-=1){const g=d[p],{isExternal:v,modifiers:x,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:C}=n(g);if(v){h=g+(h.length>0?" "+h:h);continue}let N=!!C,L=r(N?S.substring(0,C):S);if(!L){if(!N){h=g+(h.length>0?" "+h:h);continue}if(L=r(S),!L){h=g+(h.length>0?" "+h:h);continue}N=!1}const D=x.length===0?"":x.length===1?x[0]:o(x).join(":"),j=b?D+Rv:D,B=j+L;if(c.indexOf(B)>-1)continue;c.push(B);const O=s(L,N);for(let $=0;$<O.length;++$){const A=O[$];c.push(j+A)}h=g+(h.length>0?" "+h:h)}return h},f3=(...t)=>{let e=0,n,r,s="";for(;e<t.length;)(n=t[e++])&&(r=S1(n))&&(s&&(s+=" "),s+=r);return s},S1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=S1(t[r]))&&(n&&(n+=" "),n+=e);return n},m3=(t,...e)=>{let n,r,s,o;const c=h=>{const p=e.reduce((g,v)=>v(g),t());return n=u3(p),r=n.cache.get,s=n.cache.set,o=d,d(h)},d=h=>{const p=r(h);if(p)return p;const g=h3(h,n);return s(h,g),g};return o=c,(...h)=>o(f3(...h))},p3=[],on=t=>{const e=n=>n[t]||p3;return e.isThemeGetter=!0,e},C1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,T1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,g3=/^\d+\/\d+$/,v3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,y3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,x3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,w3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Al=t=>g3.test(t),rt=t=>!!t&&!Number.isNaN(Number(t)),lo=t=>!!t&&Number.isInteger(Number(t)),Fg=t=>t.endsWith("%")&&rt(t.slice(0,-1)),yi=t=>v3.test(t),E3=()=>!0,b3=t=>y3.test(t)&&!x3.test(t),N1=()=>!1,S3=t=>w3.test(t),C3=t=>_3.test(t),T3=t=>!Te(t)&&!Ne(t),N3=t=>_c(t,A1,N1),Te=t=>C1.test(t),Ca=t=>_c(t,R1,b3),Ug=t=>_c(t,P3,rt),wb=t=>_c(t,I1,N1),I3=t=>_c(t,k1,C3),Bh=t=>_c(t,P1,S3),Ne=t=>T1.test(t),_u=t=>Ec(t,R1),k3=t=>Ec(t,j3),_b=t=>Ec(t,I1),A3=t=>Ec(t,A1),R3=t=>Ec(t,k1),Wh=t=>Ec(t,P1,!0),_c=(t,e,n)=>{const r=C1.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Ec=(t,e,n=!1)=>{const r=T1.exec(t);return r?r[1]?e(r[1]):n:!1},I1=t=>t==="position"||t==="percentage",k1=t=>t==="image"||t==="url",A1=t=>t==="length"||t==="size"||t==="bg-size",R1=t=>t==="length",P3=t=>t==="number",j3=t=>t==="family-name",P1=t=>t==="shadow",D3=()=>{const t=on("color"),e=on("font"),n=on("text"),r=on("font-weight"),s=on("tracking"),o=on("leading"),c=on("breakpoint"),d=on("container"),h=on("spacing"),p=on("radius"),g=on("shadow"),v=on("inset-shadow"),x=on("text-shadow"),b=on("drop-shadow"),S=on("blur"),C=on("perspective"),N=on("aspect"),L=on("ease"),D=on("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...B(),Ne,Te],$=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],I=()=>[Ne,Te,h],P=()=>[Al,"full","auto",...I()],F=()=>[lo,"none","subgrid",Ne,Te],U=()=>["auto",{span:["full",lo,Ne,Te]},lo,Ne,Te],M=()=>[lo,"auto",Ne,Te],k=()=>["auto","min","max","fr",Ne,Te],ae=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ge=()=>["start","end","center","stretch","center-safe","end-safe"],pe=()=>["auto",...I()],ye=()=>[Al,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],z=()=>[t,Ne,Te],K=()=>[...B(),_b,wb,{position:[Ne,Te]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",A3,N3,{size:[Ne,Te]}],te=()=>[Fg,_u,Ca],ve=()=>["","none","full",p,Ne,Te],xe=()=>["",rt,_u,Ca],Oe=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[rt,Fg,_b,wb],Ee=()=>["","none",S,Ne,Te],Re=()=>["none",rt,Ne,Te],Ue=()=>["none",rt,Ne,Te],Je=()=>[rt,Ne,Te],Ze=()=>[Al,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[yi],breakpoint:[yi],color:[E3],container:[yi],"drop-shadow":[yi],ease:["in","out","in-out"],font:[T3],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[yi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[yi],shadow:[yi],spacing:["px",rt],text:[yi],"text-shadow":[yi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Al,Te,Ne,N]}],container:["container"],columns:[{columns:[rt,Te,Ne,d]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[lo,"auto",Ne,Te]}],basis:[{basis:[Al,"full","auto",d,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[rt,Al,"auto","initial","none",Te]}],grow:[{grow:["",rt,Ne,Te]}],shrink:[{shrink:["",rt,Ne,Te]}],order:[{order:[lo,"first","last","none",Ne,Te]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...ae(),"normal"]}],"justify-items":[{"justify-items":[...ge(),"normal"]}],"justify-self":[{"justify-self":["auto",...ge()]}],"align-content":[{content:["normal",...ae()]}],"align-items":[{items:[...ge(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ge(),{baseline:["","last"]}]}],"place-content":[{"place-content":ae()}],"place-items":[{"place-items":[...ge(),"baseline"]}],"place-self":[{"place-self":["auto",...ge()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:pe()}],mx:[{mx:pe()}],my:[{my:pe()}],ms:[{ms:pe()}],me:[{me:pe()}],mt:[{mt:pe()}],mr:[{mr:pe()}],mb:[{mb:pe()}],ml:[{ml:pe()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:ye()}],w:[{w:[d,"screen",...ye()]}],"min-w":[{"min-w":[d,"screen","none",...ye()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...ye()]}],h:[{h:["screen","lh",...ye()]}],"min-h":[{"min-h":["screen","lh","none",...ye()]}],"max-h":[{"max-h":["screen","lh",...ye()]}],"font-size":[{text:["base",n,_u,Ca]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ne,Ug]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Fg,Te]}],"font-family":[{font:[k3,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ne,Te]}],"line-clamp":[{"line-clamp":[rt,"none",Ne,Ug]}],leading:[{leading:[o,...I()]}],"list-image":[{"list-image":["none",Ne,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[rt,"from-font","auto",Ne,Ca]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[rt,"auto",Ne,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},lo,Ne,Te],radial:["",Ne,Te],conic:[lo,Ne,Te]},R3,I3]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:ve()}],"rounded-s":[{"rounded-s":ve()}],"rounded-e":[{"rounded-e":ve()}],"rounded-t":[{"rounded-t":ve()}],"rounded-r":[{"rounded-r":ve()}],"rounded-b":[{"rounded-b":ve()}],"rounded-l":[{"rounded-l":ve()}],"rounded-ss":[{"rounded-ss":ve()}],"rounded-se":[{"rounded-se":ve()}],"rounded-ee":[{"rounded-ee":ve()}],"rounded-es":[{"rounded-es":ve()}],"rounded-tl":[{"rounded-tl":ve()}],"rounded-tr":[{"rounded-tr":ve()}],"rounded-br":[{"rounded-br":ve()}],"rounded-bl":[{"rounded-bl":ve()}],"border-w":[{border:xe()}],"border-w-x":[{"border-x":xe()}],"border-w-y":[{"border-y":xe()}],"border-w-s":[{"border-s":xe()}],"border-w-e":[{"border-e":xe()}],"border-w-t":[{"border-t":xe()}],"border-w-r":[{"border-r":xe()}],"border-w-b":[{"border-b":xe()}],"border-w-l":[{"border-l":xe()}],"divide-x":[{"divide-x":xe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":xe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Oe(),"hidden","none"]}],"divide-style":[{divide:[...Oe(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...Oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[rt,Ne,Te]}],"outline-w":[{outline:["",rt,_u,Ca]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",g,Wh,Bh]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",v,Wh,Bh]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[rt,Ca]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":xe()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",x,Wh,Bh]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[rt,Ne,Te]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[rt]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[Ne,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[rt]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,Te]}],filter:[{filter:["","none",Ne,Te]}],blur:[{blur:Ee()}],brightness:[{brightness:[rt,Ne,Te]}],contrast:[{contrast:[rt,Ne,Te]}],"drop-shadow":[{"drop-shadow":["","none",b,Wh,Bh]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",rt,Ne,Te]}],"hue-rotate":[{"hue-rotate":[rt,Ne,Te]}],invert:[{invert:["",rt,Ne,Te]}],saturate:[{saturate:[rt,Ne,Te]}],sepia:[{sepia:["",rt,Ne,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,Te]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[rt,Ne,Te]}],"backdrop-contrast":[{"backdrop-contrast":[rt,Ne,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",rt,Ne,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[rt,Ne,Te]}],"backdrop-invert":[{"backdrop-invert":["",rt,Ne,Te]}],"backdrop-opacity":[{"backdrop-opacity":[rt,Ne,Te]}],"backdrop-saturate":[{"backdrop-saturate":[rt,Ne,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",rt,Ne,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[rt,"initial",Ne,Te]}],ease:[{ease:["linear","initial",L,Ne,Te]}],delay:[{delay:[rt,Ne,Te]}],animate:[{animate:["none",D,Ne,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Ne,Te]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:Re()}],"rotate-x":[{"rotate-x":Re()}],"rotate-y":[{"rotate-y":Re()}],"rotate-z":[{"rotate-z":Re()}],scale:[{scale:Ue()}],"scale-x":[{"scale-x":Ue()}],"scale-y":[{"scale-y":Ue()}],"scale-z":[{"scale-z":Ue()}],"scale-3d":["scale-3d"],skew:[{skew:Je()}],"skew-x":[{"skew-x":Je()}],"skew-y":[{"skew-y":Je()}],transform:[{transform:[Ne,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ze()}],"translate-x":[{"translate-x":Ze()}],"translate-y":[{"translate-y":Ze()}],"translate-z":[{"translate-z":Ze()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,Te]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[rt,_u,Ca,Ug]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},O3=m3(D3);function ce(...t){return O3(w1(t))}const Ku=Im("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function ue({className:t,variant:e,size:n,asChild:r=!1,...s}){const o=r?Ao:"button";return l.jsx(o,{"data-slot":"button",className:ce(Ku({variant:e,size:n,className:t})),...s})}function M3(t,e){const n=w.createContext(e),r=o=>{const{children:c,...d}=o,h=w.useMemo(()=>d,Object.values(d));return l.jsx(n.Provider,{value:h,children:c})};r.displayName=t+"Provider";function s(o){const c=w.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function Qs(t,e=[]){let n=[];function r(o,c){const d=w.createContext(c),h=n.length;n=[...n,c];const p=v=>{var L;const{scope:x,children:b,...S}=v,C=((L=x==null?void 0:x[t])==null?void 0:L[h])||d,N=w.useMemo(()=>S,Object.values(S));return l.jsx(C.Provider,{value:N,children:b})};p.displayName=o+"Provider";function g(v,x){var C;const b=((C=x==null?void 0:x[t])==null?void 0:C[h])||d,S=w.useContext(b);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[p,g]}const s=()=>{const o=n.map(c=>w.createContext(c));return function(d){const h=(d==null?void 0:d[t])||o;return w.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return s.scopeName=t,[r,L3(s,...e)]}function L3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const c=r.reduce((d,{useScope:h,scopeName:p})=>{const v=h(o)[`__scope${p}`];return{...d,...v}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function ze(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}var V3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Be=V3.reduce((t,e)=>{const n=w.forwardRef((r,s)=>{const{asChild:o,...c}=r,d=o?Ao:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(d,{...c,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Pv(t,e){t&&nd.flushSync(()=>t.dispatchEvent(e))}function Bt(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Ai({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=F3({defaultProp:e,onChange:n}),o=t!==void 0,c=o?t:r,d=Bt(n),h=w.useCallback(p=>{if(o){const v=typeof p=="function"?p(t):p;v!==t&&d(v)}else s(p)},[o,t,s,d]);return[c,h]}function F3({defaultProp:t,onChange:e}){const n=w.useState(t),[r]=n,s=w.useRef(r),o=Bt(e);return w.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var U3=w.createContext(void 0);function km(t){const e=w.useContext(U3);return t||e||"ltr"}var tn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{};function z3(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var vr=t=>{const{present:e,children:n}=t,r=B3(e),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),o=at(r.ref,W3(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:o}):null};vr.displayName="Presence";function B3(t){const[e,n]=w.useState(),r=w.useRef({}),s=w.useRef(t),o=w.useRef("none"),c=t?"mounted":"unmounted",[d,h]=z3(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const p=$h(r.current);o.current=d==="mounted"?p:"none"},[d]),tn(()=>{const p=r.current,g=s.current;if(g!==t){const x=o.current,b=$h(p);t?h("MOUNT"):b==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(g&&x!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,h]),tn(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,v=b=>{const C=$h(r.current).includes(b.animationName);if(b.target===e&&C&&(h("ANIMATION_END"),!s.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},x=b=>{b.target===e&&(o.current=$h(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:w.useCallback(p=>{p&&(r.current=getComputedStyle(p)),n(p)},[])}}function $h(t){return(t==null?void 0:t.animationName)||"none"}function W3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $3=rR.useId||(()=>{}),H3=0;function zs(t){const[e,n]=w.useState($3());return tn(()=>{n(r=>r??String(H3++))},[t]),t||(e?`radix-${e}`:"")}function Am(t){const e=t+"CollectionProvider",[n,r]=Qs(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=b=>{const{scope:S,children:C}=b,N=de.useRef(null),L=de.useRef(new Map).current;return l.jsx(s,{scope:S,itemMap:L,collectionRef:N,children:C})};c.displayName=e;const d=t+"CollectionSlot",h=de.forwardRef((b,S)=>{const{scope:C,children:N}=b,L=o(d,C),D=at(S,L.collectionRef);return l.jsx(Ao,{ref:D,children:N})});h.displayName=d;const p=t+"CollectionItemSlot",g="data-radix-collection-item",v=de.forwardRef((b,S)=>{const{scope:C,children:N,...L}=b,D=de.useRef(null),j=at(S,D),B=o(p,C);return de.useEffect(()=>(B.itemMap.set(D,{ref:D,...L}),()=>void B.itemMap.delete(D))),l.jsx(Ao,{[g]:"",ref:j,children:N})});v.displayName=p;function x(b){const S=o(t+"CollectionConsumer",b);return de.useCallback(()=>{const N=S.collectionRef.current;if(!N)return[];const L=Array.from(N.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((B,O)=>L.indexOf(B.ref.current)-L.indexOf(O.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:c,Slot:h,ItemSlot:v},x,r]}function q3(t,e=globalThis==null?void 0:globalThis.document){const n=Bt(t);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var G3="DismissableLayer",jv="dismissableLayer.update",K3="dismissableLayer.pointerDownOutside",Y3="dismissableLayer.focusOutside",Eb,j1=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rm=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:c,onDismiss:d,...h}=t,p=w.useContext(j1),[g,v]=w.useState(null),x=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=w.useState({}),S=at(e,A=>v(A)),C=Array.from(p.layers),[N]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),L=C.indexOf(N),D=g?C.indexOf(g):-1,j=p.layersWithOutsidePointerEventsDisabled.size>0,B=D>=L,O=J3(A=>{const I=A.target,P=[...p.branches].some(F=>F.contains(I));!B||P||(s==null||s(A),c==null||c(A),A.defaultPrevented||d==null||d())},x),$=Z3(A=>{const I=A.target;[...p.branches].some(F=>F.contains(I))||(o==null||o(A),c==null||c(A),A.defaultPrevented||d==null||d())},x);return q3(A=>{D===p.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&d&&(A.preventDefault(),d()))},x),w.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Eb=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),bb(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Eb)}},[g,x,n,p]),w.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),bb())},[g,p]),w.useEffect(()=>{const A=()=>b({});return document.addEventListener(jv,A),()=>document.removeEventListener(jv,A)},[]),l.jsx(Be.div,{...h,ref:S,style:{pointerEvents:j?B?"auto":"none":void 0,...t.style},onFocusCapture:ze(t.onFocusCapture,$.onFocusCapture),onBlurCapture:ze(t.onBlurCapture,$.onBlurCapture),onPointerDownCapture:ze(t.onPointerDownCapture,O.onPointerDownCapture)})});Rm.displayName=G3;var Q3="DismissableLayerBranch",X3=w.forwardRef((t,e)=>{const n=w.useContext(j1),r=w.useRef(null),s=at(e,r);return w.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(Be.div,{...t,ref:s})});X3.displayName=Q3;function J3(t,e=globalThis==null?void 0:globalThis.document){const n=Bt(t),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const o=d=>{if(d.target&&!r.current){let h=function(){D1(K3,n,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Z3(t,e=globalThis==null?void 0:globalThis.document){const n=Bt(t),r=w.useRef(!1);return w.useEffect(()=>{const s=o=>{o.target&&!r.current&&D1(Y3,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bb(){const t=new CustomEvent(jv);document.dispatchEvent(t)}function D1(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Pv(s,o):s.dispatchEvent(o)}function rx(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var e6="VisuallyHidden",sx=w.forwardRef((t,e)=>l.jsx(Be.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));sx.displayName=e6;var t6=sx,bc="NavigationMenu",[ix,O1,n6]=Am(bc),[Dv,r6,s6]=Am(bc),[ox]=Qs(bc,[n6,s6]),[i6,Dr]=ox(bc),[o6,a6]=ox(bc),M1=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:s,defaultValue:o,delayDuration:c=200,skipDelayDuration:d=300,orientation:h="horizontal",dir:p,...g}=t,[v,x]=w.useState(null),b=at(e,P=>x(P)),S=km(p),C=w.useRef(0),N=w.useRef(0),L=w.useRef(0),[D,j]=w.useState(!0),[B="",O]=Ai({prop:r,onChange:P=>{const F=P!=="",U=d>0;F?(window.clearTimeout(L.current),U&&j(!1)):(window.clearTimeout(L.current),L.current=window.setTimeout(()=>j(!0),d)),s==null||s(P)},defaultProp:o}),$=w.useCallback(()=>{window.clearTimeout(N.current),N.current=window.setTimeout(()=>O(""),150)},[O]),A=w.useCallback(P=>{window.clearTimeout(N.current),O(P)},[O]),I=w.useCallback(P=>{B===P?window.clearTimeout(N.current):C.current=window.setTimeout(()=>{window.clearTimeout(N.current),O(P)},c)},[B,O,c]);return w.useEffect(()=>()=>{window.clearTimeout(C.current),window.clearTimeout(N.current),window.clearTimeout(L.current)},[]),l.jsx(V1,{scope:n,isRootMenu:!0,value:B,dir:S,orientation:h,rootNavigationMenu:v,onTriggerEnter:P=>{window.clearTimeout(C.current),D?I(P):A(P)},onTriggerLeave:()=>{window.clearTimeout(C.current),$()},onContentEnter:()=>window.clearTimeout(N.current),onContentLeave:$,onItemSelect:P=>{O(F=>F===P?"":P)},onItemDismiss:()=>O(""),children:l.jsx(Be.nav,{"aria-label":"Main","data-orientation":h,dir:S,...g,ref:b})})});M1.displayName=bc;var L1="NavigationMenuSub",l6=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:s,defaultValue:o,orientation:c="horizontal",...d}=t,h=Dr(L1,n),[p="",g]=Ai({prop:r,onChange:s,defaultProp:o});return l.jsx(V1,{scope:n,isRootMenu:!1,value:p,dir:h.dir,orientation:c,rootNavigationMenu:h.rootNavigationMenu,onTriggerEnter:v=>g(v),onItemSelect:v=>g(v),onItemDismiss:()=>g(""),children:l.jsx(Be.div,{"data-orientation":c,...d,ref:e})})});l6.displayName=L1;var V1=t=>{const{scope:e,isRootMenu:n,rootNavigationMenu:r,dir:s,orientation:o,children:c,value:d,onItemSelect:h,onItemDismiss:p,onTriggerEnter:g,onTriggerLeave:v,onContentEnter:x,onContentLeave:b}=t,[S,C]=w.useState(null),[N,L]=w.useState(new Map),[D,j]=w.useState(null);return l.jsx(i6,{scope:e,isRootMenu:n,rootNavigationMenu:r,value:d,previousValue:rx(d),baseId:zs(),dir:s,orientation:o,viewport:S,onViewportChange:C,indicatorTrack:D,onIndicatorTrackChange:j,onTriggerEnter:Bt(g),onTriggerLeave:Bt(v),onContentEnter:Bt(x),onContentLeave:Bt(b),onItemSelect:Bt(h),onItemDismiss:Bt(p),onViewportContentChange:w.useCallback((B,O)=>{L($=>($.set(B,O),new Map($)))},[]),onViewportContentRemove:w.useCallback(B=>{L(O=>O.has(B)?(O.delete(B),new Map(O)):O)},[]),children:l.jsx(ix.Provider,{scope:e,children:l.jsx(o6,{scope:e,items:N,children:c})})})},F1="NavigationMenuList",U1=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,s=Dr(F1,n),o=l.jsx(Be.ul,{"data-orientation":s.orientation,...r,ref:e});return l.jsx(Be.div,{style:{position:"relative"},ref:s.onIndicatorTrackChange,children:l.jsx(ix.Slot,{scope:n,children:s.isRootMenu?l.jsx(Y1,{asChild:!0,children:o}):o})})});U1.displayName=F1;var z1="NavigationMenuItem",[c6,B1]=ox(z1),W1=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,...s}=t,o=zs(),c=r||o||"LEGACY_REACT_AUTO_VALUE",d=w.useRef(null),h=w.useRef(null),p=w.useRef(null),g=w.useRef(()=>{}),v=w.useRef(!1),x=w.useCallback((S="start")=>{if(d.current){g.current();const C=Mv(d.current);C.length&&cx(S==="start"?C:C.reverse())}},[]),b=w.useCallback(()=>{if(d.current){const S=Mv(d.current);S.length&&(g.current=v6(S))}},[]);return l.jsx(c6,{scope:n,value:c,triggerRef:h,contentRef:d,focusProxyRef:p,wasEscapeCloseRef:v,onEntryKeyDown:x,onFocusProxyEnter:x,onRootContentClose:b,onContentFocusOutside:b,children:l.jsx(Be.li,{...s,ref:e})})});W1.displayName=z1;var Ov="NavigationMenuTrigger",$1=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,disabled:r,...s}=t,o=Dr(Ov,t.__scopeNavigationMenu),c=B1(Ov,t.__scopeNavigationMenu),d=w.useRef(null),h=at(d,c.triggerRef,e),p=X1(o.baseId,c.value),g=J1(o.baseId,c.value),v=w.useRef(!1),x=w.useRef(!1),b=c.value===o.value;return l.jsxs(l.Fragment,{children:[l.jsx(ix.ItemSlot,{scope:n,value:c.value,children:l.jsx(Q1,{asChild:!0,children:l.jsx(Be.button,{id:p,disabled:r,"data-disabled":r?"":void 0,"data-state":ux(b),"aria-expanded":b,"aria-controls":g,...s,ref:h,onPointerEnter:ze(t.onPointerEnter,()=>{x.current=!1,c.wasEscapeCloseRef.current=!1}),onPointerMove:ze(t.onPointerMove,Bf(()=>{r||x.current||c.wasEscapeCloseRef.current||v.current||(o.onTriggerEnter(c.value),v.current=!0)})),onPointerLeave:ze(t.onPointerLeave,Bf(()=>{r||(o.onTriggerLeave(),v.current=!1)})),onClick:ze(t.onClick,()=>{o.onItemSelect(c.value),x.current=b}),onKeyDown:ze(t.onKeyDown,S=>{const N={horizontal:"ArrowDown",vertical:o.dir==="rtl"?"ArrowLeft":"ArrowRight"}[o.orientation];b&&S.key===N&&(c.onEntryKeyDown(),S.preventDefault())})})})}),b&&l.jsxs(l.Fragment,{children:[l.jsx(t6,{"aria-hidden":!0,tabIndex:0,ref:c.focusProxyRef,onFocus:S=>{const C=c.contentRef.current,N=S.relatedTarget,L=N===d.current,D=C==null?void 0:C.contains(N);(L||!D)&&c.onFocusProxyEnter(L?"start":"end")}}),o.viewport&&l.jsx("span",{"aria-owns":g})]})]})});$1.displayName=Ov;var u6="NavigationMenuLink",Sb="navigationMenu.linkSelect",H1=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,active:r,onSelect:s,...o}=t;return l.jsx(Q1,{asChild:!0,children:l.jsx(Be.a,{"data-active":r?"":void 0,"aria-current":r?"page":void 0,...o,ref:e,onClick:ze(t.onClick,c=>{const d=c.target,h=new CustomEvent(Sb,{bubbles:!0,cancelable:!0});if(d.addEventListener(Sb,p=>s==null?void 0:s(p),{once:!0}),Pv(d,h),!h.defaultPrevented&&!c.metaKey){const p=new CustomEvent(df,{bubbles:!0,cancelable:!0});Pv(d,p)}},{checkForDefaultPrevented:!1})})})});H1.displayName=u6;var ax="NavigationMenuIndicator",d6=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Dr(ax,t.__scopeNavigationMenu),o=!!s.value;return s.indicatorTrack?VS.createPortal(l.jsx(vr,{present:n||o,children:l.jsx(h6,{...r,ref:e})}),s.indicatorTrack):null});d6.displayName=ax;var h6=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,s=Dr(ax,n),o=O1(n),[c,d]=w.useState(null),[h,p]=w.useState(null),g=s.orientation==="horizontal",v=!!s.value;w.useEffect(()=>{var C;const S=(C=o().find(N=>N.value===s.value))==null?void 0:C.ref.current;S&&d(S)},[o,s.value]);const x=()=>{c&&p({size:g?c.offsetWidth:c.offsetHeight,offset:g?c.offsetLeft:c.offsetTop})};return Lv(c,x),Lv(s.indicatorTrack,x),h?l.jsx(Be.div,{"aria-hidden":!0,"data-state":v?"visible":"hidden","data-orientation":s.orientation,...r,ref:e,style:{position:"absolute",...g?{left:0,width:h.size+"px",transform:`translateX(${h.offset}px)`}:{top:0,height:h.size+"px",transform:`translateY(${h.offset}px)`},...r.style}}):null}),ic="NavigationMenuContent",q1=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Dr(ic,t.__scopeNavigationMenu),o=B1(ic,t.__scopeNavigationMenu),c=at(o.contentRef,e),d=o.value===s.value,h={value:o.value,triggerRef:o.triggerRef,focusProxyRef:o.focusProxyRef,wasEscapeCloseRef:o.wasEscapeCloseRef,onContentFocusOutside:o.onContentFocusOutside,onRootContentClose:o.onRootContentClose,...r};return s.viewport?l.jsx(f6,{forceMount:n,...h,ref:c}):l.jsx(vr,{present:n||d,children:l.jsx(G1,{"data-state":ux(d),...h,ref:c,onPointerEnter:ze(t.onPointerEnter,s.onContentEnter),onPointerLeave:ze(t.onPointerLeave,Bf(s.onContentLeave)),style:{pointerEvents:!d&&s.isRootMenu?"none":void 0,...h.style}})})});q1.displayName=ic;var f6=w.forwardRef((t,e)=>{const n=Dr(ic,t.__scopeNavigationMenu),{onViewportContentChange:r,onViewportContentRemove:s}=n;return tn(()=>{r(t.value,{ref:e,...t})},[t,e,r]),tn(()=>()=>s(t.value),[t.value,s]),null}),df="navigationMenu.rootContentDismiss",G1=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,triggerRef:s,focusProxyRef:o,wasEscapeCloseRef:c,onRootContentClose:d,onContentFocusOutside:h,...p}=t,g=Dr(ic,n),v=w.useRef(null),x=at(v,e),b=X1(g.baseId,r),S=J1(g.baseId,r),C=O1(n),N=w.useRef(null),{onItemDismiss:L}=g;w.useEffect(()=>{const j=v.current;if(g.isRootMenu&&j){const B=()=>{var O;L(),d(),j.contains(document.activeElement)&&((O=s.current)==null||O.focus())};return j.addEventListener(df,B),()=>j.removeEventListener(df,B)}},[g.isRootMenu,t.value,s,L,d]);const D=w.useMemo(()=>{const B=C().map(F=>F.value);g.dir==="rtl"&&B.reverse();const O=B.indexOf(g.value),$=B.indexOf(g.previousValue),A=r===g.value,I=$===B.indexOf(r);if(!A&&!I)return N.current;const P=(()=>{if(O!==$){if(A&&$!==-1)return O>$?"from-end":"from-start";if(I&&O!==-1)return O>$?"to-start":"to-end"}return null})();return N.current=P,P},[g.previousValue,g.value,g.dir,C,r]);return l.jsx(Y1,{asChild:!0,children:l.jsx(Rm,{id:S,"aria-labelledby":b,"data-motion":D,"data-orientation":g.orientation,...p,ref:x,disableOutsidePointerEvents:!1,onDismiss:()=>{var B;const j=new Event(df,{bubbles:!0,cancelable:!0});(B=v.current)==null||B.dispatchEvent(j)},onFocusOutside:ze(t.onFocusOutside,j=>{var O;h();const B=j.target;(O=g.rootNavigationMenu)!=null&&O.contains(B)&&j.preventDefault()}),onPointerDownOutside:ze(t.onPointerDownOutside,j=>{var A;const B=j.target,O=C().some(I=>{var P;return(P=I.ref.current)==null?void 0:P.contains(B)}),$=g.isRootMenu&&((A=g.viewport)==null?void 0:A.contains(B));(O||$||!g.isRootMenu)&&j.preventDefault()}),onKeyDown:ze(t.onKeyDown,j=>{var $;const B=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!B){const A=Mv(j.currentTarget),I=document.activeElement,P=A.findIndex(M=>M===I),U=j.shiftKey?A.slice(0,P).reverse():A.slice(P+1,A.length);cx(U)?j.preventDefault():($=o.current)==null||$.focus()}}),onEscapeKeyDown:ze(t.onEscapeKeyDown,j=>{c.current=!0})})})}),lx="NavigationMenuViewport",K1=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=!!Dr(lx,t.__scopeNavigationMenu).value;return l.jsx(vr,{present:n||o,children:l.jsx(m6,{...r,ref:e})})});K1.displayName=lx;var m6=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,children:r,...s}=t,o=Dr(lx,n),c=at(e,o.onViewportChange),d=a6(ic,t.__scopeNavigationMenu),[h,p]=w.useState(null),[g,v]=w.useState(null),x=h?(h==null?void 0:h.width)+"px":void 0,b=h?(h==null?void 0:h.height)+"px":void 0,S=!!o.value,C=S?o.value:o.previousValue;return Lv(g,()=>{g&&p({width:g.offsetWidth,height:g.offsetHeight})}),l.jsx(Be.div,{"data-state":ux(S),"data-orientation":o.orientation,...s,ref:c,style:{pointerEvents:!S&&o.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":x,"--radix-navigation-menu-viewport-height":b,...s.style},onPointerEnter:ze(t.onPointerEnter,o.onContentEnter),onPointerLeave:ze(t.onPointerLeave,Bf(o.onContentLeave)),children:Array.from(d.items).map(([L,{ref:D,forceMount:j,...B}])=>{const O=C===L;return l.jsx(vr,{present:j||O,children:l.jsx(G1,{...B,ref:tx(D,$=>{O&&$&&v($)})})},L)})})}),p6="FocusGroup",Y1=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,s=Dr(p6,n);return l.jsx(Dv.Provider,{scope:n,children:l.jsx(Dv.Slot,{scope:n,children:l.jsx(Be.div,{dir:s.dir,...r,ref:e})})})}),Cb=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],g6="FocusGroupItem",Q1=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,s=r6(n),o=Dr(g6,n);return l.jsx(Dv.ItemSlot,{scope:n,children:l.jsx(Be.button,{...r,ref:e,onKeyDown:ze(t.onKeyDown,c=>{if(["Home","End",...Cb].includes(c.key)){let h=s().map(v=>v.ref.current);if([o.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(c.key)&&h.reverse(),Cb.includes(c.key)){const v=h.indexOf(c.currentTarget);h=h.slice(v+1)}setTimeout(()=>cx(h)),c.preventDefault()}})})})});function Mv(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function cx(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}function v6(t){return t.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{t.forEach(e=>{const n=e.dataset.tabindex;e.setAttribute("tabindex",n)})}}function Lv(t,e){const n=Bt(e);tn(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}function ux(t){return t?"open":"closed"}function X1(t,e){return`${t}-trigger-${e}`}function J1(t,e){return`${t}-content-${e}`}function Bf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var y6=M1,x6=U1,w6=W1,_6=$1,E6=H1,b6=q1,S6=K1;function C6({className:t,children:e,viewport:n=!0,...r}){return l.jsxs(y6,{"data-slot":"navigation-menu","data-viewport":n,className:ce("group/navigation-menu relative flex max-w-max flex-1 items-center justify-center",t),...r,children:[e,n&&l.jsx(A6,{})]})}function T6({className:t,...e}){return l.jsx(x6,{"data-slot":"navigation-menu-list",className:ce("group flex flex-1 list-none items-center justify-center gap-1",t),...e})}function Tb({className:t,...e}){return l.jsx(w6,{"data-slot":"navigation-menu-item",className:ce("relative",t),...e})}const N6=Im("group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=open]:hover:bg-accent data-[state=open]:text-accent-foreground data-[state=open]:focus:bg-accent data-[state=open]:bg-accent/50 focus-visible:ring-ring/50 outline-none transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1");function I6({className:t,children:e,...n}){return l.jsxs(_6,{"data-slot":"navigation-menu-trigger",className:ce(N6(),"group",t),...n,children:[e," ",l.jsx(wc,{className:"relative top-[1px] ml-1 size-3 transition duration-300 group-data-[state=open]:rotate-180","aria-hidden":"true"})]})}function k6({className:t,...e}){return l.jsx(b6,{"data-slot":"navigation-menu-content",className:ce("data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 top-0 left-0 w-full p-2 pr-2.5 md:absolute md:w-auto","group-data-[viewport=false]/navigation-menu:bg-popover group-data-[viewport=false]/navigation-menu:text-popover-foreground group-data-[viewport=false]/navigation-menu:data-[state=open]:animate-in group-data-[viewport=false]/navigation-menu:data-[state=closed]:animate-out group-data-[viewport=false]/navigation-menu:data-[state=closed]:zoom-out-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:zoom-in-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:fade-in-0 group-data-[viewport=false]/navigation-menu:data-[state=closed]:fade-out-0 group-data-[viewport=false]/navigation-menu:top-full group-data-[viewport=false]/navigation-menu:mt-1.5 group-data-[viewport=false]/navigation-menu:overflow-hidden group-data-[viewport=false]/navigation-menu:rounded-md group-data-[viewport=false]/navigation-menu:border group-data-[viewport=false]/navigation-menu:shadow group-data-[viewport=false]/navigation-menu:duration-200 **:data-[slot=navigation-menu-link]:focus:ring-0 **:data-[slot=navigation-menu-link]:focus:outline-none",t),...e})}function A6({className:t,...e}){return l.jsx("div",{className:"absolute top-full left-0 isolate z-50 flex justify-center",children:l.jsx(S6,{"data-slot":"navigation-menu-viewport",className:ce("origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]",t),...e})})}function Nb({className:t,...e}){return l.jsx(E6,{"data-slot":"navigation-menu-link",className:ce("data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus-visible:ring-ring/50 [&_svg:not([class*='text-'])]:text-muted-foreground flex flex-col gap-1 rounded-sm p-2 text-sm transition-all outline-none focus-visible:ring-[3px] focus-visible:outline-1 [&_svg:not([class*='size-'])]:size-4",t),...e})}var zg="focusScope.autoFocusOnMount",Bg="focusScope.autoFocusOnUnmount",Ib={bubbles:!1,cancelable:!0},R6="FocusScope",dx=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...c}=t,[d,h]=w.useState(null),p=Bt(s),g=Bt(o),v=w.useRef(null),x=at(e,C=>h(C)),b=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let C=function(j){if(b.paused||!d)return;const B=j.target;d.contains(B)?v.current=B:uo(v.current,{select:!0})},N=function(j){if(b.paused||!d)return;const B=j.relatedTarget;B!==null&&(d.contains(B)||uo(v.current,{select:!0}))},L=function(j){if(document.activeElement===document.body)for(const O of j)O.removedNodes.length>0&&uo(d)};document.addEventListener("focusin",C),document.addEventListener("focusout",N);const D=new MutationObserver(L);return d&&D.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",N),D.disconnect()}}},[r,d,b.paused]),w.useEffect(()=>{if(d){Ab.add(b);const C=document.activeElement;if(!d.contains(C)){const L=new CustomEvent(zg,Ib);d.addEventListener(zg,p),d.dispatchEvent(L),L.defaultPrevented||(P6(L6(Z1(d)),{select:!0}),document.activeElement===C&&uo(d))}return()=>{d.removeEventListener(zg,p),setTimeout(()=>{const L=new CustomEvent(Bg,Ib);d.addEventListener(Bg,g),d.dispatchEvent(L),L.defaultPrevented||uo(C??document.body,{select:!0}),d.removeEventListener(Bg,g),Ab.remove(b)},0)}}},[d,p,g,b]);const S=w.useCallback(C=>{if(!n&&!r||b.paused)return;const N=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,L=document.activeElement;if(N&&L){const D=C.currentTarget,[j,B]=j6(D);j&&B?!C.shiftKey&&L===B?(C.preventDefault(),n&&uo(j,{select:!0})):C.shiftKey&&L===j&&(C.preventDefault(),n&&uo(B,{select:!0})):L===D&&C.preventDefault()}},[n,r,b.paused]);return l.jsx(Be.div,{tabIndex:-1,...c,ref:x,onKeyDown:S})});dx.displayName=R6;function P6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(uo(r,{select:e}),document.activeElement!==n)return}function j6(t){const e=Z1(t),n=kb(e,t),r=kb(e.reverse(),t);return[n,r]}function Z1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kb(t,e){for(const n of t)if(!D6(n,{upTo:e}))return n}function D6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function O6(t){return t instanceof HTMLInputElement&&"select"in t}function uo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&O6(t)&&e&&t.select()}}var Ab=M6();function M6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Rb(t,e),t.unshift(e)},remove(e){var n;t=Rb(t,e),(n=t[0])==null||n.resume()}}}function Rb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function L6(t){return t.filter(e=>e.tagName!=="A")}var V6="Portal",hx=w.forwardRef((t,e)=>{var d;const{container:n,...r}=t,[s,o]=w.useState(!1);tn(()=>o(!0),[]);const c=n||s&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?VS.createPortal(l.jsx(Be.div,{...r,ref:e}),c):null});hx.displayName=V6;var Wg=0;function eN(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Pb()),document.body.insertAdjacentElement("beforeend",t[1]??Pb()),Wg++,()=>{Wg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Wg--}},[])}function Pb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var As=function(){return As=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},As.apply(this,arguments)};function tN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function F6(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var hf="right-scroll-bar-position",ff="width-before-scroll-bar",U6="with-scroll-bars-hidden",z6="--removed-body-scroll-bar-size";function $g(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function B6(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var W6=typeof window<"u"?w.useLayoutEffect:w.useEffect,jb=new WeakMap;function $6(t,e){var n=B6(null,function(r){return t.forEach(function(s){return $g(s,r)})});return W6(function(){var r=jb.get(n);if(r){var s=new Set(r),o=new Set(t),c=n.current;s.forEach(function(d){o.has(d)||$g(d,null)}),o.forEach(function(d){s.has(d)||$g(d,c)})}jb.set(n,t)},[t]),n}function H6(t){return t}function q6(t,e){e===void 0&&(e=H6);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var c=e(o,r);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(o){for(r=!0;n.length;){var c=n;n=[],c.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){r=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(o),c=n}var h=function(){var g=c;c=[],g.forEach(o)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(g){c.push(g),p()},filter:function(g){return c=c.filter(g),n}}}};return s}function G6(t){t===void 0&&(t={});var e=q6(null);return e.options=As({async:!0,ssr:!1},t),e}var nN=function(t){var e=t.sideCar,n=tN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,As({},n))};nN.isSideCarExport=!0;function K6(t,e){return t.useMedium(e),nN}var rN=G6(),Hg=function(){},Pm=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:Hg,onWheelCapture:Hg,onTouchMoveCapture:Hg}),s=r[0],o=r[1],c=t.forwardProps,d=t.children,h=t.className,p=t.removeScrollBar,g=t.enabled,v=t.shards,x=t.sideCar,b=t.noRelative,S=t.noIsolation,C=t.inert,N=t.allowPinchZoom,L=t.as,D=L===void 0?"div":L,j=t.gapMode,B=tN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=x,$=$6([n,e]),A=As(As({},B),s);return w.createElement(w.Fragment,null,g&&w.createElement(O,{sideCar:rN,removeScrollBar:p,shards:v,noRelative:b,noIsolation:S,inert:C,setCallbacks:o,allowPinchZoom:!!N,lockRef:n,gapMode:j}),c?w.cloneElement(w.Children.only(d),As(As({},A),{ref:$})):w.createElement(D,As({},A,{className:h,ref:$}),d))});Pm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pm.classNames={fullWidth:ff,zeroRight:hf};var Y6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Q6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Y6();return e&&t.setAttribute("nonce",e),t}function X6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function J6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Z6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Q6())&&(X6(e,n),J6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},e5=function(){var t=Z6();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},sN=function(){var t=e5(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},t5={left:0,top:0,right:0,gap:0},qg=function(t){return parseInt(t||"",10)||0},n5=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[qg(n),qg(r),qg(s)]},r5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return t5;var e=n5(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},s5=sN(),ql="data-scroll-locked",i5=function(t,e,n,r){var s=t.left,o=t.top,c=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(U6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(ql,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hf,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(ff,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(hf," .").concat(hf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ff," .").concat(ff,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ql,`] {
    `).concat(z6,": ").concat(d,`px;
  }
`)},Db=function(){var t=parseInt(document.body.getAttribute(ql)||"0",10);return isFinite(t)?t:0},o5=function(){w.useEffect(function(){return document.body.setAttribute(ql,(Db()+1).toString()),function(){var t=Db()-1;t<=0?document.body.removeAttribute(ql):document.body.setAttribute(ql,t.toString())}},[])},a5=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;o5();var o=w.useMemo(function(){return r5(s)},[s]);return w.createElement(s5,{styles:i5(o,!e,s,n?"":"!important")})},Vv=!1;if(typeof window<"u")try{var Hh=Object.defineProperty({},"passive",{get:function(){return Vv=!0,!0}});window.addEventListener("test",Hh,Hh),window.removeEventListener("test",Hh,Hh)}catch{Vv=!1}var Rl=Vv?{passive:!1}:!1,l5=function(t){return t.tagName==="TEXTAREA"},iN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!l5(t)&&n[e]==="visible")},c5=function(t){return iN(t,"overflowY")},u5=function(t){return iN(t,"overflowX")},Ob=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=oN(t,r);if(s){var o=aN(t,r),c=o[1],d=o[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},d5=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},h5=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},oN=function(t,e){return t==="v"?c5(e):u5(e)},aN=function(t,e){return t==="v"?d5(e):h5(e)},f5=function(t,e){return t==="h"&&e==="rtl"?-1:1},m5=function(t,e,n,r,s){var o=f5(t,window.getComputedStyle(e).direction),c=o*r,d=n.target,h=e.contains(d),p=!1,g=c>0,v=0,x=0;do{if(!d)break;var b=aN(t,d),S=b[0],C=b[1],N=b[2],L=C-N-o*S;(S||L)&&oN(t,d)&&(v+=L,x+=S);var D=d.parentNode;d=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(g&&Math.abs(v)<1||!g&&Math.abs(x)<1)&&(p=!0),p},qh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Mb=function(t){return[t.deltaX,t.deltaY]},Lb=function(t){return t&&"current"in t?t.current:t},p5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},g5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},v5=0,Pl=[];function y5(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),s=w.useState(v5++)[0],o=w.useState(sN)[0],c=w.useRef(t);w.useEffect(function(){c.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var C=F6([t.lockRef.current],(t.shards||[]).map(Lb),!0).filter(Boolean);return C.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),C.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var d=w.useCallback(function(C,N){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!c.current.allowPinchZoom;var L=qh(C),D=n.current,j="deltaX"in C?C.deltaX:D[0]-L[0],B="deltaY"in C?C.deltaY:D[1]-L[1],O,$=C.target,A=Math.abs(j)>Math.abs(B)?"h":"v";if("touches"in C&&A==="h"&&$.type==="range")return!1;var I=window.getSelection(),P=I&&I.anchorNode,F=P?P===$||P.contains($):!1;if(F)return!1;var U=Ob(A,$);if(!U)return!0;if(U?O=A:(O=A==="v"?"h":"v",U=Ob(A,$)),!U)return!1;if(!r.current&&"changedTouches"in C&&(j||B)&&(r.current=O),!O)return!0;var M=r.current||O;return m5(M,N,C,M==="h"?j:B)},[]),h=w.useCallback(function(C){var N=C;if(!(!Pl.length||Pl[Pl.length-1]!==o)){var L="deltaY"in N?Mb(N):qh(N),D=e.current.filter(function(O){return O.name===N.type&&(O.target===N.target||N.target===O.shadowParent)&&p5(O.delta,L)})[0];if(D&&D.should){N.cancelable&&N.preventDefault();return}if(!D){var j=(c.current.shards||[]).map(Lb).filter(Boolean).filter(function(O){return O.contains(N.target)}),B=j.length>0?d(N,j[0]):!c.current.noIsolation;B&&N.cancelable&&N.preventDefault()}}},[]),p=w.useCallback(function(C,N,L,D){var j={name:C,delta:N,target:L,should:D,shadowParent:x5(L)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(B){return B!==j})},1)},[]),g=w.useCallback(function(C){n.current=qh(C),r.current=void 0},[]),v=w.useCallback(function(C){p(C.type,Mb(C),C.target,d(C,t.lockRef.current))},[]),x=w.useCallback(function(C){p(C.type,qh(C),C.target,d(C,t.lockRef.current))},[]);w.useEffect(function(){return Pl.push(o),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:x}),document.addEventListener("wheel",h,Rl),document.addEventListener("touchmove",h,Rl),document.addEventListener("touchstart",g,Rl),function(){Pl=Pl.filter(function(C){return C!==o}),document.removeEventListener("wheel",h,Rl),document.removeEventListener("touchmove",h,Rl),document.removeEventListener("touchstart",g,Rl)}},[]);var b=t.removeScrollBar,S=t.inert;return w.createElement(w.Fragment,null,S?w.createElement(o,{styles:g5(s)}):null,b?w.createElement(a5,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function x5(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const w5=K6(rN,y5);var fx=w.forwardRef(function(t,e){return w.createElement(Pm,As({},t,{ref:e,sideCar:w5}))});fx.classNames=Pm.classNames;var _5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},jl=new WeakMap,Gh=new WeakMap,Kh={},Gg=0,lN=function(t){return t&&(t.host||lN(t.parentNode))},E5=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=lN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},b5=function(t,e,n,r){var s=E5(e,Array.isArray(t)?t:[t]);Kh[n]||(Kh[n]=new WeakMap);var o=Kh[n],c=[],d=new Set,h=new Set(s),p=function(v){!v||d.has(v)||(d.add(v),p(v.parentNode))};s.forEach(p);var g=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(x){if(d.has(x))g(x);else try{var b=x.getAttribute(r),S=b!==null&&b!=="false",C=(jl.get(x)||0)+1,N=(o.get(x)||0)+1;jl.set(x,C),o.set(x,N),c.push(x),C===1&&S&&Gh.set(x,!0),N===1&&x.setAttribute(n,"true"),S||x.setAttribute(r,"true")}catch(L){console.error("aria-hidden: cannot operate on ",x,L)}})};return g(e),d.clear(),Gg++,function(){c.forEach(function(v){var x=jl.get(v)-1,b=o.get(v)-1;jl.set(v,x),o.set(v,b),x||(Gh.has(v)||v.removeAttribute(r),Gh.delete(v)),b||v.removeAttribute(n)}),Gg--,Gg||(jl=new WeakMap,jl=new WeakMap,Gh=new WeakMap,Kh={})}},cN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=_5(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),b5(r,s,n,"aria-hidden")):function(){return null}},mx="Dialog",[uN,dN]=Qs(mx),[S5,is]=uN(mx),hN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:c=!0}=t,d=w.useRef(null),h=w.useRef(null),[p=!1,g]=Ai({prop:r,defaultProp:s,onChange:o});return l.jsx(S5,{scope:e,triggerRef:d,contentRef:h,contentId:zs(),titleId:zs(),descriptionId:zs(),open:p,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(v=>!v),[g]),modal:c,children:n})};hN.displayName=mx;var fN="DialogTrigger",mN=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=is(fN,n),o=at(e,s.triggerRef);return l.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":vx(s.open),...r,ref:o,onClick:ze(t.onClick,s.onOpenToggle)})});mN.displayName=fN;var px="DialogPortal",[C5,pN]=uN(px,{forceMount:void 0}),gN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=is(px,e);return l.jsx(C5,{scope:e,forceMount:n,children:w.Children.map(r,c=>l.jsx(vr,{present:n||o.open,children:l.jsx(hx,{asChild:!0,container:s,children:c})}))})};gN.displayName=px;var Wf="DialogOverlay",vN=w.forwardRef((t,e)=>{const n=pN(Wf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=is(Wf,t.__scopeDialog);return o.modal?l.jsx(vr,{present:r||o.open,children:l.jsx(T5,{...s,ref:e})}):null});vN.displayName=Wf;var T5=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=is(Wf,n);return l.jsx(fx,{as:Ao,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(Be.div,{"data-state":vx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ma="DialogContent",yN=w.forwardRef((t,e)=>{const n=pN(Ma,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=is(Ma,t.__scopeDialog);return l.jsx(vr,{present:r||o.open,children:o.modal?l.jsx(N5,{...s,ref:e}):l.jsx(I5,{...s,ref:e})})});yN.displayName=Ma;var N5=w.forwardRef((t,e)=>{const n=is(Ma,t.__scopeDialog),r=w.useRef(null),s=at(e,n.contentRef,r);return w.useEffect(()=>{const o=r.current;if(o)return cN(o)},[]),l.jsx(xN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(t.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:ze(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:ze(t.onFocusOutside,o=>o.preventDefault())})}),I5=w.forwardRef((t,e)=>{const n=is(Ma,t.__scopeDialog),r=w.useRef(!1),s=w.useRef(!1);return l.jsx(xN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var h,p;(h=t.onInteractOutside)==null||h.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=o.target;((p=n.triggerRef.current)==null?void 0:p.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),xN=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...c}=t,d=is(Ma,n),h=w.useRef(null),p=at(e,h);return eN(),l.jsxs(l.Fragment,{children:[l.jsx(dx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(Rm,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":vx(d.open),...c,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(A5,{titleId:d.titleId}),l.jsx(P5,{contentRef:h,descriptionId:d.descriptionId})]})]})}),gx="DialogTitle",wN=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=is(gx,n);return l.jsx(Be.h2,{id:s.titleId,...r,ref:e})});wN.displayName=gx;var _N="DialogDescription",EN=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=is(_N,n);return l.jsx(Be.p,{id:s.descriptionId,...r,ref:e})});EN.displayName=_N;var bN="DialogClose",SN=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=is(bN,n);return l.jsx(Be.button,{type:"button",...r,ref:e,onClick:ze(t.onClick,()=>s.onOpenChange(!1))})});SN.displayName=bN;function vx(t){return t?"open":"closed"}var CN="DialogTitleWarning",[k5,TN]=M3(CN,{contentName:Ma,titleName:gx,docsSlug:"dialog"}),A5=({titleId:t})=>{const e=TN(CN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},R5="DialogDescriptionWarning",P5=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${TN(R5).contentName}}.`;return w.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},yx=hN,j5=mN,xx=gN,wx=vN,_x=yN,Ex=wN,NN=EN,jm=SN;function D5({...t}){return l.jsx(yx,{"data-slot":"sheet",...t})}function O5({...t}){return l.jsx(xx,{"data-slot":"sheet-portal",...t})}function M5({className:t,...e}){return l.jsx(wx,{"data-slot":"sheet-overlay",className:ce("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function L5({className:t,children:e,side:n="right",...r}){return l.jsxs(O5,{children:[l.jsx(M5,{}),l.jsxs(_x,{"data-slot":"sheet-content",className:ce("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...r,children:[e,l.jsxs(jm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[l.jsx(md,{className:"size-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function V5({className:t,...e}){return l.jsx("div",{"data-slot":"sheet-header",className:ce("flex flex-col gap-1.5 p-4",t),...e})}function F5({className:t,...e}){return l.jsx("div",{"data-slot":"sheet-footer",className:ce("mt-auto flex flex-col gap-2 p-4",t),...e})}function U5({className:t,...e}){return l.jsx(Ex,{"data-slot":"sheet-title",className:ce("text-foreground font-semibold",t),...e})}const z5="/";function B5({open:t,onOpenChange:e}){const{items:n,removeFromCart:r,updateQuantity:s,itemCount:o,totalFormatted:c}=Qy();return l.jsx(D5,{open:t,onOpenChange:e,children:l.jsxs(L5,{side:"right",className:"flex flex-col w-full sm:max-w-md",children:[l.jsx(V5,{children:l.jsxs(U5,{className:"flex items-center gap-2",children:[l.jsx(ex,{className:"h-5 w-5"}),"Carrito de compras",o>0&&l.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",o," ",o===1?"producto":"productos",")"]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:n.length===0?l.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Tu carrito est vaco. Agreg productos desde la tienda."}):l.jsx("ul",{className:"space-y-4",children:n.map(({product:d,quantity:h})=>l.jsxs("li",{className:"flex gap-3 p-3 rounded-lg border bg-muted/30",children:[l.jsx("div",{className:"w-16 h-16 shrink-0 rounded overflow-hidden bg-muted",children:l.jsx("img",{src:d.image||`${z5}placeholder.svg`,alt:d.name,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-medium truncate",children:d.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:d.price}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsxs("div",{className:"flex items-center border rounded-md",children:[l.jsx(ue,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>s(d.id,h-1),children:l.jsx(FF,{className:"h-3 w-3"})}),l.jsx("span",{className:"px-2 text-sm w-8 text-center font-mono",children:h}),l.jsx(ue,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>s(d.id,h+1),children:l.jsx(pn,{className:"h-3 w-3"})})]}),l.jsx(ue,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>r(d.id),children:l.jsx(Ys,{className:"h-3 w-3"})})]})]})]},d.id))})}),n.length>0&&l.jsxs(F5,{className:"flex flex-col gap-4 border-t px-6 pt-6 pb-6 mt-auto shrink-0",children:[l.jsxs("div",{className:"flex justify-between items-center text-lg font-medium w-full",children:[l.jsx("span",{children:"Total"}),l.jsx("span",{className:"text-primary",children:c})]}),l.jsx(ue,{className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",onClick:()=>{alert("Procesando compra...")},children:"Comprar"})]})]})})}const Vb={nosotros:{label:"Nosotros",items:[{label:"Historia",href:"#historia",description:"Conoc nuestra historia"},{label:"El Espacio",href:"#espacio",description:"Descubr nuestras instalaciones"},{label:"Equipo",href:"#equipo",description:"Las personas detrs de Casa Ramayon"}]},programacion:{label:"Programacin",items:[{label:"Prximos Eventos",href:"#events",description:"Agenda de eventos y entradas"},{label:"Talleres y Formacin",href:"#talleres",description:"Cursos y workshops"},{label:"Visitas Guiadas",href:"#visitas",description:"Programa 'Visit la casa'"}]},tienda:{label:"Tienda",items:[{label:"Obras de Arte",href:"#shop",description:"Catlogo de obras en venta"},{label:"Tienda de Objetos",href:"#objetos",description:"Merch, yerbas, libros y vinos"}]},comunidad:{label:"Comunidad",items:[{label:"Hacete Amigo",href:"#amigo",description:"Membresas y socios"},{label:"Patrocinadores",href:"#sponsors",description:"Apoyos y colaboradores"}]}};function W5(){const[t,e]=w.useState(!1),[n,r]=w.useState(null),{itemCount:s,cartOpen:o,setCartOpen:c}=Qy(),d=h=>{r(n===h?null:h)};return l.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border",children:l.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[l.jsxs("div",{className:"flex items-center justify-between h-20",children:[l.jsxs(js,{to:"/",className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-serif font-medium text-lg",children:"CR"})}),l.jsx("span",{className:"text-xl lg:text-2xl font-serif italic tracking-wide text-foreground",children:"Casa Ramayon"})]}),l.jsx(C6,{className:"hidden lg:flex",children:l.jsxs(T6,{children:[Object.entries(Vb).map(([h,p])=>l.jsxs(Tb,{children:[l.jsx(I6,{className:"bg-transparent",children:p.label}),l.jsx(k6,{children:l.jsx("ul",{className:"grid w-[300px] gap-1 p-2",children:p.items.map(g=>l.jsx("li",{children:l.jsx(Nb,{asChild:!0,children:l.jsxs("a",{href:g.href,className:ce("block select-none rounded-md p-3 leading-none no-underline outline-none transition-colors","hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground"),children:[l.jsx("div",{className:"text-sm font-medium leading-none",children:g.label}),l.jsx("p",{className:"line-clamp-2 text-xs leading-snug text-muted-foreground mt-1",children:g.description})]})})},g.href))})})]},h)),l.jsx(Tb,{children:l.jsx(Nb,{href:"#contacto",className:ce("group inline-flex h-10 w-max items-center justify-center rounded-md bg-transparent px-4 py-2 text-sm font-medium transition-colors","hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground"),children:"Contacto"})})]})}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(ue,{variant:"ghost",size:"icon",className:"relative",onClick:()=>c(!0),"aria-label":`Carrito de compras${s>0?` (${s} productos)`:""}`,children:[l.jsx(ex,{className:"h-5 w-5"}),s>0&&l.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[10px] font-medium text-primary-foreground",children:s>99?"99+":s})]}),l.jsx(ue,{className:"hidden md:inline-flex bg-primary text-primary-foreground hover:bg-primary/90 gap-2",asChild:!0,children:l.jsxs("a",{href:"#amigo",children:[l.jsx(kv,{className:"h-4 w-4"}),"Hacete Amigo"]})}),l.jsx(ue,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>e(!t),children:t?l.jsx(md,{className:"h-6 w-6"}):l.jsx(v1,{className:"h-6 w-6"})})]})]}),t&&l.jsxs("nav",{className:"lg:hidden py-4 space-y-1 border-t border-border max-h-[calc(100vh-5rem)] overflow-y-auto",children:[Object.entries(Vb).map(([h,p])=>l.jsxs("div",{className:"border-b border-border/50 last:border-0",children:[l.jsxs("button",{onClick:()=>d(h),className:"flex items-center justify-between w-full py-3 text-left text-base font-medium hover:text-accent transition-colors",children:[p.label,l.jsx(wc,{className:ce("h-4 w-4 transition-transform",n===h&&"rotate-180")})]}),n===h&&l.jsx("div",{className:"pb-3 pl-4 space-y-2",children:p.items.map(g=>l.jsx("a",{href:g.href,className:"block py-2 text-sm text-muted-foreground hover:text-foreground transition-colors",onClick:()=>e(!1),children:g.label},g.href))})]},h)),l.jsx("a",{href:"#contacto",className:"block py-3 text-base font-medium hover:text-accent transition-colors",onClick:()=>e(!1),children:"Contacto"}),l.jsx("div",{className:"pt-4",children:l.jsx(ue,{className:"w-full bg-primary text-primary-foreground hover:bg-primary/90 gap-2",onClick:()=>e(!1),asChild:!0,children:l.jsxs("a",{href:"#amigo",children:[l.jsx(kv,{className:"h-4 w-4"}),"Hacete Amigo"]})})})]}),l.jsx(B5,{open:o,onOpenChange:c})]})})}const $5=()=>l.jsxs("section",{className:"relative min-h-[90vh] flex items-center justify-center pt-20",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("img",{src:"/casa_ramayon.png",alt:"Galera de arte cultural",className:"w-full h-full object-cover opacity-70"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background/50 via-background/80 to-background"})]}),l.jsxs("div",{className:"container mx-auto px-4 lg:px-8 relative z-10 text-center",children:[l.jsxs("h1",{className:"text-5xl md:text-7xl lg:text-8xl font-light tracking-tight mb-6 text-balance",children:["Arte con Historia",l.jsx("br",{})]}),l.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto mb-10 leading-relaxed",children:"Descubre eventos culturales, reserva tu mesa y explora materiales de arte seleccionados para tu viaje creativo."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(ue,{asChild:!0,size:"lg",className:"bg-primary text-primary-foreground hover:bg-primary/90 text-base",children:l.jsxs("a",{href:"#events",children:["Explorar Eventos",l.jsx(Iv,{className:"ml-2 h-5 w-5"})]})}),l.jsx(ue,{asChild:!0,size:"lg",variant:"outline",className:"text-base bg-transparent",children:l.jsx("a",{href:"#shop",children:"Ver Tienda"})})]})]})]});function bt({className:t,...e}){return l.jsx("div",{"data-slot":"card",className:ce("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function Mt({className:t,...e}){return l.jsx("div",{"data-slot":"card-header",className:ce("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function En({className:t,...e}){return l.jsx("div",{"data-slot":"card-title",className:ce("leading-none font-semibold",t),...e})}function kr({className:t,...e}){return l.jsx("div",{"data-slot":"card-description",className:ce("text-muted-foreground text-sm",t),...e})}function St({className:t,...e}){return l.jsx("div",{"data-slot":"card-content",className:ce("px-6",t),...e})}function H5({className:t,...e}){return l.jsx("div",{"data-slot":"card-footer",className:ce("flex items-center px-6 [.border-t]:pt-6",t),...e})}const q5="/";function G5(){const{events:t,loading:e}=zn(),n=t.filter(r=>r.isActive);return e?l.jsx("section",{id:"events",className:"py-24 bg-muted/30",children:l.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:"Cargando eventos..."})]})})}):l.jsx("section",{id:"events",className:"py-24 bg-muted/30",children:l.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-light tracking-tight mb-4",children:["Prximos ",l.jsx("span",{className:"italic",children:"Eventos"})]}),l.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Sumrgete en experiencias culturales seleccionadas que inspiran e iluminan"})]}),n.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-muted-foreground",children:"No hay eventos disponibles en este momento."})}):l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(r=>l.jsxs(bt,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"relative h-64 overflow-hidden",children:[l.jsx("img",{src:r.image||`${q5}placeholder.svg`,alt:r.title,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"}),l.jsx("div",{className:"absolute top-4 right-4",children:l.jsx("span",{className:"bg-background/90 backdrop-blur-sm text-foreground px-3 py-1 rounded-full text-sm font-mono",children:r.category})})]}),l.jsxs(St,{className:"p-6",children:[l.jsx("h3",{className:"text-2xl font-medium mb-4",children:r.title}),l.jsxs("div",{className:"space-y-2 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(xc,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm font-mono",children:r.date})]}),r.location&&l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(Xy,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm font-mono",children:r.location})]}),l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(WF,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm font-mono",children:r.price})]})]}),l.jsx(ue,{className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",children:"Reservar Entradas"})]})]},r.id))}),n.length>0&&l.jsx("div",{className:"text-center mt-12",children:l.jsx(ue,{variant:"outline",size:"lg",children:"Ver Todos los Eventos"})})]})})}function Fe({className:t,type:e,...n}){return l.jsx("input",{type:e,"data-slot":"input",className:ce("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var K5="Label",IN=w.forwardRef((t,e)=>l.jsx(Be.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));IN.displayName=K5;var Y5=IN;function be({className:t,...e}){return l.jsx(Y5,{"data-slot":"label",className:ce("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function Q5(){const[t,e]=w.useState({name:"",email:"",date:"",time:"",guests:"2"}),n=r=>{r.preventDefault(),console.log("Booking submitted:",t),alert("Reserva confirmada! Recibirs un correo de confirmacin pronto.")};return l.jsx("section",{id:"bookings",className:"py-24",children:l.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-light tracking-tight mb-6",children:["Reserva tu ",l.jsx("span",{className:"italic",children:"mesa"})]}),l.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed mb-8",children:"Experimenta nuestro espacio cultural con asientos reservados para exposiciones, espectculos y talleres. Disfruta de un ambiente ntimo diseado para entusiastas del arte."}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(xc,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-lg mb-1",children:"Programacin Flexible"}),l.jsx("p",{className:"text-muted-foreground",children:"Elige tu fecha y hora preferidas para cualquier evento"})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(Uf,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-lg mb-1",children:"Reservas Grupales"}),l.jsx("p",{className:"text-muted-foreground",children:"Reserva espacio para reuniones ntimas o grupos ms grandes"})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(SF,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-lg mb-1",children:"Confirmacin Inmediata"}),l.jsx("p",{className:"text-muted-foreground",children:"Recibe confirmacin de reserva inmediata por correo electrnico"})]})]})]})]}),l.jsxs(bt,{className:"shadow-xl",children:[l.jsx(Mt,{children:l.jsx(En,{className:"text-2xl font-light",children:"Hacer una Reserva"})}),l.jsx(St,{children:l.jsxs("form",{onSubmit:n,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(be,{htmlFor:"name",children:"Nombre Completo"}),l.jsx(Fe,{id:"name",type:"text",placeholder:"Ingresa tu nombre",value:t.name,onChange:r=>e({...t,name:r.target.value}),className:"mt-2",required:!0})]}),l.jsxs("div",{children:[l.jsx(be,{htmlFor:"email",children:"Correo Electrnico"}),l.jsx(Fe,{id:"email",type:"email",placeholder:"tu@correo.com",value:t.email,onChange:r=>e({...t,email:r.target.value}),className:"mt-2",required:!0})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(be,{htmlFor:"date",children:"Fecha"}),l.jsx(Fe,{id:"date",type:"date",value:t.date,onChange:r=>e({...t,date:r.target.value}),className:"mt-2",required:!0})]}),l.jsxs("div",{children:[l.jsx(be,{htmlFor:"time",children:"Hora"}),l.jsx(Fe,{id:"time",type:"time",value:t.time,onChange:r=>e({...t,time:r.target.value}),className:"mt-2",required:!0})]})]}),l.jsxs("div",{children:[l.jsx(be,{htmlFor:"guests",children:"Nmero de Invitados"}),l.jsx(Fe,{id:"guests",type:"number",min:"1",max:"20",value:t.guests,onChange:r=>e({...t,guests:r.target.value}),className:"mt-2",required:!0})]}),l.jsx(ue,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",children:"Confirmar Reserva"})]})})]})]})})})}const X5="/";function J5(){const{products:t,loading:e}=zn(),{addToCart:n,openCart:r}=Qy(),s=t.filter(d=>d.isActive),o=d=>{n(d),r()},c=d=>{n(d)};return e?l.jsx("section",{id:"shop",className:"py-24 bg-muted/30",children:l.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:"Cargando productos..."})]})})}):l.jsx("section",{id:"shop",className:"py-24 bg-muted/30",children:l.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-light tracking-tight mb-4",children:["Materiales de ",l.jsx("span",{className:"italic",children:"Arte"})]}),l.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Materiales premium seleccionados para artistas en cada etapa de su viaje creativo"})]}),s.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-muted-foreground",children:"No hay productos disponibles en este momento."})}):l.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(d=>l.jsxs(bt,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted",children:[l.jsx("img",{src:d.image||`${X5}placeholder.svg`,alt:d.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"}),l.jsx("div",{className:"absolute top-4 left-4",children:l.jsx("span",{className:"bg-background/90 backdrop-blur-sm text-foreground px-3 py-1 rounded-full text-xs font-mono",children:d.category})})]}),l.jsxs(St,{className:"p-6",children:[l.jsx("h3",{className:"text-xl font-medium mb-2",children:d.name}),l.jsx("p",{className:"text-2xl font-light text-accent",children:d.price})]}),l.jsxs(H5,{className:"p-6 pt-0 flex flex-col sm:flex-row gap-2",children:[l.jsxs(ue,{className:"flex-1 bg-primary text-primary-foreground hover:bg-primary/90",onClick:()=>o(d),children:[l.jsx(Zy,{className:"mr-2 h-4 w-4"}),"Comprar"]}),l.jsxs(ue,{variant:"outline",className:"flex-1",onClick:()=>c(d),children:[l.jsx(ex,{className:"mr-2 h-4 w-4"}),"Agregar al Carrito"]})]})]},d.id))}),s.length>0&&l.jsx("div",{className:"text-center mt-12",children:l.jsx(ue,{variant:"outline",size:"lg",children:"Ver Catlogo Completo"})})]})})}var bx="Collapsible",[Z5,kN]=Qs(bx),[eU,Sx]=Z5(bx),AN=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:o,onOpenChange:c,...d}=t,[h=!1,p]=Ai({prop:r,defaultProp:s,onChange:c});return l.jsx(eU,{scope:n,disabled:o,contentId:zs(),open:h,onOpenToggle:w.useCallback(()=>p(g=>!g),[p]),children:l.jsx(Be.div,{"data-state":Ix(h),"data-disabled":o?"":void 0,...d,ref:e})})});AN.displayName=bx;var RN="CollapsibleTrigger",Cx=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=Sx(RN,n);return l.jsx(Be.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Ix(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:ze(t.onClick,s.onOpenToggle)})});Cx.displayName=RN;var Tx="CollapsibleContent",Nx=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Sx(Tx,t.__scopeCollapsible);return l.jsx(vr,{present:n||s.open,children:({present:o})=>l.jsx(tU,{...r,ref:e,present:o})})});Nx.displayName=Tx;var tU=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=t,c=Sx(Tx,n),[d,h]=w.useState(r),p=w.useRef(null),g=at(e,p),v=w.useRef(0),x=v.current,b=w.useRef(0),S=b.current,C=c.open||d,N=w.useRef(C),L=w.useRef(void 0);return w.useEffect(()=>{const D=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(D)},[]),tn(()=>{const D=p.current;if(D){L.current=L.current||{transitionDuration:D.style.transitionDuration,animationName:D.style.animationName},D.style.transitionDuration="0s",D.style.animationName="none";const j=D.getBoundingClientRect();v.current=j.height,b.current=j.width,N.current||(D.style.transitionDuration=L.current.transitionDuration,D.style.animationName=L.current.animationName),h(r)}},[c.open,r]),l.jsx(Be.div,{"data-state":Ix(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!C,...o,ref:g,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...t.style},children:C&&s})});function Ix(t){return t?"open":"closed"}var PN=AN,nU=Cx,rU=Nx,Oi="Accordion",sU=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[kx,iU,oU]=Am(Oi),[Dm]=Qs(Oi,[oU,kN]),Ax=kN(),jN=de.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,o=r;return l.jsx(kx.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?l.jsx(uU,{...o,ref:e}):l.jsx(cU,{...s,ref:e})})});jN.displayName=Oi;var[DN,aU]=Dm(Oi),[ON,lU]=Dm(Oi,{collapsible:!1}),cU=de.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:o=!1,...c}=t,[d,h]=Ai({prop:n,defaultProp:r,onChange:s});return l.jsx(DN,{scope:t.__scopeAccordion,value:d?[d]:[],onItemOpen:h,onItemClose:de.useCallback(()=>o&&h(""),[o,h]),children:l.jsx(ON,{scope:t.__scopeAccordion,collapsible:o,children:l.jsx(MN,{...c,ref:e})})})}),uU=de.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...o}=t,[c=[],d]=Ai({prop:n,defaultProp:r,onChange:s}),h=de.useCallback(g=>d((v=[])=>[...v,g]),[d]),p=de.useCallback(g=>d((v=[])=>v.filter(x=>x!==g)),[d]);return l.jsx(DN,{scope:t.__scopeAccordion,value:c,onItemOpen:h,onItemClose:p,children:l.jsx(ON,{scope:t.__scopeAccordion,collapsible:!0,children:l.jsx(MN,{...o,ref:e})})})}),[dU,Om]=Dm(Oi),MN=de.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:o="vertical",...c}=t,d=de.useRef(null),h=at(d,e),p=iU(n),v=km(s)==="ltr",x=ze(t.onKeyDown,b=>{var I;if(!sU.includes(b.key))return;const S=b.target,C=p().filter(P=>{var F;return!((F=P.ref.current)!=null&&F.disabled)}),N=C.findIndex(P=>P.ref.current===S),L=C.length;if(N===-1)return;b.preventDefault();let D=N;const j=0,B=L-1,O=()=>{D=N+1,D>B&&(D=j)},$=()=>{D=N-1,D<j&&(D=B)};switch(b.key){case"Home":D=j;break;case"End":D=B;break;case"ArrowRight":o==="horizontal"&&(v?O():$());break;case"ArrowDown":o==="vertical"&&O();break;case"ArrowLeft":o==="horizontal"&&(v?$():O());break;case"ArrowUp":o==="vertical"&&$();break}const A=D%L;(I=C[A].ref.current)==null||I.focus()});return l.jsx(dU,{scope:n,disabled:r,direction:s,orientation:o,children:l.jsx(kx.Slot,{scope:n,children:l.jsx(Be.div,{...c,"data-orientation":o,ref:h,onKeyDown:r?void 0:x})})})}),$f="AccordionItem",[hU,Rx]=Dm($f),LN=de.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,o=Om($f,n),c=aU($f,n),d=Ax(n),h=zs(),p=r&&c.value.includes(r)||!1,g=o.disabled||t.disabled;return l.jsx(hU,{scope:n,open:p,disabled:g,triggerId:h,children:l.jsx(PN,{"data-orientation":o.orientation,"data-state":WN(p),...d,...s,ref:e,disabled:g,open:p,onOpenChange:v=>{v?c.onItemOpen(r):c.onItemClose(r)}})})});LN.displayName=$f;var VN="AccordionHeader",FN=de.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Om(Oi,n),o=Rx(VN,n);return l.jsx(Be.h3,{"data-orientation":s.orientation,"data-state":WN(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:e})});FN.displayName=VN;var Fv="AccordionTrigger",UN=de.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Om(Oi,n),o=Rx(Fv,n),c=lU(Fv,n),d=Ax(n);return l.jsx(kx.ItemSlot,{scope:n,children:l.jsx(nU,{"aria-disabled":o.open&&!c.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...d,...r,ref:e})})});UN.displayName=Fv;var zN="AccordionContent",BN=de.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Om(Oi,n),o=Rx(zN,n),c=Ax(n);return l.jsx(rU,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...c,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});BN.displayName=zN;function WN(t){return t?"open":"closed"}var fU=jN,mU=LN,pU=FN,gU=UN,vU=BN;function yU({...t}){return l.jsx(fU,{"data-slot":"accordion",...t})}function xU({className:t,...e}){return l.jsx(mU,{"data-slot":"accordion-item",className:ce("border-b last:border-b-0",t),...e})}function wU({className:t,children:e,...n}){return l.jsx(pU,{className:"flex",children:l.jsxs(gU,{"data-slot":"accordion-trigger",className:ce("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,l.jsx(wc,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function _U({className:t,children:e,...n}){return l.jsx(vU,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:l.jsx("div",{className:ce("pt-0 pb-4",t),children:e})})}const EU=[{id:"fallback-mentor",name:"Amigo Mentor - Casa Ramayon",price:"$50.000",period:"mensual",description:"Nuestra categora ms exclusiva. Incluye beneficios premium en eventos, formacin y la posibilidad de utilizar el espacio para tus propios eventos.",benefits:["Brindis Privados: Invitacin exclusiva a previas de inauguraciones artsticas o nuevos ciclos.","Pase Libre Cultural: Entrada libre a todos los eventos pagos de la agenda anual.","Acceso Total a Formacin: 50% de descuento en talleres, clnicas y seminarios.","Experiencias Exclusivas (+1): Invitado a eventos especiales para la comunidad.","Beneficios en Obra y Tienda: 15% o 20% de descuento en compra de obras.","Casa Ramayon con vos: Uso del espacio con 50% de descuento una vez al ao."],featured:!0,isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"fallback-aliado",name:"Amigo Aliado - Casa Ramayon",price:"$20.000",period:"mensual",description:"Una forma accesible de sumarte a la comunidad. Pensado para quienes quieren acercarse a la cultura y disfrutar de beneficios en la casa.",benefits:["10% de descuento en la Yerbatera.","20% de descuento en todos los cursos y talleres de La Casa.","30% de descuento en entradas a conciertos.","Prioridad en eventos con capacidad reducida."],featured:!1,isActive:!0,createdAt:new Date,updatedAt:new Date}],bU="3482644928";function SU(t){const e=t.period==="mensual"?"mensuales":"anuales";return`${t.price} ${e}`}function CU(t,e){const n=`https://wa.me/${bU}`,r=e.find(o=>o.id===t),s=r?`Hola, me interesa hacerme ${r.name} de Casa Ramayon.`:"Hola, me interesa el programa Hacete Amigo de Casa Ramayon.";return`${n}?text=${encodeURIComponent(s)}`}const TU="Sumate a la comunidad de Casa Ramayon y colabor con el espacio cultural. Eleg la categora que ms te guste y disfrut de beneficios exclusivos, descuentos en eventos, talleres y mucho ms.",NU="Tu generosidad construye la cultura.";function IU(){var b;const{memberships:t,pages:e,loading:n}=zn(),[r,s]=w.useState(null),[o,c]=w.useState(""),d=t.filter(S=>S.isActive).length>0?t.filter(S=>S.isActive):EU,h=e.find(S=>S.slug==="amigo"),p=(h==null?void 0:h.subtitle)??TU,g=(h==null?void 0:h.content)??NU,v=S=>{c(S),s(S||null)},x=()=>{window.open(CU(r,d),"_blank","noopener,noreferrer")};return l.jsx("section",{id:"amigo",className:"py-24 bg-muted/30",children:l.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-light tracking-tight mb-4",children:["Hacete ",l.jsx("span",{className:"italic",children:"Amigo"})]}),l.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto mb-4",children:p}),l.jsx("p",{className:"text-muted-foreground text-sm max-w-2xl mx-auto",children:g})]}),n?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:"Cargando membresas..."})]}):l.jsx(yU,{type:"single",collapsible:!0,value:o,onValueChange:v,className:"space-y-0",children:d.map(S=>l.jsxs(xU,{value:S.id,className:"border border-border rounded-lg mb-4 overflow-hidden bg-card shadow-sm last:mb-0",children:[l.jsx(wU,{className:"px-6 py-5 hover:no-underline hover:bg-muted/30 [&[data-state=open]]:bg-muted/30",children:l.jsxs("div",{className:"flex flex-col items-start text-left gap-1",children:[l.jsx("span",{className:"font-semibold text-lg",children:S.name}),l.jsx("span",{className:"text-primary font-mono text-base font-medium",children:SU(S)})]})}),l.jsxs(_U,{className:"px-6 pb-6",children:[S.description&&l.jsx("p",{className:"text-muted-foreground mb-4",children:S.description}),l.jsx("ul",{className:"space-y-2 list-disc list-inside text-sm text-foreground/90",children:S.benefits.map((C,N)=>l.jsx("li",{className:"leading-relaxed",children:C},N))})]})]},S.id))}),l.jsxs("div",{className:"mt-10 text-center",children:[l.jsxs(ue,{size:"lg",className:"bg-green-600 hover:bg-green-700 text-white gap-2",onClick:x,children:[l.jsx(VF,{className:"h-5 w-5"}),"Consultar por WhatsApp"]}),r&&l.jsxs("p",{className:"text-sm text-muted-foreground mt-3",children:["Mensaje:"," ",((b=d.find(S=>S.id===r))==null?void 0:b.name)??""]})]})]})})})}function Lo({className:t,...e}){return l.jsx("textarea",{"data-slot":"textarea",className:ce("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const Fb="mqeddaga";function kU(){const[t,e]=w.useState("idle"),n=async r=>{r.preventDefault();const s=r.currentTarget,o=new FormData(s);e("loading");try{(await fetch(`https://formspree.io/f/${Fb}`,{method:"POST",body:o,headers:{Accept:"application/json"}})).ok?(e("success"),s.reset()):e("error")}catch{e("error")}};return l.jsx("section",{id:"contact",className:"py-16 lg:py-24 bg-muted/30",children:l.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:l.jsxs("div",{className:"max-w-xl mx-auto",children:[l.jsx("h2",{className:"text-2xl lg:text-3xl font-serif font-semibold text-foreground mb-2",children:"Contacto"}),l.jsx("p",{className:"text-muted-foreground mb-8",children:"Escribinos y te respondemos a la brevedad"}),l.jsxs("form",{action:`https://formspree.io/f/${Fb}`,method:"POST",onSubmit:n,className:"space-y-4",children:[l.jsx("input",{type:"hidden",name:"_subject",value:"Contacto - Casa Ramayon"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{htmlFor:"contact-email",children:"Tu correo"}),l.jsx(Fe,{id:"contact-email",type:"email",name:"email",placeholder:"tu@email.com",required:!0,disabled:t==="loading",className:"bg-background"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{htmlFor:"contact-message",children:"Mensaje"}),l.jsx(Lo,{id:"contact-message",name:"message",placeholder:"En qu podemos ayudarte?",rows:4,required:!0,disabled:t==="loading",className:"bg-background resize-none"})]}),l.jsxs(ue,{type:"submit",disabled:t==="loading",className:"w-full sm:w-auto",children:[t==="loading"?l.jsx(Un,{className:"h-4 w-4 animate-spin mr-2"}):t==="success"?l.jsx(Tm,{className:"h-4 w-4 mr-2 text-green-600"}):l.jsx(Jy,{className:"h-4 w-4 mr-2"}),t==="loading"?"Enviando...":t==="success"?"Enviado":"Enviar"]}),t==="success"&&l.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:"Gracias! Tu mensaje fue enviado correctamente."}),t==="error"&&l.jsx("p",{className:"text-sm text-destructive",children:"Hubo un error al enviar. Intent de nuevo."})]})]})})})}const AU="mqeddaga";async function RU(t){await fetch(`https://formspree.io/f/${AU}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,subject:"Nueva suscripcin al boletn - Casa Ramayon",message:`Un usuario se suscribi al boletn: ${t}`})})}function PU(){const{addSubscriber:t}=zn(),[e,n]=w.useState(""),[r,s]=w.useState("idle"),[o,c]=w.useState(""),d=async h=>{h.preventDefault();const p=e.trim();if(p){s("loading"),c("");try{await t(p),await RU(p),n(""),s("success")}catch(g){s("error"),c((g==null?void 0:g.message)||"Error al suscribirse")}}};return l.jsx("footer",{className:"bg-primary text-primary-foreground",children:l.jsxs("div",{className:"container mx-auto px-4 lg:px-8 py-16",children:[l.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-primary-foreground text-primary rounded-full flex items-center justify-center",children:l.jsx("span",{className:"font-serif font-medium text-lg",children:"CR"})}),l.jsx("span",{className:"text-2xl font-serif italic tracking-wide",children:"Casa Ramayon"})]}),l.jsx("p",{className:"text-primary-foreground/80 leading-relaxed",children:"Celebrando el arte, la cultura y la creatividad a travs de experiencias inmersivas y materiales de calidad."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-lg mb-4",children:"Enlaces Rpidos"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx("a",{href:"#events",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Eventos"})}),l.jsx("li",{children:l.jsx("a",{href:"#bookings",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Reservas"})}),l.jsx("li",{children:l.jsx("a",{href:"#shop",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Tienda"})}),l.jsx("li",{children:l.jsx("a",{href:"#amigo",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Hacete Amigo"})}),l.jsx("li",{children:l.jsx("a",{href:"#about",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Acerca de Nosotros"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-lg mb-4",children:"Soporte"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx("a",{href:"#contact",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Contacto"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Preguntas Frecuentes"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Envos"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Devoluciones"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-lg mb-4",children:"Mantente Actualizado"}),l.jsx("p",{className:"text-primary-foreground/80 mb-4 text-sm",children:"Suscrbete a nuestro boletn para recibir los ltimos eventos y ofertas exclusivas"}),l.jsxs("form",{onSubmit:d,className:"flex gap-2",children:[l.jsx(Fe,{type:"email",placeholder:"Tu correo",value:e,onChange:h=>n(h.target.value),disabled:r==="loading",required:!0,className:"bg-primary-foreground/10 border-primary-foreground/20 text-primary-foreground placeholder:text-primary-foreground/50"}),l.jsx(ue,{type:"submit",variant:"secondary",size:"icon",disabled:r==="loading","aria-label":"Suscribirse",children:r==="loading"?l.jsx(Un,{className:"h-4 w-4 animate-spin"}):r==="success"?l.jsx(Tm,{className:"h-4 w-4 text-green-600"}):l.jsx(Nm,{className:"h-4 w-4"})})]}),r==="success"&&l.jsx("p",{className:"mt-2 text-sm text-green-300",children:"Gracias por suscribirte!"}),r==="error"&&l.jsx("p",{className:"mt-2 text-sm text-red-200",children:o})]})]}),l.jsxs("div",{className:"border-t border-primary-foreground/20 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex flex-col items-center md:items-start gap-1 text-center md:text-left",children:[l.jsx("p",{className:"text-primary-foreground/60 text-sm font-mono",children:"2025 Casa Ramayon. Todos los derechos reservados."}),l.jsxs("p",{className:"text-primary-foreground/60 text-sm font-mono",children:["Sitio creado por"," ",l.jsx("a",{href:"https://www.linkedin.com/in/federicotomadin/",target:"_blank",rel:"noopener noreferrer",className:"text-primary-foreground/80 hover:text-primary-foreground underline underline-offset-2 transition-colors",children:"Federico Tomadin"})]})]}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsx(ue,{variant:"ghost",size:"icon",className:"text-primary-foreground hover:text-primary-foreground/80",asChild:!0,children:l.jsx("a",{href:"https://www.instagram.com/casaramayon/",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:l.jsx(DF,{className:"h-5 w-5"})})})})]})]})})}function jU(){return l.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[l.jsx(W5,{}),l.jsxs("main",{children:[l.jsx($5,{}),l.jsx(G5,{}),l.jsx(Q5,{}),l.jsx(J5,{}),l.jsx(IU,{}),l.jsx(kU,{})]}),l.jsx(PU,{})]})}const DU=Im("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function qr({className:t,variant:e,...n}){return l.jsx("div",{"data-slot":"alert",role:"alert",className:ce(DU({variant:e}),t),...n})}function Gr({className:t,...e}){return l.jsx("div",{"data-slot":"alert-description",className:ce("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function OU(){const[t,e]=w.useState(""),[n,r]=w.useState(""),[s,o]=w.useState(""),[c,d]=w.useState(!1),{signIn:h}=Yy(),p=Zf(),[g,v]=w.useState(!1),x=async S=>{S.preventDefault(),o(""),d(!0);try{await h(t,n),p("/panel")}catch(C){console.error("Login error:",C),o(C.code==="auth/invalid-credential"?"Credenciales invlidas":"Error al iniciar sesin. Verifica tu conexin.")}finally{d(!1)}},b=()=>{localStorage.setItem("casa_ramayon_demo_auth","true"),p("/panel")};return l.jsx("div",{className:"min-h-screen bg-muted/30 flex items-center justify-center p-4",children:l.jsxs(bt,{className:"w-full max-w-md",children:[l.jsxs(Mt,{className:"text-center",children:[l.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:l.jsx(MF,{className:"w-6 h-6 text-primary"})}),l.jsx(En,{className:"text-2xl",children:"Panel de Administracin"}),l.jsx(kr,{children:"Casa Ramayon"})]}),l.jsxs(St,{children:[s&&l.jsx(qr,{variant:"destructive",className:"mb-4",children:l.jsx(Gr,{children:s})}),g?l.jsxs("div",{className:"space-y-4",children:[l.jsx(qr,{children:l.jsx(Gr,{children:"El modo demo usa almacenamiento local del navegador. Los datos se guardarn en este dispositivo hasta que configures Firebase."})}),l.jsx(ue,{className:"w-full",onClick:b,children:"Acceder al Panel Demo"}),l.jsx(ue,{variant:"outline",className:"w-full",onClick:()=>v(!1),children:"Volver al Login"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{htmlFor:"email",children:"Email"}),l.jsx(Fe,{id:"email",type:"email",placeholder:"admin@casaramayon.com",value:t,onChange:S=>e(S.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{htmlFor:"password",children:"Contrasea"}),l.jsx(Fe,{id:"password",type:"password",value:n,onChange:S=>r(S.target.value),required:!0})]}),l.jsxs(ue,{type:"submit",className:"w-full",disabled:c,children:[c&&l.jsx(Un,{className:"mr-2 h-4 w-4 animate-spin"}),"Iniciar Sesin"]})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t",children:[l.jsx("p",{className:"text-sm text-muted-foreground text-center mb-3",children:"No tienes Firebase configurado?"}),l.jsx(ue,{variant:"outline",className:"w-full",onClick:()=>v(!0),children:"Modo Demo (LocalStorage)"})]})]})]})]})})}function Uv(t,[e,n]){return Math.min(n,Math.max(e,t))}function MU(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var Px="ScrollArea",[$N]=Qs(Px),[LU,Or]=$N(Px),HN=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...c}=t,[d,h]=w.useState(null),[p,g]=w.useState(null),[v,x]=w.useState(null),[b,S]=w.useState(null),[C,N]=w.useState(null),[L,D]=w.useState(0),[j,B]=w.useState(0),[O,$]=w.useState(!1),[A,I]=w.useState(!1),P=at(e,U=>h(U)),F=km(s);return l.jsx(LU,{scope:n,type:r,dir:F,scrollHideDelay:o,scrollArea:d,viewport:p,onViewportChange:g,content:v,onContentChange:x,scrollbarX:b,onScrollbarXChange:S,scrollbarXEnabled:O,onScrollbarXEnabledChange:$,scrollbarY:C,onScrollbarYChange:N,scrollbarYEnabled:A,onScrollbarYEnabledChange:I,onCornerWidthChange:D,onCornerHeightChange:B,children:l.jsx(Be.div,{dir:F,...c,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":L+"px","--radix-scroll-area-corner-height":j+"px",...t.style}})})});HN.displayName=Px;var qN="ScrollAreaViewport",GN=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=t,c=Or(qN,n),d=w.useRef(null),h=at(e,d,c.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(Be.div,{"data-radix-scroll-area-viewport":"",...o,ref:h,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});GN.displayName=qN;var Xs="ScrollAreaScrollbar",KN=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Or(Xs,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:c}=s,d=t.orientation==="horizontal";return w.useEffect(()=>(d?o(!0):c(!0),()=>{d?o(!1):c(!1)}),[d,o,c]),s.type==="hover"?l.jsx(VU,{...r,ref:e,forceMount:n}):s.type==="scroll"?l.jsx(FU,{...r,ref:e,forceMount:n}):s.type==="auto"?l.jsx(YN,{...r,ref:e,forceMount:n}):s.type==="always"?l.jsx(jx,{...r,ref:e}):null});KN.displayName=Xs;var VU=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Or(Xs,t.__scopeScrollArea),[o,c]=w.useState(!1);return w.useEffect(()=>{const d=s.scrollArea;let h=0;if(d){const p=()=>{window.clearTimeout(h),c(!0)},g=()=>{h=window.setTimeout(()=>c(!1),s.scrollHideDelay)};return d.addEventListener("pointerenter",p),d.addEventListener("pointerleave",g),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",p),d.removeEventListener("pointerleave",g)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(vr,{present:n||o,children:l.jsx(YN,{"data-state":o?"visible":"hidden",...r,ref:e})})}),FU=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Or(Xs,t.__scopeScrollArea),o=t.orientation==="horizontal",c=Lm(()=>h("SCROLL_END"),100),[d,h]=MU("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(d==="idle"){const p=window.setTimeout(()=>h("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(p)}},[d,s.scrollHideDelay,h]),w.useEffect(()=>{const p=s.viewport,g=o?"scrollLeft":"scrollTop";if(p){let v=p[g];const x=()=>{const b=p[g];v!==b&&(h("SCROLL"),c()),v=b};return p.addEventListener("scroll",x),()=>p.removeEventListener("scroll",x)}},[s.viewport,o,h,c]),l.jsx(vr,{present:n||d!=="hidden",children:l.jsx(jx,{"data-state":d==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ze(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:ze(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),YN=w.forwardRef((t,e)=>{const n=Or(Xs,t.__scopeScrollArea),{forceMount:r,...s}=t,[o,c]=w.useState(!1),d=t.orientation==="horizontal",h=Lm(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;c(d?p:g)}},10);return oc(n.viewport,h),oc(n.content,h),l.jsx(vr,{present:r||o,children:l.jsx(jx,{"data-state":o?"visible":"hidden",...s,ref:e})})}),jx=w.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Or(Xs,t.__scopeScrollArea),o=w.useRef(null),c=w.useRef(0),[d,h]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=eI(d.viewport,d.content),g={...r,sizes:d,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:x=>o.current=x,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:x=>c.current=x};function v(x,b){return HU(x,c.current,d,b)}return n==="horizontal"?l.jsx(UU,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const x=s.viewport.scrollLeft,b=Ub(x,d,s.dir);o.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:x=>{s.viewport&&(s.viewport.scrollLeft=x)},onDragScroll:x=>{s.viewport&&(s.viewport.scrollLeft=v(x,s.dir))}}):n==="vertical"?l.jsx(zU,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const x=s.viewport.scrollTop,b=Ub(x,d);o.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:x=>{s.viewport&&(s.viewport.scrollTop=x)},onDragScroll:x=>{s.viewport&&(s.viewport.scrollTop=v(x))}}):null}),UU=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,o=Or(Xs,t.__scopeScrollArea),[c,d]=w.useState(),h=w.useRef(null),p=at(e,h,o.onScrollbarXChange);return w.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),l.jsx(XN,{"data-orientation":"horizontal",...s,ref:p,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Mm(n)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.x),onDragScroll:g=>t.onDragScroll(g.x),onWheelScroll:(g,v)=>{if(o.viewport){const x=o.viewport.scrollLeft+g.deltaX;t.onWheelScroll(x),nI(x,v)&&g.preventDefault()}},onResize:()=>{h.current&&o.viewport&&c&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:qf(c.paddingLeft),paddingEnd:qf(c.paddingRight)}})}})}),zU=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,o=Or(Xs,t.__scopeScrollArea),[c,d]=w.useState(),h=w.useRef(null),p=at(e,h,o.onScrollbarYChange);return w.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),l.jsx(XN,{"data-orientation":"vertical",...s,ref:p,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Mm(n)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.y),onDragScroll:g=>t.onDragScroll(g.y),onWheelScroll:(g,v)=>{if(o.viewport){const x=o.viewport.scrollTop+g.deltaY;t.onWheelScroll(x),nI(x,v)&&g.preventDefault()}},onResize:()=>{h.current&&o.viewport&&c&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:qf(c.paddingTop),paddingEnd:qf(c.paddingBottom)}})}})}),[BU,QN]=$N(Xs),XN=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:g,onResize:v,...x}=t,b=Or(Xs,n),[S,C]=w.useState(null),N=at(e,P=>C(P)),L=w.useRef(null),D=w.useRef(""),j=b.viewport,B=r.content-r.viewport,O=Bt(g),$=Bt(h),A=Lm(v,10);function I(P){if(L.current){const F=P.clientX-L.current.left,U=P.clientY-L.current.top;p({x:F,y:U})}}return w.useEffect(()=>{const P=F=>{const U=F.target;(S==null?void 0:S.contains(U))&&O(F,B)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[j,S,B,O]),w.useEffect($,[r,$]),oc(S,A),oc(b.content,A),l.jsx(BU,{scope:n,scrollbar:S,hasThumb:s,onThumbChange:Bt(o),onThumbPointerUp:Bt(c),onThumbPositionChange:$,onThumbPointerDown:Bt(d),children:l.jsx(Be.div,{...x,ref:N,style:{position:"absolute",...x.style},onPointerDown:ze(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),L.current=S.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),I(P))}),onPointerMove:ze(t.onPointerMove,I),onPointerUp:ze(t.onPointerUp,P=>{const F=P.target;F.hasPointerCapture(P.pointerId)&&F.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=D.current,b.viewport&&(b.viewport.style.scrollBehavior=""),L.current=null})})})}),Hf="ScrollAreaThumb",JN=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=QN(Hf,t.__scopeScrollArea);return l.jsx(vr,{present:n||s.hasThumb,children:l.jsx(WU,{ref:e,...r})})}),WU=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,o=Or(Hf,n),c=QN(Hf,n),{onThumbPositionChange:d}=c,h=at(e,v=>c.onThumbChange(v)),p=w.useRef(void 0),g=Lm(()=>{p.current&&(p.current(),p.current=void 0)},100);return w.useEffect(()=>{const v=o.viewport;if(v){const x=()=>{if(g(),!p.current){const b=qU(v,d);p.current=b,d()}};return d(),v.addEventListener("scroll",x),()=>v.removeEventListener("scroll",x)}},[o.viewport,g,d]),l.jsx(Be.div,{"data-state":c.hasThumb?"visible":"hidden",...s,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ze(t.onPointerDownCapture,v=>{const b=v.target.getBoundingClientRect(),S=v.clientX-b.left,C=v.clientY-b.top;c.onThumbPointerDown({x:S,y:C})}),onPointerUp:ze(t.onPointerUp,c.onThumbPointerUp)})});JN.displayName=Hf;var Dx="ScrollAreaCorner",ZN=w.forwardRef((t,e)=>{const n=Or(Dx,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx($U,{...t,ref:e}):null});ZN.displayName=Dx;var $U=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Or(Dx,n),[o,c]=w.useState(0),[d,h]=w.useState(0),p=!!(o&&d);return oc(s.scrollbarX,()=>{var v;const g=((v=s.scrollbarX)==null?void 0:v.offsetHeight)||0;s.onCornerHeightChange(g),h(g)}),oc(s.scrollbarY,()=>{var v;const g=((v=s.scrollbarY)==null?void 0:v.offsetWidth)||0;s.onCornerWidthChange(g),c(g)}),p?l.jsx(Be.div,{...r,ref:e,style:{width:o,height:d,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function qf(t){return t?parseInt(t,10):0}function eI(t,e){const n=t/e;return isNaN(n)?0:n}function Mm(t){const e=eI(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function HU(t,e,n,r="ltr"){const s=Mm(n),o=s/2,c=e||o,d=s-c,h=n.scrollbar.paddingStart+c,p=n.scrollbar.size-n.scrollbar.paddingEnd-d,g=n.content-n.viewport,v=r==="ltr"?[0,g]:[g*-1,0];return tI([h,p],v)(t)}function Ub(t,e,n="ltr"){const r=Mm(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,c=e.content-e.viewport,d=o-r,h=n==="ltr"?[0,c]:[c*-1,0],p=Uv(t,h);return tI([0,c],[0,d])(p)}function tI(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function nI(t,e){return t>0&&t<e}var qU=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function s(){const o={left:t.scrollLeft,top:t.scrollTop},c=n.left!==o.left,d=n.top!==o.top;(c||d)&&e(),n=o,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function Lm(t,e){const n=Bt(t),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function oc(t,e){const n=Bt(e);tn(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var GU=HN,KU=GN,YU=ZN;function QU({className:t,children:e,...n}){return l.jsxs(GU,{"data-slot":"scroll-area",className:ce("relative",t),...n,children:[l.jsx(KU,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),l.jsx(XU,{}),l.jsx(YU,{})]})}function XU({className:t,orientation:e="vertical",...n}){return l.jsx(KN,{"data-slot":"scroll-area-scrollbar",orientation:e,className:ce("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:l.jsx(JN,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var JU="Separator",zb="horizontal",ZU=["horizontal","vertical"],rI=w.forwardRef((t,e)=>{const{decorative:n,orientation:r=zb,...s}=t,o=e9(r)?r:zb,d=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return l.jsx(Be.div,{"data-orientation":o,...d,...s,ref:e})});rI.displayName=JU;function e9(t){return ZU.includes(t)}var t9=rI;function sI({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return l.jsx(t9,{"data-slot":"separator",decorative:n,orientation:e,className:ce("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}const Bb=[{name:"Dashboard",href:"/panel",icon:OF},{name:"Eventos",href:"/panel/eventos",icon:xc},{name:"Talleres",href:"/panel/talleres",icon:kF},{name:"Visitas Guiadas",href:"/panel/visitas",icon:Xy},{name:"Productos",href:"/panel/productos",icon:Zy},{name:"Equipo",href:"/panel/equipo",icon:Uf},{name:"Membresas",href:"/panel/membresias",icon:kv},{name:"Patrocinadores",href:"/panel/sponsors",icon:_F},{name:"Pginas",href:"/panel/paginas",icon:IF},{name:"Suscriptores",href:"/panel/suscriptores",icon:Nm},{name:"Configuracin",href:"/panel/configuracion",icon:zF}];function n9(){var h,p;const[t,e]=w.useState(!1),n=Gs(),r=Zf(),{user:s,signOut:o}=Yy(),c=async()=>{localStorage.removeItem("casa_ramayon_demo_auth");try{await o()}catch{}r("/panel/login")},d=localStorage.getItem("casa_ramayon_demo_auth")==="true";return l.jsxs("div",{className:"min-h-screen bg-background",children:[t&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>e(!1)}),l.jsx("aside",{className:ce("fixed top-0 left-0 z-50 h-full w-64 bg-card border-r transform transition-transform duration-200 ease-in-out lg:translate-x-0",t?"translate-x-0":"-translate-x-full"),children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:[l.jsxs(js,{to:"/panel",className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:"CR"})}),l.jsx("span",{className:"font-semibold",children:"Casa Ramayon"})]}),l.jsx(ue,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>e(!1),children:l.jsx(md,{className:"h-5 w-5"})})]}),l.jsx(QU,{className:"flex-1 py-4",children:l.jsx("nav",{className:"px-2 space-y-1",children:Bb.map(g=>{const v=g.href==="/panel"?n.pathname==="/panel":n.pathname.startsWith(g.href);return l.jsxs(js,{to:g.href,onClick:()=>e(!1),className:ce("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",v?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[l.jsx(g.icon,{className:"h-5 w-5"}),g.name,v&&l.jsx(p1,{className:"h-4 w-4 ml-auto"})]},g.name)})})}),l.jsxs("div",{className:"p-4 border-t",children:[d&&l.jsx("div",{className:"mb-3 px-3 py-2 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:l.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:"Modo Demo"})}),l.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 mb-2",children:[l.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs font-medium",children:d?"D":((h=s==null?void 0:s.email)==null?void 0:h.charAt(0).toUpperCase())||"A"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:d?"Demo Admin":(s==null?void 0:s.email)||"Admin"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Administrador"})]})]}),l.jsx(sI,{className:"my-2"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(ue,{variant:"ghost",className:"w-full justify-start gap-3 text-muted-foreground",asChild:!0,children:l.jsxs(js,{to:"/",children:[l.jsx(PF,{className:"h-4 w-4"}),"Ver Sitio"]})}),l.jsxs(ue,{variant:"ghost",className:"w-full justify-start gap-3 text-muted-foreground hover:text-destructive",onClick:c,children:[l.jsx(LF,{className:"h-4 w-4"}),"Cerrar Sesin"]})]})]})]})}),l.jsxs("div",{className:"lg:pl-64",children:[l.jsxs("header",{className:"sticky top-0 z-30 h-16 bg-background/95 backdrop-blur border-b flex items-center px-4 lg:px-8",children:[l.jsx(ue,{variant:"ghost",size:"icon",className:"lg:hidden mr-2",onClick:()=>e(!0),children:l.jsx(v1,{className:"h-5 w-5"})}),l.jsx("h1",{className:"text-lg font-semibold",children:((p=Bb.find(g=>g.href==="/panel"?n.pathname==="/panel":n.pathname.startsWith(g.href)))==null?void 0:p.name)||"Panel"})]}),l.jsx("main",{className:"p-4 lg:p-8",children:l.jsx(aP,{})})]})]})}function r9(){const{events:t,products:e,loading:n,useLocalStorage:r}=zn(),s=t.filter(c=>c.isActive).length,o=e.filter(c=>c.isActive).length;return n?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-3xl font-light tracking-tight",children:["Bienvenido al ",l.jsx("span",{className:"italic",children:"Panel"})]}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestiona los eventos y productos de Casa Ramayon"})]}),r&&l.jsx(bt,{className:"border-amber-500/20 bg-amber-500/5",children:l.jsx(St,{className:"pt-6",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg",children:l.jsx(NF,{className:"h-5 w-5 text-amber-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-amber-600",children:"Modo Local"}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Los datos se guardan en el almacenamiento local del navegador. Para sincronizacin en la nube, configura Firebase en el archivo"," ",l.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:".env"})]})]})]})})}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(bt,{children:[l.jsxs(Mt,{className:"flex flex-row items-center justify-between pb-2",children:[l.jsx(En,{className:"text-sm font-medium",children:"Total Eventos"}),l.jsx(xc,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(St,{children:[l.jsx("div",{className:"text-2xl font-bold",children:t.length}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[s," activos"]})]})]}),l.jsxs(bt,{children:[l.jsxs(Mt,{className:"flex flex-row items-center justify-between pb-2",children:[l.jsx(En,{className:"text-sm font-medium",children:"Total Productos"}),l.jsx(Zy,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(St,{children:[l.jsx("div",{className:"text-2xl font-bold",children:e.length}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[o," activos"]})]})]}),l.jsxs(bt,{children:[l.jsxs(Mt,{className:"flex flex-row items-center justify-between pb-2",children:[l.jsx(En,{className:"text-sm font-medium",children:"Categoras Eventos"}),l.jsx(fb,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(St,{children:[l.jsx("div",{className:"text-2xl font-bold",children:new Set(t.map(c=>c.category)).size}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"tipos diferentes"})]})]}),l.jsxs(bt,{children:[l.jsxs(Mt,{className:"flex flex-row items-center justify-between pb-2",children:[l.jsx(En,{className:"text-sm font-medium",children:"Categoras Productos"}),l.jsx(fb,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(St,{children:[l.jsx("div",{className:"text-2xl font-bold",children:new Set(e.map(c=>c.category)).size}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"tipos diferentes"})]})]})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs(bt,{children:[l.jsxs(Mt,{children:[l.jsx(En,{children:"Eventos"}),l.jsx(kr,{children:"Gestiona los prximos eventos culturales"})]}),l.jsxs(St,{className:"space-y-4",children:[l.jsx("div",{className:"space-y-2",children:t.slice(0,3).map(c=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:c.title}),l.jsx("p",{className:"text-xs text-muted-foreground",children:c.date})]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${c.isActive?"bg-green-500/10 text-green-600":"bg-muted text-muted-foreground"}`,children:c.isActive?"Activo":"Inactivo"})]},c.id))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ue,{asChild:!0,children:l.jsxs(js,{to:"/panel/eventos",children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Nuevo Evento"]})}),l.jsx(ue,{variant:"outline",asChild:!0,children:l.jsxs(js,{to:"/panel/eventos",children:["Ver Todos",l.jsx(Iv,{className:"ml-2 h-4 w-4"})]})})]})]})]}),l.jsxs(bt,{children:[l.jsxs(Mt,{children:[l.jsx(En,{children:"Materiales de Arte"}),l.jsx(kr,{children:"Administra el catlogo de productos"})]}),l.jsxs(St,{className:"space-y-4",children:[l.jsx("div",{className:"space-y-2",children:e.slice(0,3).map(c=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:c.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:c.price})]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${c.isActive?"bg-green-500/10 text-green-600":"bg-muted text-muted-foreground"}`,children:c.isActive?"Activo":"Inactivo"})]},c.id))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ue,{asChild:!0,children:l.jsxs(js,{to:"/panel/productos",children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Nuevo Producto"]})}),l.jsx(ue,{variant:"outline",asChild:!0,children:l.jsxs(js,{to:"/panel/productos",children:["Ver Todos",l.jsx(Iv,{className:"ml-2 h-4 w-4"})]})})]})]})]})]})]})}const iI=6048e5,s9=864e5,Wb=Symbol.for("constructDateFrom");function un(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Wb in t?t[Wb](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ct(t,e){return un(e||t,t)}function oI(t,e,n){const r=Ct(t,n==null?void 0:n.in);return isNaN(e)?un(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function aI(t,e,n){const r=Ct(t,n==null?void 0:n.in);if(isNaN(e))return un(t,NaN);if(!e)return r;const s=r.getDate(),o=un(t,r.getTime());o.setMonth(r.getMonth()+e+1,0);const c=o.getDate();return s>=c?o:(r.setFullYear(o.getFullYear(),o.getMonth(),s),r)}let i9={};function pd(){return i9}function ac(t,e){var d,h,p,g;const n=pd(),r=(e==null?void 0:e.weekStartsOn)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,s=Ct(t,e==null?void 0:e.in),o=s.getDay(),c=(o<r?7:0)+o-r;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function Yu(t,e){return ac(t,{...e,weekStartsOn:1})}function lI(t,e){const n=Ct(t,e==null?void 0:e.in),r=n.getFullYear(),s=un(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=Yu(s),c=un(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const d=Yu(c);return n.getTime()>=o.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function $b(t){const e=Ct(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Sc(t,...e){const n=un.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Qu(t,e){const n=Ct(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function cI(t,e,n){const[r,s]=Sc(n==null?void 0:n.in,t,e),o=Qu(r),c=Qu(s),d=+o-$b(o),h=+c-$b(c);return Math.round((d-h)/s9)}function o9(t,e){const n=lI(t,e),r=un(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Yu(r)}function a9(t,e,n){return oI(t,e*7,n)}function l9(t,e,n){return aI(t,e*12,n)}function c9(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=un.bind(null,s));const o=Ct(s,r);(!n||n<o||isNaN(+o))&&(n=o)}),un(r,n||NaN)}function u9(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=un.bind(null,s));const o=Ct(s,r);(!n||n>o||isNaN(+o))&&(n=o)}),un(r,n||NaN)}function d9(t,e,n){const[r,s]=Sc(n==null?void 0:n.in,t,e);return+Qu(r)==+Qu(s)}function uI(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function h9(t){return!(!uI(t)&&typeof t!="number"||isNaN(+Ct(t)))}function f9(t,e,n){const[r,s]=Sc(n==null?void 0:n.in,t,e),o=r.getFullYear()-s.getFullYear(),c=r.getMonth()-s.getMonth();return o*12+c}function m9(t,e){const n=Ct(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function p9(t,e){const[n,r]=Sc(t,e.start,e.end);return{start:n,end:r}}function g9(t,e){const{start:n,end:r}=p9(e==null?void 0:e.in,t);let s=+n>+r;const o=s?+n:+r,c=s?r:n;c.setHours(0,0,0,0),c.setDate(1);let d=1;const h=[];for(;+c<=o;)h.push(un(n,c)),c.setMonth(c.getMonth()+d);return s?h.reverse():h}function v9(t,e){const n=Ct(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function y9(t,e){const n=Ct(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function dI(t,e){const n=Ct(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function hI(t,e){var d,h,p,g;const n=pd(),r=(e==null?void 0:e.weekStartsOn)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,s=Ct(t,e==null?void 0:e.in),o=s.getDay(),c=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}function x9(t,e){return hI(t,{...e,weekStartsOn:1})}const w9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_9=(t,e,n)=>{let r;const s=w9[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Gl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const E9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},b9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},S9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},C9={date:Gl({formats:E9,defaultWidth:"full"}),time:Gl({formats:b9,defaultWidth:"full"}),dateTime:Gl({formats:S9,defaultWidth:"full"})},T9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},N9=(t,e,n,r)=>T9[t];function Rs(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,d=n!=null&&n.width?String(n.width):c;s=t.formattingValues[d]||t.formattingValues[c]}else{const c=t.defaultWidth,d=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[d]||t.values[c]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const I9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},k9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},A9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},R9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},P9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},j9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},D9=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},O9={ordinalNumber:D9,era:Rs({values:I9,defaultWidth:"wide"}),quarter:Rs({values:k9,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Rs({values:A9,defaultWidth:"wide"}),day:Rs({values:R9,defaultWidth:"wide"}),dayPeriod:Rs({values:P9,defaultWidth:"wide",formattingValues:j9,defaultFormattingWidth:"wide"})};function Ps(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const c=o[0],d=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(d)?L9(d,v=>v.test(c)):M9(d,v=>v.test(c));let p;p=t.valueCallback?t.valueCallback(h):h,p=n.valueCallback?n.valueCallback(p):p;const g=e.slice(c.length);return{value:p,rest:g}}}function M9(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function L9(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function fI(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],o=e.match(t.parsePattern);if(!o)return null;let c=t.valueCallback?t.valueCallback(o[0]):o[0];c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}const V9=/^(\d+)(th|st|nd|rd)?/i,F9=/\d+/i,U9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},z9={any:[/^b/i,/^(a|c)/i]},B9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},W9={any:[/1/i,/2/i,/3/i,/4/i]},$9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},H9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},q9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},G9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},K9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Y9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Q9={ordinalNumber:fI({matchPattern:V9,parsePattern:F9,valueCallback:t=>parseInt(t,10)}),era:Ps({matchPatterns:U9,defaultMatchWidth:"wide",parsePatterns:z9,defaultParseWidth:"any"}),quarter:Ps({matchPatterns:B9,defaultMatchWidth:"wide",parsePatterns:W9,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ps({matchPatterns:$9,defaultMatchWidth:"wide",parsePatterns:H9,defaultParseWidth:"any"}),day:Ps({matchPatterns:q9,defaultMatchWidth:"wide",parsePatterns:G9,defaultParseWidth:"any"}),dayPeriod:Ps({matchPatterns:K9,defaultMatchWidth:"any",parsePatterns:Y9,defaultParseWidth:"any"})},Ox={code:"en-US",formatDistance:_9,formatLong:C9,formatRelative:N9,localize:O9,match:Q9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function X9(t,e){const n=Ct(t,e==null?void 0:e.in);return cI(n,dI(n))+1}function mI(t,e){const n=Ct(t,e==null?void 0:e.in),r=+Yu(n)-+o9(n);return Math.round(r/iI)+1}function pI(t,e){var g,v,x,b;const n=Ct(t,e==null?void 0:e.in),r=n.getFullYear(),s=pd(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((b=(x=s.locale)==null?void 0:x.options)==null?void 0:b.firstWeekContainsDate)??1,c=un((e==null?void 0:e.in)||t,0);c.setFullYear(r+1,0,o),c.setHours(0,0,0,0);const d=ac(c,e),h=un((e==null?void 0:e.in)||t,0);h.setFullYear(r,0,o),h.setHours(0,0,0,0);const p=ac(h,e);return+n>=+d?r+1:+n>=+p?r:r-1}function J9(t,e){var d,h,p,g;const n=pd(),r=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,s=pI(t,e),o=un((e==null?void 0:e.in)||t,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),ac(o,e)}function gI(t,e){const n=Ct(t,e==null?void 0:e.in),r=+ac(n,e)-+J9(n,e);return Math.round(r/iI)+1}function Et(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const co={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Et(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Et(n+1,2)},d(t,e){return Et(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Et(t.getHours()%12||12,e.length)},H(t,e){return Et(t.getHours(),e.length)},m(t,e){return Et(t.getMinutes(),e.length)},s(t,e){return Et(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Et(s,e.length)}},Dl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Hb={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return co.y(t,e)},Y:function(t,e,n,r){const s=pI(t,r),o=s>0?s:1-s;if(e==="YY"){const c=o%100;return Et(c,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Et(o,e.length)},R:function(t,e){const n=lI(t);return Et(n,e.length)},u:function(t,e){const n=t.getFullYear();return Et(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Et(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Et(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return co.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Et(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=gI(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Et(s,e.length)},I:function(t,e,n){const r=mI(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Et(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):co.d(t,e)},D:function(t,e,n){const r=X9(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Et(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Et(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Et(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Et(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Dl.noon:r===0?s=Dl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Dl.evening:r>=12?s=Dl.afternoon:r>=4?s=Dl.morning:s=Dl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return co.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):co.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):co.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):co.s(t,e)},S:function(t,e){return co.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Gb(r);case"XXXX":case"XX":return Na(r);case"XXXXX":case"XXX":default:return Na(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Gb(r);case"xxxx":case"xx":return Na(r);case"xxxxx":case"xxx":default:return Na(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+qb(r,":");case"OOOO":default:return"GMT"+Na(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+qb(r,":");case"zzzz":default:return"GMT"+Na(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Et(r,e.length)},T:function(t,e,n){return Et(+t,e.length)}};function qb(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+e+Et(o,2)}function Gb(t,e){return t%60===0?(t>0?"-":"+")+Et(Math.abs(t)/60,2):Na(t,e)}function Na(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Et(Math.trunc(r/60),2),o=Et(r%60,2);return n+s+e+o}const Kb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},vI=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Z9=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Kb(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Kb(r,e)).replace("{{time}}",vI(s,e))},ez={p:vI,P:Z9},tz=/^D+$/,nz=/^Y+$/,rz=["D","DD","YY","YYYY"];function sz(t){return tz.test(t)}function iz(t){return nz.test(t)}function oz(t,e,n){const r=az(t,e,n);if(console.warn(r),rz.includes(t))throw new RangeError(r)}function az(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uz=/^'([^]*?)'?$/,dz=/''/g,hz=/[a-zA-Z]/;function Xu(t,e,n){var g,v,x,b,S,C,N,L;const r=pd(),s=(n==null?void 0:n.locale)??r.locale??Ox,o=(n==null?void 0:n.firstWeekContainsDate)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((b=(x=r.locale)==null?void 0:x.options)==null?void 0:b.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((C=(S=n==null?void 0:n.locale)==null?void 0:S.options)==null?void 0:C.weekStartsOn)??r.weekStartsOn??((L=(N=r.locale)==null?void 0:N.options)==null?void 0:L.weekStartsOn)??0,d=Ct(t,n==null?void 0:n.in);if(!h9(d))throw new RangeError("Invalid time value");let h=e.match(cz).map(D=>{const j=D[0];if(j==="p"||j==="P"){const B=ez[j];return B(D,s.formatLong)}return D}).join("").match(lz).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const j=D[0];if(j==="'")return{isToken:!1,value:fz(D)};if(Hb[j])return{isToken:!0,value:D};if(j.match(hz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:D}});s.localize.preprocessor&&(h=s.localize.preprocessor(d,h));const p={firstWeekContainsDate:o,weekStartsOn:c,locale:s};return h.map(D=>{if(!D.isToken)return D.value;const j=D.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&iz(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&sz(j))&&oz(j,e,String(t));const B=Hb[j[0]];return B(d,j,s.localize,p)}).join("")}function fz(t){const e=t.match(uz);return e?e[1].replace(dz,"'"):t}function mz(t,e){const n=Ct(t,e==null?void 0:e.in),r=n.getFullYear(),s=n.getMonth(),o=un(n,0);return o.setFullYear(r,s+1,0),o.setHours(0,0,0,0),o.getDate()}function pz(t,e){return Ct(t,e==null?void 0:e.in).getMonth()}function gz(t,e){return Ct(t,e==null?void 0:e.in).getFullYear()}function vz(t,e){return+Ct(t)>+Ct(e)}function yz(t,e){return+Ct(t)<+Ct(e)}function xz(t,e,n){const[r,s]=Sc(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function wz(t,e,n){const[r,s]=Sc(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()}function _z(t,e,n){const r=Ct(t,n==null?void 0:n.in),s=r.getFullYear(),o=r.getDate(),c=un(t,0);c.setFullYear(s,e,15),c.setHours(0,0,0,0);const d=mz(c);return r.setMonth(e,Math.min(o,d)),r}function Ez(t,e,n){const r=Ct(t,n==null?void 0:n.in);return isNaN(+r)?un(t,NaN):(r.setFullYear(e),r)}const bz={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},Sz=(t,e,n)=>{let r;const s=bz[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},Cz={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},Tz={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Nz={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Iz={date:Gl({formats:Cz,defaultWidth:"full"}),time:Gl({formats:Tz,defaultWidth:"full"}),dateTime:Gl({formats:Nz,defaultWidth:"full"})},kz={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Az={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Rz=(t,e,n,r)=>e.getHours()!==1?Az[t]:kz[t],Pz={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},jz={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Dz={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Oz={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},Mz={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},Lz={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Vz=(t,e)=>Number(t)+"",Fz={ordinalNumber:Vz,era:Rs({values:Pz,defaultWidth:"wide"}),quarter:Rs({values:jz,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Rs({values:Dz,defaultWidth:"wide"}),day:Rs({values:Oz,defaultWidth:"wide"}),dayPeriod:Rs({values:Mz,defaultWidth:"wide",formattingValues:Lz,defaultFormattingWidth:"wide"})},Uz=/^(\d+)()?/i,zz=/\d+/i,Bz={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},Wz={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},$z={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Hz={any:[/1/i,/2/i,/3/i,/4/i]},qz={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Gz={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Kz={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},Yz={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Qz={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},Xz={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Jz={ordinalNumber:fI({matchPattern:Uz,parsePattern:zz,valueCallback:function(t){return parseInt(t,10)}}),era:Ps({matchPatterns:Bz,defaultMatchWidth:"wide",parsePatterns:Wz,defaultParseWidth:"any"}),quarter:Ps({matchPatterns:$z,defaultMatchWidth:"wide",parsePatterns:Hz,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ps({matchPatterns:qz,defaultMatchWidth:"wide",parsePatterns:Gz,defaultParseWidth:"any"}),day:Ps({matchPatterns:Kz,defaultMatchWidth:"wide",parsePatterns:Yz,defaultParseWidth:"any"}),dayPeriod:Ps({matchPatterns:Qz,defaultMatchWidth:"any",parsePatterns:Xz,defaultParseWidth:"any"})},Kl={code:"es",formatDistance:Sz,formatLong:Iz,formatRelative:Rz,localize:Fz,match:Jz,options:{weekStartsOn:1,firstWeekContainsDate:1}};function yI(t){const[e,n]=w.useState(void 0);return tn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let c,d;if("borderBoxSize"in o){const h=o.borderBoxSize,p=Array.isArray(h)?h[0]:h;c=p.inlineSize,d=p.blockSize}else c=t.offsetWidth,d=t.offsetHeight;n({width:c,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Mx="Switch",[Zz]=Qs(Mx),[eB,tB]=Zz(Mx),xI=w.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:c,disabled:d,value:h="on",onCheckedChange:p,form:g,...v}=t,[x,b]=w.useState(null),S=at(e,j=>b(j)),C=w.useRef(!1),N=x?g||!!x.closest("form"):!0,[L=!1,D]=Ai({prop:s,defaultProp:o,onChange:p});return l.jsxs(eB,{scope:n,checked:L,disabled:d,children:[l.jsx(Be.button,{type:"button",role:"switch","aria-checked":L,"aria-required":c,"data-state":EI(L),"data-disabled":d?"":void 0,disabled:d,value:h,...v,ref:S,onClick:ze(t.onClick,j=>{D(B=>!B),N&&(C.current=j.isPropagationStopped(),C.current||j.stopPropagation())})}),N&&l.jsx(nB,{control:x,bubbles:!C.current,name:r,value:h,checked:L,required:c,disabled:d,form:g,style:{transform:"translateX(-100%)"}})]})});xI.displayName=Mx;var wI="SwitchThumb",_I=w.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=tB(wI,n);return l.jsx(Be.span,{"data-state":EI(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});_I.displayName=wI;var nB=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,o=w.useRef(null),c=rx(n),d=yI(e);return w.useEffect(()=>{const h=o.current,p=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==n&&v){const x=new Event("click",{bubbles:r});v.call(h,n),h.dispatchEvent(x)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...t.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function EI(t){return t?"checked":"unchecked"}var rB=xI,sB=_I;function Ri({className:t,...e}){return l.jsx(rB,{"data-slot":"switch",className:ce("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(sB,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}const Kg={},Iu={};function Mu(t,e){try{const r=(Kg[t]||(Kg[t]=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return r in Iu?Iu[r]:Yb(r,r.split(":"))}catch{if(t in Iu)return Iu[t];const n=t==null?void 0:t.match(iB);return n?Yb(t,n.slice(1)):NaN}}const iB=/([+-]\d\d):?(\d\d)?/;function Yb(t,e){const n=+e[0],r=+(e[1]||0);return Iu[t]=n>0?n*60+r:n*60-r}class Ds extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Mu(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),bI(this),zv(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new Ds(...n,e):new Ds(Date.now(),e)}withTimeZone(e){return new Ds(+this,e)}getTimezoneOffset(){return-Mu(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),zv(this),+this}[Symbol.for("constructDateFrom")](e){return new Ds(+new Date(e),this.timeZone)}}const Qb=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!Qb.test(t))return;const e=t.replace(Qb,"$1UTC");Ds.prototype[e]&&(t.startsWith("get")?Ds.prototype[t]=function(){return this.internal[e]()}:(Ds.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),oB(this),+this},Ds.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),zv(this),+this}))});function zv(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function oB(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),bI(t)}function bI(t){const e=Mu(t.timeZone,t),n=new Date(+t);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+t).getTimezoneOffset(),s=-new Date(+n).getTimezoneOffset(),o=r-s,c=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();o&&c&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+o);const d=r-e;d&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+d);const h=Mu(t.timeZone,t),g=-new Date(+t).getTimezoneOffset()-h,v=h!==e,x=g-d;if(v&&x){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+x);const b=Mu(t.timeZone,t),S=h-b;S&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+S),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+S))}}class jn extends Ds{static tz(e,...n){return n.length?new jn(...n,e):new jn(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),s=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,s]=this.tzComponents();return`${e} GMT${n}${r}${s} (${aB(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[n,r,s]}withTimeZone(e){return new jn(+this,e)}[Symbol.for("constructDateFrom")](e){return new jn(+new Date(e),this.timeZone)}}function aB(t,e){return new Intl.DateTimeFormat("en-GB",{timeZone:t,timeZoneName:"long"}).format(e).slice(12)}var je;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(je||(je={}));var zt;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(zt||(zt={}));var Qr;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Qr||(Qr={}));var dr;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(dr||(dr={}));const Xb=5,lB=4;function cB(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,s=e.addDays(t,-r+1),o=e.addDays(s,Xb*7-1);return e.getMonth(t)===e.getMonth(o)?Xb:lB}function SI(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-6):e.addDays(n,-1*(r-1))}function uB(t,e){const n=SI(t,e),r=cB(t,e);return e.addDays(n,r*7-1)}class Mi{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?jn.tz(this.options.timeZone):new this.Date},this.newDate=(r,s,o)=>{var c;return(c=this.overrides)!=null&&c.newDate?this.overrides.newDate(r,s,o):this.options.timeZone?new jn(r,s,o,this.options.timeZone):new Date(r,s,o)},this.addDays=(r,s)=>{var o;return(o=this.overrides)!=null&&o.addDays?this.overrides.addDays(r,s):oI(r,s)},this.addMonths=(r,s)=>{var o;return(o=this.overrides)!=null&&o.addMonths?this.overrides.addMonths(r,s):aI(r,s)},this.addWeeks=(r,s)=>{var o;return(o=this.overrides)!=null&&o.addWeeks?this.overrides.addWeeks(r,s):a9(r,s)},this.addYears=(r,s)=>{var o;return(o=this.overrides)!=null&&o.addYears?this.overrides.addYears(r,s):l9(r,s)},this.differenceInCalendarDays=(r,s)=>{var o;return(o=this.overrides)!=null&&o.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):cI(r,s)},this.differenceInCalendarMonths=(r,s)=>{var o;return(o=this.overrides)!=null&&o.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):f9(r,s)},this.eachMonthOfInterval=r=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):g9(r)},this.endOfBroadcastWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):uB(r,this)},this.endOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(r):x9(r)},this.endOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(r):m9(r)},this.endOfWeek=(r,s)=>{var o;return(o=this.overrides)!=null&&o.endOfWeek?this.overrides.endOfWeek(r,s):hI(r,this.options)},this.endOfYear=r=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(r):y9(r)},this.format=(r,s,o)=>{var d;const c=(d=this.overrides)!=null&&d.format?this.overrides.format(r,s,this.options):Xu(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(r):mI(r)},this.getMonth=(r,s)=>{var o;return(o=this.overrides)!=null&&o.getMonth?this.overrides.getMonth(r,this.options):pz(r,this.options)},this.getYear=(r,s)=>{var o;return(o=this.overrides)!=null&&o.getYear?this.overrides.getYear(r,this.options):gz(r,this.options)},this.getWeek=(r,s)=>{var o;return(o=this.overrides)!=null&&o.getWeek?this.overrides.getWeek(r,this.options):gI(r,this.options)},this.isAfter=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isAfter?this.overrides.isAfter(r,s):vz(r,s)},this.isBefore=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isBefore?this.overrides.isBefore(r,s):yz(r,s)},this.isDate=r=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(r):uI(r)},this.isSameDay=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isSameDay?this.overrides.isSameDay(r,s):d9(r,s)},this.isSameMonth=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isSameMonth?this.overrides.isSameMonth(r,s):xz(r,s)},this.isSameYear=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isSameYear?this.overrides.isSameYear(r,s):wz(r,s)},this.max=r=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(r):c9(r)},this.min=r=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(r):u9(r)},this.setMonth=(r,s)=>{var o;return(o=this.overrides)!=null&&o.setMonth?this.overrides.setMonth(r,s):_z(r,s)},this.setYear=(r,s)=>{var o;return(o=this.overrides)!=null&&o.setYear?this.overrides.setYear(r,s):Ez(r,s)},this.startOfBroadcastWeek=(r,s)=>{var o;return(o=this.overrides)!=null&&o.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):SI(r,this)},this.startOfDay=r=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(r):Qu(r)},this.startOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(r):Yu(r)},this.startOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(r):v9(r)},this.startOfWeek=(r,s)=>{var o;return(o=this.overrides)!=null&&o.startOfWeek?this.overrides.startOfWeek(r,this.options):ac(r,this.options)},this.startOfYear=r=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(r):dI(r)},this.options={locale:Ox,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let s=0;s<10;s++)r[s.toString()]=n.format(s);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}}const Js=new Mi;class CI{constructor(e,n,r=Js){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class dB{constructor(e,n){this.date=e,this.weeks=n}}class hB{constructor(e,n){this.days=n,this.weekNumber=e}}function _i(t,e,n=!1,r=Js){let{from:s,to:o}=t;const{differenceInCalendarDays:c,isSameDay:d}=r;return s&&o?(c(o,s)<0&&([s,o]=[o,s]),c(e,s)>=(n?1:0)&&c(o,e)>=(n?1:0)):!n&&o?d(o,e):!n&&s?d(s,e):!1}function TI(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Lx(t){return!!(t&&typeof t=="object"&&"from"in t)}function NI(t){return!!(t&&typeof t=="object"&&"after"in t)}function II(t){return!!(t&&typeof t=="object"&&"before"in t)}function kI(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function AI(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Ei(t,e,n=Js){const r=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:o,isAfter:c}=n;return r.some(d=>{if(typeof d=="boolean")return d;if(n.isDate(d))return s(t,d);if(AI(d,n))return d.includes(t);if(Lx(d))return _i(d,t,!1,n);if(kI(d))return Array.isArray(d.dayOfWeek)?d.dayOfWeek.includes(t.getDay()):d.dayOfWeek===t.getDay();if(TI(d)){const h=o(d.before,t),p=o(d.after,t),g=h>0,v=p<0;return c(d.before,d.after)?v&&g:g||v}return NI(d)?o(t,d.after)>0:II(d)?o(d.before,t)>0:typeof d=="function"?d(t):!1})}function fB(t,e,n,r,s){const{disabled:o,hidden:c,modifiers:d,showOutsideDays:h,broadcastCalendar:p,today:g}=e,{isSameDay:v,isSameMonth:x,startOfMonth:b,isBefore:S,endOfMonth:C,isAfter:N}=s,L=n&&b(n),D=r&&C(r),j={[zt.focused]:[],[zt.outside]:[],[zt.disabled]:[],[zt.hidden]:[],[zt.today]:[]},B={};for(const O of t){const{date:$,displayMonth:A}=O,I=!!(A&&!x($,A)),P=!!(L&&S($,L)),F=!!(D&&N($,D)),U=!!(o&&Ei($,o,s)),M=!!(c&&Ei($,c,s))||P||F||!p&&!h&&I||p&&h===!1&&I,k=v($,g??s.today());I&&j.outside.push(O),U&&j.disabled.push(O),M&&j.hidden.push(O),k&&j.today.push(O),d&&Object.keys(d).forEach(ae=>{const ge=d==null?void 0:d[ae];ge&&Ei($,ge,s)&&(B[ae]?B[ae].push(O):B[ae]=[O])})}return O=>{const $={[zt.focused]:!1,[zt.disabled]:!1,[zt.hidden]:!1,[zt.outside]:!1,[zt.today]:!1},A={};for(const I in j){const P=j[I];$[I]=P.some(F=>F===O)}for(const I in B)A[I]=B[I].some(P=>P===O);return{...$,...A}}}function mB(t,e,n={}){return Object.entries(t).filter(([,s])=>s===!0).reduce((s,[o])=>(n[o]?s.push(n[o]):e[zt[o]]?s.push(e[zt[o]]):e[Qr[o]]&&s.push(e[Qr[o]]),s),[e[je.Day]])}function pB(t){return de.createElement("button",{...t})}function gB(t){return de.createElement("span",{...t})}function vB(t){const{size:e=24,orientation:n="left",className:r}=t;return de.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&de.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&de.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&de.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&de.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function yB(t){const{day:e,modifiers:n,...r}=t;return de.createElement("td",{...r})}function xB(t){const{day:e,modifiers:n,...r}=t,s=de.useRef(null);return de.useEffect(()=>{var o;n.focused&&((o=s.current)==null||o.focus())},[n.focused]),de.createElement("button",{ref:s,...r})}function wB(t){const{options:e,className:n,components:r,classNames:s,...o}=t,c=[s[je.Dropdown],n].join(" "),d=e==null?void 0:e.find(({value:h})=>h===o.value);return de.createElement("span",{"data-disabled":o.disabled,className:s[je.DropdownRoot]},de.createElement(r.Select,{className:c,...o},e==null?void 0:e.map(({value:h,label:p,disabled:g})=>de.createElement(r.Option,{key:h,value:h,disabled:g},p))),de.createElement("span",{className:s[je.CaptionLabel],"aria-hidden":!0},d==null?void 0:d.label,de.createElement(r.Chevron,{orientation:"down",size:18,className:s[je.Chevron]})))}function _B(t){return de.createElement("div",{...t})}function EB(t){return de.createElement("div",{...t})}function bB(t){const{calendarMonth:e,displayIndex:n,...r}=t;return de.createElement("div",{...r},t.children)}function SB(t){const{calendarMonth:e,displayIndex:n,...r}=t;return de.createElement("div",{...r})}function CB(t){return de.createElement("table",{...t})}function TB(t){return de.createElement("div",{...t})}const RI=w.createContext(void 0);function gd(){const t=w.useContext(RI);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function NB(t){const{components:e}=gd();return de.createElement(e.Dropdown,{...t})}function IB(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:s,...o}=t,{components:c,classNames:d,labels:{labelPrevious:h,labelNext:p}}=gd(),g=w.useCallback(x=>{s&&(n==null||n(x))},[s,n]),v=w.useCallback(x=>{r&&(e==null||e(x))},[r,e]);return de.createElement("nav",{...o},de.createElement(c.PreviousMonthButton,{type:"button",className:d[je.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":h(r),onClick:v},de.createElement(c.Chevron,{disabled:r?void 0:!0,className:d[je.Chevron],orientation:"left"})),de.createElement(c.NextMonthButton,{type:"button",className:d[je.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":p(s),onClick:g},de.createElement(c.Chevron,{disabled:s?void 0:!0,orientation:"right",className:d[je.Chevron]})))}function kB(t){const{components:e}=gd();return de.createElement(e.Button,{...t})}function AB(t){return de.createElement("option",{...t})}function RB(t){const{components:e}=gd();return de.createElement(e.Button,{...t})}function PB(t){const{rootRef:e,...n}=t;return de.createElement("div",{...n,ref:e})}function jB(t){return de.createElement("select",{...t})}function DB(t){const{week:e,...n}=t;return de.createElement("tr",{...n})}function OB(t){return de.createElement("th",{...t})}function MB(t){return de.createElement("thead",{"aria-hidden":!0},de.createElement("tr",{...t}))}function LB(t){const{week:e,...n}=t;return de.createElement("th",{...n})}function VB(t){return de.createElement("th",{...t})}function FB(t){return de.createElement("tbody",{...t})}function UB(t){const{components:e}=gd();return de.createElement(e.Dropdown,{...t})}const zB=Object.freeze(Object.defineProperty({__proto__:null,Button:pB,CaptionLabel:gB,Chevron:vB,Day:yB,DayButton:xB,Dropdown:wB,DropdownNav:_B,Footer:EB,Month:bB,MonthCaption:SB,MonthGrid:CB,Months:TB,MonthsDropdown:NB,Nav:IB,NextMonthButton:kB,Option:AB,PreviousMonthButton:RB,Root:PB,Select:jB,Week:DB,WeekNumber:LB,WeekNumberHeader:VB,Weekday:OB,Weekdays:MB,Weeks:FB,YearsDropdown:UB},Symbol.toStringTag,{value:"Module"}));function BB(t){return{...zB,...t}}function WB(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function Vx(){const t={};for(const e in je)t[je[e]]=`rdp-${je[e]}`;for(const e in zt)t[zt[e]]=`rdp-${zt[e]}`;for(const e in Qr)t[Qr[e]]=`rdp-${Qr[e]}`;for(const e in dr)t[dr[e]]=`rdp-${dr[e]}`;return t}function PI(t,e,n){return(n??new Mi(e)).format(t,"LLLL y")}const $B=PI;function HB(t,e,n){return(n??new Mi(e)).format(t,"d")}function qB(t,e=Js){return e.format(t,"LLLL")}function GB(t,e=Js){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function KB(){return""}function YB(t,e,n){return(n??new Mi(e)).format(t,"cccccc")}function jI(t,e=Js){return e.format(t,"yyyy")}const QB=jI,XB=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:PI,formatDay:HB,formatMonthCaption:$B,formatMonthDropdown:qB,formatWeekNumber:GB,formatWeekNumberHeader:KB,formatWeekdayName:YB,formatYearCaption:QB,formatYearDropdown:jI},Symbol.toStringTag,{value:"Module"}));function JB(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...XB,...t}}function ZB(t,e,n,r,s){const{startOfMonth:o,startOfYear:c,endOfYear:d,eachMonthOfInterval:h,getMonth:p}=s;return h({start:c(t),end:d(t)}).map(x=>{const b=r.formatMonthDropdown(x,s),S=p(x),C=e&&x<o(e)||n&&x>o(n)||!1;return{value:S,label:b,disabled:C}})}function eW(t,e={},n={}){let r={...e==null?void 0:e[je.Day]};return Object.entries(t).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...n==null?void 0:n[s]}}),r}function tW(t,e,n){const r=t.today(),s=e?t.startOfISOWeek(r):t.startOfWeek(r),o=[];for(let c=0;c<7;c++){const d=t.addDays(s,c);o.push(d)}return o}function nW(t,e,n,r){if(!t||!e)return;const{startOfYear:s,endOfYear:o,addYears:c,getYear:d,isBefore:h,isSameYear:p}=r,g=s(t),v=o(e),x=[];let b=g;for(;h(b,v)||p(b,v);)x.push(b),b=c(b,1);return x.map(S=>{const C=n.formatYearDropdown(S,r);return{value:d(S),label:C,disabled:!1}})}function DI(t,e,n){return(n??new Mi(e)).format(t,"LLLL y")}const rW=DI;function sW(t,e,n,r){let s=(r??new Mi(n)).format(t,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function OI(t,e,n,r){let s=(r??new Mi(n)).format(t,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const iW=OI;function oW(){return""}function aW(t){return"Choose the Month"}function lW(t){return"Go to the Next Month"}function cW(t){return"Go to the Previous Month"}function uW(t,e,n){return(n??new Mi(e)).format(t,"cccc")}function dW(t,e){return`Week ${t}`}function hW(t){return"Week Number"}function fW(t){return"Choose the Year"}const mW=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:rW,labelDay:iW,labelDayButton:OI,labelGrid:DI,labelGridcell:sW,labelMonthDropdown:aW,labelNav:oW,labelNext:lW,labelPrevious:cW,labelWeekNumber:dW,labelWeekNumberHeader:hW,labelWeekday:uW,labelYearDropdown:fW},Symbol.toStringTag,{value:"Module"})),vd=t=>t instanceof HTMLElement?t:null,Yg=t=>[...t.querySelectorAll("[data-animated-month]")??[]],pW=t=>vd(t.querySelector("[data-animated-month]")),Qg=t=>vd(t.querySelector("[data-animated-caption]")),Xg=t=>vd(t.querySelector("[data-animated-weeks]")),gW=t=>vd(t.querySelector("[data-animated-nav]")),vW=t=>vd(t.querySelector("[data-animated-weekdays]"));function yW(t,e,{classNames:n,months:r,focused:s,dateLib:o}){const c=w.useRef(null),d=w.useRef(r),h=w.useRef(!1);w.useLayoutEffect(()=>{const p=d.current;if(d.current=r,!e||!t.current||!(t.current instanceof HTMLElement)||r.length===0||p.length===0||r.length!==p.length)return;const g=o.isSameMonth(r[0].date,p[0].date),v=o.isAfter(r[0].date,p[0].date),x=v?n[dr.caption_after_enter]:n[dr.caption_before_enter],b=v?n[dr.weeks_after_enter]:n[dr.weeks_before_enter],S=c.current,C=t.current.cloneNode(!0);if(C instanceof HTMLElement?(Yg(C).forEach(j=>{if(!(j instanceof HTMLElement))return;const B=pW(j);B&&j.contains(B)&&j.removeChild(B);const O=Qg(j);O&&O.classList.remove(x);const $=Xg(j);$&&$.classList.remove(b)}),c.current=C):c.current=null,h.current||g||s)return;const N=S instanceof HTMLElement?Yg(S):[],L=Yg(t.current);if(L&&L.every(D=>D instanceof HTMLElement)&&N&&N.every(D=>D instanceof HTMLElement)){h.current=!0,t.current.style.isolation="isolate";const D=gW(t.current);D&&(D.style.zIndex="1"),L.forEach((j,B)=>{const O=N[B];if(!O)return;j.style.position="relative",j.style.overflow="hidden";const $=Qg(j);$&&$.classList.add(x);const A=Xg(j);A&&A.classList.add(b);const I=()=>{h.current=!1,t.current&&(t.current.style.isolation=""),D&&(D.style.zIndex=""),$&&$.classList.remove(x),A&&A.classList.remove(b),j.style.position="",j.style.overflow="",j.contains(O)&&j.removeChild(O)};O.style.pointerEvents="none",O.style.position="absolute",O.style.overflow="hidden",O.setAttribute("aria-hidden","true");const P=vW(O);P&&(P.style.opacity="0");const F=Qg(O);F&&(F.classList.add(v?n[dr.caption_before_exit]:n[dr.caption_after_exit]),F.addEventListener("animationend",I));const U=Xg(O);U&&U.classList.add(v?n[dr.weeks_before_exit]:n[dr.weeks_after_exit]),j.insertBefore(O,j.firstChild)})}})}function xW(t,e,n,r){const s=t[0],o=t[t.length-1],{ISOWeek:c,fixedWeeks:d,broadcastCalendar:h}=n??{},{addDays:p,differenceInCalendarDays:g,differenceInCalendarMonths:v,endOfBroadcastWeek:x,endOfISOWeek:b,endOfMonth:S,endOfWeek:C,isAfter:N,startOfBroadcastWeek:L,startOfISOWeek:D,startOfWeek:j}=r,B=h?L(s,r):c?D(s):j(s),O=h?x(o):c?b(S(o)):C(S(o)),$=g(O,B),A=v(o,s)+1,I=[];for(let U=0;U<=$;U++){const M=p(B,U);if(e&&N(M,e))break;I.push(M)}const F=(h?35:42)*A;if(d&&I.length<F){const U=F-I.length;for(let M=0;M<U;M++){const k=p(I[I.length-1],1);I.push(k)}}return I}function wW(t){const e=[];return t.reduce((n,r)=>{const s=r.weeks.reduce((o,c)=>[...o,...c.days],e);return[...n,...s]},e)}function _W(t,e,n,r){const{numberOfMonths:s=1}=n,o=[];for(let c=0;c<s;c++){const d=r.addMonths(t,c);if(e&&d>e)break;o.push(d)}return o}function Jb(t,e,n,r){const{month:s,defaultMonth:o,today:c=r.today(),numberOfMonths:d=1}=t;let h=s||o||c;const{differenceInCalendarMonths:p,addMonths:g,startOfMonth:v}=r;if(n&&p(n,h)<d-1){const x=-1*(d-1);h=g(n,x)}return e&&p(h,e)<0&&(h=e),v(h)}function EW(t,e,n,r){const{addDays:s,endOfBroadcastWeek:o,endOfISOWeek:c,endOfMonth:d,endOfWeek:h,getISOWeek:p,getWeek:g,startOfBroadcastWeek:v,startOfISOWeek:x,startOfWeek:b}=r,S=t.reduce((C,N)=>{const L=n.broadcastCalendar?v(N,r):n.ISOWeek?x(N):b(N),D=n.broadcastCalendar?o(N):n.ISOWeek?c(d(N)):h(d(N)),j=e.filter(A=>A>=L&&A<=D),B=n.broadcastCalendar?35:42;if(n.fixedWeeks&&j.length<B){const A=e.filter(I=>{const P=B-j.length;return I>D&&I<=s(D,P)});j.push(...A)}const O=j.reduce((A,I)=>{const P=n.ISOWeek?p(I):g(I),F=A.find(M=>M.weekNumber===P),U=new CI(I,N,r);return F?F.days.push(U):A.push(new hB(P,[U])),A},[]),$=new dB(N,O);return C.push($),C},[]);return n.reverseMonths?S.reverse():S}function bW(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:s,startOfDay:o,startOfMonth:c,endOfMonth:d,addYears:h,endOfYear:p,newDate:g,today:v}=e,{fromYear:x,toYear:b,fromMonth:S,toMonth:C}=t;!n&&S&&(n=S),!n&&x&&(n=e.newDate(x,0,1)),!r&&C&&(r=C),!r&&b&&(r=g(b,11,31));const N=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=c(n):x?n=g(x,0,1):!n&&N&&(n=s(h(t.today??v(),-100))),r?r=d(r):b?r=g(b,11,31):!r&&N&&(r=p(t.today??v())),[n&&o(n),r&&o(r)]}function SW(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:o=1}=n,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:h}=r,p=s?o:1,g=c(t);if(!e)return d(g,p);if(!(h(e,t)<o))return d(g,p)}function CW(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:o}=n,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:h}=r,p=s?o??1:1,g=c(t);if(!e)return d(g,-p);if(!(h(g,e)<=0))return d(g,-p)}function TW(t){const e=[];return t.reduce((n,r)=>[...n,...r.weeks],e)}function Vm(t,e){const[n,r]=w.useState(t);return[e===void 0?n:e,r]}function NW(t,e){const[n,r]=bW(t,e),{startOfMonth:s,endOfMonth:o}=e,c=Jb(t,n,r,e),[d,h]=Vm(c,t.month?c:void 0);w.useEffect(()=>{const $=Jb(t,n,r,e);h($)},[t.timeZone]);const p=_W(d,r,t,e),g=xW(p,t.endMonth?o(t.endMonth):void 0,t,e),v=EW(p,g,t,e),x=TW(v),b=wW(v),S=CW(d,n,t,e),C=SW(d,r,t,e),{disableNavigation:N,onMonthChange:L}=t,D=$=>x.some(A=>A.days.some(I=>I.isEqualTo($))),j=$=>{if(N)return;let A=s($);n&&A<s(n)&&(A=s(n)),r&&A>s(r)&&(A=s(r)),h(A),L==null||L(A)};return{months:v,weeks:x,days:b,navStart:n,navEnd:r,previousMonth:S,nextMonth:C,goToMonth:j,goToDay:$=>{D($)||j($.date)}}}var Is;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(Is||(Is={}));function Zb(t){return!t[zt.disabled]&&!t[zt.hidden]&&!t[zt.outside]}function IW(t,e,n,r){let s,o=-1;for(const c of t){const d=e(c);Zb(d)&&(d[zt.focused]&&o<Is.FocusedModifier?(s=c,o=Is.FocusedModifier):r!=null&&r.isEqualTo(c)&&o<Is.LastFocused?(s=c,o=Is.LastFocused):n(c.date)&&o<Is.Selected?(s=c,o=Is.Selected):d[zt.today]&&o<Is.Today&&(s=c,o=Is.Today))}return s||(s=t.find(c=>Zb(e(c)))),s}function kW(t,e,n,r,s,o,c){const{ISOWeek:d,broadcastCalendar:h}=o,{addDays:p,addMonths:g,addWeeks:v,addYears:x,endOfBroadcastWeek:b,endOfISOWeek:S,endOfWeek:C,max:N,min:L,startOfBroadcastWeek:D,startOfISOWeek:j,startOfWeek:B}=c;let $={day:p,week:v,month:g,year:x,startOfWeek:A=>h?D(A,c):d?j(A):B(A),endOfWeek:A=>h?b(A):d?S(A):C(A)}[t](n,e==="after"?1:-1);return e==="before"&&r?$=N([r,$]):e==="after"&&s&&($=L([s,$])),$}function MI(t,e,n,r,s,o,c,d=0){if(d>365)return;const h=kW(t,e,n.date,r,s,o,c),p=!!(o.disabled&&Ei(h,o.disabled,c)),g=!!(o.hidden&&Ei(h,o.hidden,c)),v=h,x=new CI(h,v,c);return!p&&!g?x:MI(t,e,x,r,s,o,c,d+1)}function AW(t,e,n,r,s){const{autoFocus:o}=t,[c,d]=w.useState(),h=IW(e.days,n,r||(()=>!1),c),[p,g]=w.useState(o?h:void 0);return{isFocusTarget:C=>!!(h!=null&&h.isEqualTo(C)),setFocused:g,focused:p,blur:()=>{d(p),g(void 0)},moveFocus:(C,N)=>{if(!p)return;const L=MI(C,N,p,e.navStart,e.navEnd,t,s);L&&(e.goToDay(L),g(L))}}}function RW(t,e){const{selected:n,required:r,onSelect:s}=t,[o,c]=Vm(n,s?n:void 0),d=s?n:o,{isSameDay:h}=e,p=b=>(d==null?void 0:d.some(S=>h(S,b)))??!1,{min:g,max:v}=t;return{selected:d,select:(b,S,C)=>{let N=[...d??[]];if(p(b)){if((d==null?void 0:d.length)===g||r&&(d==null?void 0:d.length)===1)return;N=d==null?void 0:d.filter(L=>!h(L,b))}else(d==null?void 0:d.length)===v?N=[b]:N=[...N,b];return s||c(N),s==null||s(N,b,S,C),N},isSelected:p}}function PW(t,e,n=0,r=0,s=!1,o=Js){const{from:c,to:d}=e||{},{isSameDay:h,isAfter:p,isBefore:g}=o;let v;if(!c&&!d)v={from:t,to:n>0?void 0:t};else if(c&&!d)h(c,t)?s?v={from:c,to:void 0}:v=void 0:g(t,c)?v={from:t,to:c}:v={from:c,to:t};else if(c&&d)if(h(c,t)&&h(d,t))s?v={from:c,to:d}:v=void 0;else if(h(c,t))v={from:c,to:n>0?void 0:t};else if(h(d,t))v={from:t,to:n>0?void 0:t};else if(g(t,c))v={from:t,to:d};else if(p(t,c))v={from:c,to:t};else if(p(t,d))v={from:c,to:t};else throw new Error("Invalid range");if(v!=null&&v.from&&(v!=null&&v.to)){const x=o.differenceInCalendarDays(v.to,v.from);r>0&&x>r?v={from:t,to:void 0}:n>1&&x<n&&(v={from:t,to:void 0})}return v}function jW(t,e,n=Js){const r=Array.isArray(e)?e:[e];let s=t.from;const o=n.differenceInCalendarDays(t.to,t.from),c=Math.min(o,6);for(let d=0;d<=c;d++){if(r.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function eS(t,e,n=Js){return _i(t,e.from,!1,n)||_i(t,e.to,!1,n)||_i(e,t.from,!1,n)||_i(e,t.to,!1,n)}function DW(t,e,n=Js){const r=Array.isArray(e)?e:[e];if(r.filter(d=>typeof d!="function").some(d=>typeof d=="boolean"?d:n.isDate(d)?_i(t,d,!1,n):AI(d,n)?d.some(h=>_i(t,h,!1,n)):Lx(d)?d.from&&d.to?eS(t,{from:d.from,to:d.to},n):!1:kI(d)?jW(t,d.dayOfWeek,n):TI(d)?n.isAfter(d.before,d.after)?eS(t,{from:n.addDays(d.after,1),to:n.addDays(d.before,-1)},n):Ei(t.from,d,n)||Ei(t.to,d,n):NI(d)||II(d)?Ei(t.from,d,n)||Ei(t.to,d,n):!1))return!0;const c=r.filter(d=>typeof d=="function");if(c.length){let d=t.from;const h=n.differenceInCalendarDays(t.to,t.from);for(let p=0;p<=h;p++){if(c.some(g=>g(d)))return!0;d=n.addDays(d,1)}}return!1}function OW(t,e){const{disabled:n,excludeDisabled:r,selected:s,required:o,onSelect:c}=t,[d,h]=Vm(s,c?s:void 0),p=c?s:d;return{selected:p,select:(x,b,S)=>{const{min:C,max:N}=t,L=x?PW(x,p,C,N,o,e):void 0;return r&&n&&(L!=null&&L.from)&&L.to&&DW({from:L.from,to:L.to},n,e)&&(L.from=x,L.to=void 0),c||h(L),c==null||c(L,x,b,S),L},isSelected:x=>p&&_i(p,x,!1,e)}}function MW(t,e){const{selected:n,required:r,onSelect:s}=t,[o,c]=Vm(n,s?n:void 0),d=s?n:o,{isSameDay:h}=e;return{selected:d,select:(v,x,b)=>{let S=v;return!r&&d&&d&&h(v,d)&&(S=void 0),s||c(S),s==null||s(S,v,x,b),S},isSelected:v=>d?h(d,v):!1}}function LW(t,e){const n=MW(t,e),r=RW(t,e),s=OW(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return s;default:return}}function VW(t){var Mr;let e=t;e.timeZone&&(e={...t},e.today&&(e.today=new jn(e.today,e.timeZone)),e.month&&(e.month=new jn(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new jn(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new jn(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new jn(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new jn(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=(Mr=e.selected)==null?void 0:Mr.map(Ye=>new jn(Ye,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new jn(e.selected.from,e.timeZone):void 0,to:e.selected.to?new jn(e.selected.to,e.timeZone):void 0}));const{components:n,formatters:r,labels:s,dateLib:o,locale:c,classNames:d}=w.useMemo(()=>{const Ye={...Ox,...e.locale};return{dateLib:new Mi({locale:Ye,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:BB(e.components),formatters:JB(e.formatters),labels:{...mW,...e.labels},locale:Ye,classNames:{...Vx(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:h,mode:p,navLayout:g,numberOfMonths:v=1,onDayBlur:x,onDayClick:b,onDayFocus:S,onDayKeyDown:C,onDayMouseEnter:N,onDayMouseLeave:L,onNextClick:D,onPrevClick:j,showWeekNumber:B,styles:O}=e,{formatCaption:$,formatDay:A,formatMonthDropdown:I,formatWeekNumber:P,formatWeekNumberHeader:F,formatWeekdayName:U,formatYearDropdown:M}=r,k=NW(e,o),{days:ae,months:ge,navStart:pe,navEnd:ye,previousMonth:z,nextMonth:K,goToMonth:Y}=k,H=fB(ae,e,pe,ye,o),{isSelected:te,select:ve,selected:xe}=LW(e,o)??{},{blur:Oe,focused:De,isFocusTarget:oe,moveFocus:Ee,setFocused:Re}=AW(e,k,H,te??(()=>!1),o),{labelDayButton:Ue,labelGridcell:Je,labelGrid:Ze,labelMonthDropdown:It,labelNav:$t,labelPrevious:Bn,labelNext:fe,labelWeekday:Pe,labelWeekNumber:Tt,labelWeekNumberHeader:Ke,labelYearDropdown:tt}=s,Vt=w.useMemo(()=>tW(o,e.ISOWeek),[o,e.ISOWeek]),nn=p!==void 0||b!==void 0,Cn=w.useCallback(()=>{z&&(Y(z),j==null||j(z))},[z,Y,j]),Qt=w.useCallback(()=>{K&&(Y(K),D==null||D(K))},[Y,K,D]),er=w.useCallback((Ye,ht)=>nt=>{nt.preventDefault(),nt.stopPropagation(),Re(Ye),ve==null||ve(Ye.date,ht,nt),b==null||b(Ye.date,ht,nt)},[ve,b,Re]),os=w.useCallback((Ye,ht)=>nt=>{Re(Ye),S==null||S(Ye.date,ht,nt)},[S,Re]),Vi=w.useCallback((Ye,ht)=>nt=>{Oe(),x==null||x(Ye.date,ht,nt)},[Oe,x]),as=w.useCallback((Ye,ht)=>nt=>{const vt={ArrowLeft:[nt.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[nt.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[nt.shiftKey?"year":"week","after"],ArrowUp:[nt.shiftKey?"year":"week","before"],PageUp:[nt.shiftKey?"year":"month","before"],PageDown:[nt.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(vt[nt.key]){nt.preventDefault(),nt.stopPropagation();const[gn,tr]=vt[nt.key];Ee(gn,tr)}C==null||C(Ye.date,ht,nt)},[Ee,C,e.dir]),$a=w.useCallback((Ye,ht)=>nt=>{N==null||N(Ye.date,ht,nt)},[N]),ei=w.useCallback((Ye,ht)=>nt=>{L==null||L(Ye.date,ht,nt)},[L]),ls=w.useCallback(Ye=>ht=>{const nt=Number(ht.target.value),vt=o.setMonth(o.startOfMonth(Ye),nt);Y(vt)},[o,Y]),Ha=w.useCallback(Ye=>ht=>{const nt=Number(ht.target.value),vt=o.setYear(o.startOfMonth(Ye),nt);Y(vt)},[o,Y]),{className:cs,style:Fi}=w.useMemo(()=>({className:[d[je.Root],e.className].filter(Boolean).join(" "),style:{...O==null?void 0:O[je.Root],...e.style}}),[d,e.className,e.style,O]),ea=WB(e),Wn=w.useRef(null);yW(Wn,!!e.animate,{classNames:d,months:ge,focused:De,dateLib:o});const Ui={dayPickerProps:e,selected:xe,select:ve,isSelected:te,months:ge,nextMonth:K,previousMonth:z,goToMonth:Y,getModifiers:H,components:n,classNames:d,styles:O,labels:s,formatters:r};return de.createElement(RI.Provider,{value:Ui},de.createElement(n.Root,{rootRef:e.animate?Wn:void 0,className:cs,style:Fi,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...ea},de.createElement(n.Months,{className:d[je.Months],style:O==null?void 0:O[je.Months]},!e.hideNavigation&&!g&&de.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:d[je.Nav],style:O==null?void 0:O[je.Nav],"aria-label":$t(),onPreviousClick:Cn,onNextClick:Qt,previousMonth:z,nextMonth:K}),ge.map((Ye,ht)=>{const nt=ZB(Ye.date,pe,ye,r,o),vt=nW(pe,ye,r,o);return de.createElement(n.Month,{"data-animated-month":e.animate?"true":void 0,className:d[je.Month],style:O==null?void 0:O[je.Month],key:ht,displayIndex:ht,calendarMonth:Ye},g==="around"&&!e.hideNavigation&&ht===0&&de.createElement(n.PreviousMonthButton,{type:"button",className:d[je.PreviousMonthButton],tabIndex:z?void 0:-1,"aria-disabled":z?void 0:!0,"aria-label":Bn(z),onClick:Cn,"data-animated-button":e.animate?"true":void 0},de.createElement(n.Chevron,{disabled:z?void 0:!0,className:d[je.Chevron],orientation:e.dir==="rtl"?"right":"left"})),de.createElement(n.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:d[je.MonthCaption],style:O==null?void 0:O[je.MonthCaption],calendarMonth:Ye,displayIndex:ht},h!=null&&h.startsWith("dropdown")?de.createElement(n.DropdownNav,{className:d[je.Dropdowns],style:O==null?void 0:O[je.Dropdowns]},h==="dropdown"||h==="dropdown-months"?de.createElement(n.MonthsDropdown,{className:d[je.MonthsDropdown],"aria-label":It(),classNames:d,components:n,disabled:!!e.disableNavigation,onChange:ls(Ye.date),options:nt,style:O==null?void 0:O[je.Dropdown],value:o.getMonth(Ye.date)}):de.createElement("span",null,I(Ye.date,o)),h==="dropdown"||h==="dropdown-years"?de.createElement(n.YearsDropdown,{className:d[je.YearsDropdown],"aria-label":tt(o.options),classNames:d,components:n,disabled:!!e.disableNavigation,onChange:Ha(Ye.date),options:vt,style:O==null?void 0:O[je.Dropdown],value:o.getYear(Ye.date)}):de.createElement("span",null,M(Ye.date,o)),de.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},$(Ye.date,o.options,o))):de.createElement(n.CaptionLabel,{className:d[je.CaptionLabel],role:"status","aria-live":"polite"},$(Ye.date,o.options,o))),g==="around"&&!e.hideNavigation&&ht===v-1&&de.createElement(n.NextMonthButton,{type:"button",className:d[je.NextMonthButton],tabIndex:K?void 0:-1,"aria-disabled":K?void 0:!0,"aria-label":fe(K),onClick:Qt,"data-animated-button":e.animate?"true":void 0},de.createElement(n.Chevron,{disabled:K?void 0:!0,className:d[je.Chevron],orientation:e.dir==="rtl"?"left":"right"})),ht===v-1&&g==="after"&&!e.hideNavigation&&de.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:d[je.Nav],style:O==null?void 0:O[je.Nav],"aria-label":$t(),onPreviousClick:Cn,onNextClick:Qt,previousMonth:z,nextMonth:K}),de.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":p==="multiple"||p==="range","aria-label":Ze(Ye.date,o.options,o)||void 0,className:d[je.MonthGrid],style:O==null?void 0:O[je.MonthGrid]},!e.hideWeekdays&&de.createElement(n.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:d[je.Weekdays],style:O==null?void 0:O[je.Weekdays]},B&&de.createElement(n.WeekNumberHeader,{"aria-label":Ke(o.options),className:d[je.WeekNumberHeader],style:O==null?void 0:O[je.WeekNumberHeader],scope:"col"},F()),Vt.map((gn,tr)=>de.createElement(n.Weekday,{"aria-label":Pe(gn,o.options,o),className:d[je.Weekday],key:tr,style:O==null?void 0:O[je.Weekday],scope:"col"},U(gn,o.options,o)))),de.createElement(n.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:d[je.Weeks],style:O==null?void 0:O[je.Weeks]},Ye.weeks.map((gn,tr)=>de.createElement(n.Week,{className:d[je.Week],key:gn.weekNumber,style:O==null?void 0:O[je.Week],week:gn},B&&de.createElement(n.WeekNumber,{week:gn,style:O==null?void 0:O[je.WeekNumber],"aria-label":Tt(gn.weekNumber,{locale:c}),className:d[je.WeekNumber],scope:"row",role:"rowheader"},P(gn.weekNumber,o)),gn.days.map(At=>{const{date:Ln}=At,ft=H(At);if(ft[zt.focused]=!ft.hidden&&!!(De!=null&&De.isEqualTo(At)),ft[Qr.selected]=(te==null?void 0:te(Ln))||ft.selected,Lx(xe)){const{from:xr,to:wr}=xe;ft[Qr.range_start]=!!(xr&&wr&&o.isSameDay(Ln,xr)),ft[Qr.range_end]=!!(xr&&wr&&o.isSameDay(Ln,wr)),ft[Qr.range_middle]=_i(xe,Ln,!0,o)}const yr=eW(ft,O,e.modifiersStyles),qa=mB(ft,d,e.modifiersClassNames),ti=!nn&&!ft.hidden?Je(Ln,ft,o.options,o):void 0;return de.createElement(n.Day,{key:`${o.format(Ln,"yyyy-MM-dd")}_${o.format(At.displayMonth,"yyyy-MM")}`,day:At,modifiers:ft,className:qa.join(" "),style:yr,role:"gridcell","aria-selected":ft.selected||void 0,"aria-label":ti,"data-day":o.format(Ln,"yyyy-MM-dd"),"data-month":At.outside?o.format(Ln,"yyyy-MM"):void 0,"data-selected":ft.selected||void 0,"data-disabled":ft.disabled||void 0,"data-hidden":ft.hidden||void 0,"data-outside":At.outside||void 0,"data-focused":ft.focused||void 0,"data-today":ft.today||void 0},!ft.hidden&&nn?de.createElement(n.DayButton,{className:d[je.DayButton],style:O==null?void 0:O[je.DayButton],type:"button",day:At,modifiers:ft,disabled:ft.disabled||void 0,tabIndex:oe(At)?0:-1,"aria-label":Ue(Ln,ft,o.options,o),onClick:er(At,ft),onBlur:Vi(At,ft),onFocus:os(At,ft),onKeyDown:as(At,ft),onMouseEnter:$a(At,ft),onMouseLeave:ei(At,ft)},A(Ln,o.options,o)):!ft.hidden&&A(At.date,o.options,o))}))))))})),e.footer&&de.createElement(n.Footer,{className:d[je.Footer],style:O==null?void 0:O[je.Footer],role:"status","aria-live":"polite"},e.footer)))}function LI({className:t,classNames:e,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:s="ghost",formatters:o,components:c,...d}){const h=Vx();return l.jsx(VW,{showOutsideDays:n,className:ce("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,t),captionLayout:r,formatters:{formatMonthDropdown:p=>p.toLocaleString("default",{month:"short"}),...o},classNames:{root:ce("w-fit",h.root),months:ce("flex gap-4 flex-col md:flex-row relative",h.months),month:ce("flex flex-col w-full gap-4",h.month),nav:ce("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",h.nav),button_previous:ce(Ku({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",h.button_previous),button_next:ce(Ku({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",h.button_next),month_caption:ce("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",h.month_caption),dropdowns:ce("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",h.dropdowns),dropdown_root:ce("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",h.dropdown_root),dropdown:ce("absolute bg-popover inset-0 opacity-0",h.dropdown),caption_label:ce("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",h.caption_label),table:"w-full border-collapse",weekdays:ce("flex",h.weekdays),weekday:ce("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",h.weekday),week:ce("flex w-full mt-2",h.week),week_number_header:ce("select-none w-(--cell-size)",h.week_number_header),week_number:ce("text-[0.8rem] select-none text-muted-foreground",h.week_number),day:ce("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",h.day),range_start:ce("rounded-l-md bg-accent",h.range_start),range_middle:ce("rounded-none",h.range_middle),range_end:ce("rounded-r-md bg-accent",h.range_end),today:ce("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",h.today),outside:ce("text-muted-foreground aria-selected:text-muted-foreground",h.outside),disabled:ce("text-muted-foreground opacity-50",h.disabled),hidden:ce("invisible",h.hidden),...e},components:{Root:({className:p,rootRef:g,...v})=>l.jsx("div",{"data-slot":"calendar",ref:g,className:ce(p),...v}),Chevron:({className:p,orientation:g,...v})=>g==="left"?l.jsx(EF,{className:ce("size-4",p),...v}):g==="right"?l.jsx(p1,{className:ce("size-4",p),...v}):l.jsx(wc,{className:ce("size-4",p),...v}),DayButton:FW,WeekNumber:({children:p,...g})=>l.jsx("td",{...g,children:l.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:p})}),...c},...d})}function FW({className:t,day:e,modifiers:n,...r}){const s=Vx(),o=w.useRef(null);return w.useEffect(()=>{var c;n.focused&&((c=o.current)==null||c.focus())},[n.focused]),l.jsx(ue,{ref:o,variant:"ghost",size:"icon","data-day":e.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:ce("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",s.day,t),...r})}function VI({...t}){return l.jsx(PN,{"data-slot":"collapsible",...t})}function FI({...t}){return l.jsx(Cx,{"data-slot":"collapsible-trigger",...t})}function UI({...t}){return l.jsx(Nx,{"data-slot":"collapsible-content",...t})}const UW=["top","right","bottom","left"],Ro=Math.min,hr=Math.max,Gf=Math.round,Yh=Math.floor,Bs=t=>({x:t,y:t}),zW={left:"right",right:"left",bottom:"top",top:"bottom"},BW={start:"end",end:"start"};function Bv(t,e,n){return hr(t,Ro(e,n))}function Pi(t,e){return typeof t=="function"?t(e):t}function ji(t){return t.split("-")[0]}function Cc(t){return t.split("-")[1]}function Fx(t){return t==="x"?"y":"x"}function Ux(t){return t==="y"?"height":"width"}const WW=new Set(["top","bottom"]);function Os(t){return WW.has(ji(t))?"y":"x"}function zx(t){return Fx(Os(t))}function $W(t,e,n){n===void 0&&(n=!1);const r=Cc(t),s=zx(t),o=Ux(s);let c=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=Kf(c)),[c,Kf(c)]}function HW(t){const e=Kf(t);return[Wv(t),e,Wv(e)]}function Wv(t){return t.replace(/start|end/g,e=>BW[e])}const tS=["left","right"],nS=["right","left"],qW=["top","bottom"],GW=["bottom","top"];function KW(t,e,n){switch(t){case"top":case"bottom":return n?e?nS:tS:e?tS:nS;case"left":case"right":return e?qW:GW;default:return[]}}function YW(t,e,n,r){const s=Cc(t);let o=KW(ji(t),n==="start",r);return s&&(o=o.map(c=>c+"-"+s),e&&(o=o.concat(o.map(Wv)))),o}function Kf(t){return t.replace(/left|right|bottom|top/g,e=>zW[e])}function QW(t){return{top:0,right:0,bottom:0,left:0,...t}}function zI(t){return typeof t!="number"?QW(t):{top:t,right:t,bottom:t,left:t}}function Yf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function rS(t,e,n){let{reference:r,floating:s}=t;const o=Os(e),c=zx(e),d=Ux(c),h=ji(e),p=o==="y",g=r.x+r.width/2-s.width/2,v=r.y+r.height/2-s.height/2,x=r[d]/2-s[d]/2;let b;switch(h){case"top":b={x:g,y:r.y-s.height};break;case"bottom":b={x:g,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:v};break;case"left":b={x:r.x-s.width,y:v};break;default:b={x:r.x,y:r.y}}switch(Cc(e)){case"start":b[c]-=x*(n&&p?-1:1);break;case"end":b[c]+=x*(n&&p?-1:1);break}return b}const XW=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:c}=n,d=o.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:t,floating:e,strategy:s}),{x:g,y:v}=rS(p,r,h),x=r,b={},S=0;for(let C=0;C<d.length;C++){const{name:N,fn:L}=d[C],{x:D,y:j,data:B,reset:O}=await L({x:g,y:v,initialPlacement:r,placement:x,strategy:s,middlewareData:b,rects:p,platform:c,elements:{reference:t,floating:e}});g=D??g,v=j??v,b={...b,[N]:{...b[N],...B}},O&&S<=50&&(S++,typeof O=="object"&&(O.placement&&(x=O.placement),O.rects&&(p=O.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:g,y:v}=rS(p,x,h)),C=-1)}return{x:g,y:v,placement:x,strategy:s,middlewareData:b}};async function Ju(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:c,elements:d,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:x=!1,padding:b=0}=Pi(e,t),S=zI(b),N=d[x?v==="floating"?"reference":"floating":v],L=Yf(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(N)))==null||n?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:p,rootBoundary:g,strategy:h})),D=v==="floating"?{x:r,y:s,width:c.floating.width,height:c.floating.height}:c.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),B=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},O=Yf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:D,offsetParent:j,strategy:h}):D);return{top:(L.top-O.top+S.top)/B.y,bottom:(O.bottom-L.bottom+S.bottom)/B.y,left:(L.left-O.left+S.left)/B.x,right:(O.right-L.right+S.right)/B.x}}const JW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:c,elements:d,middlewareData:h}=e,{element:p,padding:g=0}=Pi(t,e)||{};if(p==null)return{};const v=zI(g),x={x:n,y:r},b=zx(s),S=Ux(b),C=await c.getDimensions(p),N=b==="y",L=N?"top":"left",D=N?"bottom":"right",j=N?"clientHeight":"clientWidth",B=o.reference[S]+o.reference[b]-x[b]-o.floating[S],O=x[b]-o.reference[b],$=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let A=$?$[j]:0;(!A||!await(c.isElement==null?void 0:c.isElement($)))&&(A=d.floating[j]||o.floating[S]);const I=B/2-O/2,P=A/2-C[S]/2-1,F=Ro(v[L],P),U=Ro(v[D],P),M=F,k=A-C[S]-U,ae=A/2-C[S]/2+I,ge=Bv(M,ae,k),pe=!h.arrow&&Cc(s)!=null&&ae!==ge&&o.reference[S]/2-(ae<M?F:U)-C[S]/2<0,ye=pe?ae<M?ae-M:ae-k:0;return{[b]:x[b]+ye,data:{[b]:ge,centerOffset:ae-ge-ye,...pe&&{alignmentOffset:ye}},reset:pe}}}),ZW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:c,initialPlacement:d,platform:h,elements:p}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:C=!0,...N}=Pi(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const L=ji(s),D=Os(d),j=ji(d)===d,B=await(h.isRTL==null?void 0:h.isRTL(p.floating)),O=x||(j||!C?[Kf(d)]:HW(d)),$=S!=="none";!x&&$&&O.push(...YW(d,C,S,B));const A=[d,...O],I=await Ju(e,N),P=[];let F=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&P.push(I[L]),v){const ae=$W(s,c,B);P.push(I[ae[0]],I[ae[1]])}if(F=[...F,{placement:s,overflows:P}],!P.every(ae=>ae<=0)){var U,M;const ae=(((U=o.flip)==null?void 0:U.index)||0)+1,ge=A[ae];if(ge&&(!(v==="alignment"?D!==Os(ge):!1)||F.every(z=>Os(z.placement)===D?z.overflows[0]>0:!0)))return{data:{index:ae,overflows:F},reset:{placement:ge}};let pe=(M=F.filter(ye=>ye.overflows[0]<=0).sort((ye,z)=>ye.overflows[1]-z.overflows[1])[0])==null?void 0:M.placement;if(!pe)switch(b){case"bestFit":{var k;const ye=(k=F.filter(z=>{if($){const K=Os(z.placement);return K===D||K==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(K=>K>0).reduce((K,Y)=>K+Y,0)]).sort((z,K)=>z[1]-K[1])[0])==null?void 0:k[0];ye&&(pe=ye);break}case"initialPlacement":pe=d;break}if(s!==pe)return{reset:{placement:pe}}}return{}}}};function sS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function iS(t){return UW.some(e=>t[e]>=0)}const e$=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Pi(t,e);switch(r){case"referenceHidden":{const o=await Ju(e,{...s,elementContext:"reference"}),c=sS(o,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:iS(c)}}}case"escaped":{const o=await Ju(e,{...s,altBoundary:!0}),c=sS(o,n.floating);return{data:{escapedOffsets:c,escaped:iS(c)}}}default:return{}}}}},BI=new Set(["left","top"]);async function t$(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),c=ji(n),d=Cc(n),h=Os(n)==="y",p=BI.has(c)?-1:1,g=o&&h?-1:1,v=Pi(e,t);let{mainAxis:x,crossAxis:b,alignmentAxis:S}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return d&&typeof S=="number"&&(b=d==="end"?S*-1:S),h?{x:b*g,y:x*p}:{x:x*p,y:b*g}}const n$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:c,middlewareData:d}=e,h=await t$(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:o+h.y,data:{...h,placement:c}}}}},r$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:d={fn:N=>{let{x:L,y:D}=N;return{x:L,y:D}}},...h}=Pi(t,e),p={x:n,y:r},g=await Ju(e,h),v=Os(ji(s)),x=Fx(v);let b=p[x],S=p[v];if(o){const N=x==="y"?"top":"left",L=x==="y"?"bottom":"right",D=b+g[N],j=b-g[L];b=Bv(D,b,j)}if(c){const N=v==="y"?"top":"left",L=v==="y"?"bottom":"right",D=S+g[N],j=S-g[L];S=Bv(D,S,j)}const C=d.fn({...e,[x]:b,[v]:S});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[x]:o,[v]:c}}}}}},s$=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:c}=e,{offset:d=0,mainAxis:h=!0,crossAxis:p=!0}=Pi(t,e),g={x:n,y:r},v=Os(s),x=Fx(v);let b=g[x],S=g[v];const C=Pi(d,e),N=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(h){const j=x==="y"?"height":"width",B=o.reference[x]-o.floating[j]+N.mainAxis,O=o.reference[x]+o.reference[j]-N.mainAxis;b<B?b=B:b>O&&(b=O)}if(p){var L,D;const j=x==="y"?"width":"height",B=BI.has(ji(s)),O=o.reference[v]-o.floating[j]+(B&&((L=c.offset)==null?void 0:L[v])||0)+(B?0:N.crossAxis),$=o.reference[v]+o.reference[j]+(B?0:((D=c.offset)==null?void 0:D[v])||0)-(B?N.crossAxis:0);S<O?S=O:S>$&&(S=$)}return{[x]:b,[v]:S}}}},i$=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:c,elements:d}=e,{apply:h=()=>{},...p}=Pi(t,e),g=await Ju(e,p),v=ji(s),x=Cc(s),b=Os(s)==="y",{width:S,height:C}=o.floating;let N,L;v==="top"||v==="bottom"?(N=v,L=x===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(L=v,N=x==="end"?"top":"bottom");const D=C-g.top-g.bottom,j=S-g.left-g.right,B=Ro(C-g[N],D),O=Ro(S-g[L],j),$=!e.middlewareData.shift;let A=B,I=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=D),$&&!x){const F=hr(g.left,0),U=hr(g.right,0),M=hr(g.top,0),k=hr(g.bottom,0);b?I=S-2*(F!==0||U!==0?F+U:hr(g.left,g.right)):A=C-2*(M!==0||k!==0?M+k:hr(g.top,g.bottom))}await h({...e,availableWidth:I,availableHeight:A});const P=await c.getDimensions(d.floating);return S!==P.width||C!==P.height?{reset:{rects:!0}}:{}}}};function Fm(){return typeof window<"u"}function Tc(t){return WI(t)?(t.nodeName||"").toLowerCase():"#document"}function pr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zs(t){var e;return(e=(WI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function WI(t){return Fm()?t instanceof Node||t instanceof pr(t).Node:!1}function ts(t){return Fm()?t instanceof Element||t instanceof pr(t).Element:!1}function qs(t){return Fm()?t instanceof HTMLElement||t instanceof pr(t).HTMLElement:!1}function oS(t){return!Fm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pr(t).ShadowRoot}const o$=new Set(["inline","contents"]);function yd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ns(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!o$.has(s)}const a$=new Set(["table","td","th"]);function l$(t){return a$.has(Tc(t))}const c$=[":popover-open",":modal"];function Um(t){return c$.some(e=>{try{return t.matches(e)}catch{return!1}})}const u$=["transform","translate","scale","rotate","perspective"],d$=["transform","translate","scale","rotate","perspective","filter"],h$=["paint","layout","strict","content"];function Bx(t){const e=Wx(),n=ts(t)?ns(t):t;return u$.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||d$.some(r=>(n.willChange||"").includes(r))||h$.some(r=>(n.contain||"").includes(r))}function f$(t){let e=Po(t);for(;qs(e)&&!lc(e);){if(Bx(e))return e;if(Um(e))return null;e=Po(e)}return null}function Wx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const m$=new Set(["html","body","#document"]);function lc(t){return m$.has(Tc(t))}function ns(t){return pr(t).getComputedStyle(t)}function zm(t){return ts(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Po(t){if(Tc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||oS(t)&&t.host||Zs(t);return oS(e)?e.host:e}function $I(t){const e=Po(t);return lc(e)?t.ownerDocument?t.ownerDocument.body:t.body:qs(e)&&yd(e)?e:$I(e)}function Zu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=$I(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),c=pr(s);if(o){const d=$v(c);return e.concat(c,c.visualViewport||[],yd(s)?s:[],d&&n?Zu(d):[])}return e.concat(s,Zu(s,[],n))}function $v(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function HI(t){const e=ns(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=qs(t),o=s?t.offsetWidth:n,c=s?t.offsetHeight:r,d=Gf(n)!==o||Gf(r)!==c;return d&&(n=o,r=c),{width:n,height:r,$:d}}function $x(t){return ts(t)?t:t.contextElement}function Yl(t){const e=$x(t);if(!qs(e))return Bs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=HI(e);let c=(o?Gf(n.width):n.width)/r,d=(o?Gf(n.height):n.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const p$=Bs(0);function qI(t){const e=pr(t);return!Wx()||!e.visualViewport?p$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function g$(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==pr(t)?!1:e}function La(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=$x(t);let c=Bs(1);e&&(r?ts(r)&&(c=Yl(r)):c=Yl(t));const d=g$(o,n,r)?qI(o):Bs(0);let h=(s.left+d.x)/c.x,p=(s.top+d.y)/c.y,g=s.width/c.x,v=s.height/c.y;if(o){const x=pr(o),b=r&&ts(r)?pr(r):r;let S=x,C=$v(S);for(;C&&r&&b!==S;){const N=Yl(C),L=C.getBoundingClientRect(),D=ns(C),j=L.left+(C.clientLeft+parseFloat(D.paddingLeft))*N.x,B=L.top+(C.clientTop+parseFloat(D.paddingTop))*N.y;h*=N.x,p*=N.y,g*=N.x,v*=N.y,h+=j,p+=B,S=pr(C),C=$v(S)}}return Yf({width:g,height:v,x:h,y:p})}function Bm(t,e){const n=zm(t).scrollLeft;return e?e.left+n:La(Zs(t)).left+n}function GI(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Bm(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function v$(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",c=Zs(r),d=e?Um(e.floating):!1;if(r===c||d&&o)return n;let h={scrollLeft:0,scrollTop:0},p=Bs(1);const g=Bs(0),v=qs(r);if((v||!v&&!o)&&((Tc(r)!=="body"||yd(c))&&(h=zm(r)),qs(r))){const b=La(r);p=Yl(r),g.x=b.x+r.clientLeft,g.y=b.y+r.clientTop}const x=c&&!v&&!o?GI(c,h):Bs(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+g.x+x.x,y:n.y*p.y-h.scrollTop*p.y+g.y+x.y}}function y$(t){return Array.from(t.getClientRects())}function x$(t){const e=Zs(t),n=zm(t),r=t.ownerDocument.body,s=hr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=hr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Bm(t);const d=-n.scrollTop;return ns(r).direction==="rtl"&&(c+=hr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:c,y:d}}const aS=25;function w$(t,e){const n=pr(t),r=Zs(t),s=n.visualViewport;let o=r.clientWidth,c=r.clientHeight,d=0,h=0;if(s){o=s.width,c=s.height;const g=Wx();(!g||g&&e==="fixed")&&(d=s.offsetLeft,h=s.offsetTop)}const p=Bm(r);if(p<=0){const g=r.ownerDocument,v=g.body,x=getComputedStyle(v),b=g.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,S=Math.abs(r.clientWidth-v.clientWidth-b);S<=aS&&(o-=S)}else p<=aS&&(o+=p);return{width:o,height:c,x:d,y:h}}const _$=new Set(["absolute","fixed"]);function E$(t,e){const n=La(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=qs(t)?Yl(t):Bs(1),c=t.clientWidth*o.x,d=t.clientHeight*o.y,h=s*o.x,p=r*o.y;return{width:c,height:d,x:h,y:p}}function lS(t,e,n){let r;if(e==="viewport")r=w$(t,n);else if(e==="document")r=x$(Zs(t));else if(ts(e))r=E$(e,n);else{const s=qI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Yf(r)}function KI(t,e){const n=Po(t);return n===e||!ts(n)||lc(n)?!1:ns(n).position==="fixed"||KI(n,e)}function b$(t,e){const n=e.get(t);if(n)return n;let r=Zu(t,[],!1).filter(d=>ts(d)&&Tc(d)!=="body"),s=null;const o=ns(t).position==="fixed";let c=o?Po(t):t;for(;ts(c)&&!lc(c);){const d=ns(c),h=Bx(c);!h&&d.position==="fixed"&&(s=null),(o?!h&&!s:!h&&d.position==="static"&&!!s&&_$.has(s.position)||yd(c)&&!h&&KI(t,c))?r=r.filter(g=>g!==c):s=d,c=Po(c)}return e.set(t,r),r}function S$(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const c=[...n==="clippingAncestors"?Um(e)?[]:b$(e,this._c):[].concat(n),r],d=c[0],h=c.reduce((p,g)=>{const v=lS(e,g,s);return p.top=hr(v.top,p.top),p.right=Ro(v.right,p.right),p.bottom=Ro(v.bottom,p.bottom),p.left=hr(v.left,p.left),p},lS(e,d,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function C$(t){const{width:e,height:n}=HI(t);return{width:e,height:n}}function T$(t,e,n){const r=qs(e),s=Zs(e),o=n==="fixed",c=La(t,!0,o,e);let d={scrollLeft:0,scrollTop:0};const h=Bs(0);function p(){h.x=Bm(s)}if(r||!r&&!o)if((Tc(e)!=="body"||yd(s))&&(d=zm(e)),r){const b=La(e,!0,o,e);h.x=b.x+e.clientLeft,h.y=b.y+e.clientTop}else s&&p();o&&!r&&s&&p();const g=s&&!r&&!o?GI(s,d):Bs(0),v=c.left+d.scrollLeft-h.x-g.x,x=c.top+d.scrollTop-h.y-g.y;return{x:v,y:x,width:c.width,height:c.height}}function Jg(t){return ns(t).position==="static"}function cS(t,e){if(!qs(t)||ns(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zs(t)===n&&(n=n.ownerDocument.body),n}function YI(t,e){const n=pr(t);if(Um(t))return n;if(!qs(t)){let s=Po(t);for(;s&&!lc(s);){if(ts(s)&&!Jg(s))return s;s=Po(s)}return n}let r=cS(t,e);for(;r&&l$(r)&&Jg(r);)r=cS(r,e);return r&&lc(r)&&Jg(r)&&!Bx(r)?n:r||f$(t)||n}const N$=async function(t){const e=this.getOffsetParent||YI,n=this.getDimensions,r=await n(t.floating);return{reference:T$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function I$(t){return ns(t).direction==="rtl"}const k$={convertOffsetParentRelativeRectToViewportRelativeRect:v$,getDocumentElement:Zs,getClippingRect:S$,getOffsetParent:YI,getElementRects:N$,getClientRects:y$,getDimensions:C$,getScale:Yl,isElement:ts,isRTL:I$};function QI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function A$(t,e){let n=null,r;const s=Zs(t);function o(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),o();const p=t.getBoundingClientRect(),{left:g,top:v,width:x,height:b}=p;if(d||e(),!x||!b)return;const S=Yh(v),C=Yh(s.clientWidth-(g+x)),N=Yh(s.clientHeight-(v+b)),L=Yh(g),j={rootMargin:-S+"px "+-C+"px "+-N+"px "+-L+"px",threshold:hr(0,Ro(1,h))||1};let B=!0;function O($){const A=$[0].intersectionRatio;if(A!==h){if(!B)return c();A?c(!1,A):r=setTimeout(()=>{c(!1,1e-7)},1e3)}A===1&&!QI(p,t.getBoundingClientRect())&&c(),B=!1}try{n=new IntersectionObserver(O,{...j,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,j)}n.observe(t)}return c(!0),o}function R$(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=$x(t),g=s||o?[...p?Zu(p):[],...Zu(e)]:[];g.forEach(L=>{s&&L.addEventListener("scroll",n,{passive:!0}),o&&L.addEventListener("resize",n)});const v=p&&d?A$(p,n):null;let x=-1,b=null;c&&(b=new ResizeObserver(L=>{let[D]=L;D&&D.target===p&&b&&(b.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var j;(j=b)==null||j.observe(e)})),n()}),p&&!h&&b.observe(p),b.observe(e));let S,C=h?La(t):null;h&&N();function N(){const L=La(t);C&&!QI(C,L)&&n(),C=L,S=requestAnimationFrame(N)}return n(),()=>{var L;g.forEach(D=>{s&&D.removeEventListener("scroll",n),o&&D.removeEventListener("resize",n)}),v==null||v(),(L=b)==null||L.disconnect(),b=null,h&&cancelAnimationFrame(S)}}const P$=n$,j$=r$,D$=ZW,O$=i$,M$=e$,uS=JW,L$=s$,V$=(t,e,n)=>{const r=new Map,s={platform:k$,...n},o={...s.platform,_c:r};return XW(t,e,{...s,platform:o})};var F$=typeof document<"u",U$=function(){},mf=F$?w.useLayoutEffect:U$;function Qf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Qf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Qf(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function XI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function dS(t,e){const n=XI(t);return Math.round(e*n)/n}function Zg(t){const e=w.useRef(t);return mf(()=>{e.current=t}),e}function z$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:h,open:p}=t,[g,v]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,b]=w.useState(r);Qf(x,r)||b(r);const[S,C]=w.useState(null),[N,L]=w.useState(null),D=w.useCallback(z=>{z!==$.current&&($.current=z,C(z))},[]),j=w.useCallback(z=>{z!==A.current&&(A.current=z,L(z))},[]),B=o||S,O=c||N,$=w.useRef(null),A=w.useRef(null),I=w.useRef(g),P=h!=null,F=Zg(h),U=Zg(s),M=Zg(p),k=w.useCallback(()=>{if(!$.current||!A.current)return;const z={placement:e,strategy:n,middleware:x};U.current&&(z.platform=U.current),V$($.current,A.current,z).then(K=>{const Y={...K,isPositioned:M.current!==!1};ae.current&&!Qf(I.current,Y)&&(I.current=Y,nd.flushSync(()=>{v(Y)}))})},[x,e,n,U,M]);mf(()=>{p===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,v(z=>({...z,isPositioned:!1})))},[p]);const ae=w.useRef(!1);mf(()=>(ae.current=!0,()=>{ae.current=!1}),[]),mf(()=>{if(B&&($.current=B),O&&(A.current=O),B&&O){if(F.current)return F.current(B,O,k);k()}},[B,O,k,F,P]);const ge=w.useMemo(()=>({reference:$,floating:A,setReference:D,setFloating:j}),[D,j]),pe=w.useMemo(()=>({reference:B,floating:O}),[B,O]),ye=w.useMemo(()=>{const z={position:n,left:0,top:0};if(!pe.floating)return z;const K=dS(pe.floating,g.x),Y=dS(pe.floating,g.y);return d?{...z,transform:"translate("+K+"px, "+Y+"px)",...XI(pe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:Y}},[n,d,pe.floating,g.x,g.y]);return w.useMemo(()=>({...g,update:k,refs:ge,elements:pe,floatingStyles:ye}),[g,k,ge,pe,ye])}const B$=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?uS({element:r.current,padding:s}).fn(n):{}:r?uS({element:r,padding:s}).fn(n):{}}}},W$=(t,e)=>({...P$(t),options:[t,e]}),$$=(t,e)=>({...j$(t),options:[t,e]}),H$=(t,e)=>({...L$(t),options:[t,e]}),q$=(t,e)=>({...D$(t),options:[t,e]}),G$=(t,e)=>({...O$(t),options:[t,e]}),K$=(t,e)=>({...M$(t),options:[t,e]}),Y$=(t,e)=>({...B$(t),options:[t,e]});var Q$="Arrow",JI=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return l.jsx(Be.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});JI.displayName=Q$;var X$=JI,Hx="Popper",[ZI,ek]=Qs(Hx),[J$,tk]=ZI(Hx),nk=t=>{const{__scopePopper:e,children:n}=t,[r,s]=w.useState(null);return l.jsx(J$,{scope:e,anchor:r,onAnchorChange:s,children:n})};nk.displayName=Hx;var rk="PopperAnchor",sk=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=tk(rk,n),c=w.useRef(null),d=at(e,c);return w.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:l.jsx(Be.div,{...s,ref:d})});sk.displayName=rk;var qx="PopperContent",[Z$,e8]=ZI(qx),ik=w.forwardRef((t,e)=>{var oe,Ee,Re,Ue,Je,Ze;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:S,...C}=t,N=tk(qx,n),[L,D]=w.useState(null),j=at(e,It=>D(It)),[B,O]=w.useState(null),$=yI(B),A=($==null?void 0:$.width)??0,I=($==null?void 0:$.height)??0,P=r+(o!=="center"?"-"+o:""),F=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},U=Array.isArray(p)?p:[p],M=U.length>0,k={padding:F,boundary:U.filter(n8),altBoundary:M},{refs:ae,floatingStyles:ge,placement:pe,isPositioned:ye,middlewareData:z}=z$({strategy:"fixed",placement:P,whileElementsMounted:(...It)=>R$(...It,{animationFrame:b==="always"}),elements:{reference:N.anchor},middleware:[W$({mainAxis:s+I,alignmentAxis:c}),h&&$$({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?H$():void 0,...k}),h&&q$({...k}),G$({...k,apply:({elements:It,rects:$t,availableWidth:Bn,availableHeight:fe})=>{const{width:Pe,height:Tt}=$t.reference,Ke=It.floating.style;Ke.setProperty("--radix-popper-available-width",`${Bn}px`),Ke.setProperty("--radix-popper-available-height",`${fe}px`),Ke.setProperty("--radix-popper-anchor-width",`${Pe}px`),Ke.setProperty("--radix-popper-anchor-height",`${Tt}px`)}}),B&&Y$({element:B,padding:d}),r8({arrowWidth:A,arrowHeight:I}),x&&K$({strategy:"referenceHidden",...k})]}),[K,Y]=lk(pe),H=Bt(S);tn(()=>{ye&&(H==null||H())},[ye,H]);const te=(oe=z.arrow)==null?void 0:oe.x,ve=(Ee=z.arrow)==null?void 0:Ee.y,xe=((Re=z.arrow)==null?void 0:Re.centerOffset)!==0,[Oe,De]=w.useState();return tn(()=>{L&&De(window.getComputedStyle(L).zIndex)},[L]),l.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...ge,transform:ye?ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(Ue=z.transformOrigin)==null?void 0:Ue.x,(Je=z.transformOrigin)==null?void 0:Je.y].join(" "),...((Ze=z.hide)==null?void 0:Ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(Z$,{scope:n,placedSide:K,onArrowChange:O,arrowX:te,arrowY:ve,shouldHideArrow:xe,children:l.jsx(Be.div,{"data-side":K,"data-align":Y,...C,ref:j,style:{...C.style,animation:ye?void 0:"none"}})})})});ik.displayName=qx;var ok="PopperArrow",t8={top:"bottom",right:"left",bottom:"top",left:"right"},ak=w.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=e8(ok,r),c=t8[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(X$,{...s,ref:n,style:{...s.style,display:"block"}})})});ak.displayName=ok;function n8(t){return t!==null}var r8=t=>({name:"transformOrigin",options:t,fn(e){var N,L,D;const{placement:n,rects:r,middlewareData:s}=e,c=((N=s.arrow)==null?void 0:N.centerOffset)!==0,d=c?0:t.arrowWidth,h=c?0:t.arrowHeight,[p,g]=lk(n),v={start:"0%",center:"50%",end:"100%"}[g],x=(((L=s.arrow)==null?void 0:L.x)??0)+d/2,b=(((D=s.arrow)==null?void 0:D.y)??0)+h/2;let S="",C="";return p==="bottom"?(S=c?v:`${x}px`,C=`${-h}px`):p==="top"?(S=c?v:`${x}px`,C=`${r.floating.height+h}px`):p==="right"?(S=`${-h}px`,C=c?v:`${b}px`):p==="left"&&(S=`${r.floating.width+h}px`,C=c?v:`${b}px`),{data:{x:S,y:C}}}});function lk(t){const[e,n="center"]=t.split("-");return[e,n]}var s8=nk,i8=sk,o8=ik,a8=ak,l8=[" ","Enter","ArrowUp","ArrowDown"],c8=[" ","Enter"],xd="Select",[Wm,$m,u8]=Am(xd),[Nc]=Qs(xd,[u8,ek]),Hm=ek(),[d8,Vo]=Nc(xd),[h8,f8]=Nc(xd),ck=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:c,defaultValue:d,onValueChange:h,dir:p,name:g,autoComplete:v,disabled:x,required:b,form:S}=t,C=Hm(e),[N,L]=w.useState(null),[D,j]=w.useState(null),[B,O]=w.useState(!1),$=km(p),[A=!1,I]=Ai({prop:r,defaultProp:s,onChange:o}),[P,F]=Ai({prop:c,defaultProp:d,onChange:h}),U=w.useRef(null),M=N?S||!!N.closest("form"):!0,[k,ae]=w.useState(new Set),ge=Array.from(k).map(pe=>pe.props.value).join(";");return l.jsx(s8,{...C,children:l.jsxs(d8,{required:b,scope:e,trigger:N,onTriggerChange:L,valueNode:D,onValueNodeChange:j,valueNodeHasChildren:B,onValueNodeHasChildrenChange:O,contentId:zs(),value:P,onValueChange:F,open:A,onOpenChange:I,dir:$,triggerPointerDownPosRef:U,disabled:x,children:[l.jsx(Wm.Provider,{scope:e,children:l.jsx(h8,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(pe=>{ae(ye=>new Set(ye).add(pe))},[]),onNativeOptionRemove:w.useCallback(pe=>{ae(ye=>{const z=new Set(ye);return z.delete(pe),z})},[]),children:n})}),M?l.jsxs(Pk,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:v,value:P,onChange:pe=>F(pe.target.value),disabled:x,form:S,children:[P===void 0?l.jsx("option",{value:""}):null,Array.from(k)]},ge):null]})})};ck.displayName=xd;var uk="SelectTrigger",dk=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Hm(n),c=Vo(uk,n),d=c.disabled||r,h=at(e,c.onTriggerChange),p=$m(n),g=w.useRef("touch"),[v,x,b]=jk(C=>{const N=p().filter(j=>!j.disabled),L=N.find(j=>j.value===c.value),D=Dk(N,C,L);D!==void 0&&c.onValueChange(D.value)}),S=C=>{d||(c.onOpenChange(!0),b()),C&&(c.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return l.jsx(i8,{asChild:!0,...o,children:l.jsx(Be.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":Rk(c.value)?"":void 0,...s,ref:h,onClick:ze(s.onClick,C=>{C.currentTarget.focus(),g.current!=="mouse"&&S(C)}),onPointerDown:ze(s.onPointerDown,C=>{g.current=C.pointerType;const N=C.target;N.hasPointerCapture(C.pointerId)&&N.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(S(C),C.preventDefault())}),onKeyDown:ze(s.onKeyDown,C=>{const N=v.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&x(C.key),!(N&&C.key===" ")&&l8.includes(C.key)&&(S(),C.preventDefault())})})})});dk.displayName=uk;var hk="SelectValue",fk=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:c="",...d}=t,h=Vo(hk,n),{onValueNodeHasChildrenChange:p}=h,g=o!==void 0,v=at(e,h.onValueNodeChange);return tn(()=>{p(g)},[p,g]),l.jsx(Be.span,{...d,ref:v,style:{pointerEvents:"none"},children:Rk(h.value)?l.jsx(l.Fragment,{children:c}):o})});fk.displayName=hk;var m8="SelectIcon",mk=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(Be.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});mk.displayName=m8;var p8="SelectPortal",pk=t=>l.jsx(hx,{asChild:!0,...t});pk.displayName=p8;var Va="SelectContent",gk=w.forwardRef((t,e)=>{const n=Vo(Va,t.__scopeSelect),[r,s]=w.useState();if(tn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?nd.createPortal(l.jsx(vk,{scope:t.__scopeSelect,children:l.jsx(Wm.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),o):null}return l.jsx(yk,{...t,ref:e})});gk.displayName=Va;var Hr=10,[vk,Fo]=Nc(Va),g8="SelectContentImpl",yk=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:c,side:d,sideOffset:h,align:p,alignOffset:g,arrowPadding:v,collisionBoundary:x,collisionPadding:b,sticky:S,hideWhenDetached:C,avoidCollisions:N,...L}=t,D=Vo(Va,n),[j,B]=w.useState(null),[O,$]=w.useState(null),A=at(e,oe=>B(oe)),[I,P]=w.useState(null),[F,U]=w.useState(null),M=$m(n),[k,ae]=w.useState(!1),ge=w.useRef(!1);w.useEffect(()=>{if(j)return cN(j)},[j]),eN();const pe=w.useCallback(oe=>{const[Ee,...Re]=M().map(Ze=>Ze.ref.current),[Ue]=Re.slice(-1),Je=document.activeElement;for(const Ze of oe)if(Ze===Je||(Ze==null||Ze.scrollIntoView({block:"nearest"}),Ze===Ee&&O&&(O.scrollTop=0),Ze===Ue&&O&&(O.scrollTop=O.scrollHeight),Ze==null||Ze.focus(),document.activeElement!==Je))return},[M,O]),ye=w.useCallback(()=>pe([I,j]),[pe,I,j]);w.useEffect(()=>{k&&ye()},[k,ye]);const{onOpenChange:z,triggerPointerDownPosRef:K}=D;w.useEffect(()=>{if(j){let oe={x:0,y:0};const Ee=Ue=>{var Je,Ze;oe={x:Math.abs(Math.round(Ue.pageX)-(((Je=K.current)==null?void 0:Je.x)??0)),y:Math.abs(Math.round(Ue.pageY)-(((Ze=K.current)==null?void 0:Ze.y)??0))}},Re=Ue=>{oe.x<=10&&oe.y<=10?Ue.preventDefault():j.contains(Ue.target)||z(!1),document.removeEventListener("pointermove",Ee),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",Re,{capture:!0})}}},[j,z,K]),w.useEffect(()=>{const oe=()=>z(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[z]);const[Y,H]=jk(oe=>{const Ee=M().filter(Je=>!Je.disabled),Re=Ee.find(Je=>Je.ref.current===document.activeElement),Ue=Dk(Ee,oe,Re);Ue&&setTimeout(()=>Ue.ref.current.focus())}),te=w.useCallback((oe,Ee,Re)=>{const Ue=!ge.current&&!Re;(D.value!==void 0&&D.value===Ee||Ue)&&(P(oe),Ue&&(ge.current=!0))},[D.value]),ve=w.useCallback(()=>j==null?void 0:j.focus(),[j]),xe=w.useCallback((oe,Ee,Re)=>{const Ue=!ge.current&&!Re;(D.value!==void 0&&D.value===Ee||Ue)&&U(oe)},[D.value]),Oe=r==="popper"?Hv:xk,De=Oe===Hv?{side:d,sideOffset:h,align:p,alignOffset:g,arrowPadding:v,collisionBoundary:x,collisionPadding:b,sticky:S,hideWhenDetached:C,avoidCollisions:N}:{};return l.jsx(vk,{scope:n,content:j,viewport:O,onViewportChange:$,itemRefCallback:te,selectedItem:I,onItemLeave:ve,itemTextRefCallback:xe,focusSelectedItem:ye,selectedItemText:F,position:r,isPositioned:k,searchRef:Y,children:l.jsx(fx,{as:Ao,allowPinchZoom:!0,children:l.jsx(dx,{asChild:!0,trapped:D.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:ze(s,oe=>{var Ee;(Ee=D.trigger)==null||Ee.focus({preventScroll:!0}),oe.preventDefault()}),children:l.jsx(Rm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:l.jsx(Oe,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:oe=>oe.preventDefault(),...L,...De,onPlaced:()=>ae(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...L.style},onKeyDown:ze(L.onKeyDown,oe=>{const Ee=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!Ee&&oe.key.length===1&&H(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Ue=M().filter(Je=>!Je.disabled).map(Je=>Je.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const Je=oe.target,Ze=Ue.indexOf(Je);Ue=Ue.slice(Ze+1)}setTimeout(()=>pe(Ue)),oe.preventDefault()}})})})})})})});yk.displayName=g8;var v8="SelectItemAlignedPosition",xk=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=Vo(Va,n),c=Fo(Va,n),[d,h]=w.useState(null),[p,g]=w.useState(null),v=at(e,A=>g(A)),x=$m(n),b=w.useRef(!1),S=w.useRef(!0),{viewport:C,selectedItem:N,selectedItemText:L,focusSelectedItem:D}=c,j=w.useCallback(()=>{if(o.trigger&&o.valueNode&&d&&p&&C&&N&&L){const A=o.trigger.getBoundingClientRect(),I=p.getBoundingClientRect(),P=o.valueNode.getBoundingClientRect(),F=L.getBoundingClientRect();if(o.dir!=="rtl"){const Je=F.left-I.left,Ze=P.left-Je,It=A.left-Ze,$t=A.width+It,Bn=Math.max($t,I.width),fe=window.innerWidth-Hr,Pe=Uv(Ze,[Hr,Math.max(Hr,fe-Bn)]);d.style.minWidth=$t+"px",d.style.left=Pe+"px"}else{const Je=I.right-F.right,Ze=window.innerWidth-P.right-Je,It=window.innerWidth-A.right-Ze,$t=A.width+It,Bn=Math.max($t,I.width),fe=window.innerWidth-Hr,Pe=Uv(Ze,[Hr,Math.max(Hr,fe-Bn)]);d.style.minWidth=$t+"px",d.style.right=Pe+"px"}const U=x(),M=window.innerHeight-Hr*2,k=C.scrollHeight,ae=window.getComputedStyle(p),ge=parseInt(ae.borderTopWidth,10),pe=parseInt(ae.paddingTop,10),ye=parseInt(ae.borderBottomWidth,10),z=parseInt(ae.paddingBottom,10),K=ge+pe+k+z+ye,Y=Math.min(N.offsetHeight*5,K),H=window.getComputedStyle(C),te=parseInt(H.paddingTop,10),ve=parseInt(H.paddingBottom,10),xe=A.top+A.height/2-Hr,Oe=M-xe,De=N.offsetHeight/2,oe=N.offsetTop+De,Ee=ge+pe+oe,Re=K-Ee;if(Ee<=xe){const Je=U.length>0&&N===U[U.length-1].ref.current;d.style.bottom="0px";const Ze=p.clientHeight-C.offsetTop-C.offsetHeight,It=Math.max(Oe,De+(Je?ve:0)+Ze+ye),$t=Ee+It;d.style.height=$t+"px"}else{const Je=U.length>0&&N===U[0].ref.current;d.style.top="0px";const It=Math.max(xe,ge+C.offsetTop+(Je?te:0)+De)+Re;d.style.height=It+"px",C.scrollTop=Ee-xe+C.offsetTop}d.style.margin=`${Hr}px 0`,d.style.minHeight=Y+"px",d.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[x,o.trigger,o.valueNode,d,p,C,N,L,o.dir,r]);tn(()=>j(),[j]);const[B,O]=w.useState();tn(()=>{p&&O(window.getComputedStyle(p).zIndex)},[p]);const $=w.useCallback(A=>{A&&S.current===!0&&(j(),D==null||D(),S.current=!1)},[j,D]);return l.jsx(x8,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:$,children:l.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:B},children:l.jsx(Be.div,{...s,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});xk.displayName=v8;var y8="SelectPopperPosition",Hv=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Hr,...o}=t,c=Hm(n);return l.jsx(o8,{...c,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hv.displayName=y8;var[x8,Gx]=Nc(Va,{}),qv="SelectViewport",wk=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Fo(qv,n),c=Gx(qv,n),d=at(e,o.onViewportChange),h=w.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Wm.Slot,{scope:n,children:l.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ze(s.onScroll,p=>{const g=p.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:x}=c;if(x!=null&&x.current&&v){const b=Math.abs(h.current-g.scrollTop);if(b>0){const S=window.innerHeight-Hr*2,C=parseFloat(v.style.minHeight),N=parseFloat(v.style.height),L=Math.max(C,N);if(L<S){const D=L+b,j=Math.min(S,D),B=D-j;v.style.height=j+"px",v.style.bottom==="0px"&&(g.scrollTop=B>0?B:0,v.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});wk.displayName=qv;var _k="SelectGroup",[w8,_8]=Nc(_k),E8=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=zs();return l.jsx(w8,{scope:n,id:s,children:l.jsx(Be.div,{role:"group","aria-labelledby":s,...r,ref:e})})});E8.displayName=_k;var Ek="SelectLabel",b8=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=_8(Ek,n);return l.jsx(Be.div,{id:s.id,...r,ref:e})});b8.displayName=Ek;var Xf="SelectItem",[S8,bk]=Nc(Xf),Sk=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...c}=t,d=Vo(Xf,n),h=Fo(Xf,n),p=d.value===r,[g,v]=w.useState(o??""),[x,b]=w.useState(!1),S=at(e,D=>{var j;return(j=h.itemRefCallback)==null?void 0:j.call(h,D,r,s)}),C=zs(),N=w.useRef("touch"),L=()=>{s||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(S8,{scope:n,value:r,disabled:s,textId:C,isSelected:p,onItemTextChange:w.useCallback(D=>{v(j=>j||((D==null?void 0:D.textContent)??"").trim())},[]),children:l.jsx(Wm.ItemSlot,{scope:n,value:r,disabled:s,textValue:g,children:l.jsx(Be.div,{role:"option","aria-labelledby":C,"data-highlighted":x?"":void 0,"aria-selected":p&&x,"data-state":p?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...c,ref:S,onFocus:ze(c.onFocus,()=>b(!0)),onBlur:ze(c.onBlur,()=>b(!1)),onClick:ze(c.onClick,()=>{N.current!=="mouse"&&L()}),onPointerUp:ze(c.onPointerUp,()=>{N.current==="mouse"&&L()}),onPointerDown:ze(c.onPointerDown,D=>{N.current=D.pointerType}),onPointerMove:ze(c.onPointerMove,D=>{var j;N.current=D.pointerType,s?(j=h.onItemLeave)==null||j.call(h):N.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ze(c.onPointerLeave,D=>{var j;D.currentTarget===document.activeElement&&((j=h.onItemLeave)==null||j.call(h))}),onKeyDown:ze(c.onKeyDown,D=>{var B;((B=h.searchRef)==null?void 0:B.current)!==""&&D.key===" "||(c8.includes(D.key)&&L(),D.key===" "&&D.preventDefault())})})})})});Sk.displayName=Xf;var ku="SelectItemText",Ck=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,c=Vo(ku,n),d=Fo(ku,n),h=bk(ku,n),p=f8(ku,n),[g,v]=w.useState(null),x=at(e,L=>v(L),h.onItemTextChange,L=>{var D;return(D=d.itemTextRefCallback)==null?void 0:D.call(d,L,h.value,h.disabled)}),b=g==null?void 0:g.textContent,S=w.useMemo(()=>l.jsx("option",{value:h.value,disabled:h.disabled,children:b},h.value),[h.disabled,h.value,b]),{onNativeOptionAdd:C,onNativeOptionRemove:N}=p;return tn(()=>(C(S),()=>N(S)),[C,N,S]),l.jsxs(l.Fragment,{children:[l.jsx(Be.span,{id:h.textId,...o,ref:x}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?nd.createPortal(o.children,c.valueNode):null]})});Ck.displayName=ku;var Tk="SelectItemIndicator",Nk=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return bk(Tk,n).isSelected?l.jsx(Be.span,{"aria-hidden":!0,...r,ref:e}):null});Nk.displayName=Tk;var Gv="SelectScrollUpButton",Ik=w.forwardRef((t,e)=>{const n=Fo(Gv,t.__scopeSelect),r=Gx(Gv,t.__scopeSelect),[s,o]=w.useState(!1),c=at(e,r.onScrollButtonChange);return tn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=h.scrollTop>0;o(p)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),s?l.jsx(Ak,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});Ik.displayName=Gv;var Kv="SelectScrollDownButton",kk=w.forwardRef((t,e)=>{const n=Fo(Kv,t.__scopeSelect),r=Gx(Kv,t.__scopeSelect),[s,o]=w.useState(!1),c=at(e,r.onScrollButtonChange);return tn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<p;o(g)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),s?l.jsx(Ak,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});kk.displayName=Kv;var Ak=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Fo("SelectScrollButton",n),c=w.useRef(null),d=$m(n),h=w.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return w.useEffect(()=>()=>h(),[h]),tn(()=>{var g;const p=d().find(v=>v.ref.current===document.activeElement);(g=p==null?void 0:p.ref.current)==null||g.scrollIntoView({block:"nearest"})},[d]),l.jsx(Be.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ze(s.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:ze(s.onPointerMove,()=>{var p;(p=o.onItemLeave)==null||p.call(o),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:ze(s.onPointerLeave,()=>{h()})})}),C8="SelectSeparator",T8=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(Be.div,{"aria-hidden":!0,...r,ref:e})});T8.displayName=C8;var Yv="SelectArrow",N8=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Hm(n),o=Vo(Yv,n),c=Fo(Yv,n);return o.open&&c.position==="popper"?l.jsx(a8,{...s,...r,ref:e}):null});N8.displayName=Yv;function Rk(t){return t===""||t===void 0}var Pk=w.forwardRef((t,e)=>{const{value:n,...r}=t,s=w.useRef(null),o=at(e,s),c=rx(n);return w.useEffect(()=>{const d=s.current,h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==n&&g){const v=new Event("change",{bubbles:!0});g.call(d,n),d.dispatchEvent(v)}},[c,n]),l.jsx(sx,{asChild:!0,children:l.jsx("select",{...r,ref:o,defaultValue:n})})});Pk.displayName="BubbleSelect";function jk(t){const e=Bt(t),n=w.useRef(""),r=w.useRef(0),s=w.useCallback(c=>{const d=n.current+c;e(d),(function h(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>h(""),1e3))})(d)},[e]),o=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function Dk(t,e,n){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let c=I8(t,Math.max(o,0));s.length===1&&(c=c.filter(p=>p!==n));const h=c.find(p=>p.textValue.toLowerCase().startsWith(s.toLowerCase()));return h!==n?h:void 0}function I8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var k8=ck,A8=dk,R8=fk,P8=mk,j8=pk,D8=gk,O8=wk,M8=Sk,L8=Ck,V8=Nk,F8=Ik,U8=kk;function wd({...t}){return l.jsx(k8,{"data-slot":"select",...t})}function _d({...t}){return l.jsx(R8,{"data-slot":"select-value",...t})}function Ed({className:t,size:e="default",children:n,...r}){return l.jsxs(A8,{"data-slot":"select-trigger","data-size":e,className:ce("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,l.jsx(P8,{asChild:!0,children:l.jsx(wc,{className:"size-4 opacity-50"})})]})}function bd({className:t,children:e,position:n="popper",...r}){return l.jsx(j8,{children:l.jsxs(D8,{"data-slot":"select-content",className:ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(z8,{}),l.jsx(O8,{className:ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),l.jsx(B8,{})]})})}function cc({className:t,children:e,...n}){return l.jsxs(M8,{"data-slot":"select-item",className:ce("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(V8,{children:l.jsx(Tm,{className:"size-4"})})}),l.jsx(L8,{children:e})]})}function z8({className:t,...e}){return l.jsx(F8,{"data-slot":"select-scroll-up-button",className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(bF,{className:"size-4"})})}function B8({className:t,...e}){return l.jsx(U8,{"data-slot":"select-scroll-down-button",className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(wc,{className:"size-4"})})}function Uo({...t}){return l.jsx(yx,{"data-slot":"dialog",...t})}function W8({...t}){return l.jsx(xx,{"data-slot":"dialog-portal",...t})}function $8({className:t,...e}){return l.jsx(wx,{"data-slot":"dialog-overlay",className:ce("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function zo({className:t,children:e,showCloseButton:n=!0,...r}){return l.jsxs(W8,{"data-slot":"dialog-portal",children:[l.jsx($8,{}),l.jsxs(_x,{"data-slot":"dialog-content",className:ce("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,n&&l.jsxs(jm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(md,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Bo({className:t,...e}){return l.jsx("div",{"data-slot":"dialog-header",className:ce("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Wo({className:t,...e}){return l.jsx("div",{"data-slot":"dialog-footer",className:ce("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function $o({className:t,...e}){return l.jsx(Ex,{"data-slot":"dialog-title",className:ce("text-lg leading-none font-semibold",t),...e})}function Ho({className:t,...e}){return l.jsx(NN,{"data-slot":"dialog-description",className:ce("text-muted-foreground text-sm",t),...e})}var Ok="AlertDialog",[H8]=Qs(Ok,[dN]),Li=dN(),Mk=t=>{const{__scopeAlertDialog:e,...n}=t,r=Li(e);return l.jsx(yx,{...r,...n,modal:!0})};Mk.displayName=Ok;var q8="AlertDialogTrigger",G8=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Li(n);return l.jsx(j5,{...s,...r,ref:e})});G8.displayName=q8;var K8="AlertDialogPortal",Lk=t=>{const{__scopeAlertDialog:e,...n}=t,r=Li(e);return l.jsx(xx,{...r,...n})};Lk.displayName=K8;var Y8="AlertDialogOverlay",Vk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Li(n);return l.jsx(wx,{...s,...r,ref:e})});Vk.displayName=Y8;var Ql="AlertDialogContent",[Q8,X8]=H8(Ql),Fk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,o=Li(n),c=w.useRef(null),d=at(e,c),h=w.useRef(null);return l.jsx(k5,{contentName:Ql,titleName:Uk,docsSlug:"alert-dialog",children:l.jsx(Q8,{scope:n,cancelRef:h,children:l.jsxs(_x,{role:"alertdialog",...o,...s,ref:d,onOpenAutoFocus:ze(s.onOpenAutoFocus,p=>{var g;p.preventDefault(),(g=h.current)==null||g.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[l.jsx(y1,{children:r}),l.jsx(Z8,{contentRef:c})]})})})});Fk.displayName=Ql;var Uk="AlertDialogTitle",zk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Li(n);return l.jsx(Ex,{...s,...r,ref:e})});zk.displayName=Uk;var Bk="AlertDialogDescription",Wk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Li(n);return l.jsx(NN,{...s,...r,ref:e})});Wk.displayName=Bk;var J8="AlertDialogAction",$k=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Li(n);return l.jsx(jm,{...s,...r,ref:e})});$k.displayName=J8;var Hk="AlertDialogCancel",qk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=X8(Hk,n),o=Li(n),c=at(e,s);return l.jsx(jm,{...o,...r,ref:c})});qk.displayName=Hk;var Z8=({contentRef:t})=>{const e=`\`${Ql}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ql}\` by passing a \`${Bk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ql}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},e7=Mk,t7=Lk,n7=Vk,r7=Fk,s7=$k,i7=qk,o7=zk,a7=Wk;function qo({...t}){return l.jsx(e7,{"data-slot":"alert-dialog",...t})}function l7({...t}){return l.jsx(t7,{"data-slot":"alert-dialog-portal",...t})}function c7({className:t,...e}){return l.jsx(n7,{"data-slot":"alert-dialog-overlay",className:ce("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Go({className:t,...e}){return l.jsxs(l7,{children:[l.jsx(c7,{}),l.jsx(r7,{"data-slot":"alert-dialog-content",className:ce("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function Ko({className:t,...e}){return l.jsx("div",{"data-slot":"alert-dialog-header",className:ce("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Yo({className:t,...e}){return l.jsx("div",{"data-slot":"alert-dialog-footer",className:ce("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Qo({className:t,...e}){return l.jsx(o7,{"data-slot":"alert-dialog-title",className:ce("text-lg font-semibold",t),...e})}function Xo({className:t,...e}){return l.jsx(a7,{"data-slot":"alert-dialog-description",className:ce("text-muted-foreground text-sm",t),...e})}function Jo({className:t,...e}){return l.jsx(s7,{className:ce(Ku(),t),...e})}function Zo({className:t,...e}){return l.jsx(i7,{className:ce(Ku({variant:"outline"}),t),...e})}function Ic({className:t,...e}){return l.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:l.jsx("table",{"data-slot":"table",className:ce("w-full caption-bottom text-sm",t),...e})})}function kc({className:t,...e}){return l.jsx("thead",{"data-slot":"table-header",className:ce("[&_tr]:border-b",t),...e})}function Ac({className:t,...e}){return l.jsx("tbody",{"data-slot":"table-body",className:ce("[&_tr:last-child]:border-0",t),...e})}function jr({className:t,...e}){return l.jsx("tr",{"data-slot":"table-row",className:ce("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function it({className:t,...e}){return l.jsx("th",{"data-slot":"table-head",className:ce("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function ot({className:t,...e}){return l.jsx("td",{"data-slot":"table-cell",className:ce("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}const u7=Im("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Zn({className:t,variant:e,asChild:n=!1,...r}){const s=n?Ao:"span";return l.jsx(s,{"data-slot":"badge",className:ce(u7({variant:e}),t),...r})}const d7=["Exposicin","Espectculo","Taller"],hS={title:"",date:"",location:"",price:"",image:"",category:"Exposicin",description:"",isActive:!0};function h7(){const{events:t,loading:e,addEvent:n,updateEvent:r,deleteEvent:s,uploadImage:o}=zn(),[c,d]=w.useState(""),[h,p]=w.useState(!1),[g,v]=w.useState(!1),[x,b]=w.useState(null),[S,C]=w.useState(hS),[N,L]=w.useState(void 0),[D,j]=w.useState(null),[B,O]=w.useState(""),[$,A]=w.useState(!1),[I,P]=w.useState(!1),F=t.filter(K=>K.title.toLowerCase().includes(c.toLowerCase())||K.category.toLowerCase().includes(c.toLowerCase())),U=()=>{b(null),C(hS),L(void 0),j(null),O(""),P(!1),p(!0)},M=K=>{try{const Y={enero:0,febrero:1,marzo:2,abril:3,mayo:4,junio:5,julio:6,agosto:7,septiembre:8,octubre:9,noviembre:10,diciembre:11},H=K.match(/(\d+)\s+de\s+(\w+),?\s+(\d{4})/i);if(H){const te=parseInt(H[1]),ve=Y[H[2].toLowerCase()],xe=parseInt(H[3]);if(ve!==void 0)return new Date(xe,ve,te)}}catch{return}},k=K=>{b(K),C({title:K.title,date:K.date,location:K.location,price:K.price,image:K.image,category:K.category,description:K.description||"",isActive:K.isActive}),L(M(K.date)),O(K.image),j(null),P(!1),p(!0)},ae=K=>{b(K),v(!0)},ge=K=>{var H;const Y=(H=K.target.files)==null?void 0:H[0];if(Y){j(Y);const te=new FileReader;te.onloadend=()=>{O(te.result)},te.readAsDataURL(Y)}},pe=K=>{if(L(K),K){const Y=Xu(K,"d 'de' MMMM, yyyy",{locale:Kl});C(H=>({...H,date:Y})),P(!1)}else C(Y=>({...Y,date:""}))},ye=async()=>{A(!0);try{let K=S.image;D&&(K=await o(D,"events"));const Y={...S,image:K};x?await r(x.id,Y):await n(Y),p(!1)}catch(K){console.error("Error saving event:",K),alert((K==null?void 0:K.message)||"Error al guardar el evento")}finally{A(!1)}},z=async()=>{if(x)try{await s(x.id),v(!1)}catch(K){console.error("Error deleting event:",K)}};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Eventos"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestiona los eventos culturales"})]}),l.jsxs(ue,{onClick:U,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Nuevo Evento"]})]}),l.jsxs(bt,{children:[l.jsx(Mt,{children:l.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Wa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Fe,{placeholder:"Buscar eventos...",value:c,onChange:K=>d(K.target.value),className:"pl-9"})]})})}),l.jsx(St,{children:F.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No hay eventos para mostrar"}),l.jsxs(ue,{variant:"outline",className:"mt-4",onClick:U,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Crear primer evento"]})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(Ic,{children:[l.jsx(kc,{children:l.jsxs(jr,{children:[l.jsx(it,{children:"Imagen"}),l.jsx(it,{children:"Ttulo"}),l.jsx(it,{children:"Fecha"}),l.jsx(it,{children:"Categora"}),l.jsx(it,{children:"Precio"}),l.jsx(it,{children:"Estado"}),l.jsx(it,{className:"text-right",children:"Acciones"})]})}),l.jsx(Ac,{children:F.map(K=>l.jsxs(jr,{children:[l.jsx(ot,{children:l.jsx("div",{className:"w-16 h-12 bg-muted rounded overflow-hidden",children:K.image?l.jsx("img",{src:K.image,alt:K.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"})})})}),l.jsx(ot,{className:"font-medium",children:K.title}),l.jsx(ot,{children:K.date}),l.jsx(ot,{children:l.jsx(Zn,{variant:"secondary",children:K.category})}),l.jsx(ot,{children:K.price}),l.jsx(ot,{children:l.jsx(Zn,{variant:K.isActive?"default":"outline",children:K.isActive?"Activo":"Inactivo"})}),l.jsx(ot,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>k(K),children:l.jsx(Mo,{className:"h-4 w-4"})}),l.jsx(ue,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>ae(K),children:l.jsx(Ys,{className:"h-4 w-4"})})]})})]},K.id))})]})})})]}),l.jsx(Uo,{open:h,onOpenChange:p,children:l.jsxs(zo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Bo,{children:[l.jsx($o,{children:x?"Editar Evento":"Nuevo Evento"}),l.jsx(Ho,{children:x?"Modifica los datos del evento":"Completa los datos para crear un nuevo evento"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Imagen"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-32 h-24 bg-muted rounded-lg overflow-hidden flex items-center justify-center",children:B?l.jsx("img",{src:B,alt:"Preview",className:"w-full h-full object-cover"}):l.jsx(Pr,{className:"h-8 w-8 text-muted-foreground"})}),l.jsxs("div",{children:[l.jsx(Fe,{type:"file",accept:"image/*",onChange:ge,className:"max-w-[200px]"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"JPG, PNG o GIF. Max 5MB"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{htmlFor:"title",children:"Ttulo *"}),l.jsx(Fe,{id:"title",value:S.title,onChange:K=>C({...S,title:K.target.value}),placeholder:"Nombre del evento"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Categora *"}),l.jsxs(wd,{value:S.category,onValueChange:K=>C({...S,category:K}),children:[l.jsx(Ed,{children:l.jsx(_d,{})}),l.jsx(bd,{children:d7.map(K=>l.jsx(cc,{value:K,children:K},K))})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Fecha *"}),l.jsxs(VI,{open:I,onOpenChange:P,children:[l.jsx(FI,{asChild:!0,children:l.jsxs(ue,{type:"button",variant:"outline",className:ce("w-full justify-start text-left font-normal",!N&&"text-muted-foreground"),children:[l.jsx(xc,{className:"mr-2 h-4 w-4"}),N?Xu(N,"d 'de' MMMM, yyyy",{locale:Kl}):l.jsx("span",{children:"Seleccionar fecha"})]})}),l.jsx(UI,{children:l.jsx("div",{className:"rounded-md border mt-2 p-2 bg-background",children:l.jsx(LI,{mode:"single",selected:N,onSelect:pe,locale:Kl})})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{htmlFor:"location",children:"Ubicacin *"}),l.jsx(Fe,{id:"location",value:S.location,onChange:K=>C({...S,location:K.target.value}),placeholder:"Gran Galera"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{htmlFor:"price",children:"Precio *"}),l.jsx(Fe,{id:"price",value:S.price,onChange:K=>C({...S,price:K.target.value}),placeholder:"$25"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{htmlFor:"description",children:"Descripcin"}),l.jsx(Lo,{id:"description",value:S.description,onChange:K=>C({...S,description:K.target.value}),placeholder:"Descripcin del evento...",rows:3})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(be,{children:"Estado"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Los eventos inactivos no se muestran en el sitio"})]}),l.jsx(Ri,{checked:S.isActive,onCheckedChange:K=>C({...S,isActive:K})})]})]}),l.jsxs(Wo,{children:[l.jsx(ue,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),l.jsxs(ue,{onClick:ye,disabled:$||!S.title,children:[$&&l.jsx(Un,{className:"mr-2 h-4 w-4 animate-spin"}),x?"Guardar Cambios":"Crear Evento"]})]})]})}),l.jsx(qo,{open:g,onOpenChange:v,children:l.jsxs(Go,{children:[l.jsxs(Ko,{children:[l.jsx(Qo,{children:"Eliminar evento?"}),l.jsxs(Xo,{children:['Esta accin no se puede deshacer. El evento "',x==null?void 0:x.title,'" ser eliminado permanentemente.']})]}),l.jsxs(Yo,{children:[l.jsx(Zo,{children:"Cancelar"}),l.jsx(Jo,{onClick:z,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Eliminar"})]})]})})]})}const f7=["Pintura","Herramientas","Lienzo","Accesorios"],fS={name:"",price:"",image:"",category:"Pintura",description:"",stock:void 0,isActive:!0};function m7(){const{products:t,loading:e,addProduct:n,updateProduct:r,deleteProduct:s,uploadImage:o}=zn(),[c,d]=w.useState(""),[h,p]=w.useState(!1),[g,v]=w.useState(!1),[x,b]=w.useState(null),[S,C]=w.useState(fS),[N,L]=w.useState(null),[D,j]=w.useState(""),[B,O]=w.useState(!1),$=t.filter(k=>k.name.toLowerCase().includes(c.toLowerCase())||k.category.toLowerCase().includes(c.toLowerCase())),A=()=>{b(null),C(fS),L(null),j(""),p(!0)},I=k=>{b(k),C({name:k.name,price:k.price,image:k.image,category:k.category,description:k.description||"",stock:k.stock,isActive:k.isActive}),j(k.image),L(null),p(!0)},P=k=>{b(k),v(!0)},F=k=>{var ge;const ae=(ge=k.target.files)==null?void 0:ge[0];if(ae){L(ae);const pe=new FileReader;pe.onloadend=()=>{j(pe.result)},pe.readAsDataURL(ae)}},U=async()=>{O(!0);try{let k=S.image;N&&(k=await o(N,"products"));const ae={...S,image:k};x?await r(x.id,ae):await n(ae),p(!1)}catch(k){console.error("Error saving product:",k),alert((k==null?void 0:k.message)||"Error al guardar el producto")}finally{O(!1)}},M=async()=>{if(x)try{await s(x.id),v(!1)}catch(k){console.error("Error deleting product:",k)}};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Materiales de Arte"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestiona el catlogo de productos"})]}),l.jsxs(ue,{onClick:A,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Nuevo Producto"]})]}),l.jsxs(bt,{children:[l.jsx(Mt,{children:l.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Wa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Fe,{placeholder:"Buscar productos...",value:c,onChange:k=>d(k.target.value),className:"pl-9"})]})})}),l.jsx(St,{children:$.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No hay productos para mostrar"}),l.jsxs(ue,{variant:"outline",className:"mt-4",onClick:A,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Crear primer producto"]})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(Ic,{children:[l.jsx(kc,{children:l.jsxs(jr,{children:[l.jsx(it,{children:"Imagen"}),l.jsx(it,{children:"Nombre"}),l.jsx(it,{children:"Categora"}),l.jsx(it,{children:"Precio"}),l.jsx(it,{children:"Stock"}),l.jsx(it,{children:"Estado"}),l.jsx(it,{className:"text-right",children:"Acciones"})]})}),l.jsx(Ac,{children:$.map(k=>l.jsxs(jr,{children:[l.jsx(ot,{children:l.jsx("div",{className:"w-16 h-16 bg-muted rounded overflow-hidden",children:k.image?l.jsx("img",{src:k.image,alt:k.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"})})})}),l.jsx(ot,{className:"font-medium",children:k.name}),l.jsx(ot,{children:l.jsx(Zn,{variant:"secondary",children:k.category})}),l.jsx(ot,{className:"font-semibold",children:k.price}),l.jsx(ot,{children:k.stock!==void 0?k.stock:""}),l.jsx(ot,{children:l.jsx(Zn,{variant:k.isActive?"default":"outline",children:k.isActive?"Activo":"Inactivo"})}),l.jsx(ot,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>I(k),children:l.jsx(Mo,{className:"h-4 w-4"})}),l.jsx(ue,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>P(k),children:l.jsx(Ys,{className:"h-4 w-4"})})]})})]},k.id))})]})})})]}),l.jsx(Uo,{open:h,onOpenChange:p,children:l.jsxs(zo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Bo,{children:[l.jsx($o,{children:x?"Editar Producto":"Nuevo Producto"}),l.jsx(Ho,{children:x?"Modifica los datos del producto":"Completa los datos para crear un nuevo producto"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Imagen"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-24 h-24 bg-muted rounded-lg overflow-hidden flex items-center justify-center",children:D?l.jsx("img",{src:D,alt:"Preview",className:"w-full h-full object-cover"}):l.jsx(Pr,{className:"h-8 w-8 text-muted-foreground"})}),l.jsxs("div",{children:[l.jsx(Fe,{type:"file",accept:"image/*",onChange:F,className:"max-w-[200px]"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"JPG, PNG o GIF. Max 5MB"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{htmlFor:"name",children:"Nombre *"}),l.jsx(Fe,{id:"name",value:S.name,onChange:k=>C({...S,name:k.target.value}),placeholder:"Nombre del producto"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Categora *"}),l.jsxs(wd,{value:S.category,onValueChange:k=>C({...S,category:k}),children:[l.jsx(Ed,{children:l.jsx(_d,{})}),l.jsx(bd,{children:f7.map(k=>l.jsx(cc,{value:k,children:k},k))})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{htmlFor:"price",children:"Precio *"}),l.jsx(Fe,{id:"price",value:S.price,onChange:k=>C({...S,price:k.target.value}),placeholder:"$89.99"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{htmlFor:"stock",children:"Stock (opcional)"}),l.jsx(Fe,{id:"stock",type:"number",value:S.stock||"",onChange:k=>C({...S,stock:k.target.value?parseInt(k.target.value):void 0}),placeholder:"Cantidad"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{htmlFor:"description",children:"Descripcin"}),l.jsx(Lo,{id:"description",value:S.description,onChange:k=>C({...S,description:k.target.value}),placeholder:"Descripcin del producto...",rows:3})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(be,{children:"Estado"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Los productos inactivos no se muestran en la tienda"})]}),l.jsx(Ri,{checked:S.isActive,onCheckedChange:k=>C({...S,isActive:k})})]})]}),l.jsxs(Wo,{children:[l.jsx(ue,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),l.jsxs(ue,{onClick:U,disabled:B||!S.name,children:[B&&l.jsx(Un,{className:"mr-2 h-4 w-4 animate-spin"}),x?"Guardar Cambios":"Crear Producto"]})]})]})}),l.jsx(qo,{open:g,onOpenChange:v,children:l.jsxs(Go,{children:[l.jsxs(Ko,{children:[l.jsx(Qo,{children:"Eliminar producto?"}),l.jsxs(Xo,{children:['Esta accin no se puede deshacer. El producto "',x==null?void 0:x.name,'" ser eliminado permanentemente.']})]}),l.jsxs(Yo,{children:[l.jsx(Zo,{children:"Cancelar"}),l.jsx(Jo,{onClick:M,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Eliminar"})]})]})})]})}const p7=["Arte","Msica","Danza","Literatura","Fotografa","Otro"],mS={title:"",instructor:"",description:"",date:"",duration:"",price:"",capacity:10,image:"",category:"Arte",isActive:!0};function g7(){const{workshops:t,loading:e,addWorkshop:n,updateWorkshop:r,deleteWorkshop:s,uploadImage:o}=zn(),[c,d]=w.useState(""),[h,p]=w.useState(!1),[g,v]=w.useState(!1),[x,b]=w.useState(null),[S,C]=w.useState(mS),[N,L]=w.useState(void 0),[D,j]=w.useState(null),[B,O]=w.useState(""),[$,A]=w.useState(!1),[I,P]=w.useState(!1),F=t.filter(z=>z.title.toLowerCase().includes(c.toLowerCase())||z.instructor.toLowerCase().includes(c.toLowerCase())),U=()=>{b(null),C(mS),L(void 0),j(null),O(""),P(!1),p(!0)},M=z=>{try{const K={enero:0,febrero:1,marzo:2,abril:3,mayo:4,junio:5,julio:6,agosto:7,septiembre:8,octubre:9,noviembre:10,diciembre:11},Y=z.match(/(\d+)\s+de\s+(\w+),?\s+(\d{4})/i);if(Y){const H=parseInt(Y[1]),te=K[Y[2].toLowerCase()],ve=parseInt(Y[3]);if(te!==void 0)return new Date(ve,te,H)}}catch{}},k=z=>{b(z),C({title:z.title,instructor:z.instructor,description:z.description,date:z.date,duration:z.duration,price:z.price,capacity:z.capacity,image:z.image,category:z.category,isActive:z.isActive}),L(M(z.date)),O(z.image),j(null),P(!1),p(!0)},ae=z=>{L(z),z&&(C(K=>({...K,date:Xu(z,"d 'de' MMMM, yyyy",{locale:Kl})})),P(!1))},ge=z=>{var Y;const K=(Y=z.target.files)==null?void 0:Y[0];if(K){j(K);const H=new FileReader;H.onloadend=()=>O(H.result),H.readAsDataURL(K)}},pe=async()=>{A(!0);try{let z=S.image;D&&(z=await o(D,"workshops"));const K={...S,image:z};x?await r(x.id,K):await n(K),p(!1)}catch(z){console.error("Error saving:",z),alert((z==null?void 0:z.message)||"Error al guardar")}finally{A(!1)}},ye=async()=>{x&&(await s(x.id),v(!1))};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Talleres y Formacin"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestiona los cursos y workshops"})]}),l.jsxs(ue,{onClick:U,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Nuevo Taller"]})]}),l.jsxs(bt,{children:[l.jsx(Mt,{children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Wa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Fe,{placeholder:"Buscar talleres...",value:c,onChange:z=>d(z.target.value),className:"pl-9"})]})}),l.jsx(St,{children:F.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No hay talleres para mostrar"}),l.jsxs(ue,{variant:"outline",className:"mt-4",onClick:U,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Crear primer taller"]})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(Ic,{children:[l.jsx(kc,{children:l.jsxs(jr,{children:[l.jsx(it,{children:"Imagen"}),l.jsx(it,{children:"Ttulo"}),l.jsx(it,{children:"Instructor"}),l.jsx(it,{children:"Fecha"}),l.jsx(it,{children:"Precio"}),l.jsx(it,{children:"Estado"}),l.jsx(it,{className:"text-right",children:"Acciones"})]})}),l.jsx(Ac,{children:F.map(z=>l.jsxs(jr,{children:[l.jsx(ot,{children:l.jsx("div",{className:"w-16 h-12 bg-muted rounded overflow-hidden",children:z.image?l.jsx("img",{src:z.image,alt:z.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"})})})}),l.jsx(ot,{className:"font-medium",children:z.title}),l.jsx(ot,{children:z.instructor}),l.jsx(ot,{children:z.date}),l.jsx(ot,{children:z.price}),l.jsx(ot,{children:l.jsx(Zn,{variant:z.isActive?"default":"outline",children:z.isActive?"Activo":"Inactivo"})}),l.jsx(ot,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>k(z),children:l.jsx(Mo,{className:"h-4 w-4"})}),l.jsx(ue,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>{b(z),v(!0)},children:l.jsx(Ys,{className:"h-4 w-4"})})]})})]},z.id))})]})})})]}),l.jsx(Uo,{open:h,onOpenChange:p,children:l.jsxs(zo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Bo,{children:[l.jsx($o,{children:x?"Editar Taller":"Nuevo Taller"}),l.jsx(Ho,{children:x?"Modifica los datos del taller":"Completa los datos del nuevo taller"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Imagen"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-32 h-24 bg-muted rounded-lg overflow-hidden flex items-center justify-center",children:B?l.jsx("img",{src:B,alt:"Preview",className:"w-full h-full object-cover"}):l.jsx(Pr,{className:"h-8 w-8 text-muted-foreground"})}),l.jsx(Fe,{type:"file",accept:"image/*",onChange:ge,className:"max-w-[200px]"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Ttulo *"}),l.jsx(Fe,{value:S.title,onChange:z=>C({...S,title:z.target.value}),placeholder:"Nombre del taller"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Instructor *"}),l.jsx(Fe,{value:S.instructor,onChange:z=>C({...S,instructor:z.target.value}),placeholder:"Nombre del instructor"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Categora"}),l.jsxs(wd,{value:S.category,onValueChange:z=>C({...S,category:z}),children:[l.jsx(Ed,{children:l.jsx(_d,{})}),l.jsx(bd,{children:p7.map(z=>l.jsx(cc,{value:z,children:z},z))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Fecha"}),l.jsxs(VI,{open:I,onOpenChange:P,children:[l.jsx(FI,{asChild:!0,children:l.jsxs(ue,{type:"button",variant:"outline",className:ce("w-full justify-start text-left font-normal",!N&&"text-muted-foreground"),children:[l.jsx(xc,{className:"mr-2 h-4 w-4"}),N?Xu(N,"d 'de' MMMM, yyyy",{locale:Kl}):"Seleccionar"]})}),l.jsx(UI,{children:l.jsx("div",{className:"rounded-md border mt-2 p-2 bg-background",children:l.jsx(LI,{mode:"single",selected:N,onSelect:ae,locale:Kl})})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Duracin"}),l.jsx(Fe,{value:S.duration,onChange:z=>C({...S,duration:z.target.value}),placeholder:"2 horas"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Precio"}),l.jsx(Fe,{value:S.price,onChange:z=>C({...S,price:z.target.value}),placeholder:"$50"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Capacidad"}),l.jsx(Fe,{type:"number",value:S.capacity,onChange:z=>C({...S,capacity:parseInt(z.target.value)||0})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Descripcin"}),l.jsx(Lo,{value:S.description,onChange:z=>C({...S,description:z.target.value}),rows:3})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(be,{children:"Estado"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Talleres inactivos no se muestran"})]}),l.jsx(Ri,{checked:S.isActive,onCheckedChange:z=>C({...S,isActive:z})})]})]}),l.jsxs(Wo,{children:[l.jsx(ue,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),l.jsxs(ue,{onClick:pe,disabled:$||!S.title,children:[$&&l.jsx(Un,{className:"mr-2 h-4 w-4 animate-spin"}),x?"Guardar":"Crear"]})]})]})}),l.jsx(qo,{open:g,onOpenChange:v,children:l.jsxs(Go,{children:[l.jsxs(Ko,{children:[l.jsx(Qo,{children:"Eliminar taller?"}),l.jsxs(Xo,{children:['Esta accin no se puede deshacer. El taller "',x==null?void 0:x.title,'" ser eliminado.']})]}),l.jsxs(Yo,{children:[l.jsx(Zo,{children:"Cancelar"}),l.jsx(Jo,{onClick:ye,className:"bg-destructive text-destructive-foreground",children:"Eliminar"})]})]})})]})}const pS={title:"",description:"",schedule:"",duration:"",price:"",capacity:15,image:"",isActive:!0};function v7(){const{guidedTours:t,loading:e,addGuidedTour:n,updateGuidedTour:r,deleteGuidedTour:s,uploadImage:o}=zn(),[c,d]=w.useState(""),[h,p]=w.useState(!1),[g,v]=w.useState(!1),[x,b]=w.useState(null),[S,C]=w.useState(pS),[N,L]=w.useState(null),[D,j]=w.useState(""),[B,O]=w.useState(!1),$=t.filter(M=>M.title.toLowerCase().includes(c.toLowerCase())),A=()=>{b(null),C(pS),L(null),j(""),p(!0)},I=M=>{b(M),C({title:M.title,description:M.description,schedule:M.schedule,duration:M.duration,price:M.price,capacity:M.capacity,image:M.image,isActive:M.isActive}),j(M.image),p(!0)},P=M=>{var ae;const k=(ae=M.target.files)==null?void 0:ae[0];if(k){L(k);const ge=new FileReader;ge.onloadend=()=>j(ge.result),ge.readAsDataURL(k)}},F=async()=>{O(!0);try{let M=S.image;N&&(M=await o(N,"tours"));const k={...S,image:M};x?await r(x.id,k):await n(k),p(!1)}catch(M){console.error("Error saving guided tour:",M),alert((M==null?void 0:M.message)||"Error al guardar la visita")}finally{O(!1)}},U=async()=>{x&&(await s(x.id),v(!1))};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Visitas Guiadas"}),l.jsx("p",{className:"text-muted-foreground",children:'Programa "Visit la Casa"'})]}),l.jsxs(ue,{onClick:A,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Nueva Visita"]})]}),l.jsxs(bt,{children:[l.jsx(Mt,{children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Wa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Fe,{placeholder:"Buscar...",value:c,onChange:M=>d(M.target.value),className:"pl-9"})]})}),l.jsx(St,{children:$.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No hay visitas guiadas"}),l.jsxs(ue,{variant:"outline",className:"mt-4",onClick:A,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Crear primera visita"]})]}):l.jsxs(Ic,{children:[l.jsx(kc,{children:l.jsxs(jr,{children:[l.jsx(it,{children:"Imagen"}),l.jsx(it,{children:"Ttulo"}),l.jsx(it,{children:"Horario"}),l.jsx(it,{children:"Duracin"}),l.jsx(it,{children:"Precio"}),l.jsx(it,{children:"Estado"}),l.jsx(it,{className:"text-right",children:"Acciones"})]})}),l.jsx(Ac,{children:$.map(M=>l.jsxs(jr,{children:[l.jsx(ot,{children:l.jsx("div",{className:"w-16 h-12 bg-muted rounded overflow-hidden",children:M.image?l.jsx("img",{src:M.image,alt:M.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"})})})}),l.jsx(ot,{className:"font-medium",children:M.title}),l.jsx(ot,{children:M.schedule}),l.jsx(ot,{children:M.duration}),l.jsx(ot,{children:M.price}),l.jsx(ot,{children:l.jsx(Zn,{variant:M.isActive?"default":"outline",children:M.isActive?"Activo":"Inactivo"})}),l.jsx(ot,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>I(M),children:l.jsx(Mo,{className:"h-4 w-4"})}),l.jsx(ue,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>{b(M),v(!0)},children:l.jsx(Ys,{className:"h-4 w-4"})})]})})]},M.id))})]})})]}),l.jsx(Uo,{open:h,onOpenChange:p,children:l.jsxs(zo,{className:"max-w-2xl",children:[l.jsxs(Bo,{children:[l.jsx($o,{children:x?"Editar Visita":"Nueva Visita Guiada"}),l.jsx(Ho,{children:"Configura los detalles de la visita guiada"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Imagen"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-32 h-24 bg-muted rounded-lg overflow-hidden flex items-center justify-center",children:D?l.jsx("img",{src:D,alt:"Preview",className:"w-full h-full object-cover"}):l.jsx(Pr,{className:"h-8 w-8 text-muted-foreground"})}),l.jsx(Fe,{type:"file",accept:"image/*",onChange:P,className:"max-w-[200px]"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Ttulo *"}),l.jsx(Fe,{value:S.title,onChange:M=>C({...S,title:M.target.value}),placeholder:"Visita al jardn histrico"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Horario"}),l.jsx(Fe,{value:S.schedule,onChange:M=>C({...S,schedule:M.target.value}),placeholder:"Sbados 10:00"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Duracin"}),l.jsx(Fe,{value:S.duration,onChange:M=>C({...S,duration:M.target.value}),placeholder:"1.5 horas"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Capacidad"}),l.jsx(Fe,{type:"number",value:S.capacity,onChange:M=>C({...S,capacity:parseInt(M.target.value)||0})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Precio"}),l.jsx(Fe,{value:S.price,onChange:M=>C({...S,price:M.target.value}),placeholder:"$20 / Gratis para miembros"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Descripcin"}),l.jsx(Lo,{value:S.description,onChange:M=>C({...S,description:M.target.value}),rows:3})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(be,{children:"Activo"}),l.jsx(Ri,{checked:S.isActive,onCheckedChange:M=>C({...S,isActive:M})})]})]}),l.jsxs(Wo,{children:[l.jsx(ue,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),l.jsxs(ue,{onClick:F,disabled:B||!S.title,children:[B&&l.jsx(Un,{className:"mr-2 h-4 w-4 animate-spin"}),x?"Guardar":"Crear"]})]})]})}),l.jsx(qo,{open:g,onOpenChange:v,children:l.jsxs(Go,{children:[l.jsxs(Ko,{children:[l.jsx(Qo,{children:"Eliminar visita?"}),l.jsx(Xo,{children:"Esta accin no se puede deshacer."})]}),l.jsxs(Yo,{children:[l.jsx(Zo,{children:"Cancelar"}),l.jsx(Jo,{onClick:U,className:"bg-destructive text-destructive-foreground",children:"Eliminar"})]})]})})]})}const gS={name:"",role:"",bio:"",image:"",order:0,isActive:!0};function y7(){const{teamMembers:t,loading:e,addTeamMember:n,updateTeamMember:r,deleteTeamMember:s,uploadImage:o}=zn(),[c,d]=w.useState(""),[h,p]=w.useState(!1),[g,v]=w.useState(!1),[x,b]=w.useState(null),[S,C]=w.useState(gS),[N,L]=w.useState(null),[D,j]=w.useState(""),[B,O]=w.useState(!1),$=t.filter(M=>M.name.toLowerCase().includes(c.toLowerCase())).sort((M,k)=>M.order-k.order),A=()=>{b(null),C({...gS,order:t.length}),L(null),j(""),p(!0)},I=M=>{b(M),C({name:M.name,role:M.role,bio:M.bio||"",image:M.image,order:M.order,isActive:M.isActive}),j(M.image),p(!0)},P=M=>{var ae;const k=(ae=M.target.files)==null?void 0:ae[0];if(k){L(k);const ge=new FileReader;ge.onloadend=()=>j(ge.result),ge.readAsDataURL(k)}},F=async()=>{O(!0);try{let M=S.image;N&&(M=await o(N,"team"));const k={...S,image:M};x?await r(x.id,k):await n(k),p(!1)}catch(M){console.error("Error saving team member:",M),alert((M==null?void 0:M.message)||"Error al guardar el miembro")}finally{O(!1)}},U=async()=>{x&&(await s(x.id),v(!1))};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Equipo"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestiona los miembros del equipo"})]}),l.jsxs(ue,{onClick:A,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Nuevo Miembro"]})]}),l.jsxs(bt,{children:[l.jsx(Mt,{children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Wa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Fe,{placeholder:"Buscar...",value:c,onChange:M=>d(M.target.value),className:"pl-9"})]})}),l.jsx(St,{children:$.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No hay miembros del equipo"}),l.jsxs(ue,{variant:"outline",className:"mt-4",onClick:A,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Agregar primer miembro"]})]}):l.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:$.map(M=>l.jsxs("div",{className:"border rounded-lg p-4 flex flex-col",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-16 h-16 bg-muted rounded-full overflow-hidden flex-shrink-0",children:M.image?l.jsx("img",{src:M.image,alt:M.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl font-medium text-muted-foreground",children:M.name.charAt(0)})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-medium truncate",children:M.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:M.role}),l.jsx(Zn,{variant:M.isActive?"default":"outline",className:"mt-2",children:M.isActive?"Activo":"Inactivo"})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[l.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>I(M),children:l.jsx(Mo,{className:"h-4 w-4"})}),l.jsx(ue,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>{b(M),v(!0)},children:l.jsx(Ys,{className:"h-4 w-4"})})]})]},M.id))})})]}),l.jsx(Uo,{open:h,onOpenChange:p,children:l.jsxs(zo,{children:[l.jsxs(Bo,{children:[l.jsx($o,{children:x?"Editar Miembro":"Nuevo Miembro"}),l.jsx(Ho,{children:"Informacin del miembro del equipo"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Foto"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-20 h-20 bg-muted rounded-full overflow-hidden flex items-center justify-center",children:D?l.jsx("img",{src:D,alt:"Preview",className:"w-full h-full object-cover"}):l.jsx(Pr,{className:"h-6 w-6 text-muted-foreground"})}),l.jsx(Fe,{type:"file",accept:"image/*",onChange:P,className:"max-w-[200px]"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Nombre *"}),l.jsx(Fe,{value:S.name,onChange:M=>C({...S,name:M.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Rol *"}),l.jsx(Fe,{value:S.role,onChange:M=>C({...S,role:M.target.value}),placeholder:"Director, Curador..."})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Biografa"}),l.jsx(Lo,{value:S.bio,onChange:M=>C({...S,bio:M.target.value}),rows:3})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Orden"}),l.jsx(Fe,{type:"number",value:S.order,onChange:M=>C({...S,order:parseInt(M.target.value)||0})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(be,{children:"Activo"}),l.jsx(Ri,{checked:S.isActive,onCheckedChange:M=>C({...S,isActive:M})})]})]})]}),l.jsxs(Wo,{children:[l.jsx(ue,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),l.jsxs(ue,{onClick:F,disabled:B||!S.name,children:[B&&l.jsx(Un,{className:"mr-2 h-4 w-4 animate-spin"}),x?"Guardar":"Crear"]})]})]})}),l.jsx(qo,{open:g,onOpenChange:v,children:l.jsxs(Go,{children:[l.jsxs(Ko,{children:[l.jsx(Qo,{children:"Eliminar miembro?"}),l.jsx(Xo,{children:"Esta accin no se puede deshacer."})]}),l.jsxs(Yo,{children:[l.jsx(Zo,{children:"Cancelar"}),l.jsx(Jo,{onClick:U,className:"bg-destructive text-destructive-foreground",children:"Eliminar"})]})]})})]})}const x7=[{name:"Amigo Mentor - Casa Ramayon",price:"$50.000",period:"mensual",description:"Nuestra categora ms exclusiva. Incluye beneficios premium en eventos, formacin y la posibilidad de utilizar el espacio para tus propios eventos.",benefits:["Brindis Privados: Invitacin exclusiva a previas de inauguraciones artsticas o nuevos ciclos.","Pase Libre Cultural: Entrada libre a todos los eventos pagos de la agenda anual.","Acceso Total a Formacin: 50% de descuento en talleres, clnicas y seminarios.","Experiencias Exclusivas (+1): Invitado a eventos especiales para la comunidad.","Beneficios en Obra y Tienda: 15% o 20% de descuento en compra de obras.","Casa Ramayon con vos: Uso del espacio con 50% de descuento una vez al ao."],featured:!0,isActive:!0},{name:"Amigo Aliado - Casa Ramayon",price:"$20.000",period:"mensual",description:"Una forma accesible de sumarte a la comunidad. Pensado para quienes quieren acercarse a la cultura y disfrutar de beneficios en la casa.",benefits:["10% de descuento en la Yerbatera.","20% de descuento en todos los cursos y talleres de La Casa.","30% de descuento en entradas a conciertos.","Prioridad en eventos con capacidad reducida."],featured:!1,isActive:!0}],vS={name:"",price:"",period:"mensual",description:"",benefits:[],featured:!1,isActive:!0};function w7(){const{memberships:t,pages:e,loading:n,addMembership:r,updateMembership:s,deleteMembership:o,updatePage:c}=zn(),[d,h]=w.useState(!1),[p,g]=w.useState(!1),[v,x]=w.useState(null),[b,S]=w.useState(vS),[C,N]=w.useState(""),[L,D]=w.useState(!1),[j,B]=w.useState(!1),[O,$]=w.useState(!1),A=e.find(Y=>Y.slug==="amigo"),[I,P]=w.useState((A==null?void 0:A.subtitle)??"Sumate a la comunidad de Casa Ramayon y colabor con el espacio cultural. Eleg la categora que ms te guste y disfrut de beneficios exclusivos, descuentos en eventos, talleres y mucho ms."),[F,U]=w.useState((A==null?void 0:A.content)??"Tu generosidad construye la cultura.");w.useEffect(()=>{A!=null&&A.subtitle&&P(A.subtitle),A!=null&&A.content&&U(A.content)},[A==null?void 0:A.subtitle,A==null?void 0:A.content]);const M=async()=>{B(!0);try{await c("amigo",{title:"Hacete Amigo",subtitle:I,content:F})}finally{B(!1)}},k=()=>{x(null),S(vS),h(!0)},ae=Y=>{x(Y),S({name:Y.name,price:Y.price,period:Y.period,description:Y.description??"",benefits:[...Y.benefits],featured:Y.featured,isActive:Y.isActive}),h(!0)},ge=()=>{C.trim()&&(S({...b,benefits:[...b.benefits,C.trim()]}),N(""))},pe=Y=>{S({...b,benefits:b.benefits.filter((H,te)=>te!==Y)})},ye=async()=>{D(!0);try{v?await s(v.id,b):await r(b),h(!1)}finally{D(!1)}},z=async()=>{v&&(await o(v.id),g(!1))},K=async()=>{$(!0);try{for(const Y of x7)await r(Y)}finally{$(!1)}};return n?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Membresas"}),l.jsx("p",{className:"text-muted-foreground",children:'Programa "Hacete Amigo"'})]}),l.jsxs(ue,{onClick:k,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Nueva Membresa"]})]}),l.jsxs(bt,{children:[l.jsxs(Mt,{children:[l.jsx(En,{children:"Texto introductorio de la seccin"}),l.jsx(kr,{children:'Este texto aparece arriba de las membresas en la seccin "Hacete Amigo" del sitio'})]}),l.jsxs(St,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Prrafo principal"}),l.jsx(Lo,{value:I,onChange:Y=>P(Y.target.value),rows:3,placeholder:"Sumate a la comunidad...",className:"resize-none"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Frase final"}),l.jsx(Fe,{value:F,onChange:Y=>U(Y.target.value),placeholder:"Tu generosidad construye la cultura."})]}),l.jsxs(ue,{onClick:M,disabled:j,children:[j?l.jsx(Un,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Guardar texto"]})]})]}),t.length===0?l.jsx(bt,{children:l.jsxs(St,{className:"py-12 text-center",children:[l.jsx("p",{className:"text-muted-foreground",children:"No hay membresas configuradas"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center mt-4",children:[l.jsxs(ue,{onClick:K,disabled:O,children:[O?l.jsx(Un,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(g1,{className:"mr-2 h-4 w-4"}),"Cargar Amigo Mentor y Amigo Aliado"]}),l.jsxs(ue,{variant:"outline",onClick:k,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Crear membresa manualmente"]})]})]})}):l.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(Y=>l.jsxs(bt,{className:Y.featured?"border-primary ring-2 ring-primary/20":"",children:[l.jsx(Mt,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsxs(En,{className:"flex items-center gap-2",children:[Y.name,Y.featured&&l.jsx(BF,{className:"h-4 w-4 fill-primary text-primary"})]}),l.jsxs(kr,{children:[Y.price," / ",Y.period]})]}),l.jsx(Zn,{variant:Y.isActive?"default":"outline",children:Y.isActive?"Activo":"Inactivo"})]})}),l.jsxs(St,{children:[l.jsx("ul",{className:"space-y-2 mb-4",children:Y.benefits.map((H,te)=>l.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Tm,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),H]},te))}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[l.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>ae(Y),children:l.jsx(Mo,{className:"h-4 w-4"})}),l.jsx(ue,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>{x(Y),g(!0)},children:l.jsx(Ys,{className:"h-4 w-4"})})]})]})]},Y.id))}),l.jsx(Uo,{open:d,onOpenChange:h,children:l.jsxs(zo,{children:[l.jsxs(Bo,{children:[l.jsx($o,{children:v?"Editar Membresa":"Nueva Membresa"}),l.jsx(Ho,{children:"Configura los detalles del plan"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Nombre *"}),l.jsx(Fe,{value:b.name,onChange:Y=>S({...b,name:Y.target.value}),placeholder:"Amigo, Amigo Plus..."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Descripcin"}),l.jsx(Fe,{value:b.description??"",onChange:Y=>S({...b,description:Y.target.value}),placeholder:"Breve descripcin que aparece en el acorden..."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Precio *"}),l.jsx(Fe,{value:b.price,onChange:Y=>S({...b,price:Y.target.value}),placeholder:"$50.000"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Perodo"}),l.jsxs(wd,{value:b.period,onValueChange:Y=>S({...b,period:Y}),children:[l.jsx(Ed,{children:l.jsx(_d,{})}),l.jsxs(bd,{children:[l.jsx(cc,{value:"mensual",children:"Mensual"}),l.jsx(cc,{value:"anual",children:"Anual"})]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Beneficios"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Fe,{value:C,onChange:Y=>N(Y.target.value),placeholder:"Agregar beneficio...",onKeyDown:Y=>Y.key==="Enter"&&(Y.preventDefault(),ge())}),l.jsx(ue,{type:"button",onClick:ge,variant:"outline",children:l.jsx(pn,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"space-y-1 mt-2",children:b.benefits.map((Y,H)=>l.jsxs("div",{className:"flex items-center justify-between bg-muted rounded px-3 py-2",children:[l.jsx("span",{className:"text-sm",children:Y}),l.jsx(ue,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>pe(H),children:l.jsx(md,{className:"h-3 w-3"})})]},H))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(be,{children:"Destacado"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Resaltar este plan"})]}),l.jsx(Ri,{checked:b.featured,onCheckedChange:Y=>S({...b,featured:Y})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(be,{children:"Activo"}),l.jsx(Ri,{checked:b.isActive,onCheckedChange:Y=>S({...b,isActive:Y})})]})]}),l.jsxs(Wo,{children:[l.jsx(ue,{variant:"outline",onClick:()=>h(!1),children:"Cancelar"}),l.jsxs(ue,{onClick:ye,disabled:L||!b.name,children:[L&&l.jsx(Un,{className:"mr-2 h-4 w-4 animate-spin"}),v?"Guardar":"Crear"]})]})]})}),l.jsx(qo,{open:p,onOpenChange:g,children:l.jsxs(Go,{children:[l.jsxs(Ko,{children:[l.jsx(Qo,{children:"Eliminar membresa?"}),l.jsx(Xo,{children:"Esta accin no se puede deshacer."})]}),l.jsxs(Yo,{children:[l.jsx(Zo,{children:"Cancelar"}),l.jsx(Jo,{onClick:z,className:"bg-destructive text-destructive-foreground",children:"Eliminar"})]})]})})]})}const _7=["Principal","Colaborador","Amigo"],yS={name:"",logo:"",website:"",tier:"Colaborador",isActive:!0};function E7(){const{sponsors:t,loading:e,addSponsor:n,updateSponsor:r,deleteSponsor:s,uploadImage:o}=zn(),[c,d]=w.useState(""),[h,p]=w.useState(!1),[g,v]=w.useState(!1),[x,b]=w.useState(null),[S,C]=w.useState(yS),[N,L]=w.useState(null),[D,j]=w.useState(""),[B,O]=w.useState(!1),$=t.filter(k=>k.name.toLowerCase().includes(c.toLowerCase())),A=()=>{b(null),C(yS),L(null),j(""),p(!0)},I=k=>{b(k),C({name:k.name,logo:k.logo,website:k.website||"",tier:k.tier,isActive:k.isActive}),j(k.logo),p(!0)},P=k=>{var ge;const ae=(ge=k.target.files)==null?void 0:ge[0];if(ae){L(ae);const pe=new FileReader;pe.onloadend=()=>j(pe.result),pe.readAsDataURL(ae)}},F=async()=>{O(!0);try{let k=S.logo;N&&(k=await o(N,"sponsors"));const ae={...S,logo:k};x?await r(x.id,ae):await n(ae),p(!1)}catch(k){console.error("Error saving sponsor:",k),alert((k==null?void 0:k.message)||"Error al guardar el sponsor")}finally{O(!1)}},U=async()=>{x&&(await s(x.id),v(!1))},M=k=>{switch(k){case"Principal":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";case"Colaborador":return"bg-blue-500/10 text-blue-600 border-blue-500/20";case"Amigo":return"bg-green-500/10 text-green-600 border-green-500/20"}};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Patrocinadores"}),l.jsx("p",{className:"text-muted-foreground",children:"Apoyos y colaboradores"})]}),l.jsxs(ue,{onClick:A,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Nuevo Patrocinador"]})]}),l.jsxs(bt,{children:[l.jsx(Mt,{children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Wa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Fe,{placeholder:"Buscar...",value:c,onChange:k=>d(k.target.value),className:"pl-9"})]})}),l.jsx(St,{children:$.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No hay patrocinadores"}),l.jsxs(ue,{variant:"outline",className:"mt-4",onClick:A,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Agregar primer patrocinador"]})]}):l.jsxs(Ic,{children:[l.jsx(kc,{children:l.jsxs(jr,{children:[l.jsx(it,{children:"Logo"}),l.jsx(it,{children:"Nombre"}),l.jsx(it,{children:"Nivel"}),l.jsx(it,{children:"Website"}),l.jsx(it,{children:"Estado"}),l.jsx(it,{className:"text-right",children:"Acciones"})]})}),l.jsx(Ac,{children:$.map(k=>l.jsxs(jr,{children:[l.jsx(ot,{children:l.jsx("div",{className:"w-16 h-12 bg-muted rounded overflow-hidden flex items-center justify-center p-2",children:k.logo?l.jsx("img",{src:k.logo,alt:k.name,className:"w-full h-full object-contain"}):l.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"})})}),l.jsx(ot,{className:"font-medium",children:k.name}),l.jsx(ot,{children:l.jsx(Zn,{variant:"outline",className:M(k.tier),children:k.tier})}),l.jsx(ot,{children:k.website&&l.jsxs("a",{href:k.website,target:"_blank",rel:"noopener",className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground",children:[l.jsx(TF,{className:"h-3 w-3"}),"Visitar"]})}),l.jsx(ot,{children:l.jsx(Zn,{variant:k.isActive?"default":"outline",children:k.isActive?"Activo":"Inactivo"})}),l.jsx(ot,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>I(k),children:l.jsx(Mo,{className:"h-4 w-4"})}),l.jsx(ue,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>{b(k),v(!0)},children:l.jsx(Ys,{className:"h-4 w-4"})})]})})]},k.id))})]})})]}),l.jsx(Uo,{open:h,onOpenChange:p,children:l.jsxs(zo,{children:[l.jsxs(Bo,{children:[l.jsx($o,{children:x?"Editar Patrocinador":"Nuevo Patrocinador"}),l.jsx(Ho,{children:"Informacin del patrocinador o colaborador"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Logo"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-24 h-16 bg-muted rounded-lg overflow-hidden flex items-center justify-center p-2",children:D?l.jsx("img",{src:D,alt:"Preview",className:"w-full h-full object-contain"}):l.jsx(Pr,{className:"h-6 w-6 text-muted-foreground"})}),l.jsx(Fe,{type:"file",accept:"image/*",onChange:P,className:"max-w-[200px]"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Nombre *"}),l.jsx(Fe,{value:S.name,onChange:k=>C({...S,name:k.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Nivel"}),l.jsxs(wd,{value:S.tier,onValueChange:k=>C({...S,tier:k}),children:[l.jsx(Ed,{children:l.jsx(_d,{})}),l.jsx(bd,{children:_7.map(k=>l.jsx(cc,{value:k,children:k},k))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Website"}),l.jsx(Fe,{value:S.website,onChange:k=>C({...S,website:k.target.value}),placeholder:"https://..."})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(be,{children:"Activo"}),l.jsx(Ri,{checked:S.isActive,onCheckedChange:k=>C({...S,isActive:k})})]})]}),l.jsxs(Wo,{children:[l.jsx(ue,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),l.jsxs(ue,{onClick:F,disabled:B||!S.name,children:[B&&l.jsx(Un,{className:"mr-2 h-4 w-4 animate-spin"}),x?"Guardar":"Crear"]})]})]})}),l.jsx(qo,{open:g,onOpenChange:v,children:l.jsxs(Go,{children:[l.jsxs(Ko,{children:[l.jsx(Qo,{children:"Eliminar patrocinador?"}),l.jsx(Xo,{children:"Esta accin no se puede deshacer."})]}),l.jsxs(Yo,{children:[l.jsx(Zo,{children:"Cancelar"}),l.jsx(Jo,{onClick:U,className:"bg-destructive text-destructive-foreground",children:"Eliminar"})]})]})})]})}const ev=[{slug:"historia",title:"Historia",icon:RF,description:"La historia de Casa Ramayon"},{slug:"espacio",title:"El Espacio",icon:Xy,description:"Descripcin de las instalaciones"},{slug:"equipo",title:"Equipo",icon:Uf,description:"Informacin general del equipo"},{slug:"contacto",title:"Contacto",icon:UF,description:"Informacin de contacto"},{slug:"amigo",title:"Hacete Amigo",icon:Uf,description:"Texto intro de la seccin membresas"}];function b7(){var B;const{pages:t,loading:e,updatePage:n,uploadImage:r}=zn(),[s,o]=w.useState(!1),[c,d]=w.useState(null),[h,p]=w.useState({title:"",subtitle:"",content:"",image:"",isActive:!0}),[g,v]=w.useState(null),[x,b]=w.useState(""),[S,C]=w.useState(!1),N=O=>t.find($=>$.slug===O),L=O=>{const $=N(O),A=ev.find(I=>I.slug===O);d(O),p({title:($==null?void 0:$.title)||(A==null?void 0:A.title)||"",subtitle:($==null?void 0:$.subtitle)||"",content:($==null?void 0:$.content)||"",image:($==null?void 0:$.image)||"",isActive:($==null?void 0:$.isActive)??!0}),b(($==null?void 0:$.image)||""),v(null),o(!0)},D=O=>{var A;const $=(A=O.target.files)==null?void 0:A[0];if($){v($);const I=new FileReader;I.onloadend=()=>b(I.result),I.readAsDataURL($)}},j=async()=>{if(c){C(!0);try{let O=h.image;g&&(O=await r(g,"pages")),await n(c,{...h,image:O,slug:c}),o(!1)}catch(O){console.error("Error saving page:",O),alert((O==null?void 0:O.message)||"Error al guardar la pgina")}finally{C(!1)}}};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Pginas"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestiona el contenido de las pginas estticas"})]}),l.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:ev.map(O=>{const $=N(O.slug),A=O.icon;return l.jsxs(bt,{children:[l.jsx(Mt,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:l.jsx(A,{className:"h-5 w-5 text-primary"})}),l.jsxs("div",{children:[l.jsx(En,{className:"text-lg",children:O.title}),l.jsx(kr,{children:O.description})]})]}),l.jsx(Zn,{variant:$!=null&&$.isActive?"default":"outline",children:$!=null&&$.isActive?"Activo":"Inactivo"})]})}),l.jsx(St,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:$!=null&&$.content?l.jsxs("span",{children:[$.content.substring(0,50),"..."]}):l.jsx("span",{className:"italic",children:"Sin contenido"})}),l.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>L(O.slug),children:[l.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Editar"]})]})})]},O.slug)})}),l.jsx(Uo,{open:s,onOpenChange:o,children:l.jsxs(zo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Bo,{children:[l.jsxs($o,{children:["Editar ",(B=ev.find(O=>O.slug===c))==null?void 0:B.title]}),l.jsx(Ho,{children:"Modifica el contenido de esta pgina"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Imagen de cabecera"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-32 h-20 bg-muted rounded-lg overflow-hidden flex items-center justify-center",children:x?l.jsx("img",{src:x,alt:"Preview",className:"w-full h-full object-cover"}):l.jsx(Pr,{className:"h-8 w-8 text-muted-foreground"})}),l.jsx(Fe,{type:"file",accept:"image/*",onChange:D,className:"max-w-[200px]"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Ttulo"}),l.jsx(Fe,{value:h.title,onChange:O=>p({...h,title:O.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Subttulo (opcional)"}),l.jsx(Fe,{value:h.subtitle,onChange:O=>p({...h,subtitle:O.target.value}),placeholder:"Una breve descripcin..."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"Contenido"}),l.jsx(Lo,{value:h.content,onChange:O=>p({...h,content:O.target.value}),rows:8,placeholder:"Escribe el contenido de la pgina..."}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Pods usar saltos de lnea para separar prrafos"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(be,{children:"Estado"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Pginas inactivas no se muestran"})]}),l.jsx(Ri,{checked:h.isActive,onCheckedChange:O=>p({...h,isActive:O})})]})]}),l.jsxs(Wo,{children:[l.jsx(ue,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),l.jsxs(ue,{onClick:j,disabled:S,children:[S&&l.jsx(Un,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardar Cambios"]})]})]})})]})}const S7="https://casaramayon.com";function C7(){const{subscribers:t,loading:e,deleteSubscriber:n,useLocalStorage:r}=zn(),[s,o]=w.useState(""),[c,d]=w.useState(!1),[h,p]=w.useState(null),[g,v]=w.useState("idle"),[x,b]=w.useState(""),S=t.filter(D=>D.email.toLowerCase().includes(s.toLowerCase())),C=async()=>{var D;v("loading"),b("");try{const j=cF("sendNewsletter"),{data:B}=await j({siteUrl:S7});b((D=B.errors)!=null&&D.length?`Enviados: ${B.sent}/${B.total}. Errores: ${B.errors.slice(0,3).join("; ")}${B.errors.length>3?"...":""}`:`Newsletter enviado a ${B.sent} suscriptor(es)`),v("success")}catch(j){b((j==null?void 0:j.message)||"Error al enviar el newsletter"),v("error")}},N=async()=>{h&&(await n(h.id),d(!1))},L=D=>{var B;const j=D instanceof Date?D:((B=D.toDate)==null?void 0:B.call(D))??new Date;return new Date(j).toLocaleDateString("es-AR",{day:"2-digit",month:"short",year:"numeric"})};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(Un,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Suscriptores"}),l.jsx("p",{className:"text-muted-foreground",children:"Emails que se suscribieron al boletn desde el sitio"})]}),l.jsxs(ue,{onClick:C,disabled:g==="loading"||r||t.length===0,title:r?"Necesits usar Firebase para enviar newsletters":void 0,children:[g==="loading"?l.jsx(Un,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(Jy,{className:"mr-2 h-4 w-4"}),"Enviar newsletter"]})]}),r&&l.jsx(qr,{children:l.jsx(Gr,{children:"El newsletter se enva desde Firebase. Para usar esta funcin, activ Firebase en Configuracin (los suscriptores deben estar en Firestore)."})}),g==="success"&&l.jsx(qr,{className:"border-green-500/50 bg-green-50 dark:bg-green-950/20",children:l.jsx(Gr,{children:x})}),g==="error"&&l.jsx(qr,{variant:"destructive",children:l.jsx(Gr,{children:x})}),l.jsxs(bt,{children:[l.jsx(Mt,{children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Wa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Fe,{placeholder:"Buscar por email...",value:s,onChange:D=>o(D.target.value),className:"pl-9"})]})}),l.jsx(St,{children:S.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Nm,{className:"mx-auto h-12 w-12 text-muted-foreground/50 mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:t.length===0?"An no hay suscriptores":"No hay resultados para tu bsqueda"})]}):l.jsxs(Ic,{children:[l.jsx(kc,{children:l.jsxs(jr,{children:[l.jsx(it,{children:"Email"}),l.jsx(it,{children:"Fecha de suscripcin"}),l.jsx(it,{className:"text-right",children:"Acciones"})]})}),l.jsx(Ac,{children:S.map(D=>l.jsxs(jr,{children:[l.jsx(ot,{className:"font-medium",children:D.email}),l.jsx(ot,{className:"text-muted-foreground",children:L(D.createdAt)}),l.jsx(ot,{className:"text-right",children:l.jsx(ue,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>{p(D),d(!0)},children:l.jsx(Ys,{className:"h-4 w-4"})})})]},D.id))})]})})]}),l.jsx(qo,{open:c,onOpenChange:d,children:l.jsxs(Go,{children:[l.jsxs(Ko,{children:[l.jsx(Qo,{children:"Eliminar suscriptor?"}),l.jsxs(Xo,{children:["Se eliminar ",h==null?void 0:h.email," de la lista. Esta accin no se puede deshacer."]})]}),l.jsxs(Yo,{children:[l.jsx(Zo,{children:"Cancelar"}),l.jsx(Jo,{onClick:N,className:"bg-destructive text-destructive-foreground",children:"Eliminar"})]})]})})]})}function T7(){const{events:t,products:e,useLocalStorage:n}=zn(),[r,s]=w.useState(""),o=()=>{const p={events:t,products:e,exportedAt:new Date().toISOString()},g=new Blob([JSON.stringify(p,null,2)],{type:"application/json"}),v=URL.createObjectURL(g),x=document.createElement("a");x.href=v,x.download=`casa-ramayon-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(v),s("Datos exportados correctamente"),setTimeout(()=>s(""),3e3)},c=p=>{var x;const g=(x=p.target.files)==null?void 0:x[0];if(!g)return;const v=new FileReader;v.onload=b=>{var S;try{const C=JSON.parse((S=b.target)==null?void 0:S.result);C.events&&localStorage.setItem("casa_ramayon_events",JSON.stringify(C.events)),C.products&&localStorage.setItem("casa_ramayon_products",JSON.stringify(C.products)),s("Datos importados. Recarga la pgina para ver los cambios.")}catch{s("Error al importar los datos. Verifica el formato del archivo.")}},v.readAsText(g)},d=()=>{window.confirm("Ests seguro de que quieres eliminar todos los datos? Esta accin no se puede deshacer.")&&(localStorage.removeItem("casa_ramayon_events"),localStorage.removeItem("casa_ramayon_products"),s("Datos eliminados. Recarga la pgina."))},h=()=>{navigator.clipboard.writeText(`VITE_FIREBASE_API_KEY=your-api-key
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your-sender-id
VITE_FIREBASE_APP_ID=your-app-id`),s("Variables copiadas al portapapeles"),setTimeout(()=>s(""),3e3)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Configuracin"}),l.jsx("p",{className:"text-muted-foreground",children:"Administra la configuracin del panel"})]}),r&&l.jsxs(qr,{children:[l.jsx(kl,{className:"h-4 w-4"}),l.jsx(Gr,{children:r})]}),l.jsxs(bt,{children:[l.jsx(Mt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(En,{className:"flex items-center gap-2",children:[l.jsx(CF,{className:"h-5 w-5"}),"Estado del Almacenamiento"]}),l.jsx(kr,{children:"Modo actual de almacenamiento de datos"})]}),l.jsx(Zn,{variant:n?"secondary":"default",children:n?l.jsxs(l.Fragment,{children:[l.jsx(AF,{className:"mr-1 h-3 w-3"}),"Local"]}):l.jsxs(l.Fragment,{children:[l.jsx(db,{className:"mr-1 h-3 w-3"}),"Firebase"]})})]})}),l.jsxs(St,{children:[n?l.jsxs(qr,{children:[l.jsx(Vg,{className:"h-4 w-4"}),l.jsx(Gr,{children:"Ests usando almacenamiento local. Los datos solo estn guardados en este navegador y no se sincronizarn entre dispositivos."})]}):l.jsxs(qr,{children:[l.jsx(kl,{className:"h-4 w-4"}),l.jsx(Gr,{children:"Conectado a Firebase. Los datos se sincronizan en tiempo real."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Eventos"}),l.jsx("p",{className:"text-2xl font-bold",children:t.length})]}),l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Productos"}),l.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})]})]}),l.jsxs(bt,{children:[l.jsx(Mt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(En,{className:"flex items-center gap-2",children:[l.jsx(jF,{className:"h-5 w-5"}),"Cloudinary - Imgenes"]}),l.jsx(kr,{children:"Las imgenes se suben a Cloudinary (no a localStorage)"})]}),l.jsx(Zn,{variant:uf()?"default":"secondary",children:uf()?l.jsxs(l.Fragment,{children:[l.jsx(kl,{className:"mr-1 h-3 w-3"}),"Configurado"]}):l.jsxs(l.Fragment,{children:[l.jsx(Vg,{className:"mr-1 h-3 w-3"}),"Sin configurar"]})})]})}),l.jsxs(St,{className:"space-y-4",children:[uf()?l.jsxs(qr,{children:[l.jsx(kl,{className:"h-4 w-4"}),l.jsx(Gr,{children:"Cloudinary est configurado. Las imgenes de eventos, productos, talleres y dems se suben a la nube."})]}):l.jsxs(qr,{children:[l.jsx(Vg,{className:"h-4 w-4"}),l.jsx(Gr,{children:"Sin Cloudinary configurado no se podrn subir imgenes (eventos, productos, etc.). Configur Cloudinary para que las imgenes se guarden en la nube y estn disponibles en todos los dispositivos."})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Agreg al archivo ",l.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:".env"}),":"]}),l.jsxs("div",{className:"relative",children:[l.jsx("pre",{className:"bg-muted p-4 rounded-lg text-xs overflow-x-auto",children:`VITE_CLOUDINARY_CLOUD_NAME=tu-cloud-name
VITE_CLOUDINARY_UPLOAD_PRESET=casa_ramayon`}),l.jsxs(ue,{variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>{navigator.clipboard.writeText(`VITE_CLOUDINARY_CLOUD_NAME=tu-cloud-name
VITE_CLOUDINARY_UPLOAD_PRESET=casa_ramayon`),s("Variables Cloudinary copiadas"),setTimeout(()=>s(""),3e3)},children:[l.jsx(hb,{className:"h-4 w-4 mr-1"}),"Copiar"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"Pasos:"}),l.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 list-decimal list-inside",children:[l.jsxs("li",{children:["Cre una cuenta en ",l.jsx("a",{href:"https://cloudinary.com",target:"_blank",rel:"noopener",className:"text-primary hover:underline",children:"Cloudinary"})]}),l.jsxs("li",{children:["En el Dashboard, copi tu ",l.jsx("strong",{children:"Cloud name"})]}),l.jsxs("li",{children:["Ve a Settings  Upload y cre un ",l.jsx("strong",{children:"Upload preset"})," (unsigned)"]}),l.jsxs("li",{children:["Agreg las variables al ",l.jsx("code",{className:"bg-muted px-1",children:".env"})," y reinici el servidor"]})]})]})]})]}),l.jsxs(bt,{children:[l.jsx(Mt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(En,{className:"flex items-center gap-2",children:[l.jsx(Nm,{className:"h-5 w-5"}),"Boletn - Notificaciones al Admin"]}),l.jsx(kr,{children:"Email a agostinaremanso@gmail.com cuando alguien se suscriba"})]}),l.jsx(Zn,{variant:"default",children:l.jsxs(l.Fragment,{children:[l.jsx(kl,{className:"mr-1 h-3 w-3"}),"Configurado"]})})]})}),l.jsxs(St,{className:"space-y-4",children:[l.jsxs(qr,{children:[l.jsx(kl,{className:"h-4 w-4"}),l.jsx(Gr,{children:"Las suscripciones disparan un email al admin configurado en Formspree."})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Agreg al ",l.jsx("code",{className:"bg-muted px-1 rounded",children:".env"}),":"]}),l.jsx("pre",{className:"bg-muted p-4 rounded-lg text-xs overflow-x-auto",children:`# Cre un form en https://formspree.io con agostinaremanso@gmail.com como receptor
VITE_FORMSPREE_NEWSLETTER_ID=tu-form-id`}),l.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 list-decimal list-inside",children:[l.jsxs("li",{children:["Ir a ",l.jsx("a",{href:"https://formspree.io",target:"_blank",rel:"noopener",className:"text-primary hover:underline",children:"formspree.io"})]}),l.jsx("li",{children:"Crear un nuevo formulario con agostinaremanso@gmail.com como email receptor"}),l.jsx("li",{children:"Copiar el ID del form (ej: xyzabcde) y agregar VITE_FORMSPREE_NEWSLETTER_ID=xyzabcde al .env"}),l.jsx("li",{children:"Reiniciar el servidor"})]})]})]}),l.jsxs(bt,{children:[l.jsxs(Mt,{children:[l.jsxs(En,{className:"flex items-center gap-2",children:[l.jsx(Jy,{className:"h-5 w-5"}),"Newsletter - Enviar a suscriptores"]}),l.jsx(kr,{children:'Para el botn "Enviar newsletter" en Suscriptores necesits Resend'})]}),l.jsxs(St,{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:["1. Cre cuenta en ",l.jsx("a",{href:"https://resend.com",target:"_blank",rel:"noopener",className:"text-primary hover:underline",children:"resend.com"})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["2. Obten tu API key y cre ",l.jsx("code",{className:"bg-muted px-1 rounded",children:"functions/.env"})," con:"]}),l.jsx("code",{className:"block bg-muted p-3 rounded text-xs overflow-x-auto",children:"RESEND_API_KEY=re_xxxxxxxxx"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["3. Redeploy: ",l.jsx("code",{className:"bg-muted px-1 rounded",children:"firebase deploy --only functions"})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["4. (Opcional) Para usar tu dominio como remitente, verific el dominio en Resend y configur:"," ",l.jsx("code",{className:"bg-muted px-1 rounded",children:'firebase functions:config:set resend.from="Casa Ramayon <hola@tudominio.com>"'})]})]})]}),l.jsxs(bt,{children:[l.jsxs(Mt,{children:[l.jsxs(En,{className:"flex items-center gap-2",children:[l.jsx(db,{className:"h-5 w-5"}),"Configurar Firebase"]}),l.jsx(kr,{children:"Configura Firebase para sincronizacin en la nube"})]}),l.jsxs(St,{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Para usar Firebase, crea un archivo ",l.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:".env"})," ","en la raz del proyecto con las siguientes variables:"]}),l.jsxs("div",{className:"relative",children:[l.jsx("pre",{className:"bg-muted p-4 rounded-lg text-xs overflow-x-auto",children:`VITE_FIREBASE_API_KEY=your-api-key
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your-sender-id
VITE_FIREBASE_APP_ID=your-app-id`}),l.jsxs(ue,{variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:h,children:[l.jsx(hb,{className:"h-4 w-4 mr-1"}),"Copiar"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"Pasos para configurar Firebase:"}),l.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 list-decimal list-inside",children:[l.jsxs("li",{children:["Ve a ",l.jsx("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener",className:"text-primary hover:underline",children:"Firebase Console"})]}),l.jsx("li",{children:"Crea un nuevo proyecto o selecciona uno existente"}),l.jsx("li",{children:"Activa Authentication y Firestore"}),l.jsx("li",{children:"En Configuracin del proyecto, copia las credenciales de la app web"}),l.jsx("li",{children:"Crea el archivo .env con las variables"}),l.jsx("li",{children:"Reinicia el servidor de desarrollo"})]})]}),l.jsxs("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-950/30 rounded-lg border border-amber-200 dark:border-amber-800",children:[l.jsx("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200 mb-2",children:"Importante: Reglas de Firestore"}),l.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 mb-2",children:"Si los datos se pierden al abrir en incognito, las reglas de Firestore probablemente bloquean la lectura. Ejecut en la raz del proyecto:"}),l.jsx("code",{className:"block bg-amber-100 dark:bg-amber-900/50 px-3 py-2 rounded text-xs",children:"npx firebase deploy --only firestore:rules"}),l.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-2",children:["O configur las reglas manualmente en"," ",l.jsx("a",{href:"https://console.firebase.google.com/project/casa-ramayon/firestore/rules",target:"_blank",rel:"noopener",className:"text-primary hover:underline font-medium",children:"Firestore  Reglas"})," ","(ver archivo ",l.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"firestore.rules"})," en el proyecto)."]})]})]})]}),l.jsxs(bt,{children:[l.jsxs(Mt,{children:[l.jsx(En,{children:"Gestin de Datos"}),l.jsx(kr,{children:"Exporta, importa o elimina los datos del sistema"})]}),l.jsxs(St,{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsxs(ue,{variant:"outline",onClick:o,children:[l.jsx(g1,{className:"mr-2 h-4 w-4"}),"Exportar Datos (JSON)"]}),l.jsxs("div",{children:[l.jsx(Fe,{type:"file",accept:".json",onChange:c,className:"hidden",id:"import-file"}),l.jsx(ue,{variant:"outline",asChild:!0,children:l.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[l.jsx($F,{className:"mr-2 h-4 w-4"}),"Importar Datos"]})})]})]}),l.jsx(sI,{}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-destructive mb-2",children:"Zona de Peligro"}),l.jsxs(ue,{variant:"destructive",onClick:d,children:[l.jsx(Ys,{className:"mr-2 h-4 w-4"}),"Eliminar Todos los Datos Locales"]})]})]})]})]})}function N7(){return l.jsx(jP,{children:l.jsx(uF,{children:l.jsx(gF,{children:l.jsx(fF,{children:l.jsxs(cP,{children:[l.jsx(Pn,{path:"/",element:l.jsx(jU,{})}),l.jsx(Pn,{path:"/panel/login",element:l.jsx(OU,{})}),l.jsxs(Pn,{path:"/panel",element:l.jsx(vF,{children:l.jsx(n9,{})}),children:[l.jsx(Pn,{index:!0,element:l.jsx(r9,{})}),l.jsx(Pn,{path:"eventos",element:l.jsx(h7,{})}),l.jsx(Pn,{path:"talleres",element:l.jsx(g7,{})}),l.jsx(Pn,{path:"visitas",element:l.jsx(v7,{})}),l.jsx(Pn,{path:"productos",element:l.jsx(m7,{})}),l.jsx(Pn,{path:"equipo",element:l.jsx(y7,{})}),l.jsx(Pn,{path:"membresias",element:l.jsx(w7,{})}),l.jsx(Pn,{path:"sponsors",element:l.jsx(E7,{})}),l.jsx(Pn,{path:"paginas",element:l.jsx(b7,{})}),l.jsx(Pn,{path:"suscriptores",element:l.jsx(C7,{})}),l.jsx(Pn,{path:"configuracion",element:l.jsx(T7,{})})]}),l.jsx(Pn,{path:"*",element:l.jsx(jS,{to:"/",replace:!0})})]})})})})})}cR.createRoot(document.getElementById("root")).render(l.jsx(de.StrictMode,{children:l.jsx(N7,{})}));
