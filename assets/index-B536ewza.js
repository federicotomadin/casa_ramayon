function xA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Dv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ng={exports:{}},uu={},rg={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function _A(){if(A_)return nt;A_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(q){return q===null||typeof q!="object"?null:(q=y&&q[y]||q["@@iterator"],typeof q=="function"?q:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,b={};function k(q,te,ye){this.props=q,this.context=te,this.refs=b,this.updater=ye||S}k.prototype.isReactComponent={},k.prototype.setState=function(q,te){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,te,"setState")},k.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function M(){}M.prototype=k.prototype;function V(q,te,ye){this.props=q,this.context=te,this.refs=b,this.updater=ye||S}var j=V.prototype=new M;j.constructor=V,C(j,k.prototype),j.isPureReactComponent=!0;var B=Array.isArray,D=Object.prototype.hasOwnProperty,W={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function N(q,te,ye){var we,Me={},De=null,le=null;if(te!=null)for(we in te.ref!==void 0&&(le=te.ref),te.key!==void 0&&(De=""+te.key),te)D.call(te,we)&&!I.hasOwnProperty(we)&&(Me[we]=te[we]);var Ee=arguments.length-2;if(Ee===1)Me.children=ye;else if(1<Ee){for(var Pe=Array(Ee),Ue=0;Ue<Ee;Ue++)Pe[Ue]=arguments[Ue+2];Me.children=Pe}if(q&&q.defaultProps)for(we in Ee=q.defaultProps,Ee)Me[we]===void 0&&(Me[we]=Ee[we]);return{$$typeof:t,type:q,key:De,ref:le,props:Me,_owner:W.current}}function P(q,te){return{$$typeof:t,type:q.type,key:te,ref:q.ref,props:q.props,_owner:q._owner}}function F(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function U(q){var te={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ye){return te[ye]})}var O=/\/+/g;function A(q,te){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):te.toString(36)}function de(q,te,ye,we,Me){var De=typeof q;(De==="undefined"||De==="boolean")&&(q=null);var le=!1;if(q===null)le=!0;else switch(De){case"string":case"number":le=!0;break;case"object":switch(q.$$typeof){case t:case e:le=!0}}if(le)return le=q,Me=Me(le),q=we===""?"."+A(le,0):we,B(Me)?(ye="",q!=null&&(ye=q.replace(O,"$&/")+"/"),de(Me,te,ye,"",function(Ue){return Ue})):Me!=null&&(F(Me)&&(Me=P(Me,ye+(!Me.key||le&&le.key===Me.key?"":(""+Me.key).replace(O,"$&/")+"/")+q)),te.push(Me)),1;if(le=0,we=we===""?".":we+":",B(q))for(var Ee=0;Ee<q.length;Ee++){De=q[Ee];var Pe=we+A(De,Ee);le+=de(De,te,ye,Pe,Me)}else if(Pe=w(q),typeof Pe=="function")for(q=Pe.call(q),Ee=0;!(De=q.next()).done;)De=De.value,Pe=we+A(De,Ee++),le+=de(De,te,ye,Pe,Me);else if(De==="object")throw te=String(q),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return le}function Z(q,te,ye){if(q==null)return q;var we=[],Me=0;return de(q,we,"","",function(De){return te.call(ye,De,Me++)}),we}function me(q){if(q._status===-1){var te=q._result;te=te(),te.then(function(ye){(q._status===0||q._status===-1)&&(q._status=1,q._result=ye)},function(ye){(q._status===0||q._status===-1)&&(q._status=2,q._result=ye)}),q._status===-1&&(q._status=0,q._result=te)}if(q._status===1)return q._result.default;throw q._result}var ee={current:null},H={transition:null},re={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:H,ReactCurrentOwner:W};function se(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:Z,forEach:function(q,te,ye){Z(q,function(){te.apply(this,arguments)},ye)},count:function(q){var te=0;return Z(q,function(){te++}),te},toArray:function(q){return Z(q,function(te){return te})||[]},only:function(q){if(!F(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},nt.Component=k,nt.Fragment=n,nt.Profiler=s,nt.PureComponent=V,nt.StrictMode=r,nt.Suspense=h,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,nt.act=se,nt.cloneElement=function(q,te,ye){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var we=C({},q.props),Me=q.key,De=q.ref,le=q._owner;if(te!=null){if(te.ref!==void 0&&(De=te.ref,le=W.current),te.key!==void 0&&(Me=""+te.key),q.type&&q.type.defaultProps)var Ee=q.type.defaultProps;for(Pe in te)D.call(te,Pe)&&!I.hasOwnProperty(Pe)&&(we[Pe]=te[Pe]===void 0&&Ee!==void 0?Ee[Pe]:te[Pe])}var Pe=arguments.length-2;if(Pe===1)we.children=ye;else if(1<Pe){Ee=Array(Pe);for(var Ue=0;Ue<Pe;Ue++)Ee[Ue]=arguments[Ue+2];we.children=Ee}return{$$typeof:t,type:q.type,key:Me,ref:De,props:we,_owner:le}},nt.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},nt.createElement=N,nt.createFactory=function(q){var te=N.bind(null,q);return te.type=q,te},nt.createRef=function(){return{current:null}},nt.forwardRef=function(q){return{$$typeof:d,render:q}},nt.isValidElement=F,nt.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:me}},nt.memo=function(q,te){return{$$typeof:p,type:q,compare:te===void 0?null:te}},nt.startTransition=function(q){var te=H.transition;H.transition={};try{q()}finally{H.transition=te}},nt.unstable_act=se,nt.useCallback=function(q,te){return ee.current.useCallback(q,te)},nt.useContext=function(q){return ee.current.useContext(q)},nt.useDebugValue=function(){},nt.useDeferredValue=function(q){return ee.current.useDeferredValue(q)},nt.useEffect=function(q,te){return ee.current.useEffect(q,te)},nt.useId=function(){return ee.current.useId()},nt.useImperativeHandle=function(q,te,ye){return ee.current.useImperativeHandle(q,te,ye)},nt.useInsertionEffect=function(q,te){return ee.current.useInsertionEffect(q,te)},nt.useLayoutEffect=function(q,te){return ee.current.useLayoutEffect(q,te)},nt.useMemo=function(q,te){return ee.current.useMemo(q,te)},nt.useReducer=function(q,te,ye){return ee.current.useReducer(q,te,ye)},nt.useRef=function(q){return ee.current.useRef(q)},nt.useState=function(q){return ee.current.useState(q)},nt.useSyncExternalStore=function(q,te,ye){return ee.current.useSyncExternalStore(q,te,ye)},nt.useTransition=function(){return ee.current.useTransition()},nt.version="18.3.1",nt}var R_;function Ov(){return R_||(R_=1,rg.exports=_A()),rg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function EA(){if(P_)return uu;P_=1;var t=Ov(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,h,p){var g,y={},w=null,S=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(y[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:d,key:w,ref:S,props:y,_owner:s.current}}return uu.Fragment=n,uu.jsx=l,uu.jsxs=l,uu}var j_;function bA(){return j_||(j_=1,ng.exports=EA()),ng.exports}var c=bA(),x=Ov();const ve=Dv(x),SA=xA({__proto__:null,default:ve},[x]);var Ah={},sg={exports:{}},Wn={},ig={exports:{}},og={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function TA(){return D_||(D_=1,(function(t){function e(H,re){var se=H.length;H.push(re);e:for(;0<se;){var q=se-1>>>1,te=H[q];if(0<s(te,re))H[q]=re,H[se]=te,se=q;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var re=H[0],se=H.pop();if(se!==re){H[0]=se;e:for(var q=0,te=H.length,ye=te>>>1;q<ye;){var we=2*(q+1)-1,Me=H[we],De=we+1,le=H[De];if(0>s(Me,se))De<te&&0>s(le,Me)?(H[q]=le,H[De]=se,q=De):(H[q]=Me,H[we]=se,q=we);else if(De<te&&0>s(le,se))H[q]=le,H[De]=se,q=De;else break e}}return re}function s(H,re){var se=H.sortIndex-re.sortIndex;return se!==0?se:H.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var h=[],p=[],g=1,y=null,w=3,S=!1,C=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(H){for(var re=n(p);re!==null;){if(re.callback===null)r(p);else if(re.startTime<=H)r(p),re.sortIndex=re.expirationTime,e(h,re);else break;re=n(p)}}function B(H){if(b=!1,j(H),!C)if(n(h)!==null)C=!0,me(D);else{var re=n(p);re!==null&&ee(B,re.startTime-H)}}function D(H,re){C=!1,b&&(b=!1,M(N),N=-1),S=!0;var se=w;try{for(j(re),y=n(h);y!==null&&(!(y.expirationTime>re)||H&&!U());){var q=y.callback;if(typeof q=="function"){y.callback=null,w=y.priorityLevel;var te=q(y.expirationTime<=re);re=t.unstable_now(),typeof te=="function"?y.callback=te:y===n(h)&&r(h),j(re)}else r(h);y=n(h)}if(y!==null)var ye=!0;else{var we=n(p);we!==null&&ee(B,we.startTime-re),ye=!1}return ye}finally{y=null,w=se,S=!1}}var W=!1,I=null,N=-1,P=5,F=-1;function U(){return!(t.unstable_now()-F<P)}function O(){if(I!==null){var H=t.unstable_now();F=H;var re=!0;try{re=I(!0,H)}finally{re?A():(W=!1,I=null)}}else W=!1}var A;if(typeof V=="function")A=function(){V(O)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Z=de.port2;de.port1.onmessage=O,A=function(){Z.postMessage(null)}}else A=function(){k(O,0)};function me(H){I=H,W||(W=!0,A())}function ee(H,re){N=k(function(){H(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){C||S||(C=!0,me(D))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(H){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var se=w;w=re;try{return H()}finally{w=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,re){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var se=w;w=H;try{return re()}finally{w=se}},t.unstable_scheduleCallback=function(H,re,se){var q=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?q+se:q):se=q,H){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=se+te,H={id:g++,callback:re,priorityLevel:H,startTime:se,expirationTime:te,sortIndex:-1},se>q?(H.sortIndex=se,e(p,H),n(h)===null&&H===n(p)&&(b?(M(N),N=-1):b=!0,ee(B,se-q))):(H.sortIndex=te,e(h,H),C||S||(C=!0,me(D))),H},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(H){var re=w;return function(){var se=w;w=re;try{return H.apply(this,arguments)}finally{w=se}}}})(og)),og}var O_;function CA(){return O_||(O_=1,ig.exports=TA()),ig.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function IA(){if(M_)return Wn;M_=1;var t=Ov(),e=CA();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function w(i){return h.call(y,i)?!0:h.call(g,i)?!1:p.test(i)?y[i]=!0:(g[i]=!0,!1)}function S(i,o,u,m){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,o,u,m){if(o===null||typeof o>"u"||S(i,o,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(i,o,u,m,v,_,R){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=_,this.removeEmptyString=R}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){k[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];k[o]=new b(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){k[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){k[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){k[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){k[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){k[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){k[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){k[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function V(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(M,V);k[o]=new b(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(M,V);k[o]=new b(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(M,V);k[o]=new b(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){k[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),k.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){k[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function j(i,o,u,m){var v=k.hasOwnProperty(o)?k[o]:null;(v!==null?v.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,u,v,m)&&(u=null),m||v===null?w(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):v.mustUseProperty?i[v.propertyName]=u===null?v.type===3?!1:"":u:(o=v.attributeName,m=v.attributeNamespace,u===null?i.removeAttribute(o):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,m?i.setAttributeNS(m,o,u):i.setAttribute(o,u))))}var B=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),W=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),U=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),H=Symbol.iterator;function re(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var se=Object.assign,q;function te(i){if(q===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);q=o&&o[1]||""}return`
`+q+i}var ye=!1;function we(i,o){if(!i||ye)return"";ye=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var m=X}Reflect.construct(i,[],o)}else{try{o.call()}catch(X){m=X}i.call(o.prototype)}else{try{throw Error()}catch(X){m=X}i()}}catch(X){if(X&&m&&typeof X.stack=="string"){for(var v=X.stack.split(`
`),_=m.stack.split(`
`),R=v.length-1,z=_.length-1;1<=R&&0<=z&&v[R]!==_[z];)z--;for(;1<=R&&0<=z;R--,z--)if(v[R]!==_[z]){if(R!==1||z!==1)do if(R--,z--,0>z||v[R]!==_[z]){var $=`
`+v[R].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=R&&0<=z);break}}}finally{ye=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?te(i):""}function Me(i){switch(i.tag){case 5:return te(i.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return i=we(i.type,!1),i;case 11:return i=we(i.type.render,!1),i;case 1:return i=we(i.type,!0),i;default:return""}}function De(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case W:return"Portal";case P:return"Profiler";case N:return"StrictMode";case A:return"Suspense";case de:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case U:return(i.displayName||"Context")+".Consumer";case F:return(i._context.displayName||"Context")+".Provider";case O:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Z:return o=i.displayName||null,o!==null?o:De(i.type)||"Memo";case me:o=i._payload,i=i._init;try{return De(i(o))}catch{}}return null}function le(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(o);case 8:return o===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ee(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Pe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ue(i){var o=Pe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),m=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,_=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(R){m=""+R,_.call(this,R)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Xe(i){i._valueTracker||(i._valueTracker=Ue(i))}function Je(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=Pe(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function ce(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Re(i,o){var u=o.checked;return se({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function pt(i,o){var u=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;u=Ee(o.value!=null?o.value:u),i._wrapperState={initialChecked:m,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ct(i,o){o=o.checked,o!=null&&j(i,"checked",o,!1)}function vt(i,o){ct(i,o);var u=Ee(o.value),m=o.type;if(u!=null)m==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?tt(i,o.type,u):o.hasOwnProperty("defaultValue")&&tt(i,o.type,Ee(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Jt(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function tt(i,o,u){(o!=="number"||ce(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var _t=Array.isArray;function Nt(i,o,u,m){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Ee(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,m&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function kr(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function cr(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(_t(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Ee(u)}}function ki(i,o){var u=Ee(o.value),m=Ee(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),m!=null&&(i.defaultValue=""+m)}function Qr(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Vo(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ni(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Vo(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Xr,Fa=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,m,v){MSApp.execUnsafeLocalFunction(function(){return i(o,u,m,v)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Xr=Xr||document.createElement("div"),Xr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Xr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Ws(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ua=["Webkit","ms","Moz","O"];Object.keys(Jr).forEach(function(i){Ua.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Jr[o]=Jr[i]})});function Zr(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Jr.hasOwnProperty(i)&&Jr[i]?(""+o).trim():o+"px"}function Ai(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var m=u.indexOf("--")===0,v=Zr(u,o[u],m);u==="float"&&(u="cssFloat"),m?i.setProperty(u,v):i[u]=v}}var Fo=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ln(i,o){if(o){if(Fo[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Ri(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nr=null;function Ke(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ut=null,Ze=null,wt=null;function mn(i){if(i=Yc(i)){if(typeof ut!="function")throw Error(n(280));var o=i.stateNode;o&&(o=Hd(o),ut(i.stateNode,i.type,o))}}function Gn(i){Ze?wt?wt.push(i):wt=[i]:Ze=i}function At(){if(Ze){var i=Ze,o=wt;if(wt=Ze=null,mn(i),o)for(i=0;i<o.length;i++)mn(o[i])}}function jn(i,o){return i(o)}function dt(){}var ur=!1;function za(i,o,u){if(ur)return i(o,u);ur=!0;try{return jn(i,o,u)}finally{ur=!1,(Ze!==null||wt!==null)&&(dt(),At())}}function $s(i,o){var u=i.stateNode;if(u===null)return null;var m=Hd(u);if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var dr=!1;if(d)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){dr=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{dr=!1}function Ed(i,o,u,m,v,_,R,z,$){var X=Array.prototype.slice.call(arguments,3);try{o.apply(u,X)}catch(ae){this.onError(ae)}}var Hs=!1,es=null,Ba=!1,fr=null,bd={onError:function(i){Hs=!0,es=i}};function Sd(i,o,u,m,v,_,R,z,$){Hs=!1,es=null,Ed.apply(bd,arguments)}function bc(i,o,u,m,v,_,R,z,$){if(Sd.apply(this,arguments),Hs){if(Hs){var X=es;Hs=!1,es=null}else throw Error(n(198));Ba||(Ba=!0,fr=X)}}function Ar(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Sc(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Td(i){if(Ar(i)!==i)throw Error(n(188))}function Cd(i){var o=i.alternate;if(!o){if(o=Ar(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,m=o;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return Td(v),i;if(_===m)return Td(v),o;_=_.sibling}throw Error(n(188))}if(u.return!==m.return)u=v,m=_;else{for(var R=!1,z=v.child;z;){if(z===u){R=!0,u=v,m=_;break}if(z===m){R=!0,m=v,u=_;break}z=z.sibling}if(!R){for(z=_.child;z;){if(z===u){R=!0,u=_,m=v;break}if(z===m){R=!0,m=_,u=v;break}z=z.sibling}if(!R)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function Id(i){return i=Cd(i),i!==null?Uo(i):null}function Uo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Uo(i);if(o!==null)return o;i=i.sibling}return null}var Tc=e.unstable_scheduleCallback,Wa=e.unstable_cancelCallback,zo=e.unstable_shouldYield,qs=e.unstable_requestPaint,Rt=e.unstable_now,jm=e.unstable_getCurrentPriorityLevel,$a=e.unstable_ImmediatePriority,Cc=e.unstable_UserBlockingPriority,Bo=e.unstable_NormalPriority,Ic=e.unstable_LowPriority,Ha=e.unstable_IdlePriority,Wo=null,Kn=null;function kd(i){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(Wo,i,void 0,(i.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:$o,ts=Math.log,mr=Math.LN2;function $o(i){return i>>>=0,i===0?32:31-(ts(i)/mr|0)|0}var ns=64,Pi=4194304;function xt(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Gs(i,o){var u=i.pendingLanes;if(u===0)return 0;var m=0,v=i.suspendedLanes,_=i.pingedLanes,R=u&268435455;if(R!==0){var z=R&~v;z!==0?m=xt(z):(_&=R,_!==0&&(m=xt(_)))}else R=u&~v,R!==0?m=xt(R):_!==0&&(m=xt(_));if(m===0)return 0;if(o!==0&&o!==m&&(o&v)===0&&(v=m&-m,_=o&-o,v>=_||v===16&&(_&4194240)!==0))return o;if((m&4)!==0&&(m|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=m;0<o;)u=31-Yn(o),v=1<<u,m|=i[u],o&=~v;return m}function Ho(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qo(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,v=i.expirationTimes,_=i.pendingLanes;0<_;){var R=31-Yn(_),z=1<<R,$=v[R];$===-1?((z&u)===0||(z&m)!==0)&&(v[R]=Ho(z,o)):$<=o&&(i.expiredLanes|=z),_&=~z}}function kc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Nc(){var i=ns;return ns<<=1,(ns&4194240)===0&&(ns=64),i}function Ac(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Go(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Yn(o),i[o]=u}function Dm(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<u;){var v=31-Yn(u),_=1<<v;o[v]=0,m[v]=-1,i[v]=-1,u&=~_}}function Rc(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-Yn(u),v=1<<m;v&o|i[m]&o&&(i[m]|=o),u&=~v}}var lt=0;function rs(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Pc,qa,jc,Dc,Oc,ss=!1,Ga=[],is=null,os=null,pn=null,Ko=new Map,Ks=new Map,Qn=[],Nd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ji(i,o){switch(i){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":Ko.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(o.pointerId)}}function Rr(i,o,u,m,v,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:_,targetContainers:[v]},o!==null&&(o=Yc(o),o!==null&&qa(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function Ad(i,o,u,m,v){switch(o){case"focusin":return is=Rr(is,i,o,u,m,v),!0;case"dragenter":return os=Rr(os,i,o,u,m,v),!0;case"mouseover":return pn=Rr(pn,i,o,u,m,v),!0;case"pointerover":var _=v.pointerId;return Ko.set(_,Rr(Ko.get(_)||null,i,o,u,m,v)),!0;case"gotpointercapture":return _=v.pointerId,Ks.set(_,Rr(Ks.get(_)||null,i,o,u,m,v)),!0}return!1}function Ka(i){var o=Jo(i.target);if(o!==null){var u=Ar(o);if(u!==null){if(o=u.tag,o===13){if(o=Sc(u),o!==null){i.blockedOn=o,Oc(i.priority,function(){jc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function It(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Ya(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Nr=m,u.target.dispatchEvent(m),Nr=null}else return o=Yc(u),o!==null&&qa(o),i.blockedOn=u,!1;o.shift()}return!0}function Rd(i,o,u){It(i)&&u.delete(o)}function Om(){ss=!1,is!==null&&It(is)&&(is=null),os!==null&&It(os)&&(os=null),pn!==null&&It(pn)&&(pn=null),Ko.forEach(Rd),Ks.forEach(Rd)}function Di(i,o){i.blockedOn===o&&(i.blockedOn=null,ss||(ss=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Om)))}function Oi(i){function o(v){return Di(v,i)}if(0<Ga.length){Di(Ga[0],i);for(var u=1;u<Ga.length;u++){var m=Ga[u];m.blockedOn===i&&(m.blockedOn=null)}}for(is!==null&&Di(is,i),os!==null&&Di(os,i),pn!==null&&Di(pn,i),Ko.forEach(o),Ks.forEach(o),u=0;u<Qn.length;u++)m=Qn[u],m.blockedOn===i&&(m.blockedOn=null);for(;0<Qn.length&&(u=Qn[0],u.blockedOn===null);)Ka(u),u.blockedOn===null&&Qn.shift()}var Ys=B.ReactCurrentBatchConfig,Qs=!0;function as(i,o,u,m){var v=lt,_=Ys.transition;Ys.transition=null;try{lt=1,Mc(i,o,u,m)}finally{lt=v,Ys.transition=_}}function Pd(i,o,u,m){var v=lt,_=Ys.transition;Ys.transition=null;try{lt=4,Mc(i,o,u,m)}finally{lt=v,Ys.transition=_}}function Mc(i,o,u,m){if(Qs){var v=Ya(i,o,u,m);if(v===null)qm(i,o,m,ls,u),ji(i,m);else if(Ad(v,i,o,u,m))m.stopPropagation();else if(ji(i,m),o&4&&-1<Nd.indexOf(i)){for(;v!==null;){var _=Yc(v);if(_!==null&&Pc(_),_=Ya(i,o,u,m),_===null&&qm(i,o,m,ls,u),_===v)break;v=_}v!==null&&m.stopPropagation()}else qm(i,o,m,null,u)}}var ls=null;function Ya(i,o,u,m){if(ls=null,i=Ke(m),i=Jo(i),i!==null)if(o=Ar(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Sc(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return ls=i,null}function Qa(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jm()){case $a:return 1;case Cc:return 4;case Bo:case Ic:return 16;case Ha:return 536870912;default:return 16}default:return 16}}var Xn=null,Xa=null,Xs=null;function jd(){if(Xs)return Xs;var i,o=Xa,u=o.length,m,v="value"in Xn?Xn.value:Xn.textContent,_=v.length;for(i=0;i<u&&o[i]===v[i];i++);var R=u-i;for(m=1;m<=R&&o[u-m]===v[_-m];m++);return Xs=v.slice(i,1<m?1-m:void 0)}function Yo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function cs(){return!0}function Lc(){return!1}function bn(i){function o(u,m,v,_,R){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(u=i[z],this[z]=u?u(_):_[z]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?cs:Lc,this.isPropagationStopped=Lc,this}return se(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),o}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qo=bn(us),Mi=se({},us,{view:0,detail:0}),Ja=bn(Mi),Za,el,Jn,Xo=se({},Mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ye,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Jn&&(Jn&&i.type==="mousemove"?(Za=i.screenX-Jn.screenX,el=i.screenY-Jn.screenY):el=Za=0,Jn=i),Za)},movementY:function(i){return"movementY"in i?i.movementY:el}}),Vc=bn(Xo),Dd=se({},Xo,{dataTransfer:0}),Od=bn(Dd),tl=se({},Mi,{relatedTarget:0}),gn=bn(tl),Md=se({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),Ld=bn(Md),Li=se({},us,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),f=bn(Li),E=se({},us,{data:0}),T=bn(E),L={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pe(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=J[i])?!!o[i]:!1}function Ye(){return pe}var Ht=se({},Mi,{key:function(i){if(i.key){var o=L[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Yo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Y[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ye,charCode:function(i){return i.type==="keypress"?Yo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Yo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),St=bn(Ht),Kt=se({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zn=bn(Kt),Js=se({},Mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ye}),ds=bn(Js),hs=se({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),nl=bn(hs),Fc=se({},Xo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),mN=bn(Fc),pN=[9,13,27,32],Mm=d&&"CompositionEvent"in window,Uc=null;d&&"documentMode"in document&&(Uc=document.documentMode);var gN=d&&"TextEvent"in window&&!Uc,Ew=d&&(!Mm||Uc&&8<Uc&&11>=Uc),bw=" ",Sw=!1;function Tw(i,o){switch(i){case"keyup":return pN.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var rl=!1;function vN(i,o){switch(i){case"compositionend":return Cw(o);case"keypress":return o.which!==32?null:(Sw=!0,bw);case"textInput":return i=o.data,i===bw&&Sw?null:i;default:return null}}function yN(i,o){if(rl)return i==="compositionend"||!Mm&&Tw(i,o)?(i=jd(),Xs=Xa=Xn=null,rl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ew&&o.locale!=="ko"?null:o.data;default:return null}}var wN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iw(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!wN[i.type]:o==="textarea"}function kw(i,o,u,m){Gn(m),o=Bd(o,"onChange"),0<o.length&&(u=new Qo("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var zc=null,Bc=null;function xN(i){qw(i,0)}function Vd(i){var o=ll(i);if(Je(o))return i}function _N(i,o){if(i==="change")return o}var Nw=!1;if(d){var Lm;if(d){var Vm="oninput"in document;if(!Vm){var Aw=document.createElement("div");Aw.setAttribute("oninput","return;"),Vm=typeof Aw.oninput=="function"}Lm=Vm}else Lm=!1;Nw=Lm&&(!document.documentMode||9<document.documentMode)}function Rw(){zc&&(zc.detachEvent("onpropertychange",Pw),Bc=zc=null)}function Pw(i){if(i.propertyName==="value"&&Vd(Bc)){var o=[];kw(o,Bc,i,Ke(i)),za(xN,o)}}function EN(i,o,u){i==="focusin"?(Rw(),zc=o,Bc=u,zc.attachEvent("onpropertychange",Pw)):i==="focusout"&&Rw()}function bN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Vd(Bc)}function SN(i,o){if(i==="click")return Vd(o)}function TN(i,o){if(i==="input"||i==="change")return Vd(o)}function CN(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Pr=typeof Object.is=="function"?Object.is:CN;function Wc(i,o){if(Pr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!h.call(o,v)||!Pr(i[v],o[v]))return!1}return!0}function jw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Dw(i,o){var u=jw(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=jw(u)}}function Ow(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Ow(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Mw(){for(var i=window,o=ce();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=ce(i.document)}return o}function Fm(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function IN(i){var o=Mw(),u=i.focusedElem,m=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Ow(u.ownerDocument.documentElement,u)){if(m!==null&&Fm(u)){if(o=m.start,i=m.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var v=u.textContent.length,_=Math.min(m.start,v);m=m.end===void 0?_:Math.min(m.end,v),!i.extend&&_>m&&(v=m,m=_,_=v),v=Dw(u,_);var R=Dw(u,m);v&&R&&(i.rangeCount!==1||i.anchorNode!==v.node||i.anchorOffset!==v.offset||i.focusNode!==R.node||i.focusOffset!==R.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),i.removeAllRanges(),_>m?(i.addRange(o),i.extend(R.node,R.offset)):(o.setEnd(R.node,R.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var kN=d&&"documentMode"in document&&11>=document.documentMode,sl=null,Um=null,$c=null,zm=!1;function Lw(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;zm||sl==null||sl!==ce(m)||(m=sl,"selectionStart"in m&&Fm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),$c&&Wc($c,m)||($c=m,m=Bd(Um,"onSelect"),0<m.length&&(o=new Qo("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=sl)))}function Fd(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var il={animationend:Fd("Animation","AnimationEnd"),animationiteration:Fd("Animation","AnimationIteration"),animationstart:Fd("Animation","AnimationStart"),transitionend:Fd("Transition","TransitionEnd")},Bm={},Vw={};d&&(Vw=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function Ud(i){if(Bm[i])return Bm[i];if(!il[i])return i;var o=il[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Vw)return Bm[i]=o[u];return i}var Fw=Ud("animationend"),Uw=Ud("animationiteration"),zw=Ud("animationstart"),Bw=Ud("transitionend"),Ww=new Map,$w="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(i,o){Ww.set(i,o),a(o,[i])}for(var Wm=0;Wm<$w.length;Wm++){var $m=$w[Wm],NN=$m.toLowerCase(),AN=$m[0].toUpperCase()+$m.slice(1);Vi(NN,"on"+AN)}Vi(Fw,"onAnimationEnd"),Vi(Uw,"onAnimationIteration"),Vi(zw,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(Bw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hc));function Hw(i,o,u){var m=i.type||"unknown-event";i.currentTarget=u,bc(m,o,void 0,i),i.currentTarget=null}function qw(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],v=m.event;m=m.listeners;e:{var _=void 0;if(o)for(var R=m.length-1;0<=R;R--){var z=m[R],$=z.instance,X=z.currentTarget;if(z=z.listener,$!==_&&v.isPropagationStopped())break e;Hw(v,z,X),_=$}else for(R=0;R<m.length;R++){if(z=m[R],$=z.instance,X=z.currentTarget,z=z.listener,$!==_&&v.isPropagationStopped())break e;Hw(v,z,X),_=$}}}if(Ba)throw i=fr,Ba=!1,fr=null,i}function Pt(i,o){var u=o[Jm];u===void 0&&(u=o[Jm]=new Set);var m=i+"__bubble";u.has(m)||(Gw(o,i,2,!1),u.add(m))}function Hm(i,o,u){var m=0;o&&(m|=4),Gw(u,i,m,o)}var zd="_reactListening"+Math.random().toString(36).slice(2);function qc(i){if(!i[zd]){i[zd]=!0,r.forEach(function(u){u!=="selectionchange"&&(RN.has(u)||Hm(u,!1,i),Hm(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[zd]||(o[zd]=!0,Hm("selectionchange",!1,o))}}function Gw(i,o,u,m){switch(Qa(o)){case 1:var v=as;break;case 4:v=Pd;break;default:v=Mc}u=v.bind(null,o,u,i),v=void 0,!dr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function qm(i,o,u,m,v){var _=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var z=m.stateNode.containerInfo;if(z===v||z.nodeType===8&&z.parentNode===v)break;if(R===4)for(R=m.return;R!==null;){var $=R.tag;if(($===3||$===4)&&($=R.stateNode.containerInfo,$===v||$.nodeType===8&&$.parentNode===v))return;R=R.return}for(;z!==null;){if(R=Jo(z),R===null)return;if($=R.tag,$===5||$===6){m=_=R;continue e}z=z.parentNode}}m=m.return}za(function(){var X=_,ae=Ke(u),ue=[];e:{var ie=Ww.get(i);if(ie!==void 0){var xe=Qo,Se=i;switch(i){case"keypress":if(Yo(u)===0)break e;case"keydown":case"keyup":xe=St;break;case"focusin":Se="focus",xe=gn;break;case"focusout":Se="blur",xe=gn;break;case"beforeblur":case"afterblur":xe=gn;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=Od;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=ds;break;case Fw:case Uw:case zw:xe=Ld;break;case Bw:xe=nl;break;case"scroll":xe=Ja;break;case"wheel":xe=mN;break;case"copy":case"cut":case"paste":xe=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=Zn}var Ie=(o&4)!==0,qt=!Ie&&i==="scroll",K=Ie?ie!==null?ie+"Capture":null:ie;Ie=[];for(var G=X,Q;G!==null;){Q=G;var he=Q.stateNode;if(Q.tag===5&&he!==null&&(Q=he,K!==null&&(he=$s(G,K),he!=null&&Ie.push(Gc(G,he,Q)))),qt)break;G=G.return}0<Ie.length&&(ie=new xe(ie,Se,null,u,ae),ue.push({event:ie,listeners:Ie}))}}if((o&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",xe=i==="mouseout"||i==="pointerout",ie&&u!==Nr&&(Se=u.relatedTarget||u.fromElement)&&(Jo(Se)||Se[Zs]))break e;if((xe||ie)&&(ie=ae.window===ae?ae:(ie=ae.ownerDocument)?ie.defaultView||ie.parentWindow:window,xe?(Se=u.relatedTarget||u.toElement,xe=X,Se=Se?Jo(Se):null,Se!==null&&(qt=Ar(Se),Se!==qt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(xe=null,Se=X),xe!==Se)){if(Ie=Vc,he="onMouseLeave",K="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Ie=Zn,he="onPointerLeave",K="onPointerEnter",G="pointer"),qt=xe==null?ie:ll(xe),Q=Se==null?ie:ll(Se),ie=new Ie(he,G+"leave",xe,u,ae),ie.target=qt,ie.relatedTarget=Q,he=null,Jo(ae)===X&&(Ie=new Ie(K,G+"enter",Se,u,ae),Ie.target=Q,Ie.relatedTarget=qt,he=Ie),qt=he,xe&&Se)t:{for(Ie=xe,K=Se,G=0,Q=Ie;Q;Q=ol(Q))G++;for(Q=0,he=K;he;he=ol(he))Q++;for(;0<G-Q;)Ie=ol(Ie),G--;for(;0<Q-G;)K=ol(K),Q--;for(;G--;){if(Ie===K||K!==null&&Ie===K.alternate)break t;Ie=ol(Ie),K=ol(K)}Ie=null}else Ie=null;xe!==null&&Kw(ue,ie,xe,Ie,!1),Se!==null&&qt!==null&&Kw(ue,qt,Se,Ie,!0)}}e:{if(ie=X?ll(X):window,xe=ie.nodeName&&ie.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ie.type==="file")var Ne=_N;else if(Iw(ie))if(Nw)Ne=TN;else{Ne=bN;var Ve=EN}else(xe=ie.nodeName)&&xe.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Ne=SN);if(Ne&&(Ne=Ne(i,X))){kw(ue,Ne,u,ae);break e}Ve&&Ve(i,ie,X),i==="focusout"&&(Ve=ie._wrapperState)&&Ve.controlled&&ie.type==="number"&&tt(ie,"number",ie.value)}switch(Ve=X?ll(X):window,i){case"focusin":(Iw(Ve)||Ve.contentEditable==="true")&&(sl=Ve,Um=X,$c=null);break;case"focusout":$c=Um=sl=null;break;case"mousedown":zm=!0;break;case"contextmenu":case"mouseup":case"dragend":zm=!1,Lw(ue,u,ae);break;case"selectionchange":if(kN)break;case"keydown":case"keyup":Lw(ue,u,ae)}var Fe;if(Mm)e:{switch(i){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else rl?Tw(i,u)&&(He="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(He="onCompositionStart");He&&(Ew&&u.locale!=="ko"&&(rl||He!=="onCompositionStart"?He==="onCompositionEnd"&&rl&&(Fe=jd()):(Xn=ae,Xa="value"in Xn?Xn.value:Xn.textContent,rl=!0)),Ve=Bd(X,He),0<Ve.length&&(He=new T(He,i,null,u,ae),ue.push({event:He,listeners:Ve}),Fe?He.data=Fe:(Fe=Cw(u),Fe!==null&&(He.data=Fe)))),(Fe=gN?vN(i,u):yN(i,u))&&(X=Bd(X,"onBeforeInput"),0<X.length&&(ae=new T("onBeforeInput","beforeinput",null,u,ae),ue.push({event:ae,listeners:X}),ae.data=Fe))}qw(ue,o)})}function Gc(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Bd(i,o){for(var u=o+"Capture",m=[];i!==null;){var v=i,_=v.stateNode;v.tag===5&&_!==null&&(v=_,_=$s(i,u),_!=null&&m.unshift(Gc(i,_,v)),_=$s(i,o),_!=null&&m.push(Gc(i,_,v))),i=i.return}return m}function ol(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Kw(i,o,u,m,v){for(var _=o._reactName,R=[];u!==null&&u!==m;){var z=u,$=z.alternate,X=z.stateNode;if($!==null&&$===m)break;z.tag===5&&X!==null&&(z=X,v?($=$s(u,_),$!=null&&R.unshift(Gc(u,$,z))):v||($=$s(u,_),$!=null&&R.push(Gc(u,$,z)))),u=u.return}R.length!==0&&i.push({event:o,listeners:R})}var PN=/\r\n?/g,jN=/\u0000|\uFFFD/g;function Yw(i){return(typeof i=="string"?i:""+i).replace(PN,`
`).replace(jN,"")}function Wd(i,o,u){if(o=Yw(o),Yw(i)!==o&&u)throw Error(n(425))}function $d(){}var Gm=null,Km=null;function Ym(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Qm=typeof setTimeout=="function"?setTimeout:void 0,DN=typeof clearTimeout=="function"?clearTimeout:void 0,Qw=typeof Promise=="function"?Promise:void 0,ON=typeof queueMicrotask=="function"?queueMicrotask:typeof Qw<"u"?function(i){return Qw.resolve(null).then(i).catch(MN)}:Qm;function MN(i){setTimeout(function(){throw i})}function Xm(i,o){var u=o,m=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(m===0){i.removeChild(v),Oi(o);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=v}while(u);Oi(o)}function Fi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Xw(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var al=Math.random().toString(36).slice(2),fs="__reactFiber$"+al,Kc="__reactProps$"+al,Zs="__reactContainer$"+al,Jm="__reactEvents$"+al,LN="__reactListeners$"+al,VN="__reactHandles$"+al;function Jo(i){var o=i[fs];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Zs]||u[fs]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Xw(i);i!==null;){if(u=i[fs])return u;i=Xw(i)}return o}i=u,u=i.parentNode}return null}function Yc(i){return i=i[fs]||i[Zs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ll(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Hd(i){return i[Kc]||null}var Zm=[],cl=-1;function Ui(i){return{current:i}}function jt(i){0>cl||(i.current=Zm[cl],Zm[cl]=null,cl--)}function kt(i,o){cl++,Zm[cl]=i.current,i.current=o}var zi={},Sn=Ui(zi),Vn=Ui(!1),Zo=zi;function ul(i,o){var u=i.type.contextTypes;if(!u)return zi;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var v={},_;for(_ in u)v[_]=o[_];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=v),v}function Fn(i){return i=i.childContextTypes,i!=null}function qd(){jt(Vn),jt(Sn)}function Jw(i,o,u){if(Sn.current!==zi)throw Error(n(168));kt(Sn,o),kt(Vn,u)}function Zw(i,o,u){var m=i.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var v in m)if(!(v in o))throw Error(n(108,le(i)||"Unknown",v));return se({},u,m)}function Gd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||zi,Zo=Sn.current,kt(Sn,i),kt(Vn,Vn.current),!0}function ex(i,o,u){var m=i.stateNode;if(!m)throw Error(n(169));u?(i=Zw(i,o,Zo),m.__reactInternalMemoizedMergedChildContext=i,jt(Vn),jt(Sn),kt(Sn,i)):jt(Vn),kt(Vn,u)}var ei=null,Kd=!1,ep=!1;function tx(i){ei===null?ei=[i]:ei.push(i)}function FN(i){Kd=!0,tx(i)}function Bi(){if(!ep&&ei!==null){ep=!0;var i=0,o=lt;try{var u=ei;for(lt=1;i<u.length;i++){var m=u[i];do m=m(!0);while(m!==null)}ei=null,Kd=!1}catch(v){throw ei!==null&&(ei=ei.slice(i+1)),Tc($a,Bi),v}finally{lt=o,ep=!1}}return null}var dl=[],hl=0,Yd=null,Qd=0,pr=[],gr=0,ea=null,ti=1,ni="";function ta(i,o){dl[hl++]=Qd,dl[hl++]=Yd,Yd=i,Qd=o}function nx(i,o,u){pr[gr++]=ti,pr[gr++]=ni,pr[gr++]=ea,ea=i;var m=ti;i=ni;var v=32-Yn(m)-1;m&=~(1<<v),u+=1;var _=32-Yn(o)+v;if(30<_){var R=v-v%5;_=(m&(1<<R)-1).toString(32),m>>=R,v-=R,ti=1<<32-Yn(o)+v|u<<v|m,ni=_+i}else ti=1<<_|u<<v|m,ni=i}function tp(i){i.return!==null&&(ta(i,1),nx(i,1,0))}function np(i){for(;i===Yd;)Yd=dl[--hl],dl[hl]=null,Qd=dl[--hl],dl[hl]=null;for(;i===ea;)ea=pr[--gr],pr[gr]=null,ni=pr[--gr],pr[gr]=null,ti=pr[--gr],pr[gr]=null}var er=null,tr=null,Ot=!1,jr=null;function rx(i,o){var u=xr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function sx(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,er=i,tr=Fi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,er=i,tr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=ea!==null?{id:ti,overflow:ni}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=xr(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,er=i,tr=null,!0):!1;default:return!1}}function rp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function sp(i){if(Ot){var o=tr;if(o){var u=o;if(!sx(i,o)){if(rp(i))throw Error(n(418));o=Fi(u.nextSibling);var m=er;o&&sx(i,o)?rx(m,u):(i.flags=i.flags&-4097|2,Ot=!1,er=i)}}else{if(rp(i))throw Error(n(418));i.flags=i.flags&-4097|2,Ot=!1,er=i}}}function ix(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;er=i}function Xd(i){if(i!==er)return!1;if(!Ot)return ix(i),Ot=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Ym(i.type,i.memoizedProps)),o&&(o=tr)){if(rp(i))throw ox(),Error(n(418));for(;o;)rx(i,o),o=Fi(o.nextSibling)}if(ix(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){tr=Fi(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}tr=null}}else tr=er?Fi(i.stateNode.nextSibling):null;return!0}function ox(){for(var i=tr;i;)i=Fi(i.nextSibling)}function fl(){tr=er=null,Ot=!1}function ip(i){jr===null?jr=[i]:jr.push(i)}var UN=B.ReactCurrentBatchConfig;function Qc(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var m=u.stateNode}if(!m)throw Error(n(147,i));var v=m,_=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(R){var z=v.refs;R===null?delete z[_]:z[_]=R},o._stringRef=_,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Jd(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function ax(i){var o=i._init;return o(i._payload)}function lx(i){function o(K,G){if(i){var Q=K.deletions;Q===null?(K.deletions=[G],K.flags|=16):Q.push(G)}}function u(K,G){if(!i)return null;for(;G!==null;)o(K,G),G=G.sibling;return null}function m(K,G){for(K=new Map;G!==null;)G.key!==null?K.set(G.key,G):K.set(G.index,G),G=G.sibling;return K}function v(K,G){return K=Qi(K,G),K.index=0,K.sibling=null,K}function _(K,G,Q){return K.index=Q,i?(Q=K.alternate,Q!==null?(Q=Q.index,Q<G?(K.flags|=2,G):Q):(K.flags|=2,G)):(K.flags|=1048576,G)}function R(K){return i&&K.alternate===null&&(K.flags|=2),K}function z(K,G,Q,he){return G===null||G.tag!==6?(G=Qp(Q,K.mode,he),G.return=K,G):(G=v(G,Q),G.return=K,G)}function $(K,G,Q,he){var Ne=Q.type;return Ne===I?ae(K,G,Q.props.children,he,Q.key):G!==null&&(G.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===me&&ax(Ne)===G.type)?(he=v(G,Q.props),he.ref=Qc(K,G,Q),he.return=K,he):(he=Eh(Q.type,Q.key,Q.props,null,K.mode,he),he.ref=Qc(K,G,Q),he.return=K,he)}function X(K,G,Q,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=Xp(Q,K.mode,he),G.return=K,G):(G=v(G,Q.children||[]),G.return=K,G)}function ae(K,G,Q,he,Ne){return G===null||G.tag!==7?(G=ca(Q,K.mode,he,Ne),G.return=K,G):(G=v(G,Q),G.return=K,G)}function ue(K,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number")return G=Qp(""+G,K.mode,Q),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case D:return Q=Eh(G.type,G.key,G.props,null,K.mode,Q),Q.ref=Qc(K,null,G),Q.return=K,Q;case W:return G=Xp(G,K.mode,Q),G.return=K,G;case me:var he=G._init;return ue(K,he(G._payload),Q)}if(_t(G)||re(G))return G=ca(G,K.mode,Q,null),G.return=K,G;Jd(K,G)}return null}function ie(K,G,Q,he){var Ne=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ne!==null?null:z(K,G,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return Q.key===Ne?$(K,G,Q,he):null;case W:return Q.key===Ne?X(K,G,Q,he):null;case me:return Ne=Q._init,ie(K,G,Ne(Q._payload),he)}if(_t(Q)||re(Q))return Ne!==null?null:ae(K,G,Q,he,null);Jd(K,Q)}return null}function xe(K,G,Q,he,Ne){if(typeof he=="string"&&he!==""||typeof he=="number")return K=K.get(Q)||null,z(G,K,""+he,Ne);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case D:return K=K.get(he.key===null?Q:he.key)||null,$(G,K,he,Ne);case W:return K=K.get(he.key===null?Q:he.key)||null,X(G,K,he,Ne);case me:var Ve=he._init;return xe(K,G,Q,Ve(he._payload),Ne)}if(_t(he)||re(he))return K=K.get(Q)||null,ae(G,K,he,Ne,null);Jd(G,he)}return null}function Se(K,G,Q,he){for(var Ne=null,Ve=null,Fe=G,He=G=0,hn=null;Fe!==null&&He<Q.length;He++){Fe.index>He?(hn=Fe,Fe=null):hn=Fe.sibling;var yt=ie(K,Fe,Q[He],he);if(yt===null){Fe===null&&(Fe=hn);break}i&&Fe&&yt.alternate===null&&o(K,Fe),G=_(yt,G,He),Ve===null?Ne=yt:Ve.sibling=yt,Ve=yt,Fe=hn}if(He===Q.length)return u(K,Fe),Ot&&ta(K,He),Ne;if(Fe===null){for(;He<Q.length;He++)Fe=ue(K,Q[He],he),Fe!==null&&(G=_(Fe,G,He),Ve===null?Ne=Fe:Ve.sibling=Fe,Ve=Fe);return Ot&&ta(K,He),Ne}for(Fe=m(K,Fe);He<Q.length;He++)hn=xe(Fe,K,He,Q[He],he),hn!==null&&(i&&hn.alternate!==null&&Fe.delete(hn.key===null?He:hn.key),G=_(hn,G,He),Ve===null?Ne=hn:Ve.sibling=hn,Ve=hn);return i&&Fe.forEach(function(Xi){return o(K,Xi)}),Ot&&ta(K,He),Ne}function Ie(K,G,Q,he){var Ne=re(Q);if(typeof Ne!="function")throw Error(n(150));if(Q=Ne.call(Q),Q==null)throw Error(n(151));for(var Ve=Ne=null,Fe=G,He=G=0,hn=null,yt=Q.next();Fe!==null&&!yt.done;He++,yt=Q.next()){Fe.index>He?(hn=Fe,Fe=null):hn=Fe.sibling;var Xi=ie(K,Fe,yt.value,he);if(Xi===null){Fe===null&&(Fe=hn);break}i&&Fe&&Xi.alternate===null&&o(K,Fe),G=_(Xi,G,He),Ve===null?Ne=Xi:Ve.sibling=Xi,Ve=Xi,Fe=hn}if(yt.done)return u(K,Fe),Ot&&ta(K,He),Ne;if(Fe===null){for(;!yt.done;He++,yt=Q.next())yt=ue(K,yt.value,he),yt!==null&&(G=_(yt,G,He),Ve===null?Ne=yt:Ve.sibling=yt,Ve=yt);return Ot&&ta(K,He),Ne}for(Fe=m(K,Fe);!yt.done;He++,yt=Q.next())yt=xe(Fe,K,He,yt.value,he),yt!==null&&(i&&yt.alternate!==null&&Fe.delete(yt.key===null?He:yt.key),G=_(yt,G,He),Ve===null?Ne=yt:Ve.sibling=yt,Ve=yt);return i&&Fe.forEach(function(wA){return o(K,wA)}),Ot&&ta(K,He),Ne}function qt(K,G,Q,he){if(typeof Q=="object"&&Q!==null&&Q.type===I&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:e:{for(var Ne=Q.key,Ve=G;Ve!==null;){if(Ve.key===Ne){if(Ne=Q.type,Ne===I){if(Ve.tag===7){u(K,Ve.sibling),G=v(Ve,Q.props.children),G.return=K,K=G;break e}}else if(Ve.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===me&&ax(Ne)===Ve.type){u(K,Ve.sibling),G=v(Ve,Q.props),G.ref=Qc(K,Ve,Q),G.return=K,K=G;break e}u(K,Ve);break}else o(K,Ve);Ve=Ve.sibling}Q.type===I?(G=ca(Q.props.children,K.mode,he,Q.key),G.return=K,K=G):(he=Eh(Q.type,Q.key,Q.props,null,K.mode,he),he.ref=Qc(K,G,Q),he.return=K,K=he)}return R(K);case W:e:{for(Ve=Q.key;G!==null;){if(G.key===Ve)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){u(K,G.sibling),G=v(G,Q.children||[]),G.return=K,K=G;break e}else{u(K,G);break}else o(K,G);G=G.sibling}G=Xp(Q,K.mode,he),G.return=K,K=G}return R(K);case me:return Ve=Q._init,qt(K,G,Ve(Q._payload),he)}if(_t(Q))return Se(K,G,Q,he);if(re(Q))return Ie(K,G,Q,he);Jd(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,G!==null&&G.tag===6?(u(K,G.sibling),G=v(G,Q),G.return=K,K=G):(u(K,G),G=Qp(Q,K.mode,he),G.return=K,K=G),R(K)):u(K,G)}return qt}var ml=lx(!0),cx=lx(!1),Zd=Ui(null),eh=null,pl=null,op=null;function ap(){op=pl=eh=null}function lp(i){var o=Zd.current;jt(Zd),i._currentValue=o}function cp(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function gl(i,o){eh=i,op=pl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Un=!0),i.firstContext=null)}function vr(i){var o=i._currentValue;if(op!==i)if(i={context:i,memoizedValue:o,next:null},pl===null){if(eh===null)throw Error(n(308));pl=i,eh.dependencies={lanes:0,firstContext:i}}else pl=pl.next=i;return o}var na=null;function up(i){na===null?na=[i]:na.push(i)}function ux(i,o,u,m){var v=o.interleaved;return v===null?(u.next=u,up(o)):(u.next=v.next,v.next=u),o.interleaved=u,ri(i,m)}function ri(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Wi=!1;function dp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dx(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function si(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function $i(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(gt&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,ri(i,u)}return v=m.interleaved,v===null?(o.next=o,up(m)):(o.next=v.next,v.next=o),m.interleaved=o,ri(i,u)}function th(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,Rc(i,u)}}function hx(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var R={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?v=_=R:_=_.next=R,u=u.next}while(u!==null);_===null?v=_=o:_=_.next=o}else v=_=o;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:m.shared,effects:m.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function nh(i,o,u,m){var v=i.updateQueue;Wi=!1;var _=v.firstBaseUpdate,R=v.lastBaseUpdate,z=v.shared.pending;if(z!==null){v.shared.pending=null;var $=z,X=$.next;$.next=null,R===null?_=X:R.next=X,R=$;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,z=ae.lastBaseUpdate,z!==R&&(z===null?ae.firstBaseUpdate=X:z.next=X,ae.lastBaseUpdate=$))}if(_!==null){var ue=v.baseState;R=0,ae=X=$=null,z=_;do{var ie=z.lane,xe=z.eventTime;if((m&ie)===ie){ae!==null&&(ae=ae.next={eventTime:xe,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Se=i,Ie=z;switch(ie=o,xe=u,Ie.tag){case 1:if(Se=Ie.payload,typeof Se=="function"){ue=Se.call(xe,ue,ie);break e}ue=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ie.payload,ie=typeof Se=="function"?Se.call(xe,ue,ie):Se,ie==null)break e;ue=se({},ue,ie);break e;case 2:Wi=!0}}z.callback!==null&&z.lane!==0&&(i.flags|=64,ie=v.effects,ie===null?v.effects=[z]:ie.push(z))}else xe={eventTime:xe,lane:ie,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ae===null?(X=ae=xe,$=ue):ae=ae.next=xe,R|=ie;if(z=z.next,z===null){if(z=v.shared.pending,z===null)break;ie=z,z=ie.next,ie.next=null,v.lastBaseUpdate=ie,v.shared.pending=null}}while(!0);if(ae===null&&($=ue),v.baseState=$,v.firstBaseUpdate=X,v.lastBaseUpdate=ae,o=v.shared.interleaved,o!==null){v=o;do R|=v.lane,v=v.next;while(v!==o)}else _===null&&(v.shared.lanes=0);ia|=R,i.lanes=R,i.memoizedState=ue}}function fx(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var m=i[o],v=m.callback;if(v!==null){if(m.callback=null,m=u,typeof v!="function")throw Error(n(191,v));v.call(m)}}}var Xc={},ms=Ui(Xc),Jc=Ui(Xc),Zc=Ui(Xc);function ra(i){if(i===Xc)throw Error(n(174));return i}function hp(i,o){switch(kt(Zc,o),kt(Jc,i),kt(ms,Xc),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ni(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Ni(o,i)}jt(ms),kt(ms,o)}function vl(){jt(ms),jt(Jc),jt(Zc)}function mx(i){ra(Zc.current);var o=ra(ms.current),u=Ni(o,i.type);o!==u&&(kt(Jc,i),kt(ms,u))}function fp(i){Jc.current===i&&(jt(ms),jt(Jc))}var Lt=Ui(0);function rh(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var mp=[];function pp(){for(var i=0;i<mp.length;i++)mp[i]._workInProgressVersionPrimary=null;mp.length=0}var sh=B.ReactCurrentDispatcher,gp=B.ReactCurrentBatchConfig,sa=0,Vt=null,Zt=null,un=null,ih=!1,eu=!1,tu=0,zN=0;function Tn(){throw Error(n(321))}function vp(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Pr(i[u],o[u]))return!1;return!0}function yp(i,o,u,m,v,_){if(sa=_,Vt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,sh.current=i===null||i.memoizedState===null?HN:qN,i=u(m,v),eu){_=0;do{if(eu=!1,tu=0,25<=_)throw Error(n(301));_+=1,un=Zt=null,o.updateQueue=null,sh.current=GN,i=u(m,v)}while(eu)}if(sh.current=lh,o=Zt!==null&&Zt.next!==null,sa=0,un=Zt=Vt=null,ih=!1,o)throw Error(n(300));return i}function wp(){var i=tu!==0;return tu=0,i}function ps(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Vt.memoizedState=un=i:un=un.next=i,un}function yr(){if(Zt===null){var i=Vt.alternate;i=i!==null?i.memoizedState:null}else i=Zt.next;var o=un===null?Vt.memoizedState:un.next;if(o!==null)un=o,Zt=i;else{if(i===null)throw Error(n(310));Zt=i,i={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},un===null?Vt.memoizedState=un=i:un=un.next=i}return un}function nu(i,o){return typeof o=="function"?o(i):o}function xp(i){var o=yr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=Zt,v=m.baseQueue,_=u.pending;if(_!==null){if(v!==null){var R=v.next;v.next=_.next,_.next=R}m.baseQueue=v=_,u.pending=null}if(v!==null){_=v.next,m=m.baseState;var z=R=null,$=null,X=_;do{var ae=X.lane;if((sa&ae)===ae)$!==null&&($=$.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),m=X.hasEagerState?X.eagerState:i(m,X.action);else{var ue={lane:ae,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};$===null?(z=$=ue,R=m):$=$.next=ue,Vt.lanes|=ae,ia|=ae}X=X.next}while(X!==null&&X!==_);$===null?R=m:$.next=z,Pr(m,o.memoizedState)||(Un=!0),o.memoizedState=m,o.baseState=R,o.baseQueue=$,u.lastRenderedState=m}if(i=u.interleaved,i!==null){v=i;do _=v.lane,Vt.lanes|=_,ia|=_,v=v.next;while(v!==i)}else v===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function _p(i){var o=yr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=u.dispatch,v=u.pending,_=o.memoizedState;if(v!==null){u.pending=null;var R=v=v.next;do _=i(_,R.action),R=R.next;while(R!==v);Pr(_,o.memoizedState)||(Un=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,m]}function px(){}function gx(i,o){var u=Vt,m=yr(),v=o(),_=!Pr(m.memoizedState,v);if(_&&(m.memoizedState=v,Un=!0),m=m.queue,Ep(wx.bind(null,u,m,i),[i]),m.getSnapshot!==o||_||un!==null&&un.memoizedState.tag&1){if(u.flags|=2048,ru(9,yx.bind(null,u,m,v,o),void 0,null),dn===null)throw Error(n(349));(sa&30)!==0||vx(u,o,v)}return v}function vx(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Vt.updateQueue,o===null?(o={lastEffect:null,stores:null},Vt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function yx(i,o,u,m){o.value=u,o.getSnapshot=m,xx(o)&&_x(i)}function wx(i,o,u){return u(function(){xx(o)&&_x(i)})}function xx(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Pr(i,u)}catch{return!0}}function _x(i){var o=ri(i,1);o!==null&&Lr(o,i,1,-1)}function Ex(i){var o=ps();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:i},o.queue=i,i=i.dispatch=$N.bind(null,Vt,i),[o.memoizedState,i]}function ru(i,o,u,m){return i={tag:i,create:o,destroy:u,deps:m,next:null},o=Vt.updateQueue,o===null?(o={lastEffect:null,stores:null},Vt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i)),i}function bx(){return yr().memoizedState}function oh(i,o,u,m){var v=ps();Vt.flags|=i,v.memoizedState=ru(1|o,u,void 0,m===void 0?null:m)}function ah(i,o,u,m){var v=yr();m=m===void 0?null:m;var _=void 0;if(Zt!==null){var R=Zt.memoizedState;if(_=R.destroy,m!==null&&vp(m,R.deps)){v.memoizedState=ru(o,u,_,m);return}}Vt.flags|=i,v.memoizedState=ru(1|o,u,_,m)}function Sx(i,o){return oh(8390656,8,i,o)}function Ep(i,o){return ah(2048,8,i,o)}function Tx(i,o){return ah(4,2,i,o)}function Cx(i,o){return ah(4,4,i,o)}function Ix(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function kx(i,o,u){return u=u!=null?u.concat([i]):null,ah(4,4,Ix.bind(null,o,i),u)}function bp(){}function Nx(i,o){var u=yr();o=o===void 0?null:o;var m=u.memoizedState;return m!==null&&o!==null&&vp(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function Ax(i,o){var u=yr();o=o===void 0?null:o;var m=u.memoizedState;return m!==null&&o!==null&&vp(o,m[1])?m[0]:(i=i(),u.memoizedState=[i,o],i)}function Rx(i,o,u){return(sa&21)===0?(i.baseState&&(i.baseState=!1,Un=!0),i.memoizedState=u):(Pr(u,o)||(u=Nc(),Vt.lanes|=u,ia|=u,i.baseState=!0),o)}function BN(i,o){var u=lt;lt=u!==0&&4>u?u:4,i(!0);var m=gp.transition;gp.transition={};try{i(!1),o()}finally{lt=u,gp.transition=m}}function Px(){return yr().memoizedState}function WN(i,o,u){var m=Ki(i);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},jx(i))Dx(o,u);else if(u=ux(i,o,u,m),u!==null){var v=On();Lr(u,i,m,v),Ox(u,o,m)}}function $N(i,o,u){var m=Ki(i),v={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(jx(i))Dx(o,v);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var R=o.lastRenderedState,z=_(R,u);if(v.hasEagerState=!0,v.eagerState=z,Pr(z,R)){var $=o.interleaved;$===null?(v.next=v,up(o)):(v.next=$.next,$.next=v),o.interleaved=v;return}}catch{}finally{}u=ux(i,o,v,m),u!==null&&(v=On(),Lr(u,i,m,v),Ox(u,o,m))}}function jx(i){var o=i.alternate;return i===Vt||o!==null&&o===Vt}function Dx(i,o){eu=ih=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Ox(i,o,u){if((u&4194240)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,Rc(i,u)}}var lh={readContext:vr,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},HN={readContext:vr,useCallback:function(i,o){return ps().memoizedState=[i,o===void 0?null:o],i},useContext:vr,useEffect:Sx,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,oh(4194308,4,Ix.bind(null,o,i),u)},useLayoutEffect:function(i,o){return oh(4194308,4,i,o)},useInsertionEffect:function(i,o){return oh(4,2,i,o)},useMemo:function(i,o){var u=ps();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var m=ps();return o=u!==void 0?u(o):o,m.memoizedState=m.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},m.queue=i,i=i.dispatch=WN.bind(null,Vt,i),[m.memoizedState,i]},useRef:function(i){var o=ps();return i={current:i},o.memoizedState=i},useState:Ex,useDebugValue:bp,useDeferredValue:function(i){return ps().memoizedState=i},useTransition:function(){var i=Ex(!1),o=i[0];return i=BN.bind(null,i[1]),ps().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var m=Vt,v=ps();if(Ot){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),dn===null)throw Error(n(349));(sa&30)!==0||vx(m,o,u)}v.memoizedState=u;var _={value:u,getSnapshot:o};return v.queue=_,Sx(wx.bind(null,m,_,i),[i]),m.flags|=2048,ru(9,yx.bind(null,m,_,u,o),void 0,null),u},useId:function(){var i=ps(),o=dn.identifierPrefix;if(Ot){var u=ni,m=ti;u=(m&~(1<<32-Yn(m)-1)).toString(32)+u,o=":"+o+"R"+u,u=tu++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=zN++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},qN={readContext:vr,useCallback:Nx,useContext:vr,useEffect:Ep,useImperativeHandle:kx,useInsertionEffect:Tx,useLayoutEffect:Cx,useMemo:Ax,useReducer:xp,useRef:bx,useState:function(){return xp(nu)},useDebugValue:bp,useDeferredValue:function(i){var o=yr();return Rx(o,Zt.memoizedState,i)},useTransition:function(){var i=xp(nu)[0],o=yr().memoizedState;return[i,o]},useMutableSource:px,useSyncExternalStore:gx,useId:Px,unstable_isNewReconciler:!1},GN={readContext:vr,useCallback:Nx,useContext:vr,useEffect:Ep,useImperativeHandle:kx,useInsertionEffect:Tx,useLayoutEffect:Cx,useMemo:Ax,useReducer:_p,useRef:bx,useState:function(){return _p(nu)},useDebugValue:bp,useDeferredValue:function(i){var o=yr();return Zt===null?o.memoizedState=i:Rx(o,Zt.memoizedState,i)},useTransition:function(){var i=_p(nu)[0],o=yr().memoizedState;return[i,o]},useMutableSource:px,useSyncExternalStore:gx,useId:Px,unstable_isNewReconciler:!1};function Dr(i,o){if(i&&i.defaultProps){o=se({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Sp(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:se({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var ch={isMounted:function(i){return(i=i._reactInternals)?Ar(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var m=On(),v=Ki(i),_=si(m,v);_.payload=o,u!=null&&(_.callback=u),o=$i(i,_,v),o!==null&&(Lr(o,i,v,m),th(o,i,v))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=On(),v=Ki(i),_=si(m,v);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=$i(i,_,v),o!==null&&(Lr(o,i,v,m),th(o,i,v))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=On(),m=Ki(i),v=si(u,m);v.tag=2,o!=null&&(v.callback=o),o=$i(i,v,m),o!==null&&(Lr(o,i,m,u),th(o,i,m))}};function Mx(i,o,u,m,v,_,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,_,R):o.prototype&&o.prototype.isPureReactComponent?!Wc(u,m)||!Wc(v,_):!0}function Lx(i,o,u){var m=!1,v=zi,_=o.contextType;return typeof _=="object"&&_!==null?_=vr(_):(v=Fn(o)?Zo:Sn.current,m=o.contextTypes,_=(m=m!=null)?ul(i,v):zi),o=new o(u,_),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ch,i.stateNode=o,o._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=_),o}function Vx(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&ch.enqueueReplaceState(o,o.state,null)}function Tp(i,o,u,m){var v=i.stateNode;v.props=u,v.state=i.memoizedState,v.refs={},dp(i);var _=o.contextType;typeof _=="object"&&_!==null?v.context=vr(_):(_=Fn(o)?Zo:Sn.current,v.context=ul(i,_)),v.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Sp(i,o,_,u),v.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(o=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),o!==v.state&&ch.enqueueReplaceState(v,v.state,null),nh(i,u,v,m),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function yl(i,o){try{var u="",m=o;do u+=Me(m),m=m.return;while(m);var v=u}catch(_){v=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:o,stack:v,digest:null}}function Cp(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Ip(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var KN=typeof WeakMap=="function"?WeakMap:Map;function Fx(i,o,u){u=si(-1,u),u.tag=3,u.payload={element:null};var m=o.value;return u.callback=function(){gh||(gh=!0,Bp=m),Ip(i,o)},u}function Ux(i,o,u){u=si(-1,u),u.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var v=o.value;u.payload=function(){return m(v)},u.callback=function(){Ip(i,o)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){Ip(i,o),typeof m!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})}),u}function zx(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new KN;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(u)||(v.add(u),i=lA.bind(null,i,o,u),o.then(i,i))}function Bx(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Wx(i,o,u,m,v){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=si(-1,1),o.tag=2,$i(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=v,i)}var YN=B.ReactCurrentOwner,Un=!1;function Dn(i,o,u,m){o.child=i===null?cx(o,null,u,m):ml(o,i.child,u,m)}function $x(i,o,u,m,v){u=u.render;var _=o.ref;return gl(o,v),m=yp(i,o,u,m,_,v),u=wp(),i!==null&&!Un?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~v,ii(i,o,v)):(Ot&&u&&tp(o),o.flags|=1,Dn(i,o,m,v),o.child)}function Hx(i,o,u,m,v){if(i===null){var _=u.type;return typeof _=="function"&&!Yp(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=_,qx(i,o,_,m,v)):(i=Eh(u.type,null,m,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,(i.lanes&v)===0){var R=_.memoizedProps;if(u=u.compare,u=u!==null?u:Wc,u(R,m)&&i.ref===o.ref)return ii(i,o,v)}return o.flags|=1,i=Qi(_,m),i.ref=o.ref,i.return=o,o.child=i}function qx(i,o,u,m,v){if(i!==null){var _=i.memoizedProps;if(Wc(_,m)&&i.ref===o.ref)if(Un=!1,o.pendingProps=m=_,(i.lanes&v)!==0)(i.flags&131072)!==0&&(Un=!0);else return o.lanes=i.lanes,ii(i,o,v)}return kp(i,o,u,m,v)}function Gx(i,o,u){var m=o.pendingProps,v=m.children,_=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(xl,nr),nr|=u;else{if((u&1073741824)===0)return i=_!==null?_.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,kt(xl,nr),nr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=_!==null?_.baseLanes:u,kt(xl,nr),nr|=m}else _!==null?(m=_.baseLanes|u,o.memoizedState=null):m=u,kt(xl,nr),nr|=m;return Dn(i,o,v,u),o.child}function Kx(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function kp(i,o,u,m,v){var _=Fn(u)?Zo:Sn.current;return _=ul(o,_),gl(o,v),u=yp(i,o,u,m,_,v),m=wp(),i!==null&&!Un?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~v,ii(i,o,v)):(Ot&&m&&tp(o),o.flags|=1,Dn(i,o,u,v),o.child)}function Yx(i,o,u,m,v){if(Fn(u)){var _=!0;Gd(o)}else _=!1;if(gl(o,v),o.stateNode===null)dh(i,o),Lx(o,u,m),Tp(o,u,m,v),m=!0;else if(i===null){var R=o.stateNode,z=o.memoizedProps;R.props=z;var $=R.context,X=u.contextType;typeof X=="object"&&X!==null?X=vr(X):(X=Fn(u)?Zo:Sn.current,X=ul(o,X));var ae=u.getDerivedStateFromProps,ue=typeof ae=="function"||typeof R.getSnapshotBeforeUpdate=="function";ue||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(z!==m||$!==X)&&Vx(o,R,m,X),Wi=!1;var ie=o.memoizedState;R.state=ie,nh(o,m,R,v),$=o.memoizedState,z!==m||ie!==$||Vn.current||Wi?(typeof ae=="function"&&(Sp(o,u,ae,m),$=o.memoizedState),(z=Wi||Mx(o,u,z,m,ie,$,X))?(ue||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(o.flags|=4194308)):(typeof R.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=$),R.props=m,R.state=$,R.context=X,m=z):(typeof R.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{R=o.stateNode,dx(i,o),z=o.memoizedProps,X=o.type===o.elementType?z:Dr(o.type,z),R.props=X,ue=o.pendingProps,ie=R.context,$=u.contextType,typeof $=="object"&&$!==null?$=vr($):($=Fn(u)?Zo:Sn.current,$=ul(o,$));var xe=u.getDerivedStateFromProps;(ae=typeof xe=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(z!==ue||ie!==$)&&Vx(o,R,m,$),Wi=!1,ie=o.memoizedState,R.state=ie,nh(o,m,R,v);var Se=o.memoizedState;z!==ue||ie!==Se||Vn.current||Wi?(typeof xe=="function"&&(Sp(o,u,xe,m),Se=o.memoizedState),(X=Wi||Mx(o,u,X,m,ie,Se,$)||!1)?(ae||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,Se,$),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,Se,$)),typeof R.componentDidUpdate=="function"&&(o.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof R.componentDidUpdate!="function"||z===i.memoizedProps&&ie===i.memoizedState||(o.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&ie===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=Se),R.props=m,R.state=Se,R.context=$,m=X):(typeof R.componentDidUpdate!="function"||z===i.memoizedProps&&ie===i.memoizedState||(o.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&ie===i.memoizedState||(o.flags|=1024),m=!1)}return Np(i,o,u,m,_,v)}function Np(i,o,u,m,v,_){Kx(i,o);var R=(o.flags&128)!==0;if(!m&&!R)return v&&ex(o,u,!1),ii(i,o,_);m=o.stateNode,YN.current=o;var z=R&&typeof u.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,i!==null&&R?(o.child=ml(o,i.child,null,_),o.child=ml(o,null,z,_)):Dn(i,o,z,_),o.memoizedState=m.state,v&&ex(o,u,!0),o.child}function Qx(i){var o=i.stateNode;o.pendingContext?Jw(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Jw(i,o.context,!1),hp(i,o.containerInfo)}function Xx(i,o,u,m,v){return fl(),ip(v),o.flags|=256,Dn(i,o,u,m),o.child}var Ap={dehydrated:null,treeContext:null,retryLane:0};function Rp(i){return{baseLanes:i,cachePool:null,transitions:null}}function Jx(i,o,u){var m=o.pendingProps,v=Lt.current,_=!1,R=(o.flags&128)!==0,z;if((z=R)||(z=i!==null&&i.memoizedState===null?!1:(v&2)!==0),z?(_=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),kt(Lt,v&1),i===null)return sp(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(R=m.children,i=m.fallback,_?(m=o.mode,_=o.child,R={mode:"hidden",children:R},(m&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=R):_=bh(R,m,0,null),i=ca(i,m,u,null),_.return=o,i.return=o,_.sibling=i,o.child=_,o.child.memoizedState=Rp(u),o.memoizedState=Ap,i):Pp(o,R));if(v=i.memoizedState,v!==null&&(z=v.dehydrated,z!==null))return QN(i,o,R,m,z,v,u);if(_){_=m.fallback,R=o.mode,v=i.child,z=v.sibling;var $={mode:"hidden",children:m.children};return(R&1)===0&&o.child!==v?(m=o.child,m.childLanes=0,m.pendingProps=$,o.deletions=null):(m=Qi(v,$),m.subtreeFlags=v.subtreeFlags&14680064),z!==null?_=Qi(z,_):(_=ca(_,R,u,null),_.flags|=2),_.return=o,m.return=o,m.sibling=_,o.child=m,m=_,_=o.child,R=i.child.memoizedState,R=R===null?Rp(u):{baseLanes:R.baseLanes|u,cachePool:null,transitions:R.transitions},_.memoizedState=R,_.childLanes=i.childLanes&~u,o.memoizedState=Ap,m}return _=i.child,i=_.sibling,m=Qi(_,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=u),m.return=o,m.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=m,o.memoizedState=null,m}function Pp(i,o){return o=bh({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function uh(i,o,u,m){return m!==null&&ip(m),ml(o,i.child,null,u),i=Pp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function QN(i,o,u,m,v,_,R){if(u)return o.flags&256?(o.flags&=-257,m=Cp(Error(n(422))),uh(i,o,R,m)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(_=m.fallback,v=o.mode,m=bh({mode:"visible",children:m.children},v,0,null),_=ca(_,v,R,null),_.flags|=2,m.return=o,_.return=o,m.sibling=_,o.child=m,(o.mode&1)!==0&&ml(o,i.child,null,R),o.child.memoizedState=Rp(R),o.memoizedState=Ap,_);if((o.mode&1)===0)return uh(i,o,R,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var z=m.dgst;return m=z,_=Error(n(419)),m=Cp(_,m,void 0),uh(i,o,R,m)}if(z=(R&i.childLanes)!==0,Un||z){if(m=dn,m!==null){switch(R&-R){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(m.suspendedLanes|R))!==0?0:v,v!==0&&v!==_.retryLane&&(_.retryLane=v,ri(i,v),Lr(m,i,v,-1))}return Kp(),m=Cp(Error(n(421))),uh(i,o,R,m)}return v.data==="$?"?(o.flags|=128,o.child=i.child,o=cA.bind(null,i),v._reactRetry=o,null):(i=_.treeContext,tr=Fi(v.nextSibling),er=o,Ot=!0,jr=null,i!==null&&(pr[gr++]=ti,pr[gr++]=ni,pr[gr++]=ea,ti=i.id,ni=i.overflow,ea=o),o=Pp(o,m.children),o.flags|=4096,o)}function Zx(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),cp(i.return,o,u)}function jp(i,o,u,m,v){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=m,_.tail=u,_.tailMode=v)}function e_(i,o,u){var m=o.pendingProps,v=m.revealOrder,_=m.tail;if(Dn(i,o,m.children,u),m=Lt.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Zx(i,u,o);else if(i.tag===19)Zx(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(kt(Lt,m),(o.mode&1)===0)o.memoizedState=null;else switch(v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&rh(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),jp(o,!1,v,u,_);break;case"backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&rh(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}jp(o,!0,u,null,_);break;case"together":jp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function dh(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ii(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),ia|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Qi(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Qi(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function XN(i,o,u){switch(o.tag){case 3:Qx(o),fl();break;case 5:mx(o);break;case 1:Fn(o.type)&&Gd(o);break;case 4:hp(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,v=o.memoizedProps.value;kt(Zd,m._currentValue),m._currentValue=v;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(kt(Lt,Lt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Jx(i,o,u):(kt(Lt,Lt.current&1),i=ii(i,o,u),i!==null?i.sibling:null);kt(Lt,Lt.current&1);break;case 19:if(m=(u&o.childLanes)!==0,(i.flags&128)!==0){if(m)return e_(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),kt(Lt,Lt.current),m)break;return null;case 22:case 23:return o.lanes=0,Gx(i,o,u)}return ii(i,o,u)}var t_,Dp,n_,r_;t_=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Dp=function(){},n_=function(i,o,u,m){var v=i.memoizedProps;if(v!==m){i=o.stateNode,ra(ms.current);var _=null;switch(u){case"input":v=Re(i,v),m=Re(i,m),_=[];break;case"select":v=se({},v,{value:void 0}),m=se({},m,{value:void 0}),_=[];break;case"textarea":v=kr(i,v),m=kr(i,m),_=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=$d)}Ln(u,m);var R;u=null;for(X in v)if(!m.hasOwnProperty(X)&&v.hasOwnProperty(X)&&v[X]!=null)if(X==="style"){var z=v[X];for(R in z)z.hasOwnProperty(R)&&(u||(u={}),u[R]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(s.hasOwnProperty(X)?_||(_=[]):(_=_||[]).push(X,null));for(X in m){var $=m[X];if(z=v!=null?v[X]:void 0,m.hasOwnProperty(X)&&$!==z&&($!=null||z!=null))if(X==="style")if(z){for(R in z)!z.hasOwnProperty(R)||$&&$.hasOwnProperty(R)||(u||(u={}),u[R]="");for(R in $)$.hasOwnProperty(R)&&z[R]!==$[R]&&(u||(u={}),u[R]=$[R])}else u||(_||(_=[]),_.push(X,u)),u=$;else X==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,z=z?z.__html:void 0,$!=null&&z!==$&&(_=_||[]).push(X,$)):X==="children"?typeof $!="string"&&typeof $!="number"||(_=_||[]).push(X,""+$):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(s.hasOwnProperty(X)?($!=null&&X==="onScroll"&&Pt("scroll",i),_||z===$||(_=[])):(_=_||[]).push(X,$))}u&&(_=_||[]).push("style",u);var X=_;(o.updateQueue=X)&&(o.flags|=4)}},r_=function(i,o,u,m){u!==m&&(o.flags|=4)};function su(i,o){if(!Ot)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Cn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function JN(i,o,u){var m=o.pendingProps;switch(np(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(o),null;case 1:return Fn(o.type)&&qd(),Cn(o),null;case 3:return m=o.stateNode,vl(),jt(Vn),jt(Sn),pp(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Xd(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,jr!==null&&(Hp(jr),jr=null))),Dp(i,o),Cn(o),null;case 5:fp(o);var v=ra(Zc.current);if(u=o.type,i!==null&&o.stateNode!=null)n_(i,o,u,m,v),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Cn(o),null}if(i=ra(ms.current),Xd(o)){m=o.stateNode,u=o.type;var _=o.memoizedProps;switch(m[fs]=o,m[Kc]=_,i=(o.mode&1)!==0,u){case"dialog":Pt("cancel",m),Pt("close",m);break;case"iframe":case"object":case"embed":Pt("load",m);break;case"video":case"audio":for(v=0;v<Hc.length;v++)Pt(Hc[v],m);break;case"source":Pt("error",m);break;case"img":case"image":case"link":Pt("error",m),Pt("load",m);break;case"details":Pt("toggle",m);break;case"input":pt(m,_),Pt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!_.multiple},Pt("invalid",m);break;case"textarea":cr(m,_),Pt("invalid",m)}Ln(u,_),v=null;for(var R in _)if(_.hasOwnProperty(R)){var z=_[R];R==="children"?typeof z=="string"?m.textContent!==z&&(_.suppressHydrationWarning!==!0&&Wd(m.textContent,z,i),v=["children",z]):typeof z=="number"&&m.textContent!==""+z&&(_.suppressHydrationWarning!==!0&&Wd(m.textContent,z,i),v=["children",""+z]):s.hasOwnProperty(R)&&z!=null&&R==="onScroll"&&Pt("scroll",m)}switch(u){case"input":Xe(m),Jt(m,_,!0);break;case"textarea":Xe(m),Qr(m);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(m.onclick=$d)}m=v,o.updateQueue=m,m!==null&&(o.flags|=4)}else{R=v.nodeType===9?v:v.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Vo(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=R.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=R.createElement(u,{is:m.is}):(i=R.createElement(u),u==="select"&&(R=i,m.multiple?R.multiple=!0:m.size&&(R.size=m.size))):i=R.createElementNS(i,u),i[fs]=o,i[Kc]=m,t_(i,o,!1,!1),o.stateNode=i;e:{switch(R=Ri(u,m),u){case"dialog":Pt("cancel",i),Pt("close",i),v=m;break;case"iframe":case"object":case"embed":Pt("load",i),v=m;break;case"video":case"audio":for(v=0;v<Hc.length;v++)Pt(Hc[v],i);v=m;break;case"source":Pt("error",i),v=m;break;case"img":case"image":case"link":Pt("error",i),Pt("load",i),v=m;break;case"details":Pt("toggle",i),v=m;break;case"input":pt(i,m),v=Re(i,m),Pt("invalid",i);break;case"option":v=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},v=se({},m,{value:void 0}),Pt("invalid",i);break;case"textarea":cr(i,m),v=kr(i,m),Pt("invalid",i);break;default:v=m}Ln(u,v),z=v;for(_ in z)if(z.hasOwnProperty(_)){var $=z[_];_==="style"?Ai(i,$):_==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Fa(i,$)):_==="children"?typeof $=="string"?(u!=="textarea"||$!=="")&&Ws(i,$):typeof $=="number"&&Ws(i,""+$):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?$!=null&&_==="onScroll"&&Pt("scroll",i):$!=null&&j(i,_,$,R))}switch(u){case"input":Xe(i),Jt(i,m,!1);break;case"textarea":Xe(i),Qr(i);break;case"option":m.value!=null&&i.setAttribute("value",""+Ee(m.value));break;case"select":i.multiple=!!m.multiple,_=m.value,_!=null?Nt(i,!!m.multiple,_,!1):m.defaultValue!=null&&Nt(i,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(i.onclick=$d)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Cn(o),null;case 6:if(i&&o.stateNode!=null)r_(i,o,i.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(u=ra(Zc.current),ra(ms.current),Xd(o)){if(m=o.stateNode,u=o.memoizedProps,m[fs]=o,(_=m.nodeValue!==u)&&(i=er,i!==null))switch(i.tag){case 3:Wd(m.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Wd(m.nodeValue,u,(i.mode&1)!==0)}_&&(o.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[fs]=o,o.stateNode=m}return Cn(o),null;case 13:if(jt(Lt),m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ot&&tr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)ox(),fl(),o.flags|=98560,_=!1;else if(_=Xd(o),m!==null&&m.dehydrated!==null){if(i===null){if(!_)throw Error(n(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[fs]=o}else fl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Cn(o),_=!1}else jr!==null&&(Hp(jr),jr=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Lt.current&1)!==0?en===0&&(en=3):Kp())),o.updateQueue!==null&&(o.flags|=4),Cn(o),null);case 4:return vl(),Dp(i,o),i===null&&qc(o.stateNode.containerInfo),Cn(o),null;case 10:return lp(o.type._context),Cn(o),null;case 17:return Fn(o.type)&&qd(),Cn(o),null;case 19:if(jt(Lt),_=o.memoizedState,_===null)return Cn(o),null;if(m=(o.flags&128)!==0,R=_.rendering,R===null)if(m)su(_,!1);else{if(en!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(R=rh(i),R!==null){for(o.flags|=128,su(_,!1),m=R.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=u,u=o.child;u!==null;)_=u,i=m,_.flags&=14680066,R=_.alternate,R===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=R.childLanes,_.lanes=R.lanes,_.child=R.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=R.memoizedProps,_.memoizedState=R.memoizedState,_.updateQueue=R.updateQueue,_.type=R.type,i=R.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return kt(Lt,Lt.current&1|2),o.child}i=i.sibling}_.tail!==null&&Rt()>_l&&(o.flags|=128,m=!0,su(_,!1),o.lanes=4194304)}else{if(!m)if(i=rh(R),i!==null){if(o.flags|=128,m=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),su(_,!0),_.tail===null&&_.tailMode==="hidden"&&!R.alternate&&!Ot)return Cn(o),null}else 2*Rt()-_.renderingStartTime>_l&&u!==1073741824&&(o.flags|=128,m=!0,su(_,!1),o.lanes=4194304);_.isBackwards?(R.sibling=o.child,o.child=R):(u=_.last,u!==null?u.sibling=R:o.child=R,_.last=R)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=Rt(),o.sibling=null,u=Lt.current,kt(Lt,m?u&1|2:u&1),o):(Cn(o),null);case 22:case 23:return Gp(),m=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(nr&1073741824)!==0&&(Cn(o),o.subtreeFlags&6&&(o.flags|=8192)):Cn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function ZN(i,o){switch(np(o),o.tag){case 1:return Fn(o.type)&&qd(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return vl(),jt(Vn),jt(Sn),pp(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return fp(o),null;case 13:if(jt(Lt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));fl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return jt(Lt),null;case 4:return vl(),null;case 10:return lp(o.type._context),null;case 22:case 23:return Gp(),null;case 24:return null;default:return null}}var hh=!1,In=!1,eA=typeof WeakSet=="function"?WeakSet:Set,be=null;function wl(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){$t(i,o,m)}else u.current=null}function Op(i,o,u){try{u()}catch(m){$t(i,o,m)}}var s_=!1;function tA(i,o){if(Gm=Qs,i=Mw(),Fm(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var R=0,z=-1,$=-1,X=0,ae=0,ue=i,ie=null;t:for(;;){for(var xe;ue!==u||v!==0&&ue.nodeType!==3||(z=R+v),ue!==_||m!==0&&ue.nodeType!==3||($=R+m),ue.nodeType===3&&(R+=ue.nodeValue.length),(xe=ue.firstChild)!==null;)ie=ue,ue=xe;for(;;){if(ue===i)break t;if(ie===u&&++X===v&&(z=R),ie===_&&++ae===m&&($=R),(xe=ue.nextSibling)!==null)break;ue=ie,ie=ue.parentNode}ue=xe}u=z===-1||$===-1?null:{start:z,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(Km={focusedElem:i,selectionRange:u},Qs=!1,be=o;be!==null;)if(o=be,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,be=i;else for(;be!==null;){o=be;try{var Se=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ie=Se.memoizedProps,qt=Se.memoizedState,K=o.stateNode,G=K.getSnapshotBeforeUpdate(o.elementType===o.type?Ie:Dr(o.type,Ie),qt);K.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){$t(o,o.return,he)}if(i=o.sibling,i!==null){i.return=o.return,be=i;break}be=o.return}return Se=s_,s_=!1,Se}function iu(i,o,u){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&i)===i){var _=v.destroy;v.destroy=void 0,_!==void 0&&Op(o,u,_)}v=v.next}while(v!==m)}}function fh(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var m=u.create;u.destroy=m()}u=u.next}while(u!==o)}}function Mp(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function i_(i){var o=i.alternate;o!==null&&(i.alternate=null,i_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[fs],delete o[Kc],delete o[Jm],delete o[LN],delete o[VN])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function o_(i){return i.tag===5||i.tag===3||i.tag===4}function a_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||o_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Lp(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=$d));else if(m!==4&&(i=i.child,i!==null))for(Lp(i,o,u),i=i.sibling;i!==null;)Lp(i,o,u),i=i.sibling}function Vp(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(Vp(i,o,u),i=i.sibling;i!==null;)Vp(i,o,u),i=i.sibling}var vn=null,Or=!1;function Hi(i,o,u){for(u=u.child;u!==null;)l_(i,o,u),u=u.sibling}function l_(i,o,u){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(Wo,u)}catch{}switch(u.tag){case 5:In||wl(u,o);case 6:var m=vn,v=Or;vn=null,Hi(i,o,u),vn=m,Or=v,vn!==null&&(Or?(i=vn,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):vn.removeChild(u.stateNode));break;case 18:vn!==null&&(Or?(i=vn,u=u.stateNode,i.nodeType===8?Xm(i.parentNode,u):i.nodeType===1&&Xm(i,u),Oi(i)):Xm(vn,u.stateNode));break;case 4:m=vn,v=Or,vn=u.stateNode.containerInfo,Or=!0,Hi(i,o,u),vn=m,Or=v;break;case 0:case 11:case 14:case 15:if(!In&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var _=v,R=_.destroy;_=_.tag,R!==void 0&&((_&2)!==0||(_&4)!==0)&&Op(u,o,R),v=v.next}while(v!==m)}Hi(i,o,u);break;case 1:if(!In&&(wl(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(z){$t(u,o,z)}Hi(i,o,u);break;case 21:Hi(i,o,u);break;case 22:u.mode&1?(In=(m=In)||u.memoizedState!==null,Hi(i,o,u),In=m):Hi(i,o,u);break;default:Hi(i,o,u)}}function c_(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new eA),o.forEach(function(m){var v=uA.bind(null,i,m);u.has(m)||(u.add(m),m.then(v,v))})}}function Mr(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m];try{var _=i,R=o,z=R;e:for(;z!==null;){switch(z.tag){case 5:vn=z.stateNode,Or=!1;break e;case 3:vn=z.stateNode.containerInfo,Or=!0;break e;case 4:vn=z.stateNode.containerInfo,Or=!0;break e}z=z.return}if(vn===null)throw Error(n(160));l_(_,R,v),vn=null,Or=!1;var $=v.alternate;$!==null&&($.return=null),v.return=null}catch(X){$t(v,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)u_(o,i),o=o.sibling}function u_(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Mr(o,i),gs(i),m&4){try{iu(3,i,i.return),fh(3,i)}catch(Ie){$t(i,i.return,Ie)}try{iu(5,i,i.return)}catch(Ie){$t(i,i.return,Ie)}}break;case 1:Mr(o,i),gs(i),m&512&&u!==null&&wl(u,u.return);break;case 5:if(Mr(o,i),gs(i),m&512&&u!==null&&wl(u,u.return),i.flags&32){var v=i.stateNode;try{Ws(v,"")}catch(Ie){$t(i,i.return,Ie)}}if(m&4&&(v=i.stateNode,v!=null)){var _=i.memoizedProps,R=u!==null?u.memoizedProps:_,z=i.type,$=i.updateQueue;if(i.updateQueue=null,$!==null)try{z==="input"&&_.type==="radio"&&_.name!=null&&ct(v,_),Ri(z,R);var X=Ri(z,_);for(R=0;R<$.length;R+=2){var ae=$[R],ue=$[R+1];ae==="style"?Ai(v,ue):ae==="dangerouslySetInnerHTML"?Fa(v,ue):ae==="children"?Ws(v,ue):j(v,ae,ue,X)}switch(z){case"input":vt(v,_);break;case"textarea":ki(v,_);break;case"select":var ie=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!_.multiple;var xe=_.value;xe!=null?Nt(v,!!_.multiple,xe,!1):ie!==!!_.multiple&&(_.defaultValue!=null?Nt(v,!!_.multiple,_.defaultValue,!0):Nt(v,!!_.multiple,_.multiple?[]:"",!1))}v[Kc]=_}catch(Ie){$t(i,i.return,Ie)}}break;case 6:if(Mr(o,i),gs(i),m&4){if(i.stateNode===null)throw Error(n(162));v=i.stateNode,_=i.memoizedProps;try{v.nodeValue=_}catch(Ie){$t(i,i.return,Ie)}}break;case 3:if(Mr(o,i),gs(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Oi(o.containerInfo)}catch(Ie){$t(i,i.return,Ie)}break;case 4:Mr(o,i),gs(i);break;case 13:Mr(o,i),gs(i),v=i.child,v.flags&8192&&(_=v.memoizedState!==null,v.stateNode.isHidden=_,!_||v.alternate!==null&&v.alternate.memoizedState!==null||(zp=Rt())),m&4&&c_(i);break;case 22:if(ae=u!==null&&u.memoizedState!==null,i.mode&1?(In=(X=In)||ae,Mr(o,i),In=X):Mr(o,i),gs(i),m&8192){if(X=i.memoizedState!==null,(i.stateNode.isHidden=X)&&!ae&&(i.mode&1)!==0)for(be=i,ae=i.child;ae!==null;){for(ue=be=ae;be!==null;){switch(ie=be,xe=ie.child,ie.tag){case 0:case 11:case 14:case 15:iu(4,ie,ie.return);break;case 1:wl(ie,ie.return);var Se=ie.stateNode;if(typeof Se.componentWillUnmount=="function"){m=ie,u=ie.return;try{o=m,Se.props=o.memoizedProps,Se.state=o.memoizedState,Se.componentWillUnmount()}catch(Ie){$t(m,u,Ie)}}break;case 5:wl(ie,ie.return);break;case 22:if(ie.memoizedState!==null){f_(ue);continue}}xe!==null?(xe.return=ie,be=xe):f_(ue)}ae=ae.sibling}e:for(ae=null,ue=i;;){if(ue.tag===5){if(ae===null){ae=ue;try{v=ue.stateNode,X?(_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(z=ue.stateNode,$=ue.memoizedProps.style,R=$!=null&&$.hasOwnProperty("display")?$.display:null,z.style.display=Zr("display",R))}catch(Ie){$t(i,i.return,Ie)}}}else if(ue.tag===6){if(ae===null)try{ue.stateNode.nodeValue=X?"":ue.memoizedProps}catch(Ie){$t(i,i.return,Ie)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===i)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===i)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===i)break e;ae===ue&&(ae=null),ue=ue.return}ae===ue&&(ae=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Mr(o,i),gs(i),m&4&&c_(i);break;case 21:break;default:Mr(o,i),gs(i)}}function gs(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(o_(u)){var m=u;break e}u=u.return}throw Error(n(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(Ws(v,""),m.flags&=-33);var _=a_(i);Vp(i,_,v);break;case 3:case 4:var R=m.stateNode.containerInfo,z=a_(i);Lp(i,z,R);break;default:throw Error(n(161))}}catch($){$t(i,i.return,$)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function nA(i,o,u){be=i,d_(i)}function d_(i,o,u){for(var m=(i.mode&1)!==0;be!==null;){var v=be,_=v.child;if(v.tag===22&&m){var R=v.memoizedState!==null||hh;if(!R){var z=v.alternate,$=z!==null&&z.memoizedState!==null||In;z=hh;var X=In;if(hh=R,(In=$)&&!X)for(be=v;be!==null;)R=be,$=R.child,R.tag===22&&R.memoizedState!==null?m_(v):$!==null?($.return=R,be=$):m_(v);for(;_!==null;)be=_,d_(_),_=_.sibling;be=v,hh=z,In=X}h_(i)}else(v.subtreeFlags&8772)!==0&&_!==null?(_.return=v,be=_):h_(i)}}function h_(i){for(;be!==null;){var o=be;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:In||fh(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!In)if(u===null)m.componentDidMount();else{var v=o.elementType===o.type?u.memoizedProps:Dr(o.type,u.memoizedProps);m.componentDidUpdate(v,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&fx(o,_,m);break;case 3:var R=o.updateQueue;if(R!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}fx(o,R,u)}break;case 5:var z=o.stateNode;if(u===null&&o.flags&4){u=z;var $=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&u.focus();break;case"img":$.src&&(u.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var ae=X.memoizedState;if(ae!==null){var ue=ae.dehydrated;ue!==null&&Oi(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}In||o.flags&512&&Mp(o)}catch(ie){$t(o,o.return,ie)}}if(o===i){be=null;break}if(u=o.sibling,u!==null){u.return=o.return,be=u;break}be=o.return}}function f_(i){for(;be!==null;){var o=be;if(o===i){be=null;break}var u=o.sibling;if(u!==null){u.return=o.return,be=u;break}be=o.return}}function m_(i){for(;be!==null;){var o=be;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{fh(4,o)}catch($){$t(o,u,$)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var v=o.return;try{m.componentDidMount()}catch($){$t(o,v,$)}}var _=o.return;try{Mp(o)}catch($){$t(o,_,$)}break;case 5:var R=o.return;try{Mp(o)}catch($){$t(o,R,$)}}}catch($){$t(o,o.return,$)}if(o===i){be=null;break}var z=o.sibling;if(z!==null){z.return=o.return,be=z;break}be=o.return}}var rA=Math.ceil,mh=B.ReactCurrentDispatcher,Fp=B.ReactCurrentOwner,wr=B.ReactCurrentBatchConfig,gt=0,dn=null,Yt=null,yn=0,nr=0,xl=Ui(0),en=0,ou=null,ia=0,ph=0,Up=0,au=null,zn=null,zp=0,_l=1/0,oi=null,gh=!1,Bp=null,qi=null,vh=!1,Gi=null,yh=0,lu=0,Wp=null,wh=-1,xh=0;function On(){return(gt&6)!==0?Rt():wh!==-1?wh:wh=Rt()}function Ki(i){return(i.mode&1)===0?1:(gt&2)!==0&&yn!==0?yn&-yn:UN.transition!==null?(xh===0&&(xh=Nc()),xh):(i=lt,i!==0||(i=window.event,i=i===void 0?16:Qa(i.type)),i)}function Lr(i,o,u,m){if(50<lu)throw lu=0,Wp=null,Error(n(185));Go(i,u,m),((gt&2)===0||i!==dn)&&(i===dn&&((gt&2)===0&&(ph|=u),en===4&&Yi(i,yn)),Bn(i,m),u===1&&gt===0&&(o.mode&1)===0&&(_l=Rt()+500,Kd&&Bi()))}function Bn(i,o){var u=i.callbackNode;qo(i,o);var m=Gs(i,i===dn?yn:0);if(m===0)u!==null&&Wa(u),i.callbackNode=null,i.callbackPriority=0;else if(o=m&-m,i.callbackPriority!==o){if(u!=null&&Wa(u),o===1)i.tag===0?FN(g_.bind(null,i)):tx(g_.bind(null,i)),ON(function(){(gt&6)===0&&Bi()}),u=null;else{switch(rs(m)){case 1:u=$a;break;case 4:u=Cc;break;case 16:u=Bo;break;case 536870912:u=Ha;break;default:u=Bo}u=S_(u,p_.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function p_(i,o){if(wh=-1,xh=0,(gt&6)!==0)throw Error(n(327));var u=i.callbackNode;if(El()&&i.callbackNode!==u)return null;var m=Gs(i,i===dn?yn:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||o)o=_h(i,m);else{o=m;var v=gt;gt|=2;var _=y_();(dn!==i||yn!==o)&&(oi=null,_l=Rt()+500,aa(i,o));do try{oA();break}catch(z){v_(i,z)}while(!0);ap(),mh.current=_,gt=v,Yt!==null?o=0:(dn=null,yn=0,o=en)}if(o!==0){if(o===2&&(v=kc(i),v!==0&&(m=v,o=$p(i,v))),o===1)throw u=ou,aa(i,0),Yi(i,m),Bn(i,Rt()),u;if(o===6)Yi(i,m);else{if(v=i.current.alternate,(m&30)===0&&!sA(v)&&(o=_h(i,m),o===2&&(_=kc(i),_!==0&&(m=_,o=$p(i,_))),o===1))throw u=ou,aa(i,0),Yi(i,m),Bn(i,Rt()),u;switch(i.finishedWork=v,i.finishedLanes=m,o){case 0:case 1:throw Error(n(345));case 2:la(i,zn,oi);break;case 3:if(Yi(i,m),(m&130023424)===m&&(o=zp+500-Rt(),10<o)){if(Gs(i,0)!==0)break;if(v=i.suspendedLanes,(v&m)!==m){On(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=Qm(la.bind(null,i,zn,oi),o);break}la(i,zn,oi);break;case 4:if(Yi(i,m),(m&4194240)===m)break;for(o=i.eventTimes,v=-1;0<m;){var R=31-Yn(m);_=1<<R,R=o[R],R>v&&(v=R),m&=~_}if(m=v,m=Rt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*rA(m/1960))-m,10<m){i.timeoutHandle=Qm(la.bind(null,i,zn,oi),m);break}la(i,zn,oi);break;case 5:la(i,zn,oi);break;default:throw Error(n(329))}}}return Bn(i,Rt()),i.callbackNode===u?p_.bind(null,i):null}function $p(i,o){var u=au;return i.current.memoizedState.isDehydrated&&(aa(i,o).flags|=256),i=_h(i,o),i!==2&&(o=zn,zn=u,o!==null&&Hp(o)),i}function Hp(i){zn===null?zn=i:zn.push.apply(zn,i)}function sA(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var v=u[m],_=v.getSnapshot;v=v.value;try{if(!Pr(_(),v))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Yi(i,o){for(o&=~Up,o&=~ph,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-Yn(o),m=1<<u;i[u]=-1,o&=~m}}function g_(i){if((gt&6)!==0)throw Error(n(327));El();var o=Gs(i,0);if((o&1)===0)return Bn(i,Rt()),null;var u=_h(i,o);if(i.tag!==0&&u===2){var m=kc(i);m!==0&&(o=m,u=$p(i,m))}if(u===1)throw u=ou,aa(i,0),Yi(i,o),Bn(i,Rt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,la(i,zn,oi),Bn(i,Rt()),null}function qp(i,o){var u=gt;gt|=1;try{return i(o)}finally{gt=u,gt===0&&(_l=Rt()+500,Kd&&Bi())}}function oa(i){Gi!==null&&Gi.tag===0&&(gt&6)===0&&El();var o=gt;gt|=1;var u=wr.transition,m=lt;try{if(wr.transition=null,lt=1,i)return i()}finally{lt=m,wr.transition=u,gt=o,(gt&6)===0&&Bi()}}function Gp(){nr=xl.current,jt(xl)}function aa(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,DN(u)),Yt!==null)for(u=Yt.return;u!==null;){var m=u;switch(np(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&qd();break;case 3:vl(),jt(Vn),jt(Sn),pp();break;case 5:fp(m);break;case 4:vl();break;case 13:jt(Lt);break;case 19:jt(Lt);break;case 10:lp(m.type._context);break;case 22:case 23:Gp()}u=u.return}if(dn=i,Yt=i=Qi(i.current,null),yn=nr=o,en=0,ou=null,Up=ph=ia=0,zn=au=null,na!==null){for(o=0;o<na.length;o++)if(u=na[o],m=u.interleaved,m!==null){u.interleaved=null;var v=m.next,_=u.pending;if(_!==null){var R=_.next;_.next=v,m.next=R}u.pending=m}na=null}return i}function v_(i,o){do{var u=Yt;try{if(ap(),sh.current=lh,ih){for(var m=Vt.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}ih=!1}if(sa=0,un=Zt=Vt=null,eu=!1,tu=0,Fp.current=null,u===null||u.return===null){en=1,ou=o,Yt=null;break}e:{var _=i,R=u.return,z=u,$=o;if(o=yn,z.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var X=$,ae=z,ue=ae.tag;if((ae.mode&1)===0&&(ue===0||ue===11||ue===15)){var ie=ae.alternate;ie?(ae.updateQueue=ie.updateQueue,ae.memoizedState=ie.memoizedState,ae.lanes=ie.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var xe=Bx(R);if(xe!==null){xe.flags&=-257,Wx(xe,R,z,_,o),xe.mode&1&&zx(_,X,o),o=xe,$=X;var Se=o.updateQueue;if(Se===null){var Ie=new Set;Ie.add($),o.updateQueue=Ie}else Se.add($);break e}else{if((o&1)===0){zx(_,X,o),Kp();break e}$=Error(n(426))}}else if(Ot&&z.mode&1){var qt=Bx(R);if(qt!==null){(qt.flags&65536)===0&&(qt.flags|=256),Wx(qt,R,z,_,o),ip(yl($,z));break e}}_=$=yl($,z),en!==4&&(en=2),au===null?au=[_]:au.push(_),_=R;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var K=Fx(_,$,o);hx(_,K);break e;case 1:z=$;var G=_.type,Q=_.stateNode;if((_.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(qi===null||!qi.has(Q)))){_.flags|=65536,o&=-o,_.lanes|=o;var he=Ux(_,z,o);hx(_,he);break e}}_=_.return}while(_!==null)}x_(u)}catch(Ne){o=Ne,Yt===u&&u!==null&&(Yt=u=u.return);continue}break}while(!0)}function y_(){var i=mh.current;return mh.current=lh,i===null?lh:i}function Kp(){(en===0||en===3||en===2)&&(en=4),dn===null||(ia&268435455)===0&&(ph&268435455)===0||Yi(dn,yn)}function _h(i,o){var u=gt;gt|=2;var m=y_();(dn!==i||yn!==o)&&(oi=null,aa(i,o));do try{iA();break}catch(v){v_(i,v)}while(!0);if(ap(),gt=u,mh.current=m,Yt!==null)throw Error(n(261));return dn=null,yn=0,en}function iA(){for(;Yt!==null;)w_(Yt)}function oA(){for(;Yt!==null&&!zo();)w_(Yt)}function w_(i){var o=b_(i.alternate,i,nr);i.memoizedProps=i.pendingProps,o===null?x_(i):Yt=o,Fp.current=null}function x_(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=JN(u,o,nr),u!==null){Yt=u;return}}else{if(u=ZN(u,o),u!==null){u.flags&=32767,Yt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{en=6,Yt=null;return}}if(o=o.sibling,o!==null){Yt=o;return}Yt=o=i}while(o!==null);en===0&&(en=5)}function la(i,o,u){var m=lt,v=wr.transition;try{wr.transition=null,lt=1,aA(i,o,u,m)}finally{wr.transition=v,lt=m}return null}function aA(i,o,u,m){do El();while(Gi!==null);if((gt&6)!==0)throw Error(n(327));u=i.finishedWork;var v=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var _=u.lanes|u.childLanes;if(Dm(i,_),i===dn&&(Yt=dn=null,yn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||vh||(vh=!0,S_(Bo,function(){return El(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=wr.transition,wr.transition=null;var R=lt;lt=1;var z=gt;gt|=4,Fp.current=null,tA(i,u),u_(u,i),IN(Km),Qs=!!Gm,Km=Gm=null,i.current=u,nA(u),qs(),gt=z,lt=R,wr.transition=_}else i.current=u;if(vh&&(vh=!1,Gi=i,yh=v),_=i.pendingLanes,_===0&&(qi=null),kd(u.stateNode),Bn(i,Rt()),o!==null)for(m=i.onRecoverableError,u=0;u<o.length;u++)v=o[u],m(v.value,{componentStack:v.stack,digest:v.digest});if(gh)throw gh=!1,i=Bp,Bp=null,i;return(yh&1)!==0&&i.tag!==0&&El(),_=i.pendingLanes,(_&1)!==0?i===Wp?lu++:(lu=0,Wp=i):lu=0,Bi(),null}function El(){if(Gi!==null){var i=rs(yh),o=wr.transition,u=lt;try{if(wr.transition=null,lt=16>i?16:i,Gi===null)var m=!1;else{if(i=Gi,Gi=null,yh=0,(gt&6)!==0)throw Error(n(331));var v=gt;for(gt|=4,be=i.current;be!==null;){var _=be,R=_.child;if((be.flags&16)!==0){var z=_.deletions;if(z!==null){for(var $=0;$<z.length;$++){var X=z[$];for(be=X;be!==null;){var ae=be;switch(ae.tag){case 0:case 11:case 15:iu(8,ae,_)}var ue=ae.child;if(ue!==null)ue.return=ae,be=ue;else for(;be!==null;){ae=be;var ie=ae.sibling,xe=ae.return;if(i_(ae),ae===X){be=null;break}if(ie!==null){ie.return=xe,be=ie;break}be=xe}}}var Se=_.alternate;if(Se!==null){var Ie=Se.child;if(Ie!==null){Se.child=null;do{var qt=Ie.sibling;Ie.sibling=null,Ie=qt}while(Ie!==null)}}be=_}}if((_.subtreeFlags&2064)!==0&&R!==null)R.return=_,be=R;else e:for(;be!==null;){if(_=be,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:iu(9,_,_.return)}var K=_.sibling;if(K!==null){K.return=_.return,be=K;break e}be=_.return}}var G=i.current;for(be=G;be!==null;){R=be;var Q=R.child;if((R.subtreeFlags&2064)!==0&&Q!==null)Q.return=R,be=Q;else e:for(R=G;be!==null;){if(z=be,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:fh(9,z)}}catch(Ne){$t(z,z.return,Ne)}if(z===R){be=null;break e}var he=z.sibling;if(he!==null){he.return=z.return,be=he;break e}be=z.return}}if(gt=v,Bi(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(Wo,i)}catch{}m=!0}return m}finally{lt=u,wr.transition=o}}return!1}function __(i,o,u){o=yl(u,o),o=Fx(i,o,1),i=$i(i,o,1),o=On(),i!==null&&(Go(i,1,o),Bn(i,o))}function $t(i,o,u){if(i.tag===3)__(i,i,u);else for(;o!==null;){if(o.tag===3){__(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(qi===null||!qi.has(m))){i=yl(u,i),i=Ux(o,i,1),o=$i(o,i,1),i=On(),o!==null&&(Go(o,1,i),Bn(o,i));break}}o=o.return}}function lA(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),o=On(),i.pingedLanes|=i.suspendedLanes&u,dn===i&&(yn&u)===u&&(en===4||en===3&&(yn&130023424)===yn&&500>Rt()-zp?aa(i,0):Up|=u),Bn(i,o)}function E_(i,o){o===0&&((i.mode&1)===0?o=1:(o=Pi,Pi<<=1,(Pi&130023424)===0&&(Pi=4194304)));var u=On();i=ri(i,o),i!==null&&(Go(i,o,u),Bn(i,u))}function cA(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),E_(i,u)}function uA(i,o){var u=0;switch(i.tag){case 13:var m=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(o),E_(i,u)}var b_;b_=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||Vn.current)Un=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return Un=!1,XN(i,o,u);Un=(i.flags&131072)!==0}else Un=!1,Ot&&(o.flags&1048576)!==0&&nx(o,Qd,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;dh(i,o),i=o.pendingProps;var v=ul(o,Sn.current);gl(o,u),v=yp(null,o,m,i,v,u);var _=wp();return o.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Fn(m)?(_=!0,Gd(o)):_=!1,o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,dp(o),v.updater=ch,o.stateNode=v,v._reactInternals=o,Tp(o,m,i,u),o=Np(null,o,m,!0,_,u)):(o.tag=0,Ot&&_&&tp(o),Dn(null,o,v,u),o=o.child),o;case 16:m=o.elementType;e:{switch(dh(i,o),i=o.pendingProps,v=m._init,m=v(m._payload),o.type=m,v=o.tag=hA(m),i=Dr(m,i),v){case 0:o=kp(null,o,m,i,u);break e;case 1:o=Yx(null,o,m,i,u);break e;case 11:o=$x(null,o,m,i,u);break e;case 14:o=Hx(null,o,m,Dr(m.type,i),u);break e}throw Error(n(306,m,""))}return o;case 0:return m=o.type,v=o.pendingProps,v=o.elementType===m?v:Dr(m,v),kp(i,o,m,v,u);case 1:return m=o.type,v=o.pendingProps,v=o.elementType===m?v:Dr(m,v),Yx(i,o,m,v,u);case 3:e:{if(Qx(o),i===null)throw Error(n(387));m=o.pendingProps,_=o.memoizedState,v=_.element,dx(i,o),nh(o,m,null,u);var R=o.memoizedState;if(m=R.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){v=yl(Error(n(423)),o),o=Xx(i,o,m,u,v);break e}else if(m!==v){v=yl(Error(n(424)),o),o=Xx(i,o,m,u,v);break e}else for(tr=Fi(o.stateNode.containerInfo.firstChild),er=o,Ot=!0,jr=null,u=cx(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(fl(),m===v){o=ii(i,o,u);break e}Dn(i,o,m,u)}o=o.child}return o;case 5:return mx(o),i===null&&sp(o),m=o.type,v=o.pendingProps,_=i!==null?i.memoizedProps:null,R=v.children,Ym(m,v)?R=null:_!==null&&Ym(m,_)&&(o.flags|=32),Kx(i,o),Dn(i,o,R,u),o.child;case 6:return i===null&&sp(o),null;case 13:return Jx(i,o,u);case 4:return hp(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=ml(o,null,m,u):Dn(i,o,m,u),o.child;case 11:return m=o.type,v=o.pendingProps,v=o.elementType===m?v:Dr(m,v),$x(i,o,m,v,u);case 7:return Dn(i,o,o.pendingProps,u),o.child;case 8:return Dn(i,o,o.pendingProps.children,u),o.child;case 12:return Dn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(m=o.type._context,v=o.pendingProps,_=o.memoizedProps,R=v.value,kt(Zd,m._currentValue),m._currentValue=R,_!==null)if(Pr(_.value,R)){if(_.children===v.children&&!Vn.current){o=ii(i,o,u);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var z=_.dependencies;if(z!==null){R=_.child;for(var $=z.firstContext;$!==null;){if($.context===m){if(_.tag===1){$=si(-1,u&-u),$.tag=2;var X=_.updateQueue;if(X!==null){X=X.shared;var ae=X.pending;ae===null?$.next=$:($.next=ae.next,ae.next=$),X.pending=$}}_.lanes|=u,$=_.alternate,$!==null&&($.lanes|=u),cp(_.return,u,o),z.lanes|=u;break}$=$.next}}else if(_.tag===10)R=_.type===o.type?null:_.child;else if(_.tag===18){if(R=_.return,R===null)throw Error(n(341));R.lanes|=u,z=R.alternate,z!==null&&(z.lanes|=u),cp(R,u,o),R=_.sibling}else R=_.child;if(R!==null)R.return=_;else for(R=_;R!==null;){if(R===o){R=null;break}if(_=R.sibling,_!==null){_.return=R.return,R=_;break}R=R.return}_=R}Dn(i,o,v.children,u),o=o.child}return o;case 9:return v=o.type,m=o.pendingProps.children,gl(o,u),v=vr(v),m=m(v),o.flags|=1,Dn(i,o,m,u),o.child;case 14:return m=o.type,v=Dr(m,o.pendingProps),v=Dr(m.type,v),Hx(i,o,m,v,u);case 15:return qx(i,o,o.type,o.pendingProps,u);case 17:return m=o.type,v=o.pendingProps,v=o.elementType===m?v:Dr(m,v),dh(i,o),o.tag=1,Fn(m)?(i=!0,Gd(o)):i=!1,gl(o,u),Lx(o,m,v),Tp(o,m,v,u),Np(null,o,m,!0,i,u);case 19:return e_(i,o,u);case 22:return Gx(i,o,u)}throw Error(n(156,o.tag))};function S_(i,o){return Tc(i,o)}function dA(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(i,o,u,m){return new dA(i,o,u,m)}function Yp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hA(i){if(typeof i=="function")return Yp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===O)return 11;if(i===Z)return 14}return 2}function Qi(i,o){var u=i.alternate;return u===null?(u=xr(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Eh(i,o,u,m,v,_){var R=2;if(m=i,typeof i=="function")Yp(i)&&(R=1);else if(typeof i=="string")R=5;else e:switch(i){case I:return ca(u.children,v,_,o);case N:R=8,v|=8;break;case P:return i=xr(12,u,o,v|2),i.elementType=P,i.lanes=_,i;case A:return i=xr(13,u,o,v),i.elementType=A,i.lanes=_,i;case de:return i=xr(19,u,o,v),i.elementType=de,i.lanes=_,i;case ee:return bh(u,v,_,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:R=10;break e;case U:R=9;break e;case O:R=11;break e;case Z:R=14;break e;case me:R=16,m=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=xr(R,u,o,v),o.elementType=i,o.type=m,o.lanes=_,o}function ca(i,o,u,m){return i=xr(7,i,m,o),i.lanes=u,i}function bh(i,o,u,m){return i=xr(22,i,m,o),i.elementType=ee,i.lanes=u,i.stateNode={isHidden:!1},i}function Qp(i,o,u){return i=xr(6,i,null,o),i.lanes=u,i}function Xp(i,o,u){return o=xr(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function fA(i,o,u,m,v){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ac(0),this.expirationTimes=Ac(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ac(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Jp(i,o,u,m,v,_,R,z,$){return i=new fA(i,o,u,z,$),o===1?(o=1,_===!0&&(o|=8)):o=0,_=xr(3,null,null,o),i.current=_,_.stateNode=i,_.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},dp(_),i}function mA(i,o,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:m==null?null:""+m,children:i,containerInfo:o,implementation:u}}function T_(i){if(!i)return zi;i=i._reactInternals;e:{if(Ar(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Fn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Fn(u))return Zw(i,u,o)}return o}function C_(i,o,u,m,v,_,R,z,$){return i=Jp(u,m,!0,i,v,_,R,z,$),i.context=T_(null),u=i.current,m=On(),v=Ki(u),_=si(m,v),_.callback=o??null,$i(u,_,v),i.current.lanes=v,Go(i,v,m),Bn(i,m),i}function Sh(i,o,u,m){var v=o.current,_=On(),R=Ki(v);return u=T_(u),o.context===null?o.context=u:o.pendingContext=u,o=si(_,R),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=$i(v,o,R),i!==null&&(Lr(i,v,R,_),th(i,v,R)),R}function Th(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function I_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Zp(i,o){I_(i,o),(i=i.alternate)&&I_(i,o)}function pA(){return null}var k_=typeof reportError=="function"?reportError:function(i){console.error(i)};function eg(i){this._internalRoot=i}Ch.prototype.render=eg.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Sh(i,o,null,null)},Ch.prototype.unmount=eg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;oa(function(){Sh(null,i,null,null)}),o[Zs]=null}};function Ch(i){this._internalRoot=i}Ch.prototype.unstable_scheduleHydration=function(i){if(i){var o=Dc();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Qn.length&&o!==0&&o<Qn[u].priority;u++);Qn.splice(u,0,i),u===0&&Ka(i)}};function tg(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ih(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function N_(){}function gA(i,o,u,m,v){if(v){if(typeof m=="function"){var _=m;m=function(){var X=Th(R);_.call(X)}}var R=C_(o,m,i,0,null,!1,!1,"",N_);return i._reactRootContainer=R,i[Zs]=R.current,qc(i.nodeType===8?i.parentNode:i),oa(),R}for(;v=i.lastChild;)i.removeChild(v);if(typeof m=="function"){var z=m;m=function(){var X=Th($);z.call(X)}}var $=Jp(i,0,!1,null,null,!1,!1,"",N_);return i._reactRootContainer=$,i[Zs]=$.current,qc(i.nodeType===8?i.parentNode:i),oa(function(){Sh(o,$,u,m)}),$}function kh(i,o,u,m,v){var _=u._reactRootContainer;if(_){var R=_;if(typeof v=="function"){var z=v;v=function(){var $=Th(R);z.call($)}}Sh(o,R,i,v)}else R=gA(u,o,i,v,m);return Th(R)}Pc=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=xt(o.pendingLanes);u!==0&&(Rc(o,u|1),Bn(o,Rt()),(gt&6)===0&&(_l=Rt()+500,Bi()))}break;case 13:oa(function(){var m=ri(i,1);if(m!==null){var v=On();Lr(m,i,1,v)}}),Zp(i,1)}},qa=function(i){if(i.tag===13){var o=ri(i,134217728);if(o!==null){var u=On();Lr(o,i,134217728,u)}Zp(i,134217728)}},jc=function(i){if(i.tag===13){var o=Ki(i),u=ri(i,o);if(u!==null){var m=On();Lr(u,i,o,m)}Zp(i,o)}},Dc=function(){return lt},Oc=function(i,o){var u=lt;try{return lt=i,o()}finally{lt=u}},ut=function(i,o,u){switch(o){case"input":if(vt(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var v=Hd(m);if(!v)throw Error(n(90));Je(m),vt(m,v)}}}break;case"textarea":ki(i,u);break;case"select":o=u.value,o!=null&&Nt(i,!!u.multiple,o,!1)}},jn=qp,dt=oa;var vA={usingClientEntryPoint:!1,Events:[Yc,ll,Hd,Gn,At,qp]},cu={findFiberByHostInstance:Jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yA={bundleType:cu.bundleType,version:cu.version,rendererPackageName:cu.rendererPackageName,rendererConfig:cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Id(i),i===null?null:i.stateNode},findFiberByHostInstance:cu.findFiberByHostInstance||pA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{Wo=Nh.inject(yA),Kn=Nh}catch{}}return Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vA,Wn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tg(o))throw Error(n(200));return mA(i,o,null,u)},Wn.createRoot=function(i,o){if(!tg(i))throw Error(n(299));var u=!1,m="",v=k_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),o=Jp(i,1,!1,null,null,u,!1,m,v),i[Zs]=o.current,qc(i.nodeType===8?i.parentNode:i),new eg(o)},Wn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Id(o),i=i===null?null:i.stateNode,i},Wn.flushSync=function(i){return oa(i)},Wn.hydrate=function(i,o,u){if(!Ih(o))throw Error(n(200));return kh(null,i,o,!0,u)},Wn.hydrateRoot=function(i,o,u){if(!tg(i))throw Error(n(405));var m=u!=null&&u.hydratedSources||null,v=!1,_="",R=k_;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),o=C_(o,null,i,1,u??null,v,!1,_,R),i[Zs]=o.current,qc(i),m)for(i=0;i<m.length;i++)u=m[i],v=u._getVersion,v=v(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,v]:o.mutableSourceEagerHydrationData.push(u,v);return new Ch(o)},Wn.render=function(i,o,u){if(!Ih(o))throw Error(n(200));return kh(null,i,o,!1,u)},Wn.unmountComponentAtNode=function(i){if(!Ih(i))throw Error(n(40));return i._reactRootContainer?(oa(function(){kh(null,null,i,!1,function(){i._reactRootContainer=null,i[Zs]=null})}),!0):!1},Wn.unstable_batchedUpdates=qp,Wn.unstable_renderSubtreeIntoContainer=function(i,o,u,m){if(!Ih(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return kh(i,o,u,!1,m)},Wn.version="18.3.1-next-f1338f8080-20240426",Wn}var L_;function Bb(){if(L_)return sg.exports;L_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sg.exports=IA(),sg.exports}var V_;function kA(){if(V_)return Ah;V_=1;var t=Bb();return Ah.createRoot=t.createRoot,Ah.hydrateRoot=t.hydrateRoot,Ah}var NA=kA();const AA=Dv(NA);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var F_="popstate";function RA(t={}){function e(r,s){let{pathname:a,search:l,hash:d}=r.location;return zg("",{pathname:a,search:l,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ru(s)}return jA(e,n,null,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $r(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PA(){return Math.random().toString(36).substring(2,10)}function U_(t,e){return{usr:t.state,key:t.key,idx:e}}function zg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?sc(e):e,state:n,key:e&&e.key||r||PA()}}function Ru({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function sc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function jA(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,d="POP",h=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function y(){d="POP";let k=g(),M=k==null?null:k-p;p=k,h&&h({action:d,location:b.location,delta:M})}function w(k,M){d="PUSH";let V=zg(b.location,k,M);p=g()+1;let j=U_(V,p),B=b.createHref(V);try{l.pushState(j,"",B)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(B)}a&&h&&h({action:d,location:b.location,delta:1})}function S(k,M){d="REPLACE";let V=zg(b.location,k,M);p=g();let j=U_(V,p),B=b.createHref(V);l.replaceState(j,"",B),a&&h&&h({action:d,location:b.location,delta:0})}function C(k){return DA(k)}let b={get action(){return d},get location(){return t(s,l)},listen(k){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(F_,y),h=k,()=>{s.removeEventListener(F_,y),h=null}},createHref(k){return e(s,k)},createURL:C,encodeLocation(k){let M=C(k);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:S,go(k){return l.go(k)}};return b}function DA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ru(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Wb(t,e,n="/"){return OA(t,e,n,!1)}function OA(t,e,n,r){let s=typeof e=="string"?sc(e):e,a=pi(s.pathname||"/",n);if(a==null)return null;let l=$b(t);MA(l);let d=null;for(let h=0;d==null&&h<l.length;++h){let p=GA(a);d=HA(l[h],p,r)}return d}function $b(t,e=[],n=[],r="",s=!1){let a=(l,d,h=s,p)=>{let g={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&h)return;Mt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let y=fi([r,g.relativePath]),w=n.concat(g);l.children&&l.children.length>0&&(Mt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),$b(l.children,e,w,y,h)),!(l.path==null&&!l.index)&&e.push({path:y,score:WA(y,l.index),routesMeta:w})};return t.forEach((l,d)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,d);else for(let p of Hb(l.path))a(l,d,!0,p)}),e}function Hb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=Hb(r.join("/")),d=[];return d.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&d.push(...l),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function MA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$A(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var LA=/^:[\w-]+$/,VA=3,FA=2,UA=1,zA=10,BA=-2,z_=t=>t==="*";function WA(t,e){let n=t.split("/"),r=n.length;return n.some(z_)&&(r+=BA),e&&(r+=FA),n.filter(s=>!z_(s)).reduce((s,a)=>s+(LA.test(a)?VA:a===""?UA:zA),r)}function $A(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function HA(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=hf({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),w=h.route;if(!y&&p&&n&&!r[r.length-1].route.index&&(y=hf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:fi([a,y.pathname]),pathnameBase:XA(fi([a,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(a=fi([a,y.pathnameBase]))}return l}function hf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:y},w)=>{if(g==="*"){let C=d[w]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const S=d[w];return y&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function qA(t,e=!1,n=!0){$r(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function GA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $r(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function pi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var KA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function YA(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?sc(t):t,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=B_(n.substring(1),"/"):a=B_(n,e)):a=e,{pathname:a,search:JA(r),hash:ZA(s)}}function B_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ag(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Mv(t){let e=QA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Lv(t,e,n,r=!1){let s;typeof t=="string"?s=sc(t):(s={...t},Mt(!s.pathname||!s.pathname.includes("?"),ag("?","pathname","search",s)),Mt(!s.pathname||!s.pathname.includes("#"),ag("#","pathname","hash",s)),Mt(!s.search||!s.search.includes("#"),ag("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,d;if(l==null)d=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),y-=1;s.pathname=w.join("/")}d=y>=0?e[y]:"/"}let h=YA(s,d),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var fi=t=>t.join("/").replace(/\/\/+/g,"/"),XA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,eR=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function tR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function nR(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var qb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Gb(t,e){let n=t;if(typeof n!="string"||!KA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(qb)try{let a=new URL(window.location.href),l=n.startsWith("//")?new URL(a.protocol+n):new URL(n),d=pi(l.pathname,e);l.origin===a.origin&&d!=null?n=d+l.search+l.hash:s=!0}catch{$r(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Kb=["POST","PUT","PATCH","DELETE"];new Set(Kb);var rR=["GET",...Kb];new Set(rR);var ic=x.createContext(null);ic.displayName="DataRouter";var Hf=x.createContext(null);Hf.displayName="DataRouterState";var sR=x.createContext(!1),Yb=x.createContext({isTransitioning:!1});Yb.displayName="ViewTransition";var iR=x.createContext(new Map);iR.displayName="Fetchers";var oR=x.createContext(null);oR.displayName="Await";var lr=x.createContext(null);lr.displayName="Navigation";var Ku=x.createContext(null);Ku.displayName="Location";var Kr=x.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var Vv=x.createContext(null);Vv.displayName="RouteError";var Qb="REACT_ROUTER_ERROR",aR="REDIRECT",lR="ROUTE_ERROR_RESPONSE";function cR(t){if(t.startsWith(`${Qb}:${aR}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function uR(t){if(t.startsWith(`${Qb}:${lR}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new eR(e.status,e.statusText,e.data)}catch{}}function dR(t,{relative:e}={}){Mt(oc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(lr),{hash:s,pathname:a,search:l}=Yu(t,{relative:e}),d=a;return n!=="/"&&(d=a==="/"?n:fi([n,a])),r.createHref({pathname:d,search:l,hash:s})}function oc(){return x.useContext(Ku)!=null}function Ls(){return Mt(oc(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Ku).location}var Xb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jb(t){x.useContext(lr).static||x.useLayoutEffect(t)}function qf(){let{isDataRoute:t}=x.useContext(Kr);return t?CR():hR()}function hR(){Mt(oc(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(ic),{basename:e,navigator:n}=x.useContext(lr),{matches:r}=x.useContext(Kr),{pathname:s}=Ls(),a=JSON.stringify(Mv(r)),l=x.useRef(!1);return Jb(()=>{l.current=!0}),x.useCallback((h,p={})=>{if($r(l.current,Xb),!l.current)return;if(typeof h=="number"){n.go(h);return}let g=Lv(h,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:fi([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,s,t])}var fR=x.createContext(null);function mR(t){let e=x.useContext(Kr).outlet;return x.useMemo(()=>e&&x.createElement(fR.Provider,{value:t},e),[e,t])}function Yu(t,{relative:e}={}){let{matches:n}=x.useContext(Kr),{pathname:r}=Ls(),s=JSON.stringify(Mv(n));return x.useMemo(()=>Lv(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function pR(t,e){return Zb(t,e)}function Zb(t,e,n,r,s){var V;Mt(oc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=x.useContext(lr),{matches:l}=x.useContext(Kr),d=l[l.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",y=d&&d.route;{let j=y&&y.path||"";tS(p,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let w=Ls(),S;if(e){let j=typeof e=="string"?sc(e):e;Mt(g==="/"||((V=j.pathname)==null?void 0:V.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),S=j}else S=w;let C=S.pathname||"/",b=C;if(g!=="/"){let j=g.replace(/^\//,"").split("/");b="/"+C.replace(/^\//,"").split("/").slice(j.length).join("/")}let k=Wb(t,{pathname:b});$r(y||k!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),$r(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=xR(k&&k.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:fi([g,a.encodeLocation?a.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:fi([g,a.encodeLocation?a.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,n,r,s);return e&&M?x.createElement(Ku.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},M):M}function gR(){let t=TR(),e=tR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:a},"ErrorBoundary")," or"," ",x.createElement("code",{style:a},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,l)}var vR=x.createElement(gR,null),eS=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=uR(t.digest);n&&(t=n)}let e=t!==void 0?x.createElement(Kr.Provider,{value:this.props.routeContext},x.createElement(Vv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?x.createElement(yR,{error:t},e):e}};eS.contextType=sR;var lg=new WeakMap;function yR({children:t,error:e}){let{basename:n}=x.useContext(lr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=cR(e.digest);if(r){let s=lg.get(e);if(s)throw s;let a=Gb(r.location,n);if(qb&&!lg.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw lg.set(e,l),l}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function wR({routeContext:t,match:e,children:n}){let r=x.useContext(ic);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Kr.Provider,{value:t},n)}function xR(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let g=a.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);Mt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let d=!1,h=-1;if(n)for(let g=0;g<a.length;g++){let y=a[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=g),y.route.id){let{loaderData:w,errors:S}=n,C=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||C){d=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}let p=n&&r?(g,y)=>{var w,S;r(g,{location:n.location,params:((S=(w=n.matches)==null?void 0:w[0])==null?void 0:S.params)??{},unstable_pattern:nR(n.matches),errorInfo:y})}:void 0;return a.reduceRight((g,y,w)=>{let S,C=!1,b=null,k=null;n&&(S=l&&y.route.id?l[y.route.id]:void 0,b=y.route.errorElement||vR,d&&(h<0&&w===0?(tS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,k=null):h===w&&(C=!0,k=y.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,w+1)),V=()=>{let j;return S?j=b:C?j=k:y.route.Component?j=x.createElement(y.route.Component,null):y.route.element?j=y.route.element:j=g,x.createElement(wR,{match:y,routeContext:{outlet:g,matches:M,isDataRoute:n!=null},children:j})};return n&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?x.createElement(eS,{location:n.location,revalidation:n.revalidation,component:b,error:S,children:V(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:p}):V()},null)}function Fv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _R(t){let e=x.useContext(ic);return Mt(e,Fv(t)),e}function ER(t){let e=x.useContext(Hf);return Mt(e,Fv(t)),e}function bR(t){let e=x.useContext(Kr);return Mt(e,Fv(t)),e}function Uv(t){let e=bR(t),n=e.matches[e.matches.length-1];return Mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function SR(){return Uv("useRouteId")}function TR(){var r;let t=x.useContext(Vv),e=ER("useRouteError"),n=Uv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function CR(){let{router:t}=_R("useNavigate"),e=Uv("useNavigate"),n=x.useRef(!1);return Jb(()=>{n.current=!0}),x.useCallback(async(s,a={})=>{$r(n.current,Xb),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var W_={};function tS(t,e,n){!e&&!W_[t]&&(W_[t]=!0,$r(!1,n))}x.memo(IR);function IR({routes:t,future:e,state:n,onError:r}){return Zb(t,void 0,n,r,e)}function nS({to:t,replace:e,state:n,relative:r}){Mt(oc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=x.useContext(lr);$r(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=x.useContext(Kr),{pathname:l}=Ls(),d=qf(),h=Lv(t,Mv(a),l,r==="path"),p=JSON.stringify(h);return x.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:r})},[d,p,r,e,n]),null}function kR(t){return mR(t.context)}function Mn(t){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1,unstable_useTransitions:l}){Mt(!oc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),h=x.useMemo(()=>({basename:d,navigator:s,static:a,unstable_useTransitions:l,future:{}}),[d,s,a,l]);typeof n=="string"&&(n=sc(n));let{pathname:p="/",search:g="",hash:y="",state:w=null,key:S="default"}=n,C=x.useMemo(()=>{let b=pi(p,d);return b==null?null:{location:{pathname:b,search:g,hash:y,state:w,key:S},navigationType:r}},[d,p,g,y,w,S,r]);return $r(C!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:x.createElement(lr.Provider,{value:h},x.createElement(Ku.Provider,{children:e,value:C}))}function AR({children:t,location:e}){return pR(Bg(t),e)}function Bg(t,e=[]){let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;let a=[...e,s];if(r.type===x.Fragment){n.push.apply(n,Bg(r.props.children,a));return}Mt(r.type===Mn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Bg(r.props.children,a)),n.push(l)}),n}var Kh="get",Yh="application/x-www-form-urlencoded";function Gf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function RR(t){return Gf(t)&&t.tagName.toLowerCase()==="button"}function PR(t){return Gf(t)&&t.tagName.toLowerCase()==="form"}function jR(t){return Gf(t)&&t.tagName.toLowerCase()==="input"}function DR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function OR(t,e){return t.button===0&&(!e||e==="_self")&&!DR(t)}var Rh=null;function MR(){if(Rh===null)try{new FormData(document.createElement("form"),0),Rh=!1}catch{Rh=!0}return Rh}var LR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cg(t){return t!=null&&!LR.has(t)?($r(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yh}"`),null):t}function VR(t,e){let n,r,s,a,l;if(PR(t)){let d=t.getAttribute("action");r=d?pi(d,e):null,n=t.getAttribute("method")||Kh,s=cg(t.getAttribute("enctype"))||Yh,a=new FormData(t)}else if(RR(t)||jR(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?pi(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Kh,s=cg(t.getAttribute("formenctype"))||cg(d.getAttribute("enctype"))||Yh,a=new FormData(d,t),!MR()){let{name:p,type:g,value:y}=t;if(g==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,y)}}else{if(Gf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kh,r=null,s=Yh,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FR(t,e,n,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:e&&pi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function UR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function BR(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await UR(a,n);return l.links?l.links():[]}return[]}));return qR(r.flat(1).filter(zR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function $_(t,e,n,r,s,a){let l=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,d=(h,p)=>{var g;return n[p].pathname!==h.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>l(h,p)||d(h,p)):a==="data"?e.filter((h,p)=>{var y;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function WR(t,e,{includeHydrateFallback:n}={}){return $R(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function $R(t){return[...new Set(t)]}function HR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function qR(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(HR(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function rS(){let t=x.useContext(ic);return zv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function GR(){let t=x.useContext(Hf);return zv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Bv=x.createContext(void 0);Bv.displayName="FrameworkContext";function sS(){let t=x.useContext(Bv);return zv(t,"You must render this element inside a <HydratedRouter> element"),t}function KR(t,e){let n=x.useContext(Bv),[r,s]=x.useState(!1),[a,l]=x.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,w=x.useRef(null);x.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let b=M=>{M.forEach(V=>{l(V.isIntersecting)})},k=new IntersectionObserver(b,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[t]),x.useEffect(()=>{if(r){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[r]);let S=()=>{s(!0)},C=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:du(d,S),onBlur:du(h,C),onMouseEnter:du(p,S),onMouseLeave:du(g,C),onTouchStart:du(y,S)}]:[!1,w,{}]}function du(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function YR({page:t,...e}){let{router:n}=rS(),r=x.useMemo(()=>Wb(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement(XR,{page:t,matches:r,...e}):null}function QR(t){let{manifest:e,routeModules:n}=sS(),[r,s]=x.useState([]);return x.useEffect(()=>{let a=!1;return BR(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function XR({page:t,matches:e,...n}){let r=Ls(),{future:s,manifest:a,routeModules:l}=sS(),{basename:d}=rS(),{loaderData:h,matches:p}=GR(),g=x.useMemo(()=>$_(t,e,p,a,r,"data"),[t,e,p,a,r]),y=x.useMemo(()=>$_(t,e,p,a,r,"assets"),[t,e,p,a,r]),w=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,k=!1;if(e.forEach(V=>{var B;let j=a.routes[V.route.id];!j||!j.hasLoader||(!g.some(D=>D.route.id===V.route.id)&&V.route.id in h&&((B=l[V.route.id])!=null&&B.shouldRevalidate)||j.hasClientLoader?k=!0:b.add(V.route.id))}),b.size===0)return[];let M=FR(t,d,s.unstable_trailingSlashAwareDataRequests,"data");return k&&b.size>0&&M.searchParams.set("_routes",e.filter(V=>b.has(V.route.id)).map(V=>V.route.id).join(",")),[M.pathname+M.search]},[d,s.unstable_trailingSlashAwareDataRequests,h,r,a,g,e,t,l]),S=x.useMemo(()=>WR(y,a),[y,a]),C=QR(y);return x.createElement(x.Fragment,null,w.map(b=>x.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),S.map(b=>x.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),C.map(({key:b,link:k})=>x.createElement("link",{key:b,nonce:n.nonce,...k,crossOrigin:k.crossOrigin??n.crossOrigin})))}function JR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZR&&(window.__reactRouterVersion="7.13.0")}catch{}function eP({basename:t,children:e,unstable_useTransitions:n,window:r}){let s=x.useRef();s.current==null&&(s.current=RA({window:r,v5Compat:!0}));let a=s.current,[l,d]=x.useState({action:a.action,location:a.location}),h=x.useCallback(p=>{n===!1?d(p):x.startTransition(()=>d(p))},[n]);return x.useLayoutEffect(()=>a.listen(h),[a,h]),x.createElement(NR,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:n})}var iS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Es=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:d,target:h,to:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:w,...S},C){let{basename:b,unstable_useTransitions:k}=x.useContext(lr),M=typeof p=="string"&&iS.test(p),V=Gb(p,b);p=V.to;let j=dR(p,{relative:s}),[B,D,W]=KR(r,S),I=sP(p,{replace:l,state:d,target:h,preventScrollReset:g,relative:s,viewTransition:y,unstable_defaultShouldRevalidate:w,unstable_useTransitions:k});function N(F){e&&e(F),F.defaultPrevented||I(F)}let P=x.createElement("a",{...S,...W,href:V.absoluteURL||j,onClick:V.isExternal||a?e:N,ref:JR(C,D),target:h,"data-discover":!M&&n==="render"?"true":void 0});return B&&!M?x.createElement(x.Fragment,null,P,x.createElement(YR,{page:j})):P});Es.displayName="Link";var tP=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:d,children:h,...p},g){let y=Yu(l,{relative:p.relative}),w=Ls(),S=x.useContext(Hf),{navigator:C,basename:b}=x.useContext(lr),k=S!=null&&cP(y)&&d===!0,M=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,V=w.pathname,j=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(V=V.toLowerCase(),j=j?j.toLowerCase():null,M=M.toLowerCase()),j&&b&&(j=pi(j,b)||j);const B=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let D=V===M||!s&&V.startsWith(M)&&V.charAt(B)==="/",W=j!=null&&(j===M||!s&&j.startsWith(M)&&j.charAt(M.length)==="/"),I={isActive:D,isPending:W,isTransitioning:k},N=D?e:void 0,P;typeof r=="function"?P=r(I):P=[r,D?"active":null,W?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(I):a;return x.createElement(Es,{...p,"aria-current":N,className:P,ref:g,style:F,to:l,viewTransition:d},typeof h=="function"?h(I):h)});tP.displayName="NavLink";var nP=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=Kh,action:d,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:w,...S},C)=>{let{unstable_useTransitions:b}=x.useContext(lr),k=aP(),M=lP(d,{relative:p}),V=l.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&iS.test(d),B=D=>{if(h&&h(D),D.defaultPrevented)return;D.preventDefault();let W=D.nativeEvent.submitter,I=(W==null?void 0:W.getAttribute("formmethod"))||l,N=()=>k(W||D.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:w});b&&n!==!1?x.startTransition(()=>N()):N()};return x.createElement("form",{ref:C,method:V,action:M,onSubmit:r?h:B,...S,"data-discover":!j&&t==="render"?"true":void 0})});nP.displayName="Form";function rP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oS(t){let e=x.useContext(ic);return Mt(e,rP(t)),e}function sP(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h}={}){let p=qf(),g=Ls(),y=Yu(t,{relative:a});return x.useCallback(w=>{if(OR(w,e)){w.preventDefault();let S=n!==void 0?n:Ru(g)===Ru(y),C=()=>p(t,{replace:S,state:r,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:d});h?x.startTransition(()=>C()):C()}},[g,p,y,n,r,e,t,s,a,l,d,h])}var iP=0,oP=()=>`__${String(++iP)}__`;function aP(){let{router:t}=oS("useSubmit"),{basename:e}=x.useContext(lr),n=SR(),r=t.fetch,s=t.navigate;return x.useCallback(async(a,l={})=>{let{action:d,method:h,encType:p,formData:g,body:y}=VR(a,e);if(l.navigate===!1){let w=l.fetcherKey||oP();await r(w,n,l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||p,flushSync:l.flushSync})}else await s(l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,s,e,n])}function lP(t,{relative:e}={}){let{basename:n}=x.useContext(lr),r=x.useContext(Kr);Mt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Yu(t||".",{relative:e})},l=Ls();if(t==null){a.search=l.search;let d=new URLSearchParams(a.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:fi([n,a.pathname])),Ru(a)}function cP(t,{relative:e}={}){let n=x.useContext(Yb);Mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=oS("useViewTransitionState"),s=Yu(t,{relative:e});if(!n.isTransitioning)return!1;let a=pi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=pi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return hf(s.pathname,l)!=null||hf(s.pathname,a)!=null}var Qu=Bb();const aS=Dv(Qu),uP=()=>{};var H_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},dP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],d=t[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},cS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,d=l?t[s+1]:0,h=s+2<t.length,p=h?t[s+2]:0,g=a>>2,y=(a&3)<<4|d>>4;let w=(d&15)<<2|p>>6,S=p&63;h||(S=64,l||(w=64)),r.push(n[g],n[y],n[w],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||d==null||p==null||y==null)throw new hP;const w=a<<2|d>>4;if(r.push(w),p!==64){const S=d<<4&240|p>>2;if(r.push(S),y!==64){const C=p<<6&192|y;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fP=function(t){const e=lS(t);return cS.encodeByteArray(e,!0)},ff=function(t){return fP(t).replace(/\./g,"")},uS=function(t){try{return cS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=()=>mP().__FIREBASE_DEFAULTS__,gP=()=>{if(typeof process>"u"||typeof H_>"u")return;const t=H_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uS(t[1]);return e&&JSON.parse(e)},Kf=()=>{try{return uP()||pP()||gP()||vP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dS=t=>{var e,n;return(n=(e=Kf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},hS=t=>{const e=dS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fS=()=>{var t;return(t=Kf())==null?void 0:t.config},mS=t=>{var e;return(e=Kf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ff(JSON.stringify(n)),ff(JSON.stringify(l)),""].join(".")}const Eu={};function wP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Eu))Eu[e]?t.emulator.push(e):t.prod.push(e);return t}function xP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let q_=!1;function $v(t,e){if(typeof window>"u"||typeof document>"u"||!Ca(window.location.host)||Eu[t]===e||Eu[t]||q_)return;Eu[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=wP().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{q_=!0,l()},w}function g(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function y(){const w=xP(r),S=n("text"),C=document.getElementById(S)||document.createElement("span"),b=n("learnmore"),k=document.getElementById(b)||document.createElement("a"),M=n("preprendIcon"),V=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const j=w.element;d(j),g(k,b);const B=p();h(V,M),j.append(V,C,k,B),document.body.appendChild(j)}a?(C.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _P(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function EP(){var e;const t=(e=Kf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CP(){const t=Pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IP(){return!EP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kP(){try{return typeof indexedDB=="object"}catch{return!1}}function NP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="FirebaseError";class Vs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AP,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xu.prototype.create)}}class Xu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?RP(a,r):"Error",d=`${this.serviceName}: ${l} (${s}).`;return new Vs(s,d,r)}}function RP(t,e){return t.replace(PP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const PP=/\{\$([^}]+)}/g;function jP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ga(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(G_(a)&&G_(l)){if(!ga(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function G_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function pu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function DP(t,e){const n=new OP(t,e);return n.subscribe.bind(n)}class OP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ug),s.error===void 0&&(s.error=ug),s.complete===void 0&&(s.complete=ug);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ug(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t){return t&&t._delegate?t._delegate:t}class po{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FP(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VP(t){return t===da?void 0:t}function FP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const zP={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},BP=it.INFO,WP={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},$P=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=WP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hv{constructor(e){this.name=e,this._logLevel=BP,this._logHandler=$P,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const HP=(t,e)=>e.some(n=>t instanceof n);let K_,Y_;function qP(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GP(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gS=new WeakMap,Wg=new WeakMap,vS=new WeakMap,dg=new WeakMap,qv=new WeakMap;function KP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(ao(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&gS.set(n,t)}).catch(()=>{}),qv.set(e,t),e}function YP(t){if(Wg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Wg.set(t,e)}let $g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ao(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QP(t){$g=t($g)}function XP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hg(this),e,...n);return vS.set(r,e.sort?e.sort():[e]),ao(r)}:GP().includes(t)?function(...e){return t.apply(hg(this),e),ao(gS.get(this))}:function(...e){return ao(t.apply(hg(this),e))}}function JP(t){return typeof t=="function"?XP(t):(t instanceof IDBTransaction&&YP(t),HP(t,qP())?new Proxy(t,$g):t)}function ao(t){if(t instanceof IDBRequest)return KP(t);if(dg.has(t))return dg.get(t);const e=JP(t);return e!==t&&(dg.set(t,e),qv.set(e,t)),e}const hg=t=>qv.get(t);function ZP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),d=ao(l);return r&&l.addEventListener("upgradeneeded",h=>{r(ao(l.result),h.oldVersion,h.newVersion,ao(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const e2=["get","getKey","getAll","getAllKeys","count"],t2=["put","add","delete","clear"],fg=new Map;function Q_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fg.get(e))return fg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=t2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||e2.includes(n)))return;const a=async function(l,...d){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),s&&h.done]))[0]};return fg.set(e,a),a}QP(t=>({...t,get:(e,n,r)=>Q_(e,n)||t.get(e,n,r),has:(e,n)=>!!Q_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function r2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hg="@firebase/app",X_="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new Hv("@firebase/app"),s2="@firebase/app-compat",i2="@firebase/analytics-compat",o2="@firebase/analytics",a2="@firebase/app-check-compat",l2="@firebase/app-check",c2="@firebase/auth",u2="@firebase/auth-compat",d2="@firebase/database",h2="@firebase/data-connect",f2="@firebase/database-compat",m2="@firebase/functions",p2="@firebase/functions-compat",g2="@firebase/installations",v2="@firebase/installations-compat",y2="@firebase/messaging",w2="@firebase/messaging-compat",x2="@firebase/performance",_2="@firebase/performance-compat",E2="@firebase/remote-config",b2="@firebase/remote-config-compat",S2="@firebase/storage",T2="@firebase/storage-compat",C2="@firebase/firestore",I2="@firebase/ai",k2="@firebase/firestore-compat",N2="firebase",A2="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="[DEFAULT]",R2={[Hg]:"fire-core",[s2]:"fire-core-compat",[o2]:"fire-analytics",[i2]:"fire-analytics-compat",[l2]:"fire-app-check",[a2]:"fire-app-check-compat",[c2]:"fire-auth",[u2]:"fire-auth-compat",[d2]:"fire-rtdb",[h2]:"fire-data-connect",[f2]:"fire-rtdb-compat",[m2]:"fire-fn",[p2]:"fire-fn-compat",[g2]:"fire-iid",[v2]:"fire-iid-compat",[y2]:"fire-fcm",[w2]:"fire-fcm-compat",[x2]:"fire-perf",[_2]:"fire-perf-compat",[E2]:"fire-rc",[b2]:"fire-rc-compat",[S2]:"fire-gcs",[T2]:"fire-gcs-compat",[C2]:"fire-fst",[k2]:"fire-fst-compat",[I2]:"fire-vertex","fire-js":"fire-js",[N2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=new Map,P2=new Map,Gg=new Map;function J_(t,e){try{t.container.addComponent(e)}catch(n){gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function va(t){const e=t.name;if(Gg.has(e))return gi.debug(`There were multiple attempts to register component ${e}.`),!1;Gg.set(e,t);for(const n of mf.values())J_(n,t);for(const n of P2.values())J_(n,t);return!0}function Yf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _r(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new Xu("app","Firebase",j2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=A2;function yS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:qg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw lo.create("bad-app-name",{appName:String(s)});if(n||(n=fS()),!n)throw lo.create("no-options");const a=mf.get(s);if(a){if(ga(n,a.options)&&ga(r,a.config))return a;throw lo.create("duplicate-app",{appName:s})}const l=new UP(s);for(const h of Gg.values())l.addComponent(h);const d=new D2(n,r,l);return mf.set(s,d),d}function Gv(t=qg){const e=mf.get(t);if(!e&&t===qg&&fS())return yS();if(!e)throw lo.create("no-app",{appName:t});return e}function Ts(t,e,n){let r=R2[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gi.warn(l.join(" "));return}va(new po(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="firebase-heartbeat-database",M2=1,Pu="firebase-heartbeat-store";let mg=null;function wS(){return mg||(mg=ZP(O2,M2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pu)}catch(n){console.warn(n)}}}}).catch(t=>{throw lo.create("idb-open",{originalErrorMessage:t.message})})),mg}async function L2(t){try{const n=(await wS()).transaction(Pu),r=await n.objectStore(Pu).get(xS(t));return await n.done,r}catch(e){if(e instanceof Vs)gi.warn(e.message);else{const n=lo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gi.warn(n.message)}}}async function Z_(t,e){try{const r=(await wS()).transaction(Pu,"readwrite");await r.objectStore(Pu).put(e,xS(t)),await r.done}catch(n){if(n instanceof Vs)gi.warn(n.message);else{const r=lo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gi.warn(r.message)}}}function xS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=1024,F2=30;class U2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=eE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>F2){const l=W2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){gi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=eE(),{heartbeatsToSend:r,unsentEntries:s}=z2(this._heartbeatsCache.heartbeats),a=ff(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return gi.warn(n),""}}}function eE(){return new Date().toISOString().substring(0,10)}function z2(t,e=V2){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),tE(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),tE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class B2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kP()?NP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await L2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function tE(t){return ff(JSON.stringify({version:2,heartbeats:t})).length}function W2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t){va(new po("platform-logger",e=>new n2(e),"PRIVATE")),va(new po("heartbeat",e=>new U2(e),"PRIVATE")),Ts(Hg,X_,t),Ts(Hg,X_,"esm2020"),Ts("fire-js","")}$2("");function _S(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const H2=_S,ES=new Xu("auth","Firebase",_S());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=new Hv("@firebase/auth");function q2(t,...e){pf.logLevel<=it.WARN&&pf.warn(`Auth (${Ia}): ${t}`,...e)}function Qh(t,...e){pf.logLevel<=it.ERROR&&pf.error(`Auth (${Ia}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t,...e){throw Kv(t,...e)}function Cs(t,...e){return Kv(t,...e)}function bS(t,e,n){const r={...H2(),[e]:n};return new Xu("auth","Firebase",r).create(e,{appName:t.name})}function co(t){return bS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ES.create(t,...e)}function ze(t,e,...n){if(!t)throw Kv(e,...n)}function ci(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qh(e),new Error(e)}function vi(t,e){t||ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function G2(){return nE()==="http:"||nE()==="https:"}function nE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G2()||SP()||"connection"in navigator)?navigator.onLine:!0}function Y2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,vi(n>e,"Short delay should be less than long delay!"),this.isMobile=_P()||TP()}get(){return K2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t,e){vi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],J2=new Zu(3e4,6e4);function ka(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function So(t,e,n,r,s={}){return TS(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const d=Ju({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:h,...a};return bP()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Ca(t.emulatorConfig.host)&&(p.credentials="include"),SS.fetch()(await CS(t,t.config.apiHost,n,d),p)})}async function TS(t,e,n){t._canInitEmulator=!1;const r={...Q2,...e};try{const s=new ej(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Ph(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const d=a.ok?l.errorMessage:l.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ph(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Ph(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Ph(t,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw bS(t,g,p);Hr(t,g)}}catch(s){if(s instanceof Vs)throw s;Hr(t,"network-request-failed",{message:String(s)})}}async function Qf(t,e,n,r,s={}){const a=await So(t,e,n,r,s);return"mfaPendingCredential"in a&&Hr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function CS(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?Yv(t.config,s):`${t.config.apiScheme}://${s}`;return X2.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function Z2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ej{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cs(this.auth,"network-request-failed")),J2.get())})}}function Ph(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Cs(t,e,r);return s.customData._tokenResponse=n,s}function rE(t){return t!==void 0&&t.enterprise!==void 0}class tj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Z2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nj(t,e){return So(t,"GET","/v2/recaptchaConfig",ka(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(t,e){return So(t,"POST","/v1/accounts:delete",e)}async function gf(t,e){return So(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sj(t,e=!1){const n=an(t),r=await n.getIdToken(e),s=Qv(r);ze(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:bu(pg(s.auth_time)),issuedAtTime:bu(pg(s.iat)),expirationTime:bu(pg(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function pg(t){return Number(t)*1e3}function Qv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qh("JWT malformed, contained fewer than 3 sections"),null;try{const s=uS(n);return s?JSON.parse(s):(Qh("Failed to decode base64 JWT payload"),null)}catch(s){return Qh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function sE(t){const e=Qv(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vs&&ij(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ij({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bu(this.lastLoginAt),this.creationTime=bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vf(t){var y;const e=t.auth,n=await t.getIdToken(),r=await ju(t,gf(e,{idToken:n}));ze(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=(y=s.providerUserInfo)!=null&&y.length?IS(s.providerUserInfo):[],l=lj(t.providerData,a),d=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),p=d?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Yg(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function aj(t){const e=an(t);await vf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function IS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(t,e){const n=await TS(t,{},async()=>{const r=Ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await CS(t,s,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:r};return t.emulatorConfig&&Ca(t.emulatorConfig.host)&&(h.credentials="include"),SS.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uj(t,e){return So(t,"POST","/v2/accounts:revokeToken",ka(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=sE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await cj(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new Dl;return r&&(ze(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(ze(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(ze(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dl,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new oj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Yg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ju(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sj(this,e)}reload(){return aj(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(co(this.auth));const e=await this.getIdToken();return await ju(this,rj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,d=n.tenantId??void 0,h=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:y,emailVerified:w,isAnonymous:S,providerData:C,stsTokenManager:b}=n;ze(y&&b,e,"internal-error");const k=Dl.fromJSON(this.name,b);ze(typeof y=="string",e,"internal-error"),Ji(r,e.name),Ji(s,e.name),ze(typeof w=="boolean",e,"internal-error"),ze(typeof S=="boolean",e,"internal-error"),Ji(a,e.name),Ji(l,e.name),Ji(d,e.name),Ji(h,e.name),Ji(p,e.name),Ji(g,e.name);const M=new Fr({uid:y,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:S,photoURL:l,phoneNumber:a,tenantId:d,stsTokenManager:k,createdAt:p,lastLoginAt:g});return C&&Array.isArray(C)&&(M.providerData=C.map(V=>({...V}))),h&&(M._redirectEventId=h),M}static async _fromIdTokenResponse(e,n,r=!1){const s=new Dl;s.updateFromServerResponse(n);const a=new Fr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await vf(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ze(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?IS(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),d=new Dl;d.updateFromIdToken(r);const h=new Fr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Yg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new Map;function ui(t){vi(t instanceof Function,"Expected a class definition");let e=iE.get(t);return e?(vi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kS.type="NONE";const oE=kS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ol{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Xh(this.userKey,s.apiKey,a),this.fullPersistenceKey=Xh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gf(this.auth,{idToken:e}).catch(()=>{});return n?Fr._fromGetAccountInfoResponse(this.auth,n,e):null}return Fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ol(ui(oE),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ui(oE);const l=Xh(r,e.config.apiKey,e.name);let d=null;for(const p of n)try{const g=await p._get(l);if(g){let y;if(typeof g=="string"){const w=await gf(e,{idToken:g}).catch(()=>{});if(!w)break;y=await Fr._fromGetAccountInfoResponse(e,w,g)}else y=Fr._fromJSON(e,g);p!==a&&(d=y),a=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ol(a,e,r):(a=h[0],d&&await a._set(l,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Ol(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DS(e))return"Blackberry";if(OS(e))return"Webos";if(AS(e))return"Safari";if((e.includes("chrome/")||RS(e))&&!e.includes("edge/"))return"Chrome";if(jS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function NS(t=Pn()){return/firefox\//i.test(t)}function AS(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RS(t=Pn()){return/crios\//i.test(t)}function PS(t=Pn()){return/iemobile/i.test(t)}function jS(t=Pn()){return/android/i.test(t)}function DS(t=Pn()){return/blackberry/i.test(t)}function OS(t=Pn()){return/webos/i.test(t)}function Xv(t=Pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dj(t=Pn()){var e;return Xv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function hj(){return CP()&&document.documentMode===10}function MS(t=Pn()){return Xv(t)||jS(t)||OS(t)||DS(t)||/windows phone/i.test(t)||PS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t,e=[]){let n;switch(t){case"Browser":n=aE(Pn());break;case"Worker":n=`${aE(Pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ia}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,d)=>{try{const h=e(a);l(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(t,e={}){return So(t,"GET","/v2/passwordPolicy",ka(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=6;class gj{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??pj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new fj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ES,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await Ol.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gf(this,{idToken:e}),r=await Fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(_r(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,d=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===d)&&(h!=null&&h.user)&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_r(this.app))return Promise.reject(co(this));const n=e?an(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(co(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _r(this.app)?Promise.reject(co(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mj(this),n=new gj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await Ol.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(d,this,"internal-error"),d.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&q2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ac(t){return an(t)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=DP(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yj(t){Xf=t}function VS(t){return Xf.loadJS(t)}function wj(){return Xf.recaptchaEnterpriseScript}function xj(){return Xf.gapiScript}function _j(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Ej{constructor(){this.enterprise=new bj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Sj="recaptcha-enterprise",FS="NO_RECAPTCHA";class Tj{constructor(e){this.type=Sj,this.auth=ac(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,d)=>{nj(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new tj(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(h=>{d(h)})})}function s(a,l,d){const h=window.grecaptcha;rE(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(FS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ej().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(d=>{if(!n&&rE(window.grecaptcha))s(d,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=wj();h.length!==0&&(h+=d),VS(h).then(()=>{s(d,a,l)}).catch(p=>{l(p)})}}).catch(d=>{l(d)})})}}async function cE(t,e,n,r=!1,s=!1){const a=new Tj(t);let l;if(s)l=FS;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:l}):Object.assign(d,{captchaResponse:l}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function uE(t,e,n,r,s){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await cE(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await cE(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(t,e){const n=Yf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(ga(a,e??{}))return s;Hr(s,"already-initialized")}return n.initialize({options:e})}function Ij(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function kj(t,e,n){const r=ac(t);ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=US(e),{host:l,port:d}=Nj(e),h=d===null?"":`:${d}`,p={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ze(ga(p,r.config.emulator)&&ga(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Ca(l)?(Wv(`${a}//${l}${h}`),$v("Auth",!0)):Aj()}function US(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Nj(t){const e=US(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:dE(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:dE(l)}}}function dE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Aj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,n){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}async function Rj(t,e){return So(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(t,e){return Qf(t,"POST","/v1/accounts:signInWithPassword",ka(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(t,e){return Qf(t,"POST","/v1/accounts:signInWithEmailLink",ka(t,e))}async function Dj(t,e){return Qf(t,"POST","/v1/accounts:signInWithEmailLink",ka(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends Jv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Du(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Du(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uE(e,n,"signInWithPassword",Pj);case"emailLink":return jj(e,{email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uE(e,r,"signUpPassword",Rj);case"emailLink":return Dj(e,{idToken:n,email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(t,e){return Qf(t,"POST","/v1/accounts:signInWithIdp",ka(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj="http://localhost";class ya extends Jv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const l=new ya(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ml(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ml(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ml(e,n)}buildRequest(){const e={requestUri:Oj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ju(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Lj(t){const e=mu(pu(t)).link,n=e?mu(pu(e)).deep_link_id:null,r=mu(pu(t)).deep_link_id;return(r?mu(pu(r)).link:null)||r||n||e||t}class Zv{constructor(e){const n=mu(pu(e)),r=n.apiKey??null,s=n.oobCode??null,a=Mj(n.mode??null);ze(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Lj(e);try{return new Zv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.providerId=lc.PROVIDER_ID}static credential(e,n){return Du._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Zv.parseLink(n);return ze(r,"argument-error"),Du._fromEmailAndCode(e,r.code,r.tenantId)}}lc.PROVIDER_ID="password";lc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends zS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends ed{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.FACEBOOK_SIGN_IN_METHOD="facebook.com";no.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends ed{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ya._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ro.credential(n,r)}catch{return null}}}ro.GOOGLE_SIGN_IN_METHOD="google.com";ro.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends ed{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.GITHUB_SIGN_IN_METHOD="github.com";so.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends ed{constructor(){super("twitter.com")}static credential(e,n){return ya._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return io.credential(n,r)}catch{return null}}}io.TWITTER_SIGN_IN_METHOD="twitter.com";io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Fr._fromIdTokenResponse(e,r,s),l=hE(r);return new Hl({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=hE(r);return new Hl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function hE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends Vs{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,yf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new yf(e,n,r,s)}}function BS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?yf._fromErrorAndOperation(t,a,e,r):a})}async function Vj(t,e,n=!1){const r=await ju(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Hl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fj(t,e,n=!1){const{auth:r}=t;if(_r(r.app))return Promise.reject(co(r));const s="reauthenticate";try{const a=await ju(t,BS(r,s,e,t),n);ze(a.idToken,r,"internal-error");const l=Qv(a.idToken);ze(l,r,"internal-error");const{sub:d}=l;return ze(t.uid===d,r,"user-mismatch"),Hl._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Hr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(t,e,n=!1){if(_r(t.app))return Promise.reject(co(t));const r="signIn",s=await BS(t,r,e),a=await Hl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function Uj(t,e){return WS(ac(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(t){const e=ac(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Bj(t,e,n){return _r(t.app)?Promise.reject(co(t)):Uj(an(t),lc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zj(t),r})}function Wj(t,e,n,r){return an(t).onIdTokenChanged(e,n,r)}function $j(t,e,n){return an(t).beforeAuthStateChanged(e,n)}function Hj(t,e,n,r){return an(t).onAuthStateChanged(e,n,r)}function qj(t){return an(t).signOut()}const wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wf,"1"),this.storage.removeItem(wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=1e3,Kj=10;class HS extends $S{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,d,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);hj()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Kj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Gj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HS.type="LOCAL";const Yj=HS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS extends $S{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qS.type="SESSION";const GS=qS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Jf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(l).map(async p=>p(n.origin,a)),h=await Qj(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((d,h)=>{const p=ey("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(y){const w=y;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(w.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(){return window}function Jj(t){Is().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(){return typeof Is().WorkerGlobalScope<"u"&&typeof Is().importScripts=="function"}async function Zj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function tD(){return KS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firebaseLocalStorageDb",nD=1,xf="firebaseLocalStorage",QS="fbase_key";class td{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zf(t,e){return t.transaction([xf],e?"readwrite":"readonly").objectStore(xf)}function rD(){const t=indexedDB.deleteDatabase(YS);return new td(t).toPromise()}function Qg(){const t=indexedDB.open(YS,nD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xf,{keyPath:QS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xf)?e(r):(r.close(),await rD(),e(await Qg()))})})}async function fE(t,e,n){const r=Zf(t,!0).put({[QS]:e,value:n});return new td(r).toPromise()}async function sD(t,e){const n=Zf(t,!1).get(e),r=await new td(n).toPromise();return r===void 0?null:r.value}function mE(t,e){const n=Zf(t,!0).delete(e);return new td(n).toPromise()}const iD=800,oD=3;class XS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>oD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jf._getInstance(tD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Zj(),!this.activeServiceWorker)return;this.sender=new Xj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qg();return await fE(e,wf,"1"),await mE(e,wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>sD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Zf(s,!1).getAll();return new td(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XS.type="LOCAL";const aD=XS;new Zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t,e){return e?ui(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends Jv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cD(t){return WS(t.auth,new ty(t),t.bypassAuthState)}function uD(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),Fj(n,new ty(t),t.bypassAuthState)}async function dD(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),Vj(n,new ty(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:d}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cD;case"linkViaPopup":case"linkViaRedirect":return dD;case"reauthViaPopup":case"reauthViaRedirect":return uD;default:Hr(this.auth,"internal-error")}}resolve(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new Zu(2e3,1e4);class jl extends JS{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,jl.currentPopupAction&&jl.currentPopupAction.cancel(),jl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){vi(this.filter.length===1,"Popup operations only handle one event");const e=ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hD.get())};e()}}jl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="pendingRedirect",Jh=new Map;class mD extends JS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jh.get(this.auth._key());if(!e){try{const r=await pD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jh.set(this.auth._key(),e)}return this.bypassAuthState||Jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pD(t,e){const n=yD(e),r=vD(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function gD(t,e){Jh.set(t._key(),e)}function vD(t){return ui(t._redirectPersistence)}function yD(t){return Xh(fD,t.config.apiKey,t.name)}async function wD(t,e,n=!1){if(_r(t.app))return Promise.reject(co(t));const r=ac(t),s=lD(r,e),l=await new mD(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=600*1e3;class _D{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ED(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ZS(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xD&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(e))}saveEventToCache(e){this.cachedEventUids.add(pE(e)),this.lastProcessedEventTime=Date.now()}}function pE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ED(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(t,e={}){return So(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TD=/^https?/;async function CD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bD(t);for(const n of e)try{if(ID(n))return}catch{}Hr(t,"unauthorized-domain")}function ID(t){const e=Kg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!TD.test(n))return!1;if(SD.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new Zu(3e4,6e4);function gE(){const t=Is().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ND(t){return new Promise((e,n)=>{var s,a,l;function r(){gE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gE(),n(Cs(t,"network-request-failed"))},timeout:kD.get()})}if((a=(s=Is().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((l=Is().gapi)!=null&&l.load)r();else{const d=_j("iframefcb");return Is()[d]=()=>{gapi.load?r():n(Cs(t,"network-request-failed"))},VS(`${xj()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw Zh=null,e})}let Zh=null;function AD(t){return Zh=Zh||ND(t),Zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=new Zu(5e3,15e3),PD="__/auth/iframe",jD="emulator/auth/iframe",DD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MD(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Yv(e,jD):`https://${t.config.authDomain}/${PD}`,r={apiKey:e.apiKey,appName:t.name,v:Ia},s=OD.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Ju(r).slice(1)}`}async function LD(t){const e=await AD(t),n=Is().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:MD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DD,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Cs(t,"network-request-failed"),d=Is().setTimeout(()=>{a(l)},RD.get());function h(){Is().clearTimeout(d),s(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FD=500,UD=600,zD="_blank",BD="http://localhost";class vE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WD(t,e,n,r=FD,s=UD){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h={...VD,width:r.toString(),height:s.toString(),top:a,left:l},p=Pn().toLowerCase();n&&(d=RS(p)?zD:n),NS(p)&&(e=e||BD,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[S,C])=>`${w}${S}=${C},`,"");if(dj(p)&&d!=="_self")return $D(e||"",d),new vE(null);const y=window.open(e||"",d,g);ze(y,t,"popup-blocked");try{y.focus()}catch{}return new vE(y)}function $D(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="__/auth/handler",qD="emulator/auth/handler",GD=encodeURIComponent("fac");async function yE(t,e,n,r,s,a){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ia,eventId:s};if(e instanceof zS){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",jP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof ed){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const d=l;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await t._getAppCheckToken(),p=h?`#${GD}=${encodeURIComponent(h)}`:"";return`${KD(t)}?${Ju(d).slice(1)}${p}`}function KD({config:t}){return t.emulator?Yv(t,qD):`https://${t.authDomain}/${HD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="webStorageSupport";class YD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GS,this._completeRedirectFn=wD,this._overrideRedirectResult=gD}async _openPopup(e,n,r,s){var l;vi((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await yE(e,n,r,Kg(),s);return WD(e,a,ey())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await yE(e,n,r,Kg(),s);return Jj(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(vi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LD(e),r=new _D(e);return n.register("authEvent",s=>(ze(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gg,{type:gg},s=>{var l;const a=(l=s==null?void 0:s[0])==null?void 0:l[gg];a!==void 0&&n(!!a),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MS()||AS()||Xv()}}const QD=YD;var wE="@firebase/auth",xE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZD(t){va(new po("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;ze(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LS(t)},p=new vj(r,s,a,h);return Ij(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),va(new po("auth-internal",e=>{const n=ac(e.getProvider("auth").getImmediate());return(r=>new XD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(wE,xE,JD(t)),Ts(wE,xE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=300,tO=mS("authIdTokenMaxAge")||eO;let _E=null;const nO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tO)return;const s=n==null?void 0:n.token;_E!==s&&(_E=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function rO(t=Gv()){const e=Yf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Cj(t,{popupRedirectResolver:QD,persistence:[aD,Yj,GS]}),r=mS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=nO(a.toString());$j(n,l,()=>l(n.currentUser)),Wj(n,d=>l(d))}}const s=dS("auth");return s&&kj(n,`http://${s}`),n}function sO(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}yj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Cs("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",sO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZD("Browser");var iO="firebase",oO="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(iO,oO,"app");var EE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uo,eT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,N){function P(){}P.prototype=N.prototype,I.F=N.prototype,I.prototype=new P,I.prototype.constructor=I,I.D=function(F,U,O){for(var A=Array(arguments.length-2),de=2;de<arguments.length;de++)A[de-2]=arguments[de];return N.prototype[U].apply(F,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,N,P){P||(P=0);const F=Array(16);if(typeof N=="string")for(var U=0;U<16;++U)F[U]=N.charCodeAt(P++)|N.charCodeAt(P++)<<8|N.charCodeAt(P++)<<16|N.charCodeAt(P++)<<24;else for(U=0;U<16;++U)F[U]=N[P++]|N[P++]<<8|N[P++]<<16|N[P++]<<24;N=I.g[0],P=I.g[1],U=I.g[2];let O=I.g[3],A;A=N+(O^P&(U^O))+F[0]+3614090360&4294967295,N=P+(A<<7&4294967295|A>>>25),A=O+(U^N&(P^U))+F[1]+3905402710&4294967295,O=N+(A<<12&4294967295|A>>>20),A=U+(P^O&(N^P))+F[2]+606105819&4294967295,U=O+(A<<17&4294967295|A>>>15),A=P+(N^U&(O^N))+F[3]+3250441966&4294967295,P=U+(A<<22&4294967295|A>>>10),A=N+(O^P&(U^O))+F[4]+4118548399&4294967295,N=P+(A<<7&4294967295|A>>>25),A=O+(U^N&(P^U))+F[5]+1200080426&4294967295,O=N+(A<<12&4294967295|A>>>20),A=U+(P^O&(N^P))+F[6]+2821735955&4294967295,U=O+(A<<17&4294967295|A>>>15),A=P+(N^U&(O^N))+F[7]+4249261313&4294967295,P=U+(A<<22&4294967295|A>>>10),A=N+(O^P&(U^O))+F[8]+1770035416&4294967295,N=P+(A<<7&4294967295|A>>>25),A=O+(U^N&(P^U))+F[9]+2336552879&4294967295,O=N+(A<<12&4294967295|A>>>20),A=U+(P^O&(N^P))+F[10]+4294925233&4294967295,U=O+(A<<17&4294967295|A>>>15),A=P+(N^U&(O^N))+F[11]+2304563134&4294967295,P=U+(A<<22&4294967295|A>>>10),A=N+(O^P&(U^O))+F[12]+1804603682&4294967295,N=P+(A<<7&4294967295|A>>>25),A=O+(U^N&(P^U))+F[13]+4254626195&4294967295,O=N+(A<<12&4294967295|A>>>20),A=U+(P^O&(N^P))+F[14]+2792965006&4294967295,U=O+(A<<17&4294967295|A>>>15),A=P+(N^U&(O^N))+F[15]+1236535329&4294967295,P=U+(A<<22&4294967295|A>>>10),A=N+(U^O&(P^U))+F[1]+4129170786&4294967295,N=P+(A<<5&4294967295|A>>>27),A=O+(P^U&(N^P))+F[6]+3225465664&4294967295,O=N+(A<<9&4294967295|A>>>23),A=U+(N^P&(O^N))+F[11]+643717713&4294967295,U=O+(A<<14&4294967295|A>>>18),A=P+(O^N&(U^O))+F[0]+3921069994&4294967295,P=U+(A<<20&4294967295|A>>>12),A=N+(U^O&(P^U))+F[5]+3593408605&4294967295,N=P+(A<<5&4294967295|A>>>27),A=O+(P^U&(N^P))+F[10]+38016083&4294967295,O=N+(A<<9&4294967295|A>>>23),A=U+(N^P&(O^N))+F[15]+3634488961&4294967295,U=O+(A<<14&4294967295|A>>>18),A=P+(O^N&(U^O))+F[4]+3889429448&4294967295,P=U+(A<<20&4294967295|A>>>12),A=N+(U^O&(P^U))+F[9]+568446438&4294967295,N=P+(A<<5&4294967295|A>>>27),A=O+(P^U&(N^P))+F[14]+3275163606&4294967295,O=N+(A<<9&4294967295|A>>>23),A=U+(N^P&(O^N))+F[3]+4107603335&4294967295,U=O+(A<<14&4294967295|A>>>18),A=P+(O^N&(U^O))+F[8]+1163531501&4294967295,P=U+(A<<20&4294967295|A>>>12),A=N+(U^O&(P^U))+F[13]+2850285829&4294967295,N=P+(A<<5&4294967295|A>>>27),A=O+(P^U&(N^P))+F[2]+4243563512&4294967295,O=N+(A<<9&4294967295|A>>>23),A=U+(N^P&(O^N))+F[7]+1735328473&4294967295,U=O+(A<<14&4294967295|A>>>18),A=P+(O^N&(U^O))+F[12]+2368359562&4294967295,P=U+(A<<20&4294967295|A>>>12),A=N+(P^U^O)+F[5]+4294588738&4294967295,N=P+(A<<4&4294967295|A>>>28),A=O+(N^P^U)+F[8]+2272392833&4294967295,O=N+(A<<11&4294967295|A>>>21),A=U+(O^N^P)+F[11]+1839030562&4294967295,U=O+(A<<16&4294967295|A>>>16),A=P+(U^O^N)+F[14]+4259657740&4294967295,P=U+(A<<23&4294967295|A>>>9),A=N+(P^U^O)+F[1]+2763975236&4294967295,N=P+(A<<4&4294967295|A>>>28),A=O+(N^P^U)+F[4]+1272893353&4294967295,O=N+(A<<11&4294967295|A>>>21),A=U+(O^N^P)+F[7]+4139469664&4294967295,U=O+(A<<16&4294967295|A>>>16),A=P+(U^O^N)+F[10]+3200236656&4294967295,P=U+(A<<23&4294967295|A>>>9),A=N+(P^U^O)+F[13]+681279174&4294967295,N=P+(A<<4&4294967295|A>>>28),A=O+(N^P^U)+F[0]+3936430074&4294967295,O=N+(A<<11&4294967295|A>>>21),A=U+(O^N^P)+F[3]+3572445317&4294967295,U=O+(A<<16&4294967295|A>>>16),A=P+(U^O^N)+F[6]+76029189&4294967295,P=U+(A<<23&4294967295|A>>>9),A=N+(P^U^O)+F[9]+3654602809&4294967295,N=P+(A<<4&4294967295|A>>>28),A=O+(N^P^U)+F[12]+3873151461&4294967295,O=N+(A<<11&4294967295|A>>>21),A=U+(O^N^P)+F[15]+530742520&4294967295,U=O+(A<<16&4294967295|A>>>16),A=P+(U^O^N)+F[2]+3299628645&4294967295,P=U+(A<<23&4294967295|A>>>9),A=N+(U^(P|~O))+F[0]+4096336452&4294967295,N=P+(A<<6&4294967295|A>>>26),A=O+(P^(N|~U))+F[7]+1126891415&4294967295,O=N+(A<<10&4294967295|A>>>22),A=U+(N^(O|~P))+F[14]+2878612391&4294967295,U=O+(A<<15&4294967295|A>>>17),A=P+(O^(U|~N))+F[5]+4237533241&4294967295,P=U+(A<<21&4294967295|A>>>11),A=N+(U^(P|~O))+F[12]+1700485571&4294967295,N=P+(A<<6&4294967295|A>>>26),A=O+(P^(N|~U))+F[3]+2399980690&4294967295,O=N+(A<<10&4294967295|A>>>22),A=U+(N^(O|~P))+F[10]+4293915773&4294967295,U=O+(A<<15&4294967295|A>>>17),A=P+(O^(U|~N))+F[1]+2240044497&4294967295,P=U+(A<<21&4294967295|A>>>11),A=N+(U^(P|~O))+F[8]+1873313359&4294967295,N=P+(A<<6&4294967295|A>>>26),A=O+(P^(N|~U))+F[15]+4264355552&4294967295,O=N+(A<<10&4294967295|A>>>22),A=U+(N^(O|~P))+F[6]+2734768916&4294967295,U=O+(A<<15&4294967295|A>>>17),A=P+(O^(U|~N))+F[13]+1309151649&4294967295,P=U+(A<<21&4294967295|A>>>11),A=N+(U^(P|~O))+F[4]+4149444226&4294967295,N=P+(A<<6&4294967295|A>>>26),A=O+(P^(N|~U))+F[11]+3174756917&4294967295,O=N+(A<<10&4294967295|A>>>22),A=U+(N^(O|~P))+F[2]+718787259&4294967295,U=O+(A<<15&4294967295|A>>>17),A=P+(O^(U|~N))+F[9]+3951481745&4294967295,I.g[0]=I.g[0]+N&4294967295,I.g[1]=I.g[1]+(U+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+U&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.v=function(I,N){N===void 0&&(N=I.length);const P=N-this.blockSize,F=this.C;let U=this.h,O=0;for(;O<N;){if(U==0)for(;O<=P;)s(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<N;)if(F[U++]=I.charCodeAt(O++),U==this.blockSize){s(this,F),U=0;break}}else for(;O<N;)if(F[U++]=I[O++],U==this.blockSize){s(this,F),U=0;break}}this.h=U,this.o+=N},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var N=1;N<I.length-8;++N)I[N]=0;N=this.o*8;for(var P=I.length-8;P<I.length;++P)I[P]=N&255,N/=256;for(this.v(I),I=Array(16),N=0,P=0;P<4;++P)for(let F=0;F<32;F+=8)I[N++]=this.g[P]>>>F&255;return I};function a(I,N){var P=d;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=N(I)}function l(I,N){this.h=N;const P=[];let F=!0;for(let U=I.length-1;U>=0;U--){const O=I[U]|0;F&&O==N||(P[U]=O,F=!1)}this.g=P}var d={};function h(I){return-128<=I&&I<128?a(I,function(N){return new l([N|0],N<0?-1:0)}):new l([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return y;if(I<0)return k(p(-I));const N=[];let P=1;for(let F=0;I>=P;F++)N[F]=I/P|0,P*=4294967296;return new l(N,0)}function g(I,N){if(I.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(I.charAt(0)=="-")return k(g(I.substring(1),N));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=p(Math.pow(N,8));let F=y;for(let O=0;O<I.length;O+=8){var U=Math.min(8,I.length-O);const A=parseInt(I.substring(O,O+U),N);U<8?(U=p(Math.pow(N,U)),F=F.j(U).add(p(A))):(F=F.j(P),F=F.add(p(A)))}return F}var y=h(0),w=h(1),S=h(16777216);t=l.prototype,t.m=function(){if(b(this))return-k(this).m();let I=0,N=1;for(let P=0;P<this.g.length;P++){const F=this.i(P);I+=(F>=0?F:4294967296+F)*N,N*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(b(this))return"-"+k(this).toString(I);const N=p(Math.pow(I,6));var P=this;let F="";for(;;){const U=B(P,N).g;P=M(P,U.j(N));let O=((P.g.length>0?P.g[0]:P.h)>>>0).toString(I);if(P=U,C(P))return O+F;for(;O.length<6;)O="0"+O;F=O+F}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(let N=0;N<I.g.length;N++)if(I.g[N]!=0)return!1;return!0}function b(I){return I.h==-1}t.l=function(I){return I=M(this,I),b(I)?-1:C(I)?0:1};function k(I){const N=I.g.length,P=[];for(let F=0;F<N;F++)P[F]=~I.g[F];return new l(P,~I.h).add(w)}t.abs=function(){return b(this)?k(this):this},t.add=function(I){const N=Math.max(this.g.length,I.g.length),P=[];let F=0;for(let U=0;U<=N;U++){let O=F+(this.i(U)&65535)+(I.i(U)&65535),A=(O>>>16)+(this.i(U)>>>16)+(I.i(U)>>>16);F=A>>>16,O&=65535,A&=65535,P[U]=A<<16|O}return new l(P,P[P.length-1]&-2147483648?-1:0)};function M(I,N){return I.add(k(N))}t.j=function(I){if(C(this)||C(I))return y;if(b(this))return b(I)?k(this).j(k(I)):k(k(this).j(I));if(b(I))return k(this.j(k(I)));if(this.l(S)<0&&I.l(S)<0)return p(this.m()*I.m());const N=this.g.length+I.g.length,P=[];for(var F=0;F<2*N;F++)P[F]=0;for(F=0;F<this.g.length;F++)for(let U=0;U<I.g.length;U++){const O=this.i(F)>>>16,A=this.i(F)&65535,de=I.i(U)>>>16,Z=I.i(U)&65535;P[2*F+2*U]+=A*Z,V(P,2*F+2*U),P[2*F+2*U+1]+=O*Z,V(P,2*F+2*U+1),P[2*F+2*U+1]+=A*de,V(P,2*F+2*U+1),P[2*F+2*U+2]+=O*de,V(P,2*F+2*U+2)}for(I=0;I<N;I++)P[I]=P[2*I+1]<<16|P[2*I];for(I=N;I<2*N;I++)P[I]=0;return new l(P,0)};function V(I,N){for(;(I[N]&65535)!=I[N];)I[N+1]+=I[N]>>>16,I[N]&=65535,N++}function j(I,N){this.g=I,this.h=N}function B(I,N){if(C(N))throw Error("division by zero");if(C(I))return new j(y,y);if(b(I))return N=B(k(I),N),new j(k(N.g),k(N.h));if(b(N))return N=B(I,k(N)),new j(k(N.g),N.h);if(I.g.length>30){if(b(I)||b(N))throw Error("slowDivide_ only works with positive integers.");for(var P=w,F=N;F.l(I)<=0;)P=D(P),F=D(F);var U=W(P,1),O=W(F,1);for(F=W(F,2),P=W(P,2);!C(F);){var A=O.add(F);A.l(I)<=0&&(U=U.add(P),O=A),F=W(F,1),P=W(P,1)}return N=M(I,U.j(N)),new j(U,N)}for(U=y;I.l(N)>=0;){for(P=Math.max(1,Math.floor(I.m()/N.m())),F=Math.ceil(Math.log(P)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),O=p(P),A=O.j(N);b(A)||A.l(I)>0;)P-=F,O=p(P),A=O.j(N);C(O)&&(O=w),U=U.add(O),I=M(I,A)}return new j(U,I)}t.B=function(I){return B(this,I).h},t.and=function(I){const N=Math.max(this.g.length,I.g.length),P=[];for(let F=0;F<N;F++)P[F]=this.i(F)&I.i(F);return new l(P,this.h&I.h)},t.or=function(I){const N=Math.max(this.g.length,I.g.length),P=[];for(let F=0;F<N;F++)P[F]=this.i(F)|I.i(F);return new l(P,this.h|I.h)},t.xor=function(I){const N=Math.max(this.g.length,I.g.length),P=[];for(let F=0;F<N;F++)P[F]=this.i(F)^I.i(F);return new l(P,this.h^I.h)};function D(I){const N=I.g.length+1,P=[];for(let F=0;F<N;F++)P[F]=I.i(F)<<1|I.i(F-1)>>>31;return new l(P,I.h)}function W(I,N){const P=N>>5;N%=32;const F=I.g.length-P,U=[];for(let O=0;O<F;O++)U[O]=N>0?I.i(O+P)>>>N|I.i(O+P+1)<<32-N:I.i(O+P);return new l(U,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,eT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,uo=l}).apply(typeof EE<"u"?EE:typeof self<"u"?self:typeof window<"u"?window:{});var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tT,gu,nT,ef,Xg,rT,sT,iT;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof jh=="object"&&jh];for(var E=0;E<f.length;++E){var T=f[E];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(f,E){if(E)e:{var T=r;f=f.split(".");for(var L=0;L<f.length-1;L++){var Y=f[L];if(!(Y in T))break e;T=T[Y]}f=f[f.length-1],L=T[f],E=E(L),E!=L&&E!=null&&e(T,f,{configurable:!0,writable:!0,value:E})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(E){var T=[],L;for(L in E)Object.prototype.hasOwnProperty.call(E,L)&&T.push([L,E[L]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function d(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function h(f,E,T){return f.call.apply(f.bind,arguments)}function p(f,E,T){return p=h,p.apply(null,arguments)}function g(f,E){var T=Array.prototype.slice.call(arguments,1);return function(){var L=T.slice();return L.push.apply(L,arguments),f.apply(this,L)}}function y(f,E){function T(){}T.prototype=E.prototype,f.Z=E.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(L,Y,J){for(var pe=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)pe[Ye-2]=arguments[Ye];return E.prototype[Y].apply(L,pe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const E=f.length;if(E>0){const T=Array(E);for(let L=0;L<E;L++)T[L]=f[L];return T}return[]}function C(f,E){for(let L=1;L<arguments.length;L++){const Y=arguments[L];var T=typeof Y;if(T=T!="object"?T:Y?Array.isArray(Y)?"array":T:"null",T=="array"||T=="object"&&typeof Y.length=="number"){T=f.length||0;const J=Y.length||0;f.length=T+J;for(let pe=0;pe<J;pe++)f[T+pe]=Y[pe]}else f.push(Y)}}class b{constructor(E,T){this.i=E,this.j=T,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function k(f){l.setTimeout(()=>{throw f},0)}function M(){var f=I;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class V{constructor(){this.h=this.g=null}add(E,T){const L=j.get();L.set(E,T),this.h?this.h.next=L:this.g=L,this.h=L}}var j=new b(()=>new B,f=>f.reset());class B{constructor(){this.next=this.g=this.h=null}set(E,T){this.h=E,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let D,W=!1,I=new V,N=()=>{const f=Promise.resolve(void 0);D=()=>{f.then(P)}};function P(){for(var f;f=M();){try{f.h.call(f.g)}catch(T){k(T)}var E=j;E.j(f),E.h<100&&(E.h++,f.next=E.g,E.g=f)}W=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};l.addEventListener("test",T,E),l.removeEventListener("test",T,E)}catch{}return f})();function A(f){return/^[\s\xa0]*$/.test(f)}function de(f,E){U.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,E)}y(de,U),de.prototype.init=function(f,E){const T=this.type=f.type,L=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget,E||(T=="mouseover"?E=f.fromElement:T=="mouseout"&&(E=f.toElement)),this.relatedTarget=E,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Z="closure_listenable_"+(Math.random()*1e6|0),me=0;function ee(f,E,T,L,Y){this.listener=f,this.proxy=null,this.src=E,this.type=T,this.capture=!!L,this.ha=Y,this.key=++me,this.da=this.fa=!1}function H(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function re(f,E,T){for(const L in f)E.call(T,f[L],L,f)}function se(f,E){for(const T in f)E.call(void 0,f[T],T,f)}function q(f){const E={};for(const T in f)E[T]=f[T];return E}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(f,E){let T,L;for(let Y=1;Y<arguments.length;Y++){L=arguments[Y];for(T in L)f[T]=L[T];for(let J=0;J<te.length;J++)T=te[J],Object.prototype.hasOwnProperty.call(L,T)&&(f[T]=L[T])}}function we(f){this.src=f,this.g={},this.h=0}we.prototype.add=function(f,E,T,L,Y){const J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);const pe=De(f,E,L,Y);return pe>-1?(E=f[pe],T||(E.fa=!1)):(E=new ee(E,this.src,J,!!L,Y),E.fa=T,f.push(E)),E};function Me(f,E){const T=E.type;if(T in f.g){var L=f.g[T],Y=Array.prototype.indexOf.call(L,E,void 0),J;(J=Y>=0)&&Array.prototype.splice.call(L,Y,1),J&&(H(E),f.g[T].length==0&&(delete f.g[T],f.h--))}}function De(f,E,T,L){for(let Y=0;Y<f.length;++Y){const J=f[Y];if(!J.da&&J.listener==E&&J.capture==!!T&&J.ha==L)return Y}return-1}var le="closure_lm_"+(Math.random()*1e6|0),Ee={};function Pe(f,E,T,L,Y){if(Array.isArray(E)){for(let J=0;J<E.length;J++)Pe(f,E[J],T,L,Y);return null}return T=Jt(T),f&&f[Z]?f.J(E,T,d(L)?!!L.capture:!1,Y):Ue(f,E,T,!1,L,Y)}function Ue(f,E,T,L,Y,J){if(!E)throw Error("Invalid event type");const pe=d(Y)?!!Y.capture:!!Y;let Ye=ct(f);if(Ye||(f[le]=Ye=new we(f)),T=Ye.add(E,T,L,pe,J),T.proxy)return T;if(L=Xe(),T.proxy=L,L.src=f,L.listener=T,f.addEventListener)O||(Y=pe),Y===void 0&&(Y=!1),f.addEventListener(E.toString(),L,Y);else if(f.attachEvent)f.attachEvent(Re(E.toString()),L);else if(f.addListener&&f.removeListener)f.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Xe(){function f(T){return E.call(f.src,f.listener,T)}const E=pt;return f}function Je(f,E,T,L,Y){if(Array.isArray(E))for(var J=0;J<E.length;J++)Je(f,E[J],T,L,Y);else L=d(L)?!!L.capture:!!L,T=Jt(T),f&&f[Z]?(f=f.i,J=String(E).toString(),J in f.g&&(E=f.g[J],T=De(E,T,L,Y),T>-1&&(H(E[T]),Array.prototype.splice.call(E,T,1),E.length==0&&(delete f.g[J],f.h--)))):f&&(f=ct(f))&&(E=f.g[E.toString()],f=-1,E&&(f=De(E,T,L,Y)),(T=f>-1?E[f]:null)&&ce(T))}function ce(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[Z])Me(E.i,f);else{var T=f.type,L=f.proxy;E.removeEventListener?E.removeEventListener(T,L,f.capture):E.detachEvent?E.detachEvent(Re(T),L):E.addListener&&E.removeListener&&E.removeListener(L),(T=ct(E))?(Me(T,f),T.h==0&&(T.src=null,E[le]=null)):H(f)}}}function Re(f){return f in Ee?Ee[f]:Ee[f]="on"+f}function pt(f,E){if(f.da)f=!0;else{E=new de(E,this);const T=f.listener,L=f.ha||f.src;f.fa&&ce(f),f=T.call(L,E)}return f}function ct(f){return f=f[le],f instanceof we?f:null}var vt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jt(f){return typeof f=="function"?f:(f[vt]||(f[vt]=function(E){return f.handleEvent(E)}),f[vt])}function tt(){F.call(this),this.i=new we(this),this.M=this,this.G=null}y(tt,F),tt.prototype[Z]=!0,tt.prototype.removeEventListener=function(f,E,T,L){Je(this,f,E,T,L)};function _t(f,E){var T,L=f.G;if(L)for(T=[];L;L=L.G)T.push(L);if(f=f.M,L=E.type||E,typeof E=="string")E=new U(E,f);else if(E instanceof U)E.target=E.target||f;else{var Y=E;E=new U(L,f),ye(E,Y)}Y=!0;let J,pe;if(T)for(pe=T.length-1;pe>=0;pe--)J=E.g=T[pe],Y=Nt(J,L,!0,E)&&Y;if(J=E.g=f,Y=Nt(J,L,!0,E)&&Y,Y=Nt(J,L,!1,E)&&Y,T)for(pe=0;pe<T.length;pe++)J=E.g=T[pe],Y=Nt(J,L,!1,E)&&Y}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var f=this.i;for(const E in f.g){const T=f.g[E];for(let L=0;L<T.length;L++)H(T[L]);delete f.g[E],f.h--}}this.G=null},tt.prototype.J=function(f,E,T,L){return this.i.add(String(f),E,!1,T,L)},tt.prototype.K=function(f,E,T,L){return this.i.add(String(f),E,!0,T,L)};function Nt(f,E,T,L){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();let Y=!0;for(let J=0;J<E.length;++J){const pe=E[J];if(pe&&!pe.da&&pe.capture==T){const Ye=pe.listener,Ht=pe.ha||pe.src;pe.fa&&Me(f.i,pe),Y=Ye.call(Ht,L)!==!1&&Y}}return Y&&!L.defaultPrevented}function kr(f,E){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:l.setTimeout(f,E||0)}function cr(f){f.g=kr(()=>{f.g=null,f.i&&(f.i=!1,cr(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class ki extends F{constructor(E,T){super(),this.m=E,this.l=T,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:cr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(f){F.call(this),this.h=f,this.g={}}y(Qr,F);var Vo=[];function Ni(f){re(f.g,function(E,T){this.g.hasOwnProperty(T)&&ce(E)},f),f.g={}}Qr.prototype.N=function(){Qr.Z.N.call(this),Ni(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xr=l.JSON.stringify,Fa=l.JSON.parse,Ws=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function Jr(){}function Ua(){}var Zr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ai(){U.call(this,"d")}y(Ai,U);function Fo(){U.call(this,"c")}y(Fo,U);var Ln={},Ri=null;function Nr(){return Ri=Ri||new tt}Ln.Ia="serverreachability";function Ke(f){U.call(this,Ln.Ia,f)}y(Ke,U);function ut(f){const E=Nr();_t(E,new Ke(E))}Ln.STAT_EVENT="statevent";function Ze(f,E){U.call(this,Ln.STAT_EVENT,f),this.stat=E}y(Ze,U);function wt(f){const E=Nr();_t(E,new Ze(E,f))}Ln.Ja="timingevent";function mn(f,E){U.call(this,Ln.Ja,f),this.size=E}y(mn,U);function Gn(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},E)}function At(){this.g=!0}At.prototype.ua=function(){this.g=!1};function jn(f,E,T,L,Y,J){f.info(function(){if(f.g)if(J){var pe="",Ye=J.split("&");for(let St=0;St<Ye.length;St++){var Ht=Ye[St].split("=");if(Ht.length>1){const Kt=Ht[0];Ht=Ht[1];const Zn=Kt.split("_");pe=Zn.length>=2&&Zn[1]=="type"?pe+(Kt+"="+Ht+"&"):pe+(Kt+"=redacted&")}}}else pe=null;else pe=J;return"XMLHTTP REQ ("+L+") [attempt "+Y+"]: "+E+`
`+T+`
`+pe})}function dt(f,E,T,L,Y,J,pe){f.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+Y+"]: "+E+`
`+T+`
`+J+" "+pe})}function ur(f,E,T,L){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+$s(f,T)+(L?" "+L:"")})}function za(f,E){f.info(function(){return"TIMEOUT: "+E})}At.prototype.info=function(){};function $s(f,E){if(!f.g)return E;if(!E)return null;try{const J=JSON.parse(E);if(J){for(f=0;f<J.length;f++)if(Array.isArray(J[f])){var T=J[f];if(!(T.length<2)){var L=T[1];if(Array.isArray(L)&&!(L.length<1)){var Y=L[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let pe=1;pe<L.length;pe++)L[pe]=""}}}}return Xr(J)}catch{return E}}var dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ed;function Hs(){}y(Hs,Jr),Hs.prototype.g=function(){return new XMLHttpRequest},Ed=new Hs;function es(f){return encodeURIComponent(String(f))}function Ba(f){var E=1;f=f.split(":");const T=[];for(;E>0&&f.length;)T.push(f.shift()),E--;return f.length&&T.push(f.join(":")),T}function fr(f,E,T,L){this.j=f,this.i=E,this.l=T,this.S=L||1,this.V=new Qr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bd}function bd(){this.i=null,this.g="",this.h=!1}var Sd={},bc={};function Ar(f,E,T){f.M=1,f.A=Gs(mr(E)),f.u=T,f.R=!0,Sc(f,null)}function Sc(f,E){f.F=Date.now(),Uo(f),f.B=mr(f.A);var T=f.B,L=f.S;Array.isArray(L)||(L=[String(L)]),Dc(T.i,"t",L),f.C=0,T=f.j.L,f.h=new bd,f.g=Dd(f.j,T?E:null,!f.u),f.P>0&&(f.O=new ki(p(f.Y,f,f.g),f.P)),E=f.V,T=f.g,L=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Vo[0]=Y.toString()),Y=Vo);for(let J=0;J<Y.length;J++){const pe=Pe(T,Y[J],L||E.handleEvent,!1,E.h||E);if(!pe)break;E.g[pe.key]=pe}E=f.J?q(f.J):{},f.u?(f.v||(f.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,E)):(f.v="GET",f.g.ea(f.B,f.v,null,E)),ut(),jn(f.i,f.v,f.B,f.l,f.S,f.u)}fr.prototype.ba=function(f){f=f.target;const E=this.O;E&&as(f)==3?E.j():this.Y(f)},fr.prototype.Y=function(f){try{if(f==this.g)e:{const Ye=as(this.g),Ht=this.g.ya(),St=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||Pd(this.g)))){this.K||Ye!=4||Ht==7||(Ht==8||St<=0?ut(3):ut(2)),Wa(this);var E=this.g.ca();this.X=E;var T=Td(this);if(this.o=E==200,dt(this.i,this.v,this.B,this.l,this.S,Ye,E),this.o){if(this.U&&!this.L){t:{if(this.g){var L,Y=this.g;if((L=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(L)){var J=L;break t}}J=null}if(f=J)ur(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Rt(this,f);else{this.o=!1,this.m=3,wt(12),qs(this),zo(this);break e}}if(this.R){f=!0;let Kt;for(;!this.K&&this.C<T.length;)if(Kt=Id(this,T),Kt==bc){Ye==4&&(this.m=4,wt(14),f=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==Sd){this.m=4,wt(15),ur(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else ur(this.i,this.l,Kt,null),Rt(this,Kt);if(Cd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||T.length!=0||this.h.h||(this.m=1,wt(16),f=!1),this.o=this.o&&f,!f)ur(this.i,this.l,T,"[Invalid Chunked Response]"),qs(this),zo(this);else if(T.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Qo(pe),pe.P=!0,wt(11))}}else ur(this.i,this.l,T,null),Rt(this,T);Ye==4&&qs(this),this.o&&!this.K&&(Ye==4?Za(this.j,this):(this.o=!1,Uo(this)))}else Mc(this.g),E==400&&T.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),qs(this),zo(this)}}}catch{}finally{}};function Td(f){if(!Cd(f))return f.g.la();const E=Pd(f.g);if(E==="")return"";let T="";const L=E.length,Y=as(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return qs(f),zo(f),"";f.h.i=new l.TextDecoder}for(let J=0;J<L;J++)f.h.h=!0,T+=f.h.i.decode(E[J],{stream:!(Y&&J==L-1)});return E.length=0,f.h.g+=T,f.C=0,f.h.g}function Cd(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Id(f,E){var T=f.C,L=E.indexOf(`
`,T);return L==-1?bc:(T=Number(E.substring(T,L)),isNaN(T)?Sd:(L+=1,L+T>E.length?bc:(E=E.slice(L,L+T),f.C=L+T,E)))}fr.prototype.cancel=function(){this.K=!0,qs(this)};function Uo(f){f.T=Date.now()+f.H,Tc(f,f.H)}function Tc(f,E){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Gn(p(f.aa,f),E)}function Wa(f){f.D&&(l.clearTimeout(f.D),f.D=null)}fr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(za(this.i,this.B),this.M!=2&&(ut(),wt(17)),qs(this),this.m=2,zo(this)):Tc(this,this.T-f)};function zo(f){f.j.I==0||f.K||Za(f.j,f)}function qs(f){Wa(f);var E=f.O;E&&typeof E.dispose=="function"&&E.dispose(),f.O=null,Ni(f.V),f.g&&(E=f.g,f.g=null,E.abort(),E.dispose())}function Rt(f,E){try{var T=f.j;if(T.I!=0&&(T.g==f||Ic(T.h,f))){if(!f.L&&Ic(T.h,f)&&T.I==3){try{var L=T.Ba.g.parse(E)}catch{L=null}if(Array.isArray(L)&&L.length==3){var Y=L;if(Y[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)Ja(T),Xn(T);else break e;us(T),wt(18)}}else T.xa=Y[1],0<T.xa-T.K&&Y[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Gn(p(T.Va,T),6e3));Bo(T.h)<=1&&T.ta&&(T.ta=void 0)}else Jn(T,11)}else if((f.L||T.g==f)&&Ja(T),!A(E))for(Y=T.Ba.g.parse(E),E=0;E<Y.length;E++){let St=Y[E];const Kt=St[0];if(!(Kt<=T.K))if(T.K=Kt,St=St[1],T.I==2)if(St[0]=="c"){T.M=St[1],T.ba=St[2];const Zn=St[3];Zn!=null&&(T.ka=Zn,T.j.info("VER="+T.ka));const Js=St[4];Js!=null&&(T.za=Js,T.j.info("SVER="+T.za));const ds=St[5];ds!=null&&typeof ds=="number"&&ds>0&&(L=1.5*ds,T.O=L,T.j.info("backChannelRequestTimeoutMs_="+L)),L=T;const hs=f.g;if(hs){const nl=hs.g?hs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nl){var J=L.h;J.g||nl.indexOf("spdy")==-1&&nl.indexOf("quic")==-1&&nl.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ha(J,J.h),J.h=null))}if(L.G){const Fc=hs.g?hs.g.getResponseHeader("X-HTTP-Session-Id"):null;Fc&&(L.wa=Fc,xt(L.J,L.G,Fc))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),L=T;var pe=f;if(L.na=Vc(L,L.L?L.ba:null,L.W),pe.L){Wo(L.h,pe);var Ye=pe,Ht=L.O;Ht&&(Ye.H=Ht),Ye.D&&(Wa(Ye),Uo(Ye)),L.g=pe}else bn(L);T.i.length>0&&Xs(T)}else St[0]!="stop"&&St[0]!="close"||Jn(T,7);else T.I==3&&(St[0]=="stop"||St[0]=="close"?St[0]=="stop"?Jn(T,7):Qa(T):St[0]!="noop"&&T.l&&T.l.qa(St),T.A=0)}}ut(4)}catch{}}var jm=class{constructor(f,E){this.g=f,this.map=E}};function $a(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Bo(f){return f.h?1:f.g?f.g.size:0}function Ic(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function Ha(f,E){f.g?f.g.add(E):f.h=E}function Wo(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}$a.prototype.cancel=function(){if(this.i=Kn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Kn(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const T of f.g.values())E=E.concat(T.G);return E}return S(f.i)}var kd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yn(f,E){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const L=f[T].indexOf("=");let Y,J=null;L>=0?(Y=f[T].substring(0,L),J=f[T].substring(L+1)):Y=f[T],E(Y,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function ts(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;f instanceof ts?(this.l=f.l,$o(this,f.j),this.o=f.o,this.g=f.g,ns(this,f.u),this.h=f.h,Pi(this,Oc(f.i)),this.m=f.m):f&&(E=String(f).match(kd))?(this.l=!1,$o(this,E[1]||"",!0),this.o=Ho(E[2]||""),this.g=Ho(E[3]||"",!0),ns(this,E[4]),this.h=Ho(E[5]||"",!0),Pi(this,E[6]||"",!0),this.m=Ho(E[7]||"")):(this.l=!1,this.i=new lt(null,this.l))}ts.prototype.toString=function(){const f=[];var E=this.j;E&&f.push(qo(E,Nc,!0),":");var T=this.g;return(T||E=="file")&&(f.push("//"),(E=this.o)&&f.push(qo(E,Nc,!0),"@"),f.push(es(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(qo(T,T.charAt(0)=="/"?Go:Ac,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",qo(T,Rc)),f.join("")},ts.prototype.resolve=function(f){const E=mr(this);let T=!!f.j;T?$o(E,f.j):T=!!f.o,T?E.o=f.o:T=!!f.g,T?E.g=f.g:T=f.u!=null;var L=f.h;if(T)ns(E,f.u);else if(T=!!f.h){if(L.charAt(0)!="/")if(this.g&&!this.h)L="/"+L;else{var Y=E.h.lastIndexOf("/");Y!=-1&&(L=E.h.slice(0,Y+1)+L)}if(Y=L,Y==".."||Y==".")L="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){L=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const J=[];for(let pe=0;pe<Y.length;){const Ye=Y[pe++];Ye=="."?L&&pe==Y.length&&J.push(""):Ye==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),L&&pe==Y.length&&J.push("")):(J.push(Ye),L=!0)}L=J.join("/")}else L=Y}return T?E.h=L:T=f.i.toString()!=="",T?Pi(E,Oc(f.i)):T=!!f.m,T&&(E.m=f.m),E};function mr(f){return new ts(f)}function $o(f,E,T){f.j=T?Ho(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function ns(f,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);f.u=E}else f.u=null}function Pi(f,E,T){E instanceof lt?(f.i=E,Ga(f.i,f.l)):(T||(E=qo(E,Dm)),f.i=new lt(E,f.l))}function xt(f,E,T){f.i.set(E,T)}function Gs(f){return xt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ho(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function qo(f,E,T){return typeof f=="string"?(f=encodeURI(f).replace(E,kc),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function kc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Nc=/[#\/\?@]/g,Ac=/[#\?:]/g,Go=/[#\?]/g,Dm=/[#\?@]/g,Rc=/#/g;function lt(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function rs(f){f.g||(f.g=new Map,f.h=0,f.i&&Yn(f.i,function(E,T){f.add(decodeURIComponent(E.replace(/\+/g," ")),T)}))}t=lt.prototype,t.add=function(f,E){rs(this),this.i=null,f=ss(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(E),this.h+=1,this};function Pc(f,E){rs(f),E=ss(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function qa(f,E){return rs(f),E=ss(f,E),f.g.has(E)}t.forEach=function(f,E){rs(this),this.g.forEach(function(T,L){T.forEach(function(Y){f.call(E,Y,L,this)},this)},this)};function jc(f,E){rs(f);let T=[];if(typeof E=="string")qa(f,E)&&(T=T.concat(f.g.get(ss(f,E))));else for(f=Array.from(f.g.values()),E=0;E<f.length;E++)T=T.concat(f[E]);return T}t.set=function(f,E){return rs(this),this.i=null,f=ss(this,f),qa(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},t.get=function(f,E){return f?(f=jc(this,f),f.length>0?String(f[0]):E):E};function Dc(f,E,T){Pc(f,E),T.length>0&&(f.i=null,f.g.set(ss(f,E),S(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(let L=0;L<E.length;L++){var T=E[L];const Y=es(T);T=jc(this,T);for(let J=0;J<T.length;J++){let pe=Y;T[J]!==""&&(pe+="="+es(T[J])),f.push(pe)}}return this.i=f.join("&")};function Oc(f){const E=new lt;return E.i=f.i,f.g&&(E.g=new Map(f.g),E.h=f.h),E}function ss(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function Ga(f,E){E&&!f.j&&(rs(f),f.i=null,f.g.forEach(function(T,L){const Y=L.toLowerCase();L!=Y&&(Pc(this,L),Dc(this,Y,T))},f)),f.j=E}function is(f,E){const T=new At;if(l.Image){const L=new Image;L.onload=g(pn,T,"TestLoadImage: loaded",!0,E,L),L.onerror=g(pn,T,"TestLoadImage: error",!1,E,L),L.onabort=g(pn,T,"TestLoadImage: abort",!1,E,L),L.ontimeout=g(pn,T,"TestLoadImage: timeout",!1,E,L),l.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=f}else E(!1)}function os(f,E){const T=new At,L=new AbortController,Y=setTimeout(()=>{L.abort(),pn(T,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:L.signal}).then(J=>{clearTimeout(Y),J.ok?pn(T,"TestPingServer: ok",!0,E):pn(T,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),pn(T,"TestPingServer: error",!1,E)})}function pn(f,E,T,L,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),L(T)}catch{}}function Ko(){this.g=new Ws}function Ks(f){this.i=f.Sb||null,this.h=f.ab||!1}y(Ks,Jr),Ks.prototype.g=function(){return new Qn(this.i,this.h)};function Qn(f,E){tt.call(this),this.H=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Qn,tt),t=Qn.prototype,t.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=E,this.readyState=1,Rr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(E.body=f),(this.H||l).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ji(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Nd(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Nd(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?ji(this):Rr(this),this.readyState==3&&Nd(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ji(this))},t.Na=function(f){this.g&&(this.response=f,ji(this))},t.ga=function(){this.g&&ji(this)};function ji(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Rr(f)}t.setRequestHeader=function(f,E){this.A.append(f,E)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var T=E.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=E.next();return f.join(`\r
`)};function Rr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Qn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ad(f){let E="";return re(f,function(T,L){E+=L,E+=":",E+=T,E+=`\r
`}),E}function Ka(f,E,T){e:{for(L in T){var L=!1;break e}L=!0}L||(T=Ad(T),typeof f=="string"?T!=null&&es(T):xt(f,E,T))}function It(f){tt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(It,tt);var Rd=/^https?$/i,Om=["POST","PUT"];t=It.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,E,T,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ed.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(J){Di(this,J);return}if(f=T||"",T=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var Y in L)T.set(Y,L[Y]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const J of L.keys())T.set(J,L.get(J));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),Y=l.FormData&&f instanceof l.FormData,!(Array.prototype.indexOf.call(Om,E,void 0)>=0)||L||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,pe]of T)this.g.setRequestHeader(J,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(J){Di(this,J)}};function Di(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.o=5,Oi(f),Qs(f)}function Oi(f){f.A||(f.A=!0,_t(f,"complete"),_t(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,_t(this,"complete"),_t(this,"abort"),Qs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qs(this,!0)),It.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ys(this):this.Xa())},t.Xa=function(){Ys(this)};function Ys(f){if(f.h&&typeof a<"u"){if(f.v&&as(f)==4)setTimeout(f.Ca.bind(f),0);else if(_t(f,"readystatechange"),as(f)==4){f.h=!1;try{const J=f.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var T;if(!(T=E)){var L;if(L=J===0){let pe=String(f.D).match(kd)[1]||null;!pe&&l.self&&l.self.location&&(pe=l.self.location.protocol.slice(0,-1)),L=!Rd.test(pe?pe.toLowerCase():"")}T=L}if(T)_t(f,"complete"),_t(f,"success");else{f.o=6;try{var Y=as(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",Oi(f)}}finally{Qs(f)}}}}function Qs(f,E){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,E||_t(f,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function as(f){return f.g?f.g.readyState:0}t.ca=function(){try{return as(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),Fa(E)}};function Pd(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Mc(f){const E={};f=(f.g&&as(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<f.length;L++){if(A(f[L]))continue;var T=Ba(f[L]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=E[Y]||[];E[Y]=J,J.push(T)}se(E,function(L){return L.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(f,E,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||E}function Ya(f){this.za=0,this.i=[],this.j=new At,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ls("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ls("baseRetryDelayMs",5e3,f),this.Za=ls("retryDelaySeedMs",1e4,f),this.Ta=ls("forwardChannelMaxRetries",2,f),this.va=ls("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new $a(f&&f.concurrentRequestLimit),this.Ba=new Ko,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ya.prototype,t.ka=8,t.I=1,t.connect=function(f,E,T,L){wt(0),this.W=f,this.H=E||{},T&&L!==void 0&&(this.H.OSID=T,this.H.OAID=L),this.F=this.X,this.J=Vc(this,null,this.W),Xs(this)};function Qa(f){if(Xa(f),f.I==3){var E=f.V++,T=mr(f.J);if(xt(T,"SID",f.M),xt(T,"RID",E),xt(T,"TYPE","terminate"),cs(f,T),E=new fr(f,f.j,E),E.M=2,E.A=Gs(mr(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(E.A.toString(),"")}catch{}!T&&l.Image&&(new Image().src=E.A,T=!0),T||(E.g=Dd(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Uo(E)}Xo(f)}function Xn(f){f.g&&(Qo(f),f.g.cancel(),f.g=null)}function Xa(f){Xn(f),f.v&&(l.clearTimeout(f.v),f.v=null),Ja(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&l.clearTimeout(f.m),f.m=null)}function Xs(f){if(!Cc(f.h)&&!f.m){f.m=!0;var E=f.Ea;D||N(),W||(D(),W=!0),I.add(E,f),f.D=0}}function jd(f,E){return Bo(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=E.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Gn(p(f.Ea,f,E),el(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new fr(this,this.j,f);let J=this.o;if(this.U&&(J?(J=q(J),ye(J,this.U)):J=this.U),this.u!==null||this.R||(Y.J=J,J=null),this.S)e:{for(var E=0,T=0;T<this.i.length;T++){t:{var L=this.i[T];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(E+=L,E>4096){E=T;break e}if(E===4096||T===this.i.length-1){E=T+1;break e}}E=1e3}else E=1e3;E=Lc(this,Y,E),T=mr(this.J),xt(T,"RID",f),xt(T,"CVER",22),this.G&&xt(T,"X-HTTP-Session-Id",this.G),cs(this,T),J&&(this.R?E="headers="+es(Ad(J))+"&"+E:this.u&&Ka(T,this.u,J)),Ha(this.h,Y),this.Ra&&xt(T,"TYPE","init"),this.S?(xt(T,"$req",E),xt(T,"SID","null"),Y.U=!0,Ar(Y,T,null)):Ar(Y,T,E),this.I=2}}else this.I==3&&(f?Yo(this,f):this.i.length==0||Cc(this.h)||Yo(this))};function Yo(f,E){var T;E?T=E.l:T=f.V++;const L=mr(f.J);xt(L,"SID",f.M),xt(L,"RID",T),xt(L,"AID",f.K),cs(f,L),f.u&&f.o&&Ka(L,f.u,f.o),T=new fr(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),E&&(f.i=E.G.concat(f.i)),E=Lc(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Ha(f.h,T),Ar(T,L,E)}function cs(f,E){f.H&&re(f.H,function(T,L){xt(E,L,T)}),f.l&&re({},function(T,L){xt(E,L,T)})}function Lc(f,E,T){T=Math.min(f.i.length,T);const L=f.l?p(f.l.Ka,f.l,f):null;e:{var Y=f.i;let Ye=-1;for(;;){const Ht=["count="+T];Ye==-1?T>0?(Ye=Y[0].g,Ht.push("ofs="+Ye)):Ye=0:Ht.push("ofs="+Ye);let St=!0;for(let Kt=0;Kt<T;Kt++){var J=Y[Kt].g;const Zn=Y[Kt].map;if(J-=Ye,J<0)Ye=Math.max(0,Y[Kt].g-100),St=!1;else try{J="req"+J+"_"||"";try{var pe=Zn instanceof Map?Zn:Object.entries(Zn);for(const[Js,ds]of pe){let hs=ds;d(ds)&&(hs=Xr(ds)),Ht.push(J+Js+"="+encodeURIComponent(hs))}}catch(Js){throw Ht.push(J+"type="+encodeURIComponent("_badmap")),Js}}catch{L&&L(Zn)}}if(St){pe=Ht.join("&");break e}}pe=void 0}return f=f.i.splice(0,T),E.G=f,pe}function bn(f){if(!f.g&&!f.v){f.Y=1;var E=f.Da;D||N(),W||(D(),W=!0),I.add(E,f),f.A=0}}function us(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Gn(p(f.Da,f),el(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Mi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Gn(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Xn(this),Mi(this))};function Qo(f){f.B!=null&&(l.clearTimeout(f.B),f.B=null)}function Mi(f){f.g=new fr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var E=mr(f.na);xt(E,"RID","rpc"),xt(E,"SID",f.M),xt(E,"AID",f.K),xt(E,"CI",f.F?"0":"1"),!f.F&&f.ia&&xt(E,"TO",f.ia),xt(E,"TYPE","xmlhttp"),cs(f,E),f.u&&f.o&&Ka(E,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=Gs(mr(E)),T.u=null,T.R=!0,Sc(T,f)}t.Va=function(){this.C!=null&&(this.C=null,Xn(this),us(this),wt(19))};function Ja(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function Za(f,E){var T=null;if(f.g==E){Ja(f),Qo(f),f.g=null;var L=2}else if(Ic(f.h,E))T=E.G,Wo(f.h,E),L=1;else return;if(f.I!=0){if(E.o)if(L==1){T=E.u?E.u.length:0,E=Date.now()-E.F;var Y=f.D;L=Nr(),_t(L,new mn(L,T)),Xs(f)}else bn(f);else if(Y=E.m,Y==3||Y==0&&E.X>0||!(L==1&&jd(f,E)||L==2&&us(f)))switch(T&&T.length>0&&(E=f.h,E.i=E.i.concat(T)),Y){case 1:Jn(f,5);break;case 4:Jn(f,10);break;case 3:Jn(f,6);break;default:Jn(f,2)}}}function el(f,E){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*E}function Jn(f,E){if(f.j.info("Error code "+E),E==2){var T=p(f.bb,f),L=f.Ua;const Y=!L;L=new ts(L||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||$o(L,"https"),Gs(L),Y?is(L.toString(),T):os(L.toString(),T)}else wt(2);f.I=0,f.l&&f.l.pa(E),Xo(f),Xa(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Xo(f){if(f.I=0,f.ja=[],f.l){const E=Kn(f.h);(E.length!=0||f.i.length!=0)&&(C(f.ja,E),C(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function Vc(f,E,T){var L=T instanceof ts?mr(T):new ts(T);if(L.g!="")E&&(L.g=E+"."+L.g),ns(L,L.u);else{var Y=l.location;L=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;const J=new ts(null);L&&$o(J,L),E&&(J.g=E),Y&&ns(J,Y),T&&(J.h=T),L=J}return T=f.G,E=f.wa,T&&E&&xt(L,T,E),xt(L,"VER",f.ka),cs(f,L),L}function Dd(f,E,T){if(E&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Aa&&!f.ma?new It(new Ks({ab:T})):new It(f.ma),E.Fa(f.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Od(){}t=Od.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function tl(){}tl.prototype.g=function(f,E){return new gn(f,E)};function gn(f,E){tt.call(this),this.g=new Ya(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(f?f["X-WebChannel-Client-Profile"]=E.sa:f={"X-WebChannel-Client-Profile":E.sa}),this.g.U=f,(f=E&&E.Qb)&&!A(f)&&(this.g.u=f),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!A(E)&&(this.g.G=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new Li(this)}y(gn,tt),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qa(this.g)},gn.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=Xr(f),f=T);E.i.push(new jm(E.Ya++,f)),E.I==3&&Xs(E)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qa(this.g),delete this.g,gn.Z.N.call(this)};function Md(f){Ai.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const T in E){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}y(Md,Ai);function Ld(){Fo.call(this),this.status=1}y(Ld,Fo);function Li(f){this.g=f}y(Li,Od),Li.prototype.ra=function(){_t(this.g,"a")},Li.prototype.qa=function(f){_t(this.g,new Md(f))},Li.prototype.pa=function(f){_t(this.g,new Ld)},Li.prototype.oa=function(){_t(this.g,"b")},tl.prototype.createWebChannel=tl.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,iT=function(){return new tl},sT=function(){return Nr()},rT=Ln,Xg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,ef=dr,hr.COMPLETE="complete",nT=hr,Ua.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",tt.prototype.listen=tt.prototype.J,gu=Ua,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,tT=It}).apply(typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc="12.9.0";function aO(t){cc=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new Hv("@firebase/firestore");function Nl(){return wa.logLevel}function _e(t,...e){if(wa.logLevel<=it.DEBUG){const n=e.map(ny);wa.debug(`Firestore (${cc}): ${t}`,...n)}}function yi(t,...e){if(wa.logLevel<=it.ERROR){const n=e.map(ny);wa.error(`Firestore (${cc}): ${t}`,...n)}}function xa(t,...e){if(wa.logLevel<=it.WARN){const n=e.map(ny);wa.warn(`Firestore (${cc}): ${t}`,...n)}}function ny(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,oT(t,r,n)}function oT(t,e,n){let r=`FIRESTORE (${cc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw yi(r),new Error(r)}function bt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||oT(e,s,r)}function Qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(An.UNAUTHENTICATED)))}shutdown(){}}class cO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class uO{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bt(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ma,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},d=h=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ma)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string",31837,{l:r}),new aT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class dO{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class hO{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_r(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){bt(this.o===void 0,3512);const r=a=>{a.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,_e("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=mO(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function ot(t,e){return t<e?-1:t>e?1:0}function Jg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return vg(s)===vg(a)?ot(s,a):vg(s)?1:-1}return ot(t.length,e.length)}const pO=55296,gO=57343;function vg(t){const e=t.charCodeAt(0);return e>=pO&&e<=gO}function ql(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="__name__";class ys{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ys.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ys?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=ys.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return ot(e.length,n.length)}static compareSegments(e,n){const r=ys.isNumericId(e),s=ys.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ys.extractNumericId(e).compare(ys.extractNumericId(n)):Jg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return uo.fromString(e.substring(4,e.length-2))}}class Dt extends ys{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Dt(n)}static emptyPath(){return new Dt([])}}const vO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends ys{construct(e,n,r){return new xn(e,n,r)}static isValidIdentifier(e){return vO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SE}static keyField(){return new xn([SE])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Ae(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Ae(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ae(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else d==="`"?(l=!l,s++):d!=="."||l?(r+=d,s++):(a(),s++)}if(a(),l)throw new Ae(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(n)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Dt.fromString(e))}static fromName(e){return new Le(Dt.fromString(e).popFirst(5))}static empty(){return new Le(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t,e,n){if(!n)throw new Ae(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yO(t,e,n,r){if(e===!0&&r===!0)throw new Ae(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TE(t){if(!Le.isDocumentKey(t))throw new Ae(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CE(t){if(Le.isDocumentKey(t))throw new Ae(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function sy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function ho(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sy(t);throw new Ae(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function nd(t,e){if(!cT(t))throw new Ae(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Ae(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=-62135596800,kE=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*kE);return new Et(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<IE)throw new Ae(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kE}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nd(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-IE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:Xt("string",Et._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Et(0,0))}static max(){return new Ge(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=-1;function wO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ge.fromTimestamp(r===1e9?new Et(n+1,0):new Et(n,r));return new go(s,Le.empty(),e)}function xO(t){return new go(t.readTime,t.key,Ou)}class go{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new go(Ge.min(),Le.empty(),Ou)}static max(){return new go(Ge.max(),Le.empty(),Ou)}}function _O(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(t.documentKey,e.documentKey),n!==0?n:ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==EO)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,r)=>{n(e)}))}static reject(e){return new ne(((n,r)=>{r(e)}))}static waitFor(e){return new ne(((n,r)=>{let s=0,a=0,l=!1;e.forEach((d=>{++s,d.next((()=>{++a,l&&a===s&&n()}),(h=>r(h)))})),l=!0,a===s&&n()}))}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next((s=>s?ne.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new ne(((r,s)=>{const a=e.length,l=new Array(a);let d=0;for(let h=0;h<a;h++){const p=h;n(e[p]).next((g=>{l[p]=g,++d,d===a&&r(l)}),(g=>s(g)))}}))}static doWhile(e,n){return new ne(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function SO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}em.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=-1;function tm(t){return t==null}function _f(t){return t===0&&1/t==-1/0}function TO(t){return typeof t=="number"&&Number.isInteger(t)&&!_f(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="";function CO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=NE(e)),e=IO(t.get(n),e);return NE(e)}function IO(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case uT:n+="";break;default:n+=a}}return n}function NE(t){return t+uT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new Wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dh(this.root,e,this.comparator,!0)}}class Dh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??wn.RED,this.left=s??wn.EMPTY,this.right=a??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new wn(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return wn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new RE(this.data.getIterator())}getIteratorFrom(e){return new RE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class RE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new or([])}unionWith(e){let n=new on(xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new hT("Invalid base64 string: "+a):a}})(e);return new En(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const kO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if(bt(!!t,39018),typeof t=="string"){let e=0;const n=kO.exec(t);if(bt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yo(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="server_timestamp",mT="__type__",pT="__previous_value__",gT="__local_write_time__";function oy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[mT])==null?void 0:r.stringValue)===fT}function nm(t){const e=t.mapValue.fields[pT];return oy(e)?nm(e):e}function Mu(t){const e=vo(t.mapValue.fields[gT].timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n,r,s,a,l,d,h,p,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=g,this.apiKey=y}}const Ef="(default)";class Lu{constructor(e,n){this.projectId=e,this.database=n||Ef}static empty(){return new Lu("","")}get isDefaultDatabase(){return this.database===Ef}isEqual(e){return e instanceof Lu&&e.projectId===this.projectId&&e.database===this.database}}function AO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ae(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="__type__",RO="__max__",Oh={mapValue:{}},yT="__vector__",bf="value";function wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oy(t)?4:jO(t)?9007199254740991:PO(t)?10:11:Be(28295,{value:t})}function Ps(t,e){if(t===e)return!0;const n=wo(t);if(n!==wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mu(t).isEqual(Mu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=vo(s.timestampValue),d=vo(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return yo(s.bytesValue).isEqual(yo(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return Gt(s.geoPointValue.latitude)===Gt(a.geoPointValue.latitude)&&Gt(s.geoPointValue.longitude)===Gt(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Gt(s.integerValue)===Gt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Gt(s.doubleValue),d=Gt(a.doubleValue);return l===d?_f(l)===_f(d):isNaN(l)&&isNaN(d)}return!1})(t,e);case 9:return ql(t.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},d=a.mapValue.fields||{};if(AE(l)!==AE(d))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(d[h]===void 0||!Ps(l[h],d[h])))return!1;return!0})(t,e);default:return Be(52216,{left:t})}}function Vu(t,e){return(t.values||[]).find((n=>Ps(n,e)))!==void 0}function Gl(t,e){if(t===e)return 0;const n=wo(t),r=wo(e);if(n!==r)return ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const d=Gt(a.integerValue||a.doubleValue),h=Gt(l.integerValue||l.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(t,e);case 3:return PE(t.timestampValue,e.timestampValue);case 4:return PE(Mu(t),Mu(e));case 5:return Jg(t.stringValue,e.stringValue);case 6:return(function(a,l){const d=yo(a),h=yo(l);return d.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const d=a.split("/"),h=l.split("/");for(let p=0;p<d.length&&p<h.length;p++){const g=ot(d[p],h[p]);if(g!==0)return g}return ot(d.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const d=ot(Gt(a.latitude),Gt(l.latitude));return d!==0?d:ot(Gt(a.longitude),Gt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return jE(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var w,S,C,b;const d=a.fields||{},h=l.fields||{},p=(w=d[bf])==null?void 0:w.arrayValue,g=(S=h[bf])==null?void 0:S.arrayValue,y=ot(((C=p==null?void 0:p.values)==null?void 0:C.length)||0,((b=g==null?void 0:g.values)==null?void 0:b.length)||0);return y!==0?y:jE(p,g)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Oh.mapValue&&l===Oh.mapValue)return 0;if(a===Oh.mapValue)return 1;if(l===Oh.mapValue)return-1;const d=a.fields||{},h=Object.keys(d),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const w=Jg(h[y],g[y]);if(w!==0)return w;const S=Gl(d[h[y]],p[g[y]]);if(S!==0)return S}return ot(h.length,g.length)})(t.mapValue,e.mapValue);default:throw Be(23264,{he:n})}}function PE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ot(t,e);const n=vo(t),r=vo(e),s=ot(n.seconds,r.seconds);return s!==0?s:ot(n.nanos,r.nanos)}function jE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Gl(n[s],r[s]);if(a)return a}return ot(n.length,r.length)}function Kl(t){return Zg(t)}function Zg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=vo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return yo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Le.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Zg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Zg(n.fields[l])}`;return s+"}"})(t.mapValue):Be(61005,{value:t})}function tf(t){switch(wo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nm(t);return e?16+tf(e):16;case 5:return 2*t.stringValue.length;case 6:return yo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+tf(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return To(r.fields,((a,l)=>{s+=a.length+tf(l)})),s})(t.mapValue);default:throw Be(13486,{value:t})}}function ev(t){return!!t&&"integerValue"in t}function ay(t){return!!t&&"arrayValue"in t}function DE(t){return!!t&&"nullValue"in t}function OE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nf(t){return!!t&&"mapValue"in t}function PO(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[vT])==null?void 0:r.stringValue)===yT}function Su(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return To(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Su(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Su(t.arrayValue.values[n]);return e}return{...t}}function jO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===RO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Su(n)}setAll(e){let n=xn.emptyPath(),r={},s=[];e.forEach(((l,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=d.popLast()}l?r[d.lastSegment()]=Su(l):s.push(d.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());nf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];nf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){To(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Hn(Su(this.value))}}function wT(t){const e=[];return To(t.fields,((n,r)=>{const s=new xn([n]);if(nf(r)){const a=wT(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,r,s,a,l,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Rn(e,0,Ge.min(),Ge.min(),Ge.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,s){return new Rn(e,1,n,Ge.min(),r,s,0)}static newNoDocument(e,n){return new Rn(e,2,n,Ge.min(),Ge.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,Ge.min(),Ge.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.position=e,this.inclusive=n}}function ME(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=Le.comparator(Le.fromName(l.referenceValue),n.key):r=Gl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function LE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ps(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n="asc"){this.field=e,this.dir=n}}function DO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{}class rn extends xT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MO(e,n,r):n==="array-contains"?new FO(e,r):n==="in"?new UO(e,r):n==="not-in"?new zO(e,r):n==="array-contains-any"?new BO(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LO(e,r):new VO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Gl(n,this.value)):n!==null&&wo(this.value)===wo(n)&&this.matchesComparison(Gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class js extends xT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new js(e,n)}matches(e){return _T(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _T(t){return t.op==="and"}function ET(t){return OO(t)&&_T(t)}function OO(t){for(const e of t.filters)if(e instanceof js)return!1;return!0}function tv(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+Kl(t.value);if(ET(t))return t.filters.map((e=>tv(e))).join(",");{const e=t.filters.map((n=>tv(n))).join(",");return`${t.op}(${e})`}}function bT(t,e){return t instanceof rn?(function(r,s){return s instanceof rn&&r.op===s.op&&r.field.isEqual(s.field)&&Ps(r.value,s.value)})(t,e):t instanceof js?(function(r,s){return s instanceof js&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,d)=>a&&bT(l,s.filters[d])),!0):!1})(t,e):void Be(19439)}function ST(t){return t instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Kl(n.value)}`})(t):t instanceof js?(function(n){return n.op.toString()+" {"+n.getFilters().map(ST).join(" ,")+"}"})(t):"Filter"}class MO extends rn{constructor(e,n,r){super(e,n,r),this.key=Le.fromName(r.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class LO extends rn{constructor(e,n){super(e,"in",n),this.keys=TT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class VO extends rn{constructor(e,n){super(e,"not-in",n),this.keys=TT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function TT(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Le.fromName(r.referenceValue)))}class FO extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ay(n)&&Vu(n.arrayValue,this.value)}}class UO extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vu(this.value.arrayValue,n)}}class zO extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vu(this.value.arrayValue,n)}}class BO extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ay(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Vu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n=null,r=[],s=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=d,this.Te=null}}function VE(t,e=null,n=[],r=[],s=null,a=null,l=null){return new WO(t,e,n,r,s,a,l)}function ly(t){const e=Qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>tv(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),tm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Kl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Kl(r))).join(",")),e.Te=n}return e.Te}function cy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LE(t.startAt,e.startAt)&&LE(t.endAt,e.endAt)}function nv(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n=null,r=[],s=[],a=null,l="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=h,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function $O(t,e,n,r,s,a,l,d){return new rm(t,e,n,r,s,a,l,d)}function uy(t){return new rm(t)}function FE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HO(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function qO(t){return t.collectionGroup!==null}function Tu(t){const e=Qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new on(xn.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Tf(a,r))})),n.has(xn.keyField().canonicalString())||e.Ie.push(new Tf(xn.keyField(),r))}return e.Ie}function ks(t){const e=Qe(t);return e.Ee||(e.Ee=GO(e,Tu(t))),e.Ee}function GO(t,e){if(t.limitType==="F")return VE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Tf(s.field,a)}));const n=t.endAt?new Sf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sf(t.startAt.position,t.startAt.inclusive):null;return VE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rv(t,e,n){return new rm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sm(t,e){return cy(ks(t),ks(e))&&t.limitType===e.limitType}function CT(t){return`${ly(ks(t))}|lt:${t.limitType}`}function Al(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>ST(s))).join(", ")}]`),tm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Kl(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Kl(s))).join(",")),`Target(${r})`})(ks(t))}; limitType=${t.limitType})`}function im(t,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Le.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,s){for(const a of Tu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,d,h){const p=ME(l,d,h);return l.inclusive?p<=0:p<0})(r.startAt,Tu(r),s)||r.endAt&&!(function(l,d,h){const p=ME(l,d,h);return l.inclusive?p>=0:p>0})(r.endAt,Tu(r),s))})(t,e)}function KO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IT(t){return(e,n)=>{let r=!1;for(const s of Tu(t)){const a=YO(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function YO(t,e,n){const r=t.field.isKeyField()?Le.comparator(e.key,n.key):(function(a,l,d){const h=l.data.field(a),p=d.data.field(a);return h!==null&&p!==null?Gl(h,p):Be(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return dT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new Wt(Le.comparator);function wi(){return QO}const kT=new Wt(Le.comparator);function vu(...t){let e=kT;for(const n of t)e=e.insert(n.key,n);return e}function NT(t){let e=kT;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function fa(){return Cu()}function AT(){return Cu()}function Cu(){return new Na((t=>t.toString()),((t,e)=>t.isEqual(e)))}const XO=new Wt(Le.comparator),JO=new on(Le.comparator);function at(...t){let e=JO;for(const n of t)e=e.add(n);return e}const ZO=new on(ot);function eM(){return ZO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_f(e)?"-0":e}}function RT(t){return{integerValue:""+t}}function tM(t,e){return TO(e)?RT(e):dy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this._=void 0}}function nM(t,e,n){return t instanceof Cf?(function(s,a){const l={fields:{[mT]:{stringValue:fT},[gT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&oy(a)&&(a=nm(a)),a&&(l.fields[pT]=a),{mapValue:l}})(n,e):t instanceof Fu?jT(t,e):t instanceof Uu?DT(t,e):(function(s,a){const l=PT(s,a),d=UE(l)+UE(s.Ae);return ev(l)&&ev(s.Ae)?RT(d):dy(s.serializer,d)})(t,e)}function rM(t,e,n){return t instanceof Fu?jT(t,e):t instanceof Uu?DT(t,e):n}function PT(t,e){return t instanceof If?(function(r){return ev(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Cf extends om{}class Fu extends om{constructor(e){super(),this.elements=e}}function jT(t,e){const n=OT(e);for(const r of t.elements)n.some((s=>Ps(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Uu extends om{constructor(e){super(),this.elements=e}}function DT(t,e){let n=OT(e);for(const r of t.elements)n=n.filter((s=>!Ps(s,r)));return{arrayValue:{values:n}}}class If extends om{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function UE(t){return Gt(t.integerValue||t.doubleValue)}function OT(t){return ay(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sM(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Fu&&s instanceof Fu||r instanceof Uu&&s instanceof Uu?ql(r.elements,s.elements,Ps):r instanceof If&&s instanceof If?Ps(r.Ae,s.Ae):r instanceof Cf&&s instanceof Cf})(t.transform,e.transform)}class iM{constructor(e,n){this.version=e,this.transformResults=n}}class Br{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class am{}function MT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hy(t.key,Br.none()):new rd(t.key,t.data,Br.none());{const n=t.data,r=Hn.empty();let s=new on(xn.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new Co(t.key,r,new or(s.toArray()),Br.none())}}function oM(t,e,n){t instanceof rd?(function(s,a,l){const d=s.value.clone(),h=BE(s.fieldTransforms,a,l.transformResults);d.setAll(h),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Co?(function(s,a,l){if(!rf(s.precondition,a))return void a.convertToUnknownDocument(l.version);const d=BE(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(LT(s)),h.setAll(d),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Iu(t,e,n,r){return t instanceof rd?(function(a,l,d,h){if(!rf(a.precondition,l))return d;const p=a.value.clone(),g=WE(a.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof Co?(function(a,l,d,h){if(!rf(a.precondition,l))return d;const p=WE(a.fieldTransforms,h,l),g=l.data;return g.setAll(LT(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(a,l,d){return rf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(t,e,n)}function aM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=PT(r.transform,s||null);a!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,a))}return n||null}function zE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ql(r,s,((a,l)=>sM(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rd extends am{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Co extends am{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function LT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function BE(t,e,n){const r=new Map;bt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,d=e.data.field(a.field);r.set(a.field,rM(l,d,n[s]))}return r}function WE(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,nM(a,l,e))}return r}class hy extends am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lM extends am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&oM(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Iu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AT();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=n.has(s.key)?null:d;const h=MT(l,d);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ge.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),at())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,((n,r)=>zE(n,r)))&&ql(this.baseMutations,e.baseMutations,((n,r)=>zE(n,r)))}}class fy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){bt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return XO})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new fy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uM=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,ht;function hM(t){switch(t){case oe.OK:return Be(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function VT(t){if(t===void 0)return yi("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Qt.OK:return oe.OK;case Qt.CANCELLED:return oe.CANCELLED;case Qt.UNKNOWN:return oe.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return oe.INTERNAL;case Qt.UNAVAILABLE:return oe.UNAVAILABLE;case Qt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Qt.NOT_FOUND:return oe.NOT_FOUND;case Qt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Qt.ABORTED:return oe.ABORTED;case Qt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Qt.DATA_LOSS:return oe.DATA_LOSS;default:return Be(39323,{code:t})}}(ht=Qt||(Qt={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=new uo([4294967295,4294967295],0);function $E(t){const e=fM().encode(t),n=new eT;return n.update(e),new Uint8Array(n.digest())}function HE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new uo([n,r],0),new uo([s,a],0)]}class my{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yu(`Invalid padding: ${n}`);if(r<0)throw new yu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=uo.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(uo.fromNumber(r)));return s.compare(mM)===1&&(s=new uo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=$E(e),[r,s]=HE(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new my(a,s,n);return r.forEach((d=>l.insert(d))),l}insert(e){if(this.ge===0)return;const n=$E(e),[r,s]=HE(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.be(l)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,sd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lm(Ge.min(),s,new Wt(ot),wi(),at())}}class sd{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sd(r,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class FT{constructor(e,n){this.targetId=e,this.Ce=n}}class UT{constructor(e,n,r=En.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class qE{constructor(){this.ve=0,this.Fe=GE(),this.Me=En.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),n=at(),r=at();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Be(38017,{changeType:a})}})),new sd(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=GE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,bt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class pM{constructor(e){this.Ge=e,this.ze=new Map,this.je=wi(),this.He=Mh(),this.Je=Mh(),this.Ze=new Wt(ot)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(nv(a))if(r===0){const l=new Le(a.path);this.et(n,l,Rn.newNoDocument(l,Ge.min()))}else bt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const d=this.ut(e),h=d?this.ct(d,e,l):1;if(h!==0){this.it(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,d;try{l=yo(r).toUint8Array()}catch(h){if(h instanceof hT)return xa("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new my(l,s,a)}catch(h){return xa(h instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),d=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(n,a,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const d=this.ot(l);if(d){if(a.current&&nv(d.target)){const h=new Le(d.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Rn.newNoDocument(h,e))}a.Be&&(n.set(l,a.ke()),a.Ke())}}));let r=at();this.Je.forEach(((a,l)=>{let d=!0;l.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new lm(e,n,this.Ze,this.je,r);return this.je=wi(),this.He=Mh(),this.Je=Mh(),this.Ze=new Wt(ot),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new qE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new on(ot),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new on(ot),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Mh(){return new Wt(Le.comparator)}function GE(){return new Wt(Le.comparator)}const gM={asc:"ASCENDING",desc:"DESCENDING"},vM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yM={and:"AND",or:"OR"};class wM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sv(t,e){return t.useProto3Json||tm(e)?e:{value:e}}function kf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xM(t,e){return kf(t,e.toTimestamp())}function Ns(t){return bt(!!t,49232),Ge.fromTimestamp((function(n){const r=vo(n);return new Et(r.seconds,r.nanos)})(t))}function py(t,e){return iv(t,e).canonicalString()}function iv(t,e){const n=(function(s){return new Dt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function BT(t){const e=Dt.fromString(t);return bt(GT(e),10190,{key:e.toString()}),e}function ov(t,e){return py(t.databaseId,e.path)}function yg(t,e){const n=BT(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Le($T(n))}function WT(t,e){return py(t.databaseId,e)}function _M(t){const e=BT(t);return e.length===4?Dt.emptyPath():$T(e)}function av(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $T(t){return bt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function KE(t,e,n){return{name:ov(t,e),fields:n.value.mapValue.fields}}function EM(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Be(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?(bt(g===void 0||typeof g=="string",58123),En.fromBase64String(g||"")):(bt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),En.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(p){const g=p.code===void 0?oe.UNKNOWN:VT(p.code);return new Ae(g,p.message||"")})(l);n=new UT(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=yg(t,r.document.name),a=Ns(r.document.updateTime),l=r.document.createTime?Ns(r.document.createTime):Ge.min(),d=new Hn({mapValue:{fields:r.document.fields}}),h=Rn.newFoundDocument(s,a,l,d),p=r.targetIds||[],g=r.removedTargetIds||[];n=new sf(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=yg(t,r.document),a=r.readTime?Ns(r.readTime):Ge.min(),l=Rn.newNoDocument(s,a),d=r.removedTargetIds||[];n=new sf([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=yg(t,r.document),a=r.removedTargetIds||[];n=new sf([],a,s,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new dM(s,a),d=r.targetId;n=new FT(d,l)}}return n}function bM(t,e){let n;if(e instanceof rd)n={update:KE(t,e.key,e.value)};else if(e instanceof hy)n={delete:ov(t,e.key)};else if(e instanceof Co)n={update:KE(t,e.key,e.data),updateMask:PM(e.fieldMask)};else{if(!(e instanceof lM))return Be(16599,{dt:e.type});n={verify:ov(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const d=l.transform;if(d instanceof Cf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Fu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Uu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof If)return{fieldPath:l.field.canonicalString(),increment:d.Ae};throw Be(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:xM(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be(27497)})(t,e.precondition)),n}function SM(t,e){return t&&t.length>0?(bt(e!==void 0,14353),t.map((n=>(function(s,a){let l=s.updateTime?Ns(s.updateTime):Ns(a);return l.isEqual(Ge.min())&&(l=Ns(a)),new iM(l,s.transformResults||[])})(n,e)))):[]}function TM(t,e){return{documents:[WT(t,e.path)]}}function CM(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WT(t,s);const a=(function(p){if(p.length!==0)return qT(js.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((g=>(function(w){return{field:Rl(w.field),direction:NM(w.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const d=sv(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:s}}function IM(t){let e=_M(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){bt(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(y){const w=HT(y);return w instanceof js&&ET(w)?w.getFilters():[w]})(n.where));let l=[];n.orderBy&&(l=(function(y){return y.map((w=>(function(C){return new Tf(Pl(C.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(w)))})(n.orderBy));let d=null;n.limit&&(d=(function(y){let w;return w=typeof y=="object"?y.value:y,tm(w)?null:w})(n.limit));let h=null;n.startAt&&(h=(function(y){const w=!!y.before,S=y.values||[];return new Sf(S,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(y){const w=!y.before,S=y.values||[];return new Sf(S,w)})(n.endAt)),$O(e,s,l,a,d,"F",h,p)}function kM(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HT(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pl(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Pl(n.unaryFilter.field);return rn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Pl(n.unaryFilter.field);return rn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Pl(n.unaryFilter.field);return rn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return rn.create(Pl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return js.create(n.compositeFilter.filters.map((r=>HT(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(n.compositeFilter.op))})(t):Be(30097,{filter:t})}function NM(t){return gM[t]}function AM(t){return vM[t]}function RM(t){return yM[t]}function Rl(t){return{fieldPath:t.canonicalString()}}function Pl(t){return xn.fromServerFormat(t.fieldPath)}function qT(t){return t instanceof rn?(function(n){if(n.op==="=="){if(OE(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NAN"}};if(DE(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OE(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NOT_NAN"}};if(DE(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(n.field),op:AM(n.op),value:n.value}}})(t):t instanceof js?(function(n){const r=n.getFilters().map((s=>qT(s)));return r.length===1?r[0]:{compositeFilter:{op:RM(n.op),filters:r}}})(t):Be(54877,{filter:t})}function PM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function GT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function KT(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n,r,s,a=Ge.min(),l=Ge.min(),d=En.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.yt=e}}function DM(t){const e=IM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.Sn=new MM}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(go.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(go.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class MM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new on(Dt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new on(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YT=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(YT,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Yl(0)}static ar(){return new Yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="LruGarbageCollector",LM=1048576;function XE([t,e],[n,r]){const s=ot(t,n);return s===0?ot(e,r):s}class VM{constructor(e){this.Pr=e,this.buffer=new on(XE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();XE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){_e(QE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){dc(n)?_e(QE,"Ignoring IndexedDB error during garbage collection: ",n):await uc(n)}await this.Ar(3e5)}))}}class UM{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(em.ce);const r=new VM(n);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(YE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,a,l,d,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s)))).next((y=>(r=y,d=Date.now(),this.removeTargets(e,r,n)))).next((y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(p=Date.now(),Nl()<=it.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(d-l)+`ms
	Removed ${a} targets in `+(h-d)+`ms
	Removed ${y} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y}))))}}function zM(t,e){return new UM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.changes=new Na((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Iu(r.mutation,s,or.empty(),Et.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,at()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=at()){const s=fa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let l=vu();return a.forEach(((d,h)=>{l=l.insert(d,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=fa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,at())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,d)=>{n.set(l,d)}))}))}computeViews(e,n,r,s){let a=wi();const l=Cu(),d=(function(){return Cu()})();return n.forEach(((h,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Co)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Iu(g.mutation,p,g.mutation.getFieldMask(),Et.now())):l.set(p.key,or.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((p,g)=>l.set(p,g))),n.forEach(((p,g)=>d.set(p,new WM(g,l.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=Cu();let s=new Wt(((l,d)=>l-d)),a=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const d of l)d.keys().forEach((h=>{const p=n.get(h);if(p===null)return;let g=r.get(h)||or.empty();g=d.applyToLocalView(p,g),r.set(h,g);const y=(s.get(d.batchId)||at()).add(h);s=s.insert(d.batchId,y)}))})).next((()=>{const l=[],d=s.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,g=h.value,y=AT();g.forEach((w=>{if(!a.has(w)){const S=MT(n.get(w),r.get(w));S!==null&&y.set(w,S),a=a.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return ne.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return HO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):ne.resolve(fa());let d=Ou,h=a;return l.next((p=>ne.forEach(p,((g,y)=>(d<y.largestBatchId&&(d=y.largestBatchId),a.get(g)?ne.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{h=h.insert(g,w)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,h,p,at()))).next((g=>({batchId:d,changes:NT(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next((r=>{let s=vu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=vu();return this.indexManager.getCollectionParents(e,a).next((d=>ne.forEach(d,(h=>{const p=(function(y,w){return new rm(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((y,w)=>{l=l.insert(y,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((l=>{a.forEach(((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Rn.newInvalidDocument(g)))}));let d=vu();return l.forEach(((h,p)=>{const g=a.get(h);g!==void 0&&Iu(g.mutation,p,or.empty(),Et.now()),im(n,p)&&(d=d.insert(h,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Ns(s.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(s){return{name:s.name,query:DM(s.bundledQuery),readTime:Ns(s.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.overlays=new Wt(Le.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fa();return ne.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.bt(e,n,a)})),ne.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const s=fa(),a=n.length+1,l=new Le(n.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new Wt(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=fa(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=fa(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,g)=>d.set(p,g))),!(d.size()>=s)););return ne.resolve(d)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new uM(n,r));let a=this.Lr.get(n);a===void 0&&(a=at(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this.kr=new on(fn.Kr),this.qr=new on(fn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new fn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new fn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Le(new Dt([])),r=new fn(n,e),s=new fn(n,e+1),a=[];return this.qr.forEachInRange([r,s],(l=>{this.Wr(l),a.push(l.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Le(new Dt([])),r=new fn(n,e),s=new fn(n,e+1);let a=at();return this.qr.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new fn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class fn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Le.comparator(e.key,n.key)||ot(e.Hr,n.Hr)}static Ur(e,n){return ot(e.Hr,n.Hr)||Le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new on(fn.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new cM(a,n,r,s);this.mutationQueue.push(l);for(const d of s)this.Jr=this.Jr.add(new fn(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),a=s<0?0:s;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?iy:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new fn(n,0),s=new fn(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,s],(l=>{const d=this.Zr(l.Hr);a.push(d)})),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new on(ot);return n.forEach((s=>{const a=new fn(s,0),l=new fn(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,l],(d=>{r=r.add(d.Hr)}))})),ne.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Le.isDocumentKey(a)||(a=a.child(""));const l=new fn(new Le(a),0);let d=new on(ot);return this.Jr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(h.Hr)),!0)}),l),ne.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){bt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ne.forEach(n.mutations,(s=>{const a=new fn(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new fn(n,0),s=this.Jr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.ti=e,this.docs=(function(){return new Wt(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let r=wi();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Rn.newInvalidDocument(s))})),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=wi();const l=n.path,d=new Le(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||_O(xO(g),r)<=0||(s.has(g.key)||im(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Be(9500)}ni(e,n){return ne.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new QM(this)}getSize(e){return ne.resolve(this.size)}}class QM extends BM{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.persistence=e,this.ri=new Na((n=>ly(n)),cy),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.ii=0,this.si=new gy,this.targetCount=0,this.oi=Yl._r()}forEachTarget(e,n){return this.ri.forEach(((r,s)=>n(s))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Yl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.ri.forEach(((l,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ri.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),ne.waitFor(a).next((()=>s))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),ne.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this._i={},this.overlays={},this.ai=new em(0),this.ui=!1,this.ui=!0,this.ci=new GM,this.referenceDelegate=e(this),this.li=new XM(this),this.indexManager=new OM,this.remoteDocumentCache=(function(s){return new YM(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new jM(n),this.Pi=new HM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new KM(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const s=new JM(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((a=>this.referenceDelegate.Ii(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ei(e,n){return ne.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class JM extends bO{constructor(e){super(),this.currentSequenceNumber=e}}class vy{constructor(e){this.persistence=e,this.Ri=new gy,this.Ai=null}static Vi(e){return new vy(e)}get di(){if(this.Ai)return this.Ai;throw Be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(r=>{const s=Le.fromPath(r);return this.mi(e,s).next((a=>{a||n.removeEntry(s,Ge.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Nf{constructor(e,n){this.persistence=e,this.fi=new Na((r=>CO(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=zM(this,n)}static Vi(e,n){return new Nf(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ne.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((a=>a?ne.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ni(e,(l=>this.wr(e,l,n).next((d=>{d||(r++,a.removeEntry(l,Ge.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tf(e.data.value)),n}wr(e,n,r){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return ne.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=at(),s=at();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new yy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return IP()?8:SO(Pn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.gs(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ps(e,n,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new ZM;return this.ys(e,n,l).next((d=>{if(a.result=d,this.As)return this.ws(e,n,l,d.size)}))})).next((()=>a.result))}ws(e,n,r,s){return r.documentReadCount<this.Vs?(Nl()<=it.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(Nl()<=it.DEBUG&&_e("QueryEngine","Query:",Al(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Nl()<=it.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ks(n))):ne.resolve())}gs(e,n){if(FE(n))return ne.resolve(null);let r=ks(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=rv(n,null,"F"),r=ks(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=at(...a);return this.fs.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.bs(n,d);return this.Ss(n,p,l,h.readTime)?this.gs(e,rv(n,null,"F")):this.Ds(e,p,n,h)}))))})))))}ps(e,n,r,s){return FE(n)||s.isEqual(Ge.min())?ne.resolve(null):this.fs.getDocuments(e,r).next((a=>{const l=this.bs(n,a);return this.Ss(n,l,r,s)?ne.resolve(null):(Nl()<=it.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Al(n)),this.Ds(e,l,n,wO(s,Ou)).next((d=>d)))}))}bs(e,n){let r=new on(IT(e));return n.forEach(((s,a)=>{im(e,a)&&(r=r.add(a))})),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ys(e,n,r){return Nl()<=it.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Al(n)),this.fs.getDocumentsMatchingQuery(e,n,go.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="LocalStore",tL=3e8;class nL{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Wt(ot),this.Fs=new Na((a=>ly(a)),cy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $M(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function rL(t,e,n,r){return new nL(t,e,n,r)}async function XT(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],d=[];let h=at();for(const p of s){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of a){d.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((p=>({Ns:p,removedBatchIds:l,addedBatchIds:d})))}))}))}function sL(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,h,p,g){const y=p.batch,w=y.keys();let S=ne.resolve();return w.forEach((C=>{S=S.next((()=>g.getEntry(h,C))).next((b=>{const k=p.docVersions.get(C);bt(k!==null,48541),b.version.compareTo(k)<0&&(y.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),g.addEntry(b)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(h,y)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let h=at();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function JT(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function iL(t,e){const n=Qe(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const d=[];e.targetChanges.forEach(((g,y)=>{const w=s.get(y);if(!w)return;d.push(n.li.removeMatchingKeys(a,g.removedDocuments,y).next((()=>n.li.addMatchingKeys(a,g.addedDocuments,y))));let S=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken(En.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),s=s.insert(y,S),(function(b,k,M){return b.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=tL?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(w,S,g)&&d.push(n.li.updateTargetData(a,S))}));let h=wi(),p=at();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),d.push(oL(a,l,e.documentUpdates).next((g=>{h=g.Bs,p=g.Ls}))),!r.isEqual(Ge.min())){const g=n.li.getLastRemoteSnapshotVersion(a).next((y=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(g)}return ne.waitFor(d).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,h,p))).next((()=>h))})).then((a=>(n.vs=s,a)))}function oL(t,e,n){let r=at(),s=at();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=wi();return n.forEach(((d,h)=>{const p=a.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),h.isNoDocument()&&h.version.isEqual(Ge.min())?(e.removeEntry(d,h.readTime),l=l.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(d,h)):_e(wy,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)})),{Bs:l,Ls:s}}))}function aL(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=iy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function lL(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.li.getTargetData(r,e).next((a=>a?(s=a,ne.resolve(s)):n.li.allocateTargetId(r).next((l=>(s=new oo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function lv(t,e,n){const r=Qe(t),s=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!dc(l))throw l;_e(wy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function JE(t,e,n){const r=Qe(t);let s=Ge.min(),a=at();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,p,g){const y=Qe(h),w=y.Fs.get(g);return w!==void 0?ne.resolve(y.vs.get(w)):y.li.getTargetData(p,g)})(r,l,ks(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,d.targetId).next((h=>{a=h}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,n?s:Ge.min(),n?a:at()))).next((d=>(cL(r,KO(e),d),{documents:d,ks:a})))))}function cL(t,e,n){let r=t.Ms.get(e)||Ge.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Ms.set(e,r)}class ZE{constructor(){this.activeTargetIds=eM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uL{constructor(){this.vo=new ZE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ZE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="ConnectivityMonitor";class t0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){_e(e0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){_e(e0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh=null;function cv(){return Lh===null?Lh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lh++,"0x"+Lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="RestConnection",hL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class fL{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Ef?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,a){const l=cv(),d=this.Qo(e,n.toUriEncodedString());_e(wg,`Sending RPC '${e}' ${l}:`,d,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(h,s,a);const{host:p}=new URL(d),g=Ca(p);return this.zo(e,d,h,r,g).then((y=>(_e(wg,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw xa(wg,`RPC '${e}' ${l} failed with error: `,y,"url: ",d,"request:",r),y}))}jo(e,n,r,s,a,l){return this.Wo(e,n,r,s,a)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}Qo(e,n){const r=hL[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection",hu=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class Ll extends fL{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ll.c_){const e=sT();hu(e,rT.STAT_EVENT,(n=>{n.stat===Xg.PROXY?_e(kn,"STAT_EVENT: detected buffering proxy"):n.stat===Xg.NOPROXY&&_e(kn,"STAT_EVENT: detected no buffering proxy")})),Ll.c_=!0}}zo(e,n,r,s,a){const l=cv();return new Promise(((d,h)=>{const p=new tT;p.setWithCredentials(!0),p.listenOnce(nT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case ef.NO_ERROR:const y=p.getResponseJson();_e(kn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),d(y);break;case ef.TIMEOUT:_e(kn,`RPC '${e}' ${l} timed out`),h(new Ae(oe.DEADLINE_EXCEEDED,"Request time out"));break;case ef.HTTP_ERROR:const w=p.getStatus();if(_e(kn,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const C=S==null?void 0:S.error;if(C&&C.status&&C.message){const b=(function(M){const V=M.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(V)>=0?V:oe.UNKNOWN})(C.status);h(new Ae(b,C.message))}else h(new Ae(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Ae(oe.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{_e(kn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);_e(kn,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",g,r,15)}))}T_(e,n,r){const s=cv(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=a.join("");_e(kn,`Creating RPC '${e}' stream ${s}: ${p}`,d);const g=l.createWebChannel(p,d);this.I_(g);let y=!1,w=!1;const S=new mL({Ho:C=>{w?_e(kn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(y||(_e(kn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),y=!0),_e(kn,`RPC '${e}' stream ${s} sending:`,C),g.send(C))},Jo:()=>g.close()});return hu(g,gu.EventType.OPEN,(()=>{w||(_e(kn,`RPC '${e}' stream ${s} transport opened.`),S.i_())})),hu(g,gu.EventType.CLOSE,(()=>{w||(w=!0,_e(kn,`RPC '${e}' stream ${s} transport closed`),S.o_(),this.E_(g))})),hu(g,gu.EventType.ERROR,(C=>{w||(w=!0,xa(kn,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),S.o_(new Ae(oe.UNAVAILABLE,"The operation could not be completed")))})),hu(g,gu.EventType.MESSAGE,(C=>{var b;if(!w){const k=C.data[0];bt(!!k,16349);const M=k,V=(M==null?void 0:M.error)||((b=M[0])==null?void 0:b.error);if(V){_e(kn,`RPC '${e}' stream ${s} received error:`,V);const j=V.status;let B=(function(I){const N=Qt[I];if(N!==void 0)return VT(N)})(j),D=V.message;j==="NOT_FOUND"&&D.includes("database")&&D.includes("does not exist")&&D.includes(this.databaseId.database)&&xa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),B===void 0&&(B=oe.INTERNAL,D="Unknown error status: "+j+" with message "+V.message),w=!0,S.o_(new Ae(B,D)),g.close()}else _e(kn,`RPC '${e}' stream ${s} received:`,k),S.__(k)}})),Ll.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return iT()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t){return new Ll(t)}function xg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){return new wM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ll.c_=!1;class ZT{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&_e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="PersistentStream";class e1{constructor(e,n,r,s,a,l,d,h){this.Ci=e,this.b_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(yi(n.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new Ae(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(n0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(_e(n0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gL extends e1{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=EM(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ge.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ge.min():l.readTime?Ns(l.readTime):Ge.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=av(this.serializer),n.addTarget=(function(a,l){let d;const h=l.target;if(d=nv(h)?{documents:TM(a,h)}:{query:CM(a,h).ft},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=zT(a,l.resumeToken);const p=sv(a,l.expectedCount);p!==null&&(d.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ge.min())>0){d.readTime=kf(a,l.snapshotVersion.toTimestamp());const p=sv(a,l.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=kM(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=av(this.serializer),n.removeTarget=e,this.K_(n)}}class vL extends e1{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=SM(e.writeResults,e.commitTime),r=Ns(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=av(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>bM(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{}class wL extends yL{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ae(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Wo(e,iv(n,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ae(oe.UNKNOWN,a.toString())}))}jo(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.jo(e,iv(n,r),s,l,d,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(oe.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function xL(t,e,n,r){return new wL(t,e,n,r)}class _L{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yi(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class EL{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{Aa(this)&&(_e(_a,"Restarting streams for network reachability change."),await(async function(h){const p=Qe(h);p.Ea.add(4),await id(p),p.Va.set("Unknown"),p.Ea.delete(4),await um(p)})(this))}))})),this.Va=new _L(r,s)}}async function um(t){if(Aa(t))for(const e of t.Ra)await e(!0)}async function id(t){for(const e of t.Ra)await e(!1)}function t1(t,e){const n=Qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),by(n)?Ey(n):hc(n).O_()&&_y(n,e))}function xy(t,e){const n=Qe(t),r=hc(n);n.Ia.delete(e),r.O_()&&n1(n,e),n.Ia.size===0&&(r.O_()?r.L_():Aa(n)&&n.Va.set("Unknown"))}function _y(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hc(t).Z_(e)}function n1(t,e){t.da.$e(e),hc(t).X_(e)}function Ey(t){t.da=new pM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),hc(t).start(),t.Va.ua()}function by(t){return Aa(t)&&!hc(t).x_()&&t.Ia.size>0}function Aa(t){return Qe(t).Ea.size===0}function r1(t){t.da=void 0}async function bL(t){t.Va.set("Online")}async function SL(t){t.Ia.forEach(((e,n)=>{_y(t,e)}))}async function TL(t,e){r1(t),by(t)?(t.Va.ha(e),Ey(t)):t.Va.set("Unknown")}async function CL(t,e,n){if(t.Va.set("Online"),e instanceof UT&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const d of a.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,l),s.Ia.delete(d),s.da.removeTarget(d))})(t,e)}catch(r){_e(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Af(t,r)}else if(e instanceof sf?t.da.Xe(e):e instanceof FT?t.da.st(e):t.da.tt(e),!n.isEqual(Ge.min()))try{const r=await JT(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const d=a.da.Tt(l);return d.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(h.resumeToken,l))}})),d.targetMismatches.forEach(((h,p)=>{const g=a.Ia.get(h);if(!g)return;a.Ia.set(h,g.withResumeToken(En.EMPTY_BYTE_STRING,g.snapshotVersion)),n1(a,h);const y=new oo(g.target,h,p,g.sequenceNumber);_y(a,y)})),a.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){_e(_a,"Failed to raise snapshot:",r),await Af(t,r)}}async function Af(t,e,n){if(!dc(e))throw e;t.Ea.add(1),await id(t),t.Va.set("Offline"),n||(n=()=>JT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(_a,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await um(t)}))}function s1(t,e){return e().catch((n=>Af(t,n,e)))}async function dm(t){const e=Qe(t),n=xo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:iy;for(;IL(e);)try{const s=await aL(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,kL(e,s)}catch(s){await Af(e,s)}i1(e)&&o1(e)}function IL(t){return Aa(t)&&t.Ta.length<10}function kL(t,e){t.Ta.push(e);const n=xo(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function i1(t){return Aa(t)&&!xo(t).x_()&&t.Ta.length>0}function o1(t){xo(t).start()}async function NL(t){xo(t).ra()}async function AL(t){const e=xo(t);for(const n of t.Ta)e.ea(n.mutations)}async function RL(t,e,n){const r=t.Ta.shift(),s=fy.from(r,e,n);await s1(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await dm(t)}async function PL(t,e){e&&xo(t).Y_&&await(async function(r,s){if((function(l){return hM(l)&&l!==oe.ABORTED})(s.code)){const a=r.Ta.shift();xo(r).B_(),await s1(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await dm(r)}})(t,e),i1(t)&&o1(t)}async function r0(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),_e(_a,"RemoteStore received new credentials");const r=Aa(n);n.Ea.add(3),await id(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await um(n)}async function jL(t,e){const n=Qe(t);e?(n.Ea.delete(2),await um(n)):e||(n.Ea.add(2),await id(n),n.Va.set("Unknown"))}function hc(t){return t.ma||(t.ma=(function(n,r,s){const a=Qe(n);return a.sa(),new gL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Zo:bL.bind(null,t),Yo:SL.bind(null,t),t_:TL.bind(null,t),J_:CL.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),by(t)?Ey(t):t.Va.set("Unknown")):(await t.ma.stop(),r1(t))}))),t.ma}function xo(t){return t.fa||(t.fa=(function(n,r,s){const a=Qe(n);return a.sa(),new vL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:NL.bind(null,t),t_:PL.bind(null,t),ta:AL.bind(null,t),na:RL.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await dm(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(_a,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,d=new Sy(e,n,l,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ty(t,e){if(yi("AsyncQueue",`${e}: ${t}`),dc(t))return new Ae(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{static emptySet(e){return new Vl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Le.comparator(n.key,r.key):(n,r)=>Le.comparator(n.key,r.key),this.keyedMap=vu(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.ga=new Wt(Le.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Be(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ql{constructor(e,n,r,s,a,l,d,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach((d=>{l.push({type:0,doc:d})})),new Ql(e,n,Vl.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class OL{constructor(){this.queries=i0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Qe(n),a=s.queries;s.queries=i0(),a.forEach(((l,d)=>{for(const h of d.ba)h.onError(r)}))})(this,new Ae(oe.ABORTED,"Firestore shutting down"))}}function i0(){return new Na((t=>CT(t)),sm)}async function ML(t,e){const n=Qe(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.Sa()&&e.Da()&&(r=2):(a=new DL,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const d=Ty(l,`Initialization of query '${Al(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Cy(n)}async function LL(t,e){const n=Qe(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.ba.indexOf(e);l>=0&&(a.ba.splice(l,1),a.ba.length===0?s=e.Da()?0:1:!a.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function VL(t,e){const n=Qe(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const d of l.ba)d.Fa(s)&&(r=!0);l.wa=s}}r&&Cy(n)}function FL(t,e,n){const r=Qe(t),s=r.queries.get(e);if(s)for(const a of s.ba)a.onError(n);r.queries.delete(e)}function Cy(t){t.Ca.forEach((e=>{e.next()}))}var uv,o0;(o0=uv||(uv={})).Ma="default",o0.Cache="cache";class UL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ql(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==uv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.key=e}}class l1{constructor(e){this.key=e}}class zL{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=at(),this.mutatedKeys=at(),this.eu=IT(e),this.tu=new Vl(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new s0,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,d=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,y)=>{const w=s.get(g),S=im(this.query,y)?y:null,C=!!w&&this.mutatedKeys.has(w.key),b=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let k=!1;w&&S?w.data.isEqual(S.data)?C!==b&&(r.track({type:3,doc:S}),k=!0):this.su(w,S)||(r.track({type:2,doc:S}),k=!0,(h&&this.eu(S,h)>0||p&&this.eu(S,p)<0)&&(d=!0)):!w&&S?(r.track({type:0,doc:S}),k=!0):w&&!S&&(r.track({type:1,doc:w}),k=!0,(h||p)&&(d=!0)),k&&(S?(l=l.add(S),a=b?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Ss:d,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,y)=>(function(S,C){const b=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:k})}};return b(S)-b(C)})(g.type,y.type)||this.eu(g.doc,y.doc))),this.ou(r),s=s??!1;const d=n&&!s?this._u():[],h=this.Ya.size===0&&this.current&&!s?1:0,p=h!==this.Xa;return this.Xa=h,l.length!==0||p?{snapshot:new Ql(this.query,e.tu,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new s0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=at(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new l1(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new a1(r))})),n}cu(e){this.Za=e.ks,this.Ya=at();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ql.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Iy="SyncEngine";class BL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class WL{constructor(e){this.key=e,this.hu=!1}}class $L{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Na((d=>CT(d)),sm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Wt(Le.comparator),this.Au=new Map,this.Vu=new gy,this.du={},this.mu=new Map,this.fu=Yl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HL(t,e,n=!0){const r=m1(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await c1(r,e,n,!0),s}async function qL(t,e){const n=m1(t);await c1(n,e,!0,!1)}async function c1(t,e,n,r){const s=await lL(t.localStore,ks(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let d;return r&&(d=await GL(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&t1(t.remoteStore,s),d}async function GL(t,e,n,r,s){t.pu=(y,w,S)=>(async function(b,k,M,V){let j=k.view.ru(M);j.Ss&&(j=await JE(b.localStore,k.query,!1).then((({documents:I})=>k.view.ru(I,j))));const B=V&&V.targetChanges.get(k.targetId),D=V&&V.targetMismatches.get(k.targetId)!=null,W=k.view.applyChanges(j,b.isPrimaryClient,B,D);return l0(b,k.targetId,W.au),W.snapshot})(t,y,w,S);const a=await JE(t.localStore,e,!0),l=new zL(e,a.ks),d=l.ru(a.documents),h=sd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(d,t.isPrimaryClient,h);l0(t,n,p.au);const g=new BL(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function KL(t,e,n){const r=Qe(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!sm(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await lv(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&xy(r.remoteStore,s.targetId),dv(r,s.targetId)})).catch(uc)):(dv(r,s.targetId),await lv(r.localStore,s.targetId,!0))}async function YL(t,e){const n=Qe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xy(n.remoteStore,r.targetId))}async function QL(t,e,n){const r=r4(t);try{const s=await(function(l,d){const h=Qe(l),p=Et.now(),g=d.reduce(((S,C)=>S.add(C.key)),at());let y,w;return h.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let C=wi(),b=at();return h.xs.getEntries(S,g).next((k=>{C=k,C.forEach(((M,V)=>{V.isValidDocument()||(b=b.add(M))}))})).next((()=>h.localDocuments.getOverlayedDocuments(S,C))).next((k=>{y=k;const M=[];for(const V of d){const j=aM(V,y.get(V.key).overlayedDocument);j!=null&&M.push(new Co(V.key,j,wT(j.value.mapValue),Br.exists(!0)))}return h.mutationQueue.addMutationBatch(S,p,M,d)})).next((k=>{w=k;const M=k.applyToLocalDocumentSet(y,b);return h.documentOverlayCache.saveOverlays(S,k.batchId,M)}))})).then((()=>({batchId:w.batchId,changes:NT(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,d,h){let p=l.du[l.currentUser.toKey()];p||(p=new Wt(ot)),p=p.insert(d,h),l.du[l.currentUser.toKey()]=p})(r,s.batchId,n),await od(r,s.changes),await dm(r.remoteStore)}catch(s){const a=Ty(s,"Failed to persist write");n.reject(a)}}async function u1(t,e){const n=Qe(t);try{const r=await iL(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=n.Au.get(a);l&&(bt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?bt(l.hu,14607):s.removedDocuments.size>0&&(bt(l.hu,42227),l.hu=!1))})),await od(n,r,e)}catch(r){await uc(r)}}function a0(t,e,n){const r=Qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((a,l)=>{const d=l.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(l,d){const h=Qe(l);h.onlineState=d;let p=!1;h.queries.forEach(((g,y)=>{for(const w of y.ba)w.va(d)&&(p=!0)})),p&&Cy(h)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XL(t,e,n){const r=Qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new Wt(Le.comparator);l=l.insert(a,Rn.newNoDocument(a,Ge.min()));const d=at().add(a),h=new lm(Ge.min(),new Map,new Wt(ot),l,d);await u1(r,h),r.Ru=r.Ru.remove(a),r.Au.delete(e),ky(r)}else await lv(r.localStore,e,!1).then((()=>dv(r,e,n))).catch(uc)}async function JL(t,e){const n=Qe(t),r=e.batch.batchId;try{const s=await sL(n.localStore,e);h1(n,r,null),d1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await od(n,s)}catch(s){await uc(s)}}async function ZL(t,e,n){const r=Qe(t);try{const s=await(function(l,d){const h=Qe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return h.mutationQueue.lookupMutationBatch(p,d).next((y=>(bt(y!==null,37113),g=y.keys(),h.mutationQueue.removeMutationBatch(p,y)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>h.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);h1(r,e,n),d1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await od(r,s)}catch(s){await uc(s)}}function d1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function h1(t,e,n){const r=Qe(t);let s=r.du[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function dv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||f1(t,r)}))}function f1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(xy(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),ky(t))}function l0(t,e,n){for(const r of n)r instanceof a1?(t.Vu.addReference(r.key,e),e4(t,r)):r instanceof l1?(_e(Iy,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||f1(t,r.key)):Be(19791,{wu:r})}function e4(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(_e(Iy,"New document in limbo: "+n),t.Eu.add(r),ky(t))}function ky(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Le(Dt.fromString(e)),r=t.fu.next();t.Au.set(r,new WL(n)),t.Ru=t.Ru.insert(n,r),t1(t.remoteStore,new oo(ks(uy(n.path)),r,"TargetPurposeLimboResolution",em.ce))}}async function od(t,e,n){const r=Qe(t),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,h)=>{l.push(r.pu(h,e,n).then((p=>{var g;if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(p){s.push(p);const y=yy.Es(h.targetId,p);a.push(y)}})))})),await Promise.all(l),r.Pu.J_(s),await(async function(h,p){const g=Qe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>ne.forEach(p,(w=>ne.forEach(w.Ts,(S=>g.persistence.referenceDelegate.addReference(y,w.targetId,S))).next((()=>ne.forEach(w.Is,(S=>g.persistence.referenceDelegate.removeReference(y,w.targetId,S)))))))))}catch(y){if(!dc(y))throw y;_e(wy,"Failed to update sequence numbers: "+y)}for(const y of p){const w=y.targetId;if(!y.fromCache){const S=g.vs.get(w),C=S.snapshotVersion,b=S.withLastLimboFreeSnapshotVersion(C);g.vs=g.vs.insert(w,b)}}})(r.localStore,a))}async function t4(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){_e(Iy,"User change. New user:",e.toKey());const r=await XT(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((d=>{d.forEach((h=>{h.reject(new Ae(oe.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await od(n,r.Ns)}}function n4(t,e){const n=Qe(t),r=n.Au.get(e);if(r&&r.hu)return at().add(r.key);{let s=at();const a=n.Iu.get(e);if(!a)return s;for(const l of a){const d=n.Tu.get(l);s=s.unionWith(d.view.nu)}return s}}function m1(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=u1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XL.bind(null,e),e.Pu.J_=VL.bind(null,e.eventManager),e.Pu.yu=FL.bind(null,e.eventManager),e}function r4(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZL.bind(null,e),e}class Rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return rL(this.persistence,new eL,e.initialUser,this.serializer)}Cu(e){return new QT(vy.Vi,this.serializer)}Du(e){return new uL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rf.provider={build:()=>new Rf};class s4 extends Rf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){bt(this.persistence.referenceDelegate instanceof Nf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FM(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new QT((r=>Nf.Vi(r,n)),this.serializer)}}class hv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t4.bind(null,this.syncEngine),await jL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OL})()}createDatastore(e){const n=cm(e.databaseInfo.databaseId),r=pL(e.databaseInfo);return xL(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,l,d){return new EL(r,s,a,l,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>a0(this.syncEngine,n,0)),(function(){return t0.v()?new t0:new dL})())}createSyncEngine(e,n){return(function(s,a,l,d,h,p,g){const y=new $L(s,a,l,d,h,p);return g&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const a=Qe(s);_e(_a,"RemoteStore shutting down."),a.Ea.add(5),await id(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}hv.provider={build:()=>new hv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="FirestoreClient";class o4{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=An.UNAUTHENTICATED,this.clientId=ry.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{_e(_o,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(_e(_o,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ty(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function _g(t,e){t.asyncQueue.verifyOperationInProgress(),_e(_o,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await XT(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function c0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await a4(t);_e(_o,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>r0(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>r0(e.remoteStore,s))),t._onlineComponents=e}async function a4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(_o,"Using user provided OfflineComponentProvider");try{await _g(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;xa("Error using user provided cache. Falling back to memory cache: "+n),await _g(t,new Rf)}}else _e(_o,"Using default OfflineComponentProvider"),await _g(t,new s4(void 0));return t._offlineComponents}async function p1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(_o,"Using user provided OnlineComponentProvider"),await c0(t,t._uninitializedComponentsProvider._online)):(_e(_o,"Using default OnlineComponentProvider"),await c0(t,new hv))),t._onlineComponents}function l4(t){return p1(t).then((e=>e.syncEngine))}async function u0(t){const e=await p1(t),n=e.eventManager;return n.onListen=HL.bind(null,e.syncEngine),n.onUnlisten=KL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YL.bind(null,e.syncEngine),n}function c4(t,e,n,r){const s=new i4(r),a=new UL(e,s,n);return t.asyncQueue.enqueueAndForget((async()=>ML(await u0(t),a))),()=>{s.Nu(),t.asyncQueue.enqueueAndForget((async()=>LL(await u0(t),a)))}}function u4(t,e){const n=new ma;return t.asyncQueue.enqueueAndForget((async()=>QL(await l4(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="ComponentProvider",d0=new Map;function h4(t,e,n,r,s){return new NO(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,g1(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="firestore.googleapis.com",h0=!0;class f0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=v1,this.ssl=h0}else this.host=e.host,this.ssl=e.ssl??h0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LM)throw new Ae(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lO;switch(r.type){case"firstParty":return new hO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=d0.get(n);r&&(_e(d4,"Removing Datastore"),d0.delete(n),r.terminate())})(this),Promise.resolve()}}function f4(t,e,n,r={}){var p;t=ho(t,hm);const s=Ca(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;s&&(Wv(`https://${d}`),$v("Firestore",!0)),a.host!==v1&&a.host!==d&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:d,ssl:s,emulatorOptions:r};if(!ga(h,l)&&(t._setSettings(h),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=An.MOCK_USER;else{g=pS(r.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Ae(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new An(w)}t._authCredentials=new cO(new aT(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fm(this.firestore,e,this._query)}}class sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(nd(n,sn._jsonSchema))return new sn(e,r||null,new Le(Dt.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:Xt("string",sn._jsonSchemaVersion),referencePath:Xt("string")};class fo extends fm{constructor(e,n,r){super(e,n,uy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Le(e))}withConverter(e){return new fo(this.firestore,e,this._path)}}function Eg(t,e,...n){if(t=an(t),lT("collection","path",e),t instanceof hm){const r=Dt.fromString(e,...n);return CE(r),new fo(t,null,r)}{if(!(t instanceof sn||t instanceof fo))throw new Ae(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return CE(r),new fo(t.firestore,null,r)}}function of(t,e,...n){if(t=an(t),arguments.length===1&&(e=ry.newId()),lT("doc","path",e),t instanceof hm){const r=Dt.fromString(e,...n);return TE(r),new sn(t,null,new Le(r))}{if(!(t instanceof sn||t instanceof fo))throw new Ae(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return TE(r),new sn(t.firestore,t instanceof fo?t.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="AsyncQueue";class p0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZT(this,"async_queue_retry"),this._c=()=>{const r=xg();r&&_e(m0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=xg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!dc(e))throw e;_e(m0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,yi("INTERNAL UNHANDLED ERROR: ",g0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Sy.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Be(47125,{Pc:g0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function g0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Xl extends hm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new p0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p0(e),this._firestoreClient=void 0,await e}}}function m4(t,e){const n=typeof t=="object"?t:Gv(),r=typeof t=="string"?t:Ef,s=Yf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=hS("firestore");a&&f4(s,...a)}return s}function y1(t){if(t._terminated)throw new Ae(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||p4(t),t._firestoreClient}function p4(t){var r,s,a,l;const e=t._freezeSettings(),n=h4(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new o4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Er(En.fromBase64String(e))}catch(n){throw new Ae(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Er(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Er._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nd(e,Er._jsonSchema))return Er.fromBase64String(e.bytes)}}Er._jsonSchemaVersion="firestore/bytes/1.0",Er._jsonSchema={type:Xt("string",Er._jsonSchemaVersion),bytes:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:As._jsonSchemaVersion}}static fromJSON(e){if(nd(e,As._jsonSchema))return new As(e.latitude,e.longitude)}}As._jsonSchemaVersion="firestore/geoPoint/1.0",As._jsonSchema={type:Xt("string",As._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nd(e,Wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wr(e.vectorValues);throw new Ae(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wr._jsonSchemaVersion="firestore/vectorValue/1.0",Wr._jsonSchema={type:Xt("string",Wr._jsonSchemaVersion),vectorValues:Xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=/^__.*__$/;class v4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Co(e,this.data,this.fieldMask,n,this.fieldTransforms):new rd(e,this.data,n,this.fieldTransforms)}}class w1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function x1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{dataSource:t})}}class Ry{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ry({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Pf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(x1(this.dataSource)&&g4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class y4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cm(e)}createContext(e,n,r,s=!1){return new Ry({dataSource:e,methodName:n,targetDoc:r,path:xn.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _1(t){const e=t._freezeSettings(),n=cm(t._databaseId);return new y4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function w4(t,e,n,r,s,a={}){const l=t.createContext(a.merge||a.mergeFields?2:0,e,n,s);Py("Data must be an object, but it was:",l,r);const d=E1(r,l);let h,p;if(a.merge)h=new or(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const w=zu(e,y,n);if(!l.contains(w))throw new Ae(oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);T1(g,w)||g.push(w)}h=new or(g),p=l.fieldTransforms.filter((y=>h.covers(y.field)))}else h=null,p=l.fieldTransforms;return new v4(new Hn(d),h,p)}class mm extends Ay{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mm}}function x4(t,e,n,r){const s=t.createContext(1,e,n);Py("Data must be an object, but it was:",s,r);const a=[],l=Hn.empty();To(r,((h,p)=>{const g=S1(e,h,n);p=an(p);const y=s.childContextForFieldPath(g);if(p instanceof mm)a.push(g);else{const w=pm(p,y);w!=null&&(a.push(g),l.set(g,w))}}));const d=new or(a);return new w1(l,d,s.fieldTransforms)}function _4(t,e,n,r,s,a){const l=t.createContext(1,e,n),d=[zu(e,r,n)],h=[s];if(a.length%2!=0)throw new Ae(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)d.push(zu(e,a[w])),h.push(a[w+1]);const p=[],g=Hn.empty();for(let w=d.length-1;w>=0;--w)if(!T1(p,d[w])){const S=d[w];let C=h[w];C=an(C);const b=l.childContextForFieldPath(S);if(C instanceof mm)p.push(S);else{const k=pm(C,b);k!=null&&(p.push(S),g.set(S,k))}}const y=new or(p);return new w1(g,y,l.fieldTransforms)}function pm(t,e){if(b1(t=an(t)))return Py("Unsupported field value:",e,t),E1(t,e);if(t instanceof Ay)return(function(r,s){if(!x1(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const d of r){let h=pm(d,s.childContextForArray(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,s){if((r=an(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Et.fromDate(r);return{timestampValue:kf(s.serializer,a)}}if(r instanceof Et){const a=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kf(s.serializer,a)}}if(r instanceof As)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Er)return{bytesValue:zT(s.serializer,r._byteString)};if(r instanceof sn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:py(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Wr)return(function(l,d){const h=l instanceof Wr?l.toArray():l;return{mapValue:{fields:{[vT]:{stringValue:yT},[bf]:{arrayValue:{values:h.map((g=>{if(typeof g!="number")throw d.createError("VectorValues must only contain numeric values.");return dy(d.serializer,g)}))}}}}}})(r,s);if(KT(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${sy(r)}`)})(t,e)}function E1(t,e){const n={};return dT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(t,((r,s)=>{const a=pm(s,e.childContextForField(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function b1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof As||t instanceof Er||t instanceof sn||t instanceof Ay||t instanceof Wr||KT(t))}function Py(t,e,n){if(!b1(n)||!cT(n)){const r=sy(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function zu(t,e,n){if((e=an(e))instanceof Ny)return e._internalPath;if(typeof e=="string")return S1(t,e);throw Pf("Field path arguments must be of type string or ",t,!1,void 0,n)}const E4=new RegExp("[~\\*/\\[\\]]");function S1(t,e,n){if(e.search(E4)>=0)throw Pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ny(...e.split("."))._internalPath}catch{throw Pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pf(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new Ae(oe.INVALID_ARGUMENT,d+t+h)}function T1(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{convertValue(e,n="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return To(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,s,a;const n=(a=(s=(r=e.fields)==null?void 0:r[bf].arrayValue)==null?void 0:s.values)==null?void 0:a.map((l=>Gt(l.doubleValue)));return new Wr(n)}convertGeoPoint(e){return new As(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mu(e));default:return null}}convertTimestamp(e){const n=vo(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);bt(GT(r),9688,{name:e});const s=new Lu(r.get(1),r.get(3)),a=new Le(r.popFirst(5));return s.isEqual(n)||yi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends b4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Er(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}const v0="@firebase/firestore",y0="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(zu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class S4 extends I1{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function C4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class wu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pa extends I1{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=pa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",pa._jsonSchema={type:Xt("string",pa._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class af extends pa{data(e={}){return super.data(e)}}class Fl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new wu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new af(this._firestore,this._userDataWriter,r.key,r,new wu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((d=>{const h=new af(s._firestore,s._userDataWriter,d.doc.key,d.doc,new wu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const h=new af(s._firestore,s._userDataWriter,d.doc.key,d.doc,new wu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return d.type!==0&&(p=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),g=l.indexOf(d.doc.key)),{type:I4(d.type),doc:h,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ry.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function I4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fl._jsonSchemaVersion="firestore/querySnapshot/1.0",Fl._jsonSchema={type:Xt("string",Fl._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};function x0(t,e,n,...r){t=ho(t,sn);const s=ho(t.firestore,Xl),a=_1(s);let l;return l=typeof(e=an(e))=="string"||e instanceof Ny?_4(a,"updateDoc",t._key,e,n,r):x4(a,"updateDoc",t._key,e),jy(s,[l.toMutation(t._key,Br.exists(!0))])}function k4(t){return jy(ho(t.firestore,Xl),[new hy(t._key,Br.none())])}function _0(t,e){const n=ho(t.firestore,Xl),r=of(t),s=C4(t.converter,e),a=_1(t.firestore);return jy(n,[w4(a,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Br.exists(!1))]).then((()=>r))}function N4(t,...e){var p,g,y;t=an(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||w0(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(w0(e[r])){const w=e[r];e[r]=(p=w.next)==null?void 0:p.bind(w),e[r+1]=(g=w.error)==null?void 0:g.bind(w),e[r+2]=(y=w.complete)==null?void 0:y.bind(w)}let a,l,d;if(t instanceof sn)l=ho(t.firestore,Xl),d=uy(t._key.path),a={next:w=>{e[r]&&e[r](A4(l,t,w))},error:e[r+1],complete:e[r+2]};else{const w=ho(t,fm);l=ho(w.firestore,Xl),d=w._query;const S=new C1(l);a={next:C=>{e[r]&&e[r](new Fl(l,S,w,C))},error:e[r+1],complete:e[r+2]},T4(t._query)}const h=y1(l);return c4(h,d,s,a)}function jy(t,e){const n=y1(t);return u4(n,e)}function A4(t,e,n){const r=n.docs.get(e._key),s=new C1(t);return new pa(t,s,e._key,r,new wu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){aO(Ia),va(new po("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),d=new Xl(new uO(r.getProvider("auth-internal")),new fO(l,r.getProvider("app-check-internal")),AO(l,s),l);return a={useFetchStreams:n,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Ts(v0,y0,e),Ts(v0,y0,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="firebasestorage.googleapis.com",R4="storageBucket",P4=120*1e3,j4=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Vs{constructor(e,n,r=0){super(bg(e),`Firebase Storage: ${n} (${bg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ds;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ds||(Ds={}));function bg(t){return"storage/"+t}function D4(){const t="An unknown error occurred, please check the error payload for server response.";return new Fs(Ds.UNKNOWN,t)}function O4(){return new Fs(Ds.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function M4(){return new Fs(Ds.CANCELED,"User canceled the upload/download.")}function L4(t){return new Fs(Ds.INVALID_URL,"Invalid URL '"+t+"'.")}function V4(t){return new Fs(Ds.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function E0(t){return new Fs(Ds.INVALID_ARGUMENT,t)}function N1(){return new Fs(Ds.APP_DELETED,"The Firebase app was deleted.")}function F4(t){return new Fs(Ds.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ur.makeFromUrl(e,n)}catch{return new Ur(e,"")}if(r.path==="")return r;throw V4(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const l="(/(.*))?$",d=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function p(B){B.path_=decodeURIComponent(B.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${y}/${g}/b/${s}/o${w}`,"i"),C={bucket:1,path:3},b=n===k1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",M=new RegExp(`^https?://${b}/${s}/${k}`,"i"),j=[{regex:d,indices:h,postModify:a},{regex:S,indices:C,postModify:p},{regex:M,indices:{bucket:1,path:2},postModify:p}];for(let B=0;B<j.length;B++){const D=j[B],W=D.regex.exec(e);if(W){const I=W[D.indices.bucket];let N=W[D.indices.path];N||(N=""),r=new Ur(I,N),D.postModify(r);break}}if(r==null)throw L4(e);return r}}class U4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t,e,n){let r=1,s=null,a=null,l=!1,d=0;function h(){return d===2}let p=!1;function g(...k){p||(p=!0,e.apply(null,k))}function y(k){s=setTimeout(()=>{s=null,t(S,h())},k)}function w(){a&&clearTimeout(a)}function S(k,...M){if(p){w();return}if(k){w(),g.call(null,k,...M);return}if(h()||l){w(),g.call(null,k,...M);return}r<64&&(r*=2);let j;d===1?(d=2,j=0):j=(r+Math.random())*1e3,y(j)}let C=!1;function b(k){C||(C=!0,w(),!p&&(s!==null?(k||(d=2),clearTimeout(s),y(0)):k||(d=1)))}return y(0),a=setTimeout(()=>{l=!0,b(!0)},n),b}function B4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){return t!==void 0}function b0(t,e,n,r){if(r<e)throw E0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw E0(`Invalid value for '${t}'. Expected ${n} or less.`)}function $4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var jf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(jf||(jf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n,r,s,a,l,d,h,p,g,y,w=!0,S=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=y,this.retry=w,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,b)=>{this.resolve_=C,this.reject_=b,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Vh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=d=>{const h=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const d=a.getErrorCode()===jf.NO_ERROR,h=a.getStatus();if(!d||H4(h,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===jf.ABORT;r(!1,new Vh(!1,null,g));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new Vh(p,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());W4(h)?a(h):a()}catch(h){l(h)}else if(d!==null){const h=D4();h.serverResponse=d.getErrorText(),this.errorCallback_?l(this.errorCallback_(d,h)):l(h)}else if(s.canceled){const h=this.appDelete_?N1():M4();l(h)}else{const h=O4();l(h)}};this.canceled_?n(!1,new Vh(!1,null,!0)):this.backoffId_=z4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&B4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function G4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function K4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Y4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Q4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function X4(t,e,n,r,s,a,l=!0,d=!1){const h=$4(t.urlParams),p=t.url+h,g=Object.assign({},t.headers);return Y4(g,e),G4(g,n),K4(g,a),Q4(g,r),new q4(p,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Z4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this._service=e,n instanceof Ur?this._location=n:this._location=Ur.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Df(e,n)}get root(){const e=new Ur(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Z4(this._location.path)}get storage(){return this._service}get parent(){const e=J4(this._location.path);if(e===null)return null;const n=new Ur(this._location.bucket,e);return new Df(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw F4(e)}}function S0(t,e){const n=e==null?void 0:e[R4];return n==null?null:Ur.makeFromBucketSpec(n,t)}function eV(t,e,n,r={}){t.host=`${e}:${n}`;const s=Ca(e);s&&(Wv(`https://${t.host}/b`),$v("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:pS(a,t.app.options.projectId))}class tV{constructor(e,n,r,s,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=k1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=P4,this._maxUploadRetryTime=j4,this._requests=new Set,s!=null?this._bucket=Ur.makeFromBucketSpec(s,this._host):this._bucket=S0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ur.makeFromBucketSpec(this._url,e):this._bucket=S0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){b0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){b0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Df(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new U4(N1());{const l=X4(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const T0="@firebase/storage",C0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="storage";function nV(t=Gv(),e){t=an(t);const r=Yf(t,A1).getImmediate({identifier:e}),s=hS("storage");return s&&rV(r,...s),r}function rV(t,e,n,r={}){eV(t,e,n,r)}function sV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new tV(n,r,s,e,Ia)}function iV(){va(new po(A1,sV,"PUBLIC").setMultipleInstances(!0)),Ts(T0,C0,""),Ts(T0,C0,"esm2020")}iV();const oV={apiKey:"AIzaSyAW-K6O13y3Tl4I5mJT0Os9lphAkk-Vw70",authDomain:"casa-ramayon.firebaseapp.com",projectId:"casa-ramayon",storageBucket:"casa-ramayon.firebasestorage.app",messagingSenderId:"577627616386",appId:"1:577627616386:web:9b970b73ec573fbea8f09b"},Dy=yS(oV),bl=m4(Dy);nV(Dy);const Sg=rO(Dy),R1=x.createContext(void 0);function aV({children:t}){const[e,n]=x.useState(null),[r,s]=x.useState(!0);x.useEffect(()=>{const d=Hj(Sg,h=>{n(h),s(!1)});return()=>d()},[]);const a=async(d,h)=>{await Bj(Sg,d,h)},l=async()=>{await qj(Sg)};return c.jsx(R1.Provider,{value:{user:e,loading:r,signIn:a,signOut:l},children:t})}function Oy(){const t=x.useContext(R1);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const P1="dmg61dxrz",lV="casa_ramayon",cV=()=>!!P1,uV=async(t,e="general")=>{var a;const n=new FormData;n.append("file",t),n.append("upload_preset",lV),n.append("folder",`casa_ramayon/${e}`);const r=await fetch(`https://api.cloudinary.com/v1_1/${P1}/image/upload`,{method:"POST",body:n});if(!r.ok){const l=await r.json();throw new Error(((a=l.error)==null?void 0:a.message)||"Failed to upload image")}return(await r.json()).secure_url},I0=[],k0=[],N0=[],A0=[],R0=[{id:"1",name:"Amigo",price:"$5.000",period:"mensual",benefits:["Descuento en eventos","Newsletter exclusivo","Acceso anticipado"],featured:!1,isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"2",name:"Amigo Plus",price:"$45.000",period:"anual",benefits:["Todo lo de Amigo","Invitaciones VIP","Parking gratuito","Taller gratis por mes"],featured:!0,isActive:!0,createdAt:new Date,updatedAt:new Date}],P0=[],j0=[],D0=[{id:"historia",slug:"historia",title:"Nuestra Historia",content:"Casa Ramayon naci en...",isActive:!0,updatedAt:new Date},{id:"espacio",slug:"espacio",title:"El Espacio",content:"Nuestras instalaciones incluyen...",isActive:!0,updatedAt:new Date}],j1=x.createContext(void 0),rt={events:"casa_ramayon_events",products:"casa_ramayon_products",workshops:"casa_ramayon_workshops",guidedTours:"casa_ramayon_guided_tours",memberships:"casa_ramayon_memberships",sponsors:"casa_ramayon_sponsors",teamMembers:"casa_ramayon_team_members",pages:"casa_ramayon_pages"},ai=(t,e)=>{try{const n=localStorage.getItem(t);if(n)return JSON.parse(n)}catch(n){console.error("Error loading from localStorage:",n)}return e},Fh=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error("Error saving to localStorage:",n)}};function dV({children:t}){const[e,n]=x.useState([]),[r,s]=x.useState([]),[a,l]=x.useState([]),[d,h]=x.useState([]),[p,g]=x.useState([]),[y,w]=x.useState([]),[S,C]=x.useState([]),[b,k]=x.useState([]),[M,V]=x.useState(!0),[j,B]=x.useState(!1);x.useEffect(()=>{if(j)n(ai(rt.events,I0)),s(ai(rt.products,k0)),l(ai(rt.workshops,N0)),h(ai(rt.guidedTours,A0)),g(ai(rt.memberships,R0)),w(ai(rt.sponsors,P0)),C(ai(rt.teamMembers,j0)),k(ai(rt.pages,D0)),V(!1);else{const ce=[],Re=(pt,ct,vt,Jt)=>N4(Eg(bl,pt),tt=>{const _t=tt.docs.map(Nt=>{var kr,cr;return{id:Nt.id,...Nt.data(),createdAt:((kr=Nt.data().createdAt)==null?void 0:kr.toDate())||new Date,updatedAt:((cr=Nt.data().updatedAt)==null?void 0:cr.toDate())||new Date}});vt(_t)},tt=>{console.error(`Error fetching ${pt}:`,tt),B(!0),vt(ai(ct,Jt))});return ce.push(Re("events",rt.events,n,I0)),ce.push(Re("products",rt.products,s,k0)),ce.push(Re("workshops",rt.workshops,l,N0)),ce.push(Re("guidedTours",rt.guidedTours,h,A0)),ce.push(Re("memberships",rt.memberships,g,R0)),ce.push(Re("sponsors",rt.sponsors,w,P0)),ce.push(Re("teamMembers",rt.teamMembers,C,j0)),ce.push(Re("pages",rt.pages,k,D0)),setTimeout(()=>V(!1),2e3),()=>ce.forEach(pt=>pt())}},[j]);const D=async(ce,Re,pt,ct,vt)=>{const Jt={...pt,createdAt:new Date,updatedAt:new Date};if(j){const tt=Date.now().toString(),_t={...Jt,id:tt},Nt=[...ct,_t];vt(Nt),Fh(Re,Nt)}else await _0(Eg(bl,ce),{...Jt,createdAt:Et.now(),updatedAt:Et.now()})},W=async(ce,Re,pt,ct,vt,Jt)=>{const tt={...ct,updatedAt:new Date};if(j){const _t=vt.map(Nt=>Nt.id===pt?{...Nt,...tt}:Nt);Jt(_t),Fh(Re,_t)}else await x0(of(bl,ce,pt),{...tt,updatedAt:Et.now()})},I=async(ce,Re,pt,ct,vt)=>{if(j){const Jt=ct.filter(tt=>tt.id!==pt);vt(Jt),Fh(Re,Jt)}else await k4(of(bl,ce,pt))},N=ce=>D("events",rt.events,ce,e,n),P=(ce,Re)=>W("events",rt.events,ce,Re,e,n),F=ce=>I("events",rt.events,ce,e,n),U=ce=>D("products",rt.products,ce,r,s),O=(ce,Re)=>W("products",rt.products,ce,Re,r,s),A=ce=>I("products",rt.products,ce,r,s),de=ce=>D("workshops",rt.workshops,ce,a,l),Z=(ce,Re)=>W("workshops",rt.workshops,ce,Re,a,l),me=ce=>I("workshops",rt.workshops,ce,a,l),ee=ce=>D("guidedTours",rt.guidedTours,ce,d,h),H=(ce,Re)=>W("guidedTours",rt.guidedTours,ce,Re,d,h),re=ce=>I("guidedTours",rt.guidedTours,ce,d,h),se=ce=>D("memberships",rt.memberships,ce,p,g),q=(ce,Re)=>W("memberships",rt.memberships,ce,Re,p,g),te=ce=>I("memberships",rt.memberships,ce,p,g),ye=ce=>D("sponsors",rt.sponsors,ce,y,w),we=(ce,Re)=>W("sponsors",rt.sponsors,ce,Re,y,w),Me=ce=>I("sponsors",rt.sponsors,ce,y,w),De=ce=>D("teamMembers",rt.teamMembers,ce,S,C),le=(ce,Re)=>W("teamMembers",rt.teamMembers,ce,Re,S,C),Ee=ce=>I("teamMembers",rt.teamMembers,ce,S,C),Pe=async(ce,Re)=>{const pt={...Re,updatedAt:new Date};if(j){const ct=b.map(vt=>vt.slug===ce?{...vt,...pt}:vt);b.find(vt=>vt.slug===ce)||ct.push({id:ce,slug:ce,title:Re.title||"",content:Re.content||"",isActive:Re.isActive??!0,updatedAt:new Date}),k(ct),Fh(rt.pages,ct)}else{const ct=b.find(vt=>vt.slug===ce);ct?await x0(of(bl,"pages",ct.id),{...pt,updatedAt:Et.now()}):await _0(Eg(bl,"pages"),{slug:ce,...pt,updatedAt:Et.now()})}},Ue=ce=>new Promise((Re,pt)=>{const ct=new FileReader;ct.onloadend=()=>Re(ct.result),ct.onerror=pt,ct.readAsDataURL(ce)}),Xe=async(ce,Re)=>{if(cV())try{return await uV(ce,Re)}catch(pt){console.warn("Cloudinary upload failed, falling back to base64:",pt)}return Ue(ce)},Je=async ce=>{console.log("Image deletion not implemented:",ce)};return c.jsx(j1.Provider,{value:{events:e,products:r,workshops:a,guidedTours:d,memberships:p,sponsors:y,teamMembers:S,pages:b,loading:M,useLocalStorage:j,addEvent:N,updateEvent:P,deleteEvent:F,addProduct:U,updateProduct:O,deleteProduct:A,addWorkshop:de,updateWorkshop:Z,deleteWorkshop:me,addGuidedTour:ee,updateGuidedTour:H,deleteGuidedTour:re,addMembership:se,updateMembership:q,deleteMembership:te,addSponsor:ye,updateSponsor:we,deleteSponsor:Me,addTeamMember:De,updateTeamMember:le,deleteTeamMember:Ee,updatePage:Pe,uploadImage:Xe,deleteImage:Je},children:t})}function Tr(){const t=x.useContext(j1);if(t===void 0)throw new Error("useData must be used within a DataProvider");return t}function hV({children:t}){const{user:e,loading:n}=Oy(),r=Ls(),s=localStorage.getItem("casa_ramayon_demo_auth")==="true";return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):!e&&!s?c.jsx(nS,{to:"/panel/login",state:{from:r},replace:!0}):c.jsx(c.Fragment,{children:t})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),D1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...d},h)=>x.createElement("svg",{ref:h,...mV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:D1("lucide",s),...d},[...l.map(([p,g])=>x.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(t,e)=>{const n=x.forwardRef(({className:r,...s},a)=>x.createElement(pV,{ref:a,iconNode:e,className:D1(`lucide-${fV(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=$e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=$e("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=$e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=$e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=$e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=$e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=$e("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=$e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=$e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=$e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=$e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=$e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=$e("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=$e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=$e("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=$e("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=$e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=$e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=$e("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=$e("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=$e("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=$e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=$e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=$e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=$e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=$e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=$e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=$e("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=$e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=$e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=$e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=$e("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=$e("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=$e("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=$e("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=$e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=$e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=$e("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=$e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function V0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Vy(...t){return e=>{let n=!1;const r=t.map(s=>{const a=V0(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():V0(t[s],null)}}}}function st(...t){return x.useCallback(Vy(...t),t)}var xi=x.forwardRef((t,e)=>{const{children:n,...r}=t,s=x.Children.toArray(n),a=s.find($V);if(a){const l=a.props.children,d=s.map(h=>h===a?x.Children.count(l)>1?x.Children.only(null):x.isValidElement(l)?l.props.children:null:h);return c.jsx(pv,{...r,ref:e,children:x.isValidElement(l)?x.cloneElement(l,void 0,d):null})}return c.jsx(pv,{...r,ref:e,children:n})});xi.displayName="Slot";var pv=x.forwardRef((t,e)=>{const{children:n,...r}=t;if(x.isValidElement(n)){const s=qV(n);return x.cloneElement(n,{...HV(r,n.props),ref:e?Vy(e,s):s})}return x.Children.count(n)>1?x.Children.only(null):null});pv.displayName="SlotClone";var F1=({children:t})=>c.jsx(c.Fragment,{children:t});function $V(t){return x.isValidElement(t)&&t.type===F1}function HV(t,e){const n={...e};for(const r in e){const s=t[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...d)=>{a(...d),s(...d)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}function qV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function U1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=U1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function z1(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=U1(t))&&(r&&(r+=" "),r+=e);return r}const F0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,U0=z1,vm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return U0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(p=>{const g=n==null?void 0:n[p],y=a==null?void 0:a[p];if(g===null)return null;const w=F0(g)||F0(y);return s[p][w]}),d=n&&Object.entries(n).reduce((p,g)=>{let[y,w]=g;return w===void 0||(p[y]=w),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:y,className:w,...S}=g;return Object.entries(S).every(C=>{let[b,k]=C;return Array.isArray(k)?k.includes({...a,...d}[b]):{...a,...d}[b]===k})?[...p,y,w]:p},[]);return U0(t,l,h,n==null?void 0:n.class,n==null?void 0:n.className)},GV=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},KV=(t,e)=>({classGroupId:t,validator:e}),B1=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Of="-",z0=[],YV="arbitrary..",QV=t=>{const e=JV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return XV(l);const d=l.split(Of),h=d[0]===""&&d.length>1?1:0;return W1(d,h,e)},getConflictingClassGroupIds:(l,d)=>{if(d){const h=r[l],p=n[l];return h?p?GV(p,h):h:p||z0}return n[l]||z0}}},W1=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const s=t[e],a=n.nextPart.get(s);if(a){const p=W1(t,e+1,a);if(p)return p}const l=n.validators;if(l===null)return;const d=e===0?t.join(Of):t.slice(e).join(Of),h=l.length;for(let p=0;p<h;p++){const g=l[p];if(g.validator(d))return g.classGroupId}},XV=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?YV+r:void 0})(),JV=t=>{const{theme:e,classGroups:n}=t;return ZV(n,e)},ZV=(t,e)=>{const n=B1();for(const r in t){const s=t[r];Fy(s,n,r,e)}return n},Fy=(t,e,n,r)=>{const s=t.length;for(let a=0;a<s;a++){const l=t[a];eF(l,e,n,r)}},eF=(t,e,n,r)=>{if(typeof t=="string"){tF(t,e,n);return}if(typeof t=="function"){nF(t,e,n,r);return}rF(t,e,n,r)},tF=(t,e,n)=>{const r=t===""?e:$1(e,t);r.classGroupId=n},nF=(t,e,n,r)=>{if(sF(t)){Fy(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(KV(n,t))},rF=(t,e,n,r)=>{const s=Object.entries(t),a=s.length;for(let l=0;l<a;l++){const[d,h]=s[l];Fy(h,$1(e,d),n,r)}},$1=(t,e)=>{let n=t;const r=e.split(Of),s=r.length;for(let a=0;a<s;a++){const l=r[a];let d=n.nextPart.get(l);d||(d=B1(),n.nextPart.set(l,d)),n=d}return n},sF=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,iF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const s=(a,l)=>{n[a]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(a){let l=n[a];if(l!==void 0)return l;if((l=r[a])!==void 0)return s(a,l),l},set(a,l){a in n?n[a]=l:s(a,l)}}},gv="!",B0=":",oF=[],W0=(t,e,n,r,s)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),aF=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const a=[];let l=0,d=0,h=0,p;const g=s.length;for(let b=0;b<g;b++){const k=s[b];if(l===0&&d===0){if(k===B0){a.push(s.slice(h,b)),h=b+1;continue}if(k==="/"){p=b;continue}}k==="["?l++:k==="]"?l--:k==="("?d++:k===")"&&d--}const y=a.length===0?s:s.slice(h);let w=y,S=!1;y.endsWith(gv)?(w=y.slice(0,-1),S=!0):y.startsWith(gv)&&(w=y.slice(1),S=!0);const C=p&&p>h?p-h:void 0;return W0(a,S,w,C)};if(e){const s=e+B0,a=r;r=l=>l.startsWith(s)?a(l.slice(s.length)):W0(oF,!1,l,void 0,!0)}if(n){const s=r;r=a=>n({className:a,parseClassName:s})}return r},lF=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let a=0;a<n.length;a++){const l=n[a],d=l[0]==="[",h=e.has(l);d||h?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(l)):s.push(l)}return s.length>0&&(s.sort(),r.push(...s)),r}},cF=t=>({cache:iF(t.cacheSize),parseClassName:aF(t),sortModifiers:lF(t),...QV(t)}),uF=/\s+/,dF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=e,l=[],d=t.trim().split(uF);let h="";for(let p=d.length-1;p>=0;p-=1){const g=d[p],{isExternal:y,modifiers:w,hasImportantModifier:S,baseClassName:C,maybePostfixModifierPosition:b}=n(g);if(y){h=g+(h.length>0?" "+h:h);continue}let k=!!b,M=r(k?C.substring(0,b):C);if(!M){if(!k){h=g+(h.length>0?" "+h:h);continue}if(M=r(C),!M){h=g+(h.length>0?" "+h:h);continue}k=!1}const V=w.length===0?"":w.length===1?w[0]:a(w).join(":"),j=S?V+gv:V,B=j+M;if(l.indexOf(B)>-1)continue;l.push(B);const D=s(M,k);for(let W=0;W<D.length;++W){const I=D[W];l.push(j+I)}h=g+(h.length>0?" "+h:h)}return h},hF=(...t)=>{let e=0,n,r,s="";for(;e<t.length;)(n=t[e++])&&(r=H1(n))&&(s&&(s+=" "),s+=r);return s},H1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=H1(t[r]))&&(n&&(n+=" "),n+=e);return n},fF=(t,...e)=>{let n,r,s,a;const l=h=>{const p=e.reduce((g,y)=>y(g),t());return n=cF(p),r=n.cache.get,s=n.cache.set,a=d,d(h)},d=h=>{const p=r(h);if(p)return p;const g=dF(h,n);return s(h,g),g};return a=l,(...h)=>a(hF(...h))},mF=[],tn=t=>{const e=n=>n[t]||mF;return e.isThemeGetter=!0,e},q1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,G1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,pF=/^\d+\/\d+$/,gF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,wF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sl=t=>pF.test(t),et=t=>!!t&&!Number.isNaN(Number(t)),Zi=t=>!!t&&Number.isInteger(Number(t)),Tg=t=>t.endsWith("%")&&et(t.slice(0,-1)),li=t=>gF.test(t),_F=()=>!0,EF=t=>vF.test(t)&&!yF.test(t),K1=()=>!1,bF=t=>wF.test(t),SF=t=>xF.test(t),TF=t=>!Te(t)&&!Ce(t),CF=t=>pc(t,X1,K1),Te=t=>q1.test(t),ua=t=>pc(t,J1,EF),Cg=t=>pc(t,RF,et),$0=t=>pc(t,Y1,K1),IF=t=>pc(t,Q1,SF),Uh=t=>pc(t,Z1,bF),Ce=t=>G1.test(t),fu=t=>gc(t,J1),kF=t=>gc(t,PF),H0=t=>gc(t,Y1),NF=t=>gc(t,X1),AF=t=>gc(t,Q1),zh=t=>gc(t,Z1,!0),pc=(t,e,n)=>{const r=q1.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},gc=(t,e,n=!1)=>{const r=G1.exec(t);return r?r[1]?e(r[1]):n:!1},Y1=t=>t==="position"||t==="percentage",Q1=t=>t==="image"||t==="url",X1=t=>t==="length"||t==="size"||t==="bg-size",J1=t=>t==="length",RF=t=>t==="number",PF=t=>t==="family-name",Z1=t=>t==="shadow",jF=()=>{const t=tn("color"),e=tn("font"),n=tn("text"),r=tn("font-weight"),s=tn("tracking"),a=tn("leading"),l=tn("breakpoint"),d=tn("container"),h=tn("spacing"),p=tn("radius"),g=tn("shadow"),y=tn("inset-shadow"),w=tn("text-shadow"),S=tn("drop-shadow"),C=tn("blur"),b=tn("perspective"),k=tn("aspect"),M=tn("ease"),V=tn("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...B(),Ce,Te],W=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],N=()=>[Ce,Te,h],P=()=>[Sl,"full","auto",...N()],F=()=>[Zi,"none","subgrid",Ce,Te],U=()=>["auto",{span:["full",Zi,Ce,Te]},Zi,Ce,Te],O=()=>[Zi,"auto",Ce,Te],A=()=>["auto","min","max","fr",Ce,Te],de=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Z=()=>["start","end","center","stretch","center-safe","end-safe"],me=()=>["auto",...N()],ee=()=>[Sl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],H=()=>[t,Ce,Te],re=()=>[...B(),H0,$0,{position:[Ce,Te]}],se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",NF,CF,{size:[Ce,Te]}],te=()=>[Tg,fu,ua],ye=()=>["","none","full",p,Ce,Te],we=()=>["",et,fu,ua],Me=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[et,Tg,H0,$0],Ee=()=>["","none",C,Ce,Te],Pe=()=>["none",et,Ce,Te],Ue=()=>["none",et,Ce,Te],Xe=()=>[et,Ce,Te],Je=()=>[Sl,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[li],breakpoint:[li],color:[_F],container:[li],"drop-shadow":[li],ease:["in","out","in-out"],font:[TF],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[li],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[li],shadow:[li],spacing:["px",et],text:[li],"text-shadow":[li],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Sl,Te,Ce,k]}],container:["container"],columns:[{columns:[et,Te,Ce,d]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Zi,"auto",Ce,Te]}],basis:[{basis:[Sl,"full","auto",d,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[et,Sl,"auto","initial","none",Te]}],grow:[{grow:["",et,Ce,Te]}],shrink:[{shrink:["",et,Ce,Te]}],order:[{order:[Zi,"first","last","none",Ce,Te]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...de(),"normal"]}],"justify-items":[{"justify-items":[...Z(),"normal"]}],"justify-self":[{"justify-self":["auto",...Z()]}],"align-content":[{content:["normal",...de()]}],"align-items":[{items:[...Z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Z(),{baseline:["","last"]}]}],"place-content":[{"place-content":de()}],"place-items":[{"place-items":[...Z(),"baseline"]}],"place-self":[{"place-self":["auto",...Z()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:me()}],mx:[{mx:me()}],my:[{my:me()}],ms:[{ms:me()}],me:[{me:me()}],mt:[{mt:me()}],mr:[{mr:me()}],mb:[{mb:me()}],ml:[{ml:me()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[d,"screen",...ee()]}],"min-w":[{"min-w":[d,"screen","none",...ee()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",n,fu,ua]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ce,Cg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Tg,Te]}],"font-family":[{font:[kF,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ce,Te]}],"line-clamp":[{"line-clamp":[et,"none",Ce,Cg]}],leading:[{leading:[a,...N()]}],"list-image":[{"list-image":["none",Ce,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ce,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Me(),"wavy"]}],"text-decoration-thickness":[{decoration:[et,"from-font","auto",Ce,ua]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[et,"auto",Ce,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:re()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Zi,Ce,Te],radial:["",Ce,Te],conic:[Zi,Ce,Te]},AF,IF]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:ye()}],"rounded-s":[{"rounded-s":ye()}],"rounded-e":[{"rounded-e":ye()}],"rounded-t":[{"rounded-t":ye()}],"rounded-r":[{"rounded-r":ye()}],"rounded-b":[{"rounded-b":ye()}],"rounded-l":[{"rounded-l":ye()}],"rounded-ss":[{"rounded-ss":ye()}],"rounded-se":[{"rounded-se":ye()}],"rounded-ee":[{"rounded-ee":ye()}],"rounded-es":[{"rounded-es":ye()}],"rounded-tl":[{"rounded-tl":ye()}],"rounded-tr":[{"rounded-tr":ye()}],"rounded-br":[{"rounded-br":ye()}],"rounded-bl":[{"rounded-bl":ye()}],"border-w":[{border:we()}],"border-w-x":[{"border-x":we()}],"border-w-y":[{"border-y":we()}],"border-w-s":[{"border-s":we()}],"border-w-e":[{"border-e":we()}],"border-w-t":[{"border-t":we()}],"border-w-r":[{"border-r":we()}],"border-w-b":[{"border-b":we()}],"border-w-l":[{"border-l":we()}],"divide-x":[{"divide-x":we()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":we()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Me(),"hidden","none"]}],"divide-style":[{divide:[...Me(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...Me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[et,Ce,Te]}],"outline-w":[{outline:["",et,fu,ua]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",g,zh,Uh]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",y,zh,Uh]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[et,ua]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":we()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",w,zh,Uh]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[et,Ce,Te]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[et]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Ce,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[et]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:re()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ce,Te]}],filter:[{filter:["","none",Ce,Te]}],blur:[{blur:Ee()}],brightness:[{brightness:[et,Ce,Te]}],contrast:[{contrast:[et,Ce,Te]}],"drop-shadow":[{"drop-shadow":["","none",S,zh,Uh]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",et,Ce,Te]}],"hue-rotate":[{"hue-rotate":[et,Ce,Te]}],invert:[{invert:["",et,Ce,Te]}],saturate:[{saturate:[et,Ce,Te]}],sepia:[{sepia:["",et,Ce,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Ce,Te]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[et,Ce,Te]}],"backdrop-contrast":[{"backdrop-contrast":[et,Ce,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",et,Ce,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[et,Ce,Te]}],"backdrop-invert":[{"backdrop-invert":["",et,Ce,Te]}],"backdrop-opacity":[{"backdrop-opacity":[et,Ce,Te]}],"backdrop-saturate":[{"backdrop-saturate":[et,Ce,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",et,Ce,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ce,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[et,"initial",Ce,Te]}],ease:[{ease:["linear","initial",M,Ce,Te]}],delay:[{delay:[et,Ce,Te]}],animate:[{animate:["none",V,Ce,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ce,Te]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Pe()}],"rotate-x":[{"rotate-x":Pe()}],"rotate-y":[{"rotate-y":Pe()}],"rotate-z":[{"rotate-z":Pe()}],scale:[{scale:Ue()}],"scale-x":[{"scale-x":Ue()}],"scale-y":[{"scale-y":Ue()}],"scale-z":[{"scale-z":Ue()}],"scale-3d":["scale-3d"],skew:[{skew:Xe()}],"skew-x":[{"skew-x":Xe()}],"skew-y":[{"skew-y":Xe()}],transform:[{transform:[Ce,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Je()}],"translate-x":[{"translate-x":Je()}],"translate-y":[{"translate-y":Je()}],"translate-z":[{"translate-z":Je()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce,Te]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[et,fu,ua,Cg]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},DF=fF(jF);function fe(...t){return DF(z1(t))}const Bu=vm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function ge({className:t,variant:e,size:n,asChild:r=!1,...s}){const a=r?xi:"button";return c.jsx(a,{"data-slot":"button",className:fe(Bu({variant:e,size:n,className:t})),...s})}function OF(t,e){const n=x.createContext(e),r=a=>{const{children:l,...d}=a,h=x.useMemo(()=>d,Object.values(d));return c.jsx(n.Provider,{value:h,children:l})};r.displayName=t+"Provider";function s(a){const l=x.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,s]}function Ti(t,e=[]){let n=[];function r(a,l){const d=x.createContext(l),h=n.length;n=[...n,l];const p=y=>{var M;const{scope:w,children:S,...C}=y,b=((M=w==null?void 0:w[t])==null?void 0:M[h])||d,k=x.useMemo(()=>C,Object.values(C));return c.jsx(b.Provider,{value:k,children:S})};p.displayName=a+"Provider";function g(y,w){var b;const S=((b=w==null?void 0:w[t])==null?void 0:b[h])||d,C=x.useContext(S);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[p,g]}const s=()=>{const a=n.map(l=>x.createContext(l));return function(d){const h=(d==null?void 0:d[t])||a;return x.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return s.scopeName=t,[r,MF(s,...e)]}function MF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=r.reduce((d,{useScope:h,scopeName:p})=>{const y=h(a)[`__scope${p}`];return{...d,...y}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function Oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}var LF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],qe=LF.reduce((t,e)=>{const n=x.forwardRef((r,s)=>{const{asChild:a,...l}=r,d=a?xi:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(d,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function vv(t,e){t&&Qu.flushSync(()=>t.dispatchEvent(e))}function Bt(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Ea({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=VF({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:r,d=Bt(n),h=x.useCallback(p=>{if(a){const y=typeof p=="function"?p(t):p;y!==t&&d(y)}else s(p)},[a,t,s,d]);return[l,h]}function VF({defaultProp:t,onChange:e}){const n=x.useState(t),[r]=n,s=x.useRef(r),a=Bt(e);return x.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}var FF=x.createContext(void 0);function Uy(t){const e=x.useContext(FF);return t||e||"ltr"}var ln=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function UF(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var qn=t=>{const{present:e,children:n}=t,r=zF(e),s=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),a=st(r.ref,BF(s));return typeof n=="function"||r.isPresent?x.cloneElement(s,{ref:a}):null};qn.displayName="Presence";function zF(t){const[e,n]=x.useState(),r=x.useRef({}),s=x.useRef(t),a=x.useRef("none"),l=t?"mounted":"unmounted",[d,h]=UF(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const p=Bh(r.current);a.current=d==="mounted"?p:"none"},[d]),ln(()=>{const p=r.current,g=s.current;if(g!==t){const w=a.current,S=Bh(p);t?h("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(g&&w!==S?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,h]),ln(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,y=S=>{const b=Bh(r.current).includes(S.animationName);if(S.target===e&&b&&(h("ANIMATION_END"),!s.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},w=S=>{S.target===e&&(a.current=Bh(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:x.useCallback(p=>{p&&(r.current=getComputedStyle(p)),n(p)},[])}}function Bh(t){return(t==null?void 0:t.animationName)||"none"}function BF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var WF=SA.useId||(()=>{}),$F=0;function mi(t){const[e,n]=x.useState(WF());return ln(()=>{n(r=>r??String($F++))},[t]),t||(e?`radix-${e}`:"")}function zy(t){const e=t+"CollectionProvider",[n,r]=Ti(e),[s,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:C,children:b}=S,k=ve.useRef(null),M=ve.useRef(new Map).current;return c.jsx(s,{scope:C,itemMap:M,collectionRef:k,children:b})};l.displayName=e;const d=t+"CollectionSlot",h=ve.forwardRef((S,C)=>{const{scope:b,children:k}=S,M=a(d,b),V=st(C,M.collectionRef);return c.jsx(xi,{ref:V,children:k})});h.displayName=d;const p=t+"CollectionItemSlot",g="data-radix-collection-item",y=ve.forwardRef((S,C)=>{const{scope:b,children:k,...M}=S,V=ve.useRef(null),j=st(C,V),B=a(p,b);return ve.useEffect(()=>(B.itemMap.set(V,{ref:V,...M}),()=>void B.itemMap.delete(V))),c.jsx(xi,{[g]:"",ref:j,children:k})});y.displayName=p;function w(S){const C=a(t+"CollectionConsumer",S);return ve.useCallback(()=>{const k=C.collectionRef.current;if(!k)return[];const M=Array.from(k.querySelectorAll(`[${g}]`));return Array.from(C.itemMap.values()).sort((B,D)=>M.indexOf(B.ref.current)-M.indexOf(D.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:l,Slot:h,ItemSlot:y},w,r]}function HF(t,e=globalThis==null?void 0:globalThis.document){const n=Bt(t);x.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var qF="DismissableLayer",yv="dismissableLayer.update",GF="dismissableLayer.pointerDownOutside",KF="dismissableLayer.focusOutside",q0,eC=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ld=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:d,...h}=t,p=x.useContext(eC),[g,y]=x.useState(null),w=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=x.useState({}),C=st(e,I=>y(I)),b=Array.from(p.layers),[k]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),M=b.indexOf(k),V=g?b.indexOf(g):-1,j=p.layersWithOutsidePointerEventsDisabled.size>0,B=V>=M,D=XF(I=>{const N=I.target,P=[...p.branches].some(F=>F.contains(N));!B||P||(s==null||s(I),l==null||l(I),I.defaultPrevented||d==null||d())},w),W=JF(I=>{const N=I.target;[...p.branches].some(F=>F.contains(N))||(a==null||a(I),l==null||l(I),I.defaultPrevented||d==null||d())},w);return HF(I=>{V===p.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&d&&(I.preventDefault(),d()))},w),x.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(q0=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),G0(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=q0)}},[g,w,n,p]),x.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),G0())},[g,p]),x.useEffect(()=>{const I=()=>S({});return document.addEventListener(yv,I),()=>document.removeEventListener(yv,I)},[]),c.jsx(qe.div,{...h,ref:C,style:{pointerEvents:j?B?"auto":"none":void 0,...t.style},onFocusCapture:Oe(t.onFocusCapture,W.onFocusCapture),onBlurCapture:Oe(t.onBlurCapture,W.onBlurCapture),onPointerDownCapture:Oe(t.onPointerDownCapture,D.onPointerDownCapture)})});ld.displayName=qF;var YF="DismissableLayerBranch",QF=x.forwardRef((t,e)=>{const n=x.useContext(eC),r=x.useRef(null),s=st(e,r);return x.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),c.jsx(qe.div,{...t,ref:s})});QF.displayName=YF;function XF(t,e=globalThis==null?void 0:globalThis.document){const n=Bt(t),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const a=d=>{if(d.target&&!r.current){let h=function(){tC(GF,n,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function JF(t,e=globalThis==null?void 0:globalThis.document){const n=Bt(t),r=x.useRef(!1);return x.useEffect(()=>{const s=a=>{a.target&&!r.current&&tC(KF,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function G0(){const t=new CustomEvent(yv);document.dispatchEvent(t)}function tC(t,e,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?vv(s,a):s.dispatchEvent(a)}function By(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var ZF="VisuallyHidden",Wy=x.forwardRef((t,e)=>c.jsx(qe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Wy.displayName=ZF;var e3=Wy,vc="NavigationMenu",[$y,nC,t3]=zy(vc),[wv,n3,r3]=zy(vc),[Hy]=Ti(vc,[t3,r3]),[s3,Cr]=Hy(vc),[i3,o3]=Hy(vc),rC=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:s,defaultValue:a,delayDuration:l=200,skipDelayDuration:d=300,orientation:h="horizontal",dir:p,...g}=t,[y,w]=x.useState(null),S=st(e,P=>w(P)),C=Uy(p),b=x.useRef(0),k=x.useRef(0),M=x.useRef(0),[V,j]=x.useState(!0),[B="",D]=Ea({prop:r,onChange:P=>{const F=P!=="",U=d>0;F?(window.clearTimeout(M.current),U&&j(!1)):(window.clearTimeout(M.current),M.current=window.setTimeout(()=>j(!0),d)),s==null||s(P)},defaultProp:a}),W=x.useCallback(()=>{window.clearTimeout(k.current),k.current=window.setTimeout(()=>D(""),150)},[D]),I=x.useCallback(P=>{window.clearTimeout(k.current),D(P)},[D]),N=x.useCallback(P=>{B===P?window.clearTimeout(k.current):b.current=window.setTimeout(()=>{window.clearTimeout(k.current),D(P)},l)},[B,D,l]);return x.useEffect(()=>()=>{window.clearTimeout(b.current),window.clearTimeout(k.current),window.clearTimeout(M.current)},[]),c.jsx(iC,{scope:n,isRootMenu:!0,value:B,dir:C,orientation:h,rootNavigationMenu:y,onTriggerEnter:P=>{window.clearTimeout(b.current),V?N(P):I(P)},onTriggerLeave:()=>{window.clearTimeout(b.current),W()},onContentEnter:()=>window.clearTimeout(k.current),onContentLeave:W,onItemSelect:P=>{D(F=>F===P?"":P)},onItemDismiss:()=>D(""),children:c.jsx(qe.nav,{"aria-label":"Main","data-orientation":h,dir:C,...g,ref:S})})});rC.displayName=vc;var sC="NavigationMenuSub",a3=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:s,defaultValue:a,orientation:l="horizontal",...d}=t,h=Cr(sC,n),[p="",g]=Ea({prop:r,onChange:s,defaultProp:a});return c.jsx(iC,{scope:n,isRootMenu:!1,value:p,dir:h.dir,orientation:l,rootNavigationMenu:h.rootNavigationMenu,onTriggerEnter:y=>g(y),onItemSelect:y=>g(y),onItemDismiss:()=>g(""),children:c.jsx(qe.div,{"data-orientation":l,...d,ref:e})})});a3.displayName=sC;var iC=t=>{const{scope:e,isRootMenu:n,rootNavigationMenu:r,dir:s,orientation:a,children:l,value:d,onItemSelect:h,onItemDismiss:p,onTriggerEnter:g,onTriggerLeave:y,onContentEnter:w,onContentLeave:S}=t,[C,b]=x.useState(null),[k,M]=x.useState(new Map),[V,j]=x.useState(null);return c.jsx(s3,{scope:e,isRootMenu:n,rootNavigationMenu:r,value:d,previousValue:By(d),baseId:mi(),dir:s,orientation:a,viewport:C,onViewportChange:b,indicatorTrack:V,onIndicatorTrackChange:j,onTriggerEnter:Bt(g),onTriggerLeave:Bt(y),onContentEnter:Bt(w),onContentLeave:Bt(S),onItemSelect:Bt(h),onItemDismiss:Bt(p),onViewportContentChange:x.useCallback((B,D)=>{M(W=>(W.set(B,D),new Map(W)))},[]),onViewportContentRemove:x.useCallback(B=>{M(D=>D.has(B)?(D.delete(B),new Map(D)):D)},[]),children:c.jsx($y.Provider,{scope:e,children:c.jsx(i3,{scope:e,items:k,children:l})})})},oC="NavigationMenuList",aC=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,s=Cr(oC,n),a=c.jsx(qe.ul,{"data-orientation":s.orientation,...r,ref:e});return c.jsx(qe.div,{style:{position:"relative"},ref:s.onIndicatorTrackChange,children:c.jsx($y.Slot,{scope:n,children:s.isRootMenu?c.jsx(gC,{asChild:!0,children:a}):a})})});aC.displayName=oC;var lC="NavigationMenuItem",[l3,cC]=Hy(lC),uC=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,...s}=t,a=mi(),l=r||a||"LEGACY_REACT_AUTO_VALUE",d=x.useRef(null),h=x.useRef(null),p=x.useRef(null),g=x.useRef(()=>{}),y=x.useRef(!1),w=x.useCallback((C="start")=>{if(d.current){g.current();const b=_v(d.current);b.length&&Ky(C==="start"?b:b.reverse())}},[]),S=x.useCallback(()=>{if(d.current){const C=_v(d.current);C.length&&(g.current=g3(C))}},[]);return c.jsx(l3,{scope:n,value:l,triggerRef:h,contentRef:d,focusProxyRef:p,wasEscapeCloseRef:y,onEntryKeyDown:w,onFocusProxyEnter:w,onRootContentClose:S,onContentFocusOutside:S,children:c.jsx(qe.li,{...s,ref:e})})});uC.displayName=lC;var xv="NavigationMenuTrigger",dC=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,disabled:r,...s}=t,a=Cr(xv,t.__scopeNavigationMenu),l=cC(xv,t.__scopeNavigationMenu),d=x.useRef(null),h=st(d,l.triggerRef,e),p=yC(a.baseId,l.value),g=wC(a.baseId,l.value),y=x.useRef(!1),w=x.useRef(!1),S=l.value===a.value;return c.jsxs(c.Fragment,{children:[c.jsx($y.ItemSlot,{scope:n,value:l.value,children:c.jsx(vC,{asChild:!0,children:c.jsx(qe.button,{id:p,disabled:r,"data-disabled":r?"":void 0,"data-state":Yy(S),"aria-expanded":S,"aria-controls":g,...s,ref:h,onPointerEnter:Oe(t.onPointerEnter,()=>{w.current=!1,l.wasEscapeCloseRef.current=!1}),onPointerMove:Oe(t.onPointerMove,Mf(()=>{r||w.current||l.wasEscapeCloseRef.current||y.current||(a.onTriggerEnter(l.value),y.current=!0)})),onPointerLeave:Oe(t.onPointerLeave,Mf(()=>{r||(a.onTriggerLeave(),y.current=!1)})),onClick:Oe(t.onClick,()=>{a.onItemSelect(l.value),w.current=S}),onKeyDown:Oe(t.onKeyDown,C=>{const k={horizontal:"ArrowDown",vertical:a.dir==="rtl"?"ArrowLeft":"ArrowRight"}[a.orientation];S&&C.key===k&&(l.onEntryKeyDown(),C.preventDefault())})})})}),S&&c.jsxs(c.Fragment,{children:[c.jsx(e3,{"aria-hidden":!0,tabIndex:0,ref:l.focusProxyRef,onFocus:C=>{const b=l.contentRef.current,k=C.relatedTarget,M=k===d.current,V=b==null?void 0:b.contains(k);(M||!V)&&l.onFocusProxyEnter(M?"start":"end")}}),a.viewport&&c.jsx("span",{"aria-owns":g})]})]})});dC.displayName=xv;var c3="NavigationMenuLink",K0="navigationMenu.linkSelect",hC=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,active:r,onSelect:s,...a}=t;return c.jsx(vC,{asChild:!0,children:c.jsx(qe.a,{"data-active":r?"":void 0,"aria-current":r?"page":void 0,...a,ref:e,onClick:Oe(t.onClick,l=>{const d=l.target,h=new CustomEvent(K0,{bubbles:!0,cancelable:!0});if(d.addEventListener(K0,p=>s==null?void 0:s(p),{once:!0}),vv(d,h),!h.defaultPrevented&&!l.metaKey){const p=new CustomEvent(lf,{bubbles:!0,cancelable:!0});vv(d,p)}},{checkForDefaultPrevented:!1})})})});hC.displayName=c3;var qy="NavigationMenuIndicator",u3=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Cr(qy,t.__scopeNavigationMenu),a=!!s.value;return s.indicatorTrack?aS.createPortal(c.jsx(qn,{present:n||a,children:c.jsx(d3,{...r,ref:e})}),s.indicatorTrack):null});u3.displayName=qy;var d3=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,s=Cr(qy,n),a=nC(n),[l,d]=x.useState(null),[h,p]=x.useState(null),g=s.orientation==="horizontal",y=!!s.value;x.useEffect(()=>{var b;const C=(b=a().find(k=>k.value===s.value))==null?void 0:b.ref.current;C&&d(C)},[a,s.value]);const w=()=>{l&&p({size:g?l.offsetWidth:l.offsetHeight,offset:g?l.offsetLeft:l.offsetTop})};return Ev(l,w),Ev(s.indicatorTrack,w),h?c.jsx(qe.div,{"aria-hidden":!0,"data-state":y?"visible":"hidden","data-orientation":s.orientation,...r,ref:e,style:{position:"absolute",...g?{left:0,width:h.size+"px",transform:`translateX(${h.offset}px)`}:{top:0,height:h.size+"px",transform:`translateY(${h.offset}px)`},...r.style}}):null}),Jl="NavigationMenuContent",fC=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Cr(Jl,t.__scopeNavigationMenu),a=cC(Jl,t.__scopeNavigationMenu),l=st(a.contentRef,e),d=a.value===s.value,h={value:a.value,triggerRef:a.triggerRef,focusProxyRef:a.focusProxyRef,wasEscapeCloseRef:a.wasEscapeCloseRef,onContentFocusOutside:a.onContentFocusOutside,onRootContentClose:a.onRootContentClose,...r};return s.viewport?c.jsx(h3,{forceMount:n,...h,ref:l}):c.jsx(qn,{present:n||d,children:c.jsx(mC,{"data-state":Yy(d),...h,ref:l,onPointerEnter:Oe(t.onPointerEnter,s.onContentEnter),onPointerLeave:Oe(t.onPointerLeave,Mf(s.onContentLeave)),style:{pointerEvents:!d&&s.isRootMenu?"none":void 0,...h.style}})})});fC.displayName=Jl;var h3=x.forwardRef((t,e)=>{const n=Cr(Jl,t.__scopeNavigationMenu),{onViewportContentChange:r,onViewportContentRemove:s}=n;return ln(()=>{r(t.value,{ref:e,...t})},[t,e,r]),ln(()=>()=>s(t.value),[t.value,s]),null}),lf="navigationMenu.rootContentDismiss",mC=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,triggerRef:s,focusProxyRef:a,wasEscapeCloseRef:l,onRootContentClose:d,onContentFocusOutside:h,...p}=t,g=Cr(Jl,n),y=x.useRef(null),w=st(y,e),S=yC(g.baseId,r),C=wC(g.baseId,r),b=nC(n),k=x.useRef(null),{onItemDismiss:M}=g;x.useEffect(()=>{const j=y.current;if(g.isRootMenu&&j){const B=()=>{var D;M(),d(),j.contains(document.activeElement)&&((D=s.current)==null||D.focus())};return j.addEventListener(lf,B),()=>j.removeEventListener(lf,B)}},[g.isRootMenu,t.value,s,M,d]);const V=x.useMemo(()=>{const B=b().map(F=>F.value);g.dir==="rtl"&&B.reverse();const D=B.indexOf(g.value),W=B.indexOf(g.previousValue),I=r===g.value,N=W===B.indexOf(r);if(!I&&!N)return k.current;const P=(()=>{if(D!==W){if(I&&W!==-1)return D>W?"from-end":"from-start";if(N&&D!==-1)return D>W?"to-start":"to-end"}return null})();return k.current=P,P},[g.previousValue,g.value,g.dir,b,r]);return c.jsx(gC,{asChild:!0,children:c.jsx(ld,{id:C,"aria-labelledby":S,"data-motion":V,"data-orientation":g.orientation,...p,ref:w,disableOutsidePointerEvents:!1,onDismiss:()=>{var B;const j=new Event(lf,{bubbles:!0,cancelable:!0});(B=y.current)==null||B.dispatchEvent(j)},onFocusOutside:Oe(t.onFocusOutside,j=>{var D;h();const B=j.target;(D=g.rootNavigationMenu)!=null&&D.contains(B)&&j.preventDefault()}),onPointerDownOutside:Oe(t.onPointerDownOutside,j=>{var I;const B=j.target,D=b().some(N=>{var P;return(P=N.ref.current)==null?void 0:P.contains(B)}),W=g.isRootMenu&&((I=g.viewport)==null?void 0:I.contains(B));(D||W||!g.isRootMenu)&&j.preventDefault()}),onKeyDown:Oe(t.onKeyDown,j=>{var W;const B=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!B){const I=_v(j.currentTarget),N=document.activeElement,P=I.findIndex(O=>O===N),U=j.shiftKey?I.slice(0,P).reverse():I.slice(P+1,I.length);Ky(U)?j.preventDefault():(W=a.current)==null||W.focus()}}),onEscapeKeyDown:Oe(t.onEscapeKeyDown,j=>{l.current=!0})})})}),Gy="NavigationMenuViewport",pC=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,a=!!Cr(Gy,t.__scopeNavigationMenu).value;return c.jsx(qn,{present:n||a,children:c.jsx(f3,{...r,ref:e})})});pC.displayName=Gy;var f3=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,children:r,...s}=t,a=Cr(Gy,n),l=st(e,a.onViewportChange),d=o3(Jl,t.__scopeNavigationMenu),[h,p]=x.useState(null),[g,y]=x.useState(null),w=h?(h==null?void 0:h.width)+"px":void 0,S=h?(h==null?void 0:h.height)+"px":void 0,C=!!a.value,b=C?a.value:a.previousValue;return Ev(g,()=>{g&&p({width:g.offsetWidth,height:g.offsetHeight})}),c.jsx(qe.div,{"data-state":Yy(C),"data-orientation":a.orientation,...s,ref:l,style:{pointerEvents:!C&&a.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":w,"--radix-navigation-menu-viewport-height":S,...s.style},onPointerEnter:Oe(t.onPointerEnter,a.onContentEnter),onPointerLeave:Oe(t.onPointerLeave,Mf(a.onContentLeave)),children:Array.from(d.items).map(([M,{ref:V,forceMount:j,...B}])=>{const D=b===M;return c.jsx(qn,{present:j||D,children:c.jsx(mC,{...B,ref:Vy(V,W=>{D&&W&&y(W)})})},M)})})}),m3="FocusGroup",gC=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,s=Cr(m3,n);return c.jsx(wv.Provider,{scope:n,children:c.jsx(wv.Slot,{scope:n,children:c.jsx(qe.div,{dir:s.dir,...r,ref:e})})})}),Y0=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],p3="FocusGroupItem",vC=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,s=n3(n),a=Cr(p3,n);return c.jsx(wv.ItemSlot,{scope:n,children:c.jsx(qe.button,{...r,ref:e,onKeyDown:Oe(t.onKeyDown,l=>{if(["Home","End",...Y0].includes(l.key)){let h=s().map(y=>y.ref.current);if([a.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(l.key)&&h.reverse(),Y0.includes(l.key)){const y=h.indexOf(l.currentTarget);h=h.slice(y+1)}setTimeout(()=>Ky(h)),l.preventDefault()}})})})});function _v(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ky(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}function g3(t){return t.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{t.forEach(e=>{const n=e.dataset.tabindex;e.setAttribute("tabindex",n)})}}function Ev(t,e){const n=Bt(e);ln(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}function Yy(t){return t?"open":"closed"}function yC(t,e){return`${t}-trigger-${e}`}function wC(t,e){return`${t}-content-${e}`}function Mf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var v3=rC,y3=aC,w3=uC,x3=dC,_3=hC,E3=fC,b3=pC;function S3({className:t,children:e,viewport:n=!0,...r}){return c.jsxs(v3,{"data-slot":"navigation-menu","data-viewport":n,className:fe("group/navigation-menu relative flex max-w-max flex-1 items-center justify-center",t),...r,children:[e,n&&c.jsx(N3,{})]})}function T3({className:t,...e}){return c.jsx(y3,{"data-slot":"navigation-menu-list",className:fe("group flex flex-1 list-none items-center justify-center gap-1",t),...e})}function Q0({className:t,...e}){return c.jsx(w3,{"data-slot":"navigation-menu-item",className:fe("relative",t),...e})}const C3=vm("group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=open]:hover:bg-accent data-[state=open]:text-accent-foreground data-[state=open]:focus:bg-accent data-[state=open]:bg-accent/50 focus-visible:ring-ring/50 outline-none transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1");function I3({className:t,children:e,...n}){return c.jsxs(x3,{"data-slot":"navigation-menu-trigger",className:fe(C3(),"group",t),...n,children:[e," ",c.jsx(ad,{className:"relative top-[1px] ml-1 size-3 transition duration-300 group-data-[state=open]:rotate-180","aria-hidden":"true"})]})}function k3({className:t,...e}){return c.jsx(E3,{"data-slot":"navigation-menu-content",className:fe("data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 top-0 left-0 w-full p-2 pr-2.5 md:absolute md:w-auto","group-data-[viewport=false]/navigation-menu:bg-popover group-data-[viewport=false]/navigation-menu:text-popover-foreground group-data-[viewport=false]/navigation-menu:data-[state=open]:animate-in group-data-[viewport=false]/navigation-menu:data-[state=closed]:animate-out group-data-[viewport=false]/navigation-menu:data-[state=closed]:zoom-out-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:zoom-in-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:fade-in-0 group-data-[viewport=false]/navigation-menu:data-[state=closed]:fade-out-0 group-data-[viewport=false]/navigation-menu:top-full group-data-[viewport=false]/navigation-menu:mt-1.5 group-data-[viewport=false]/navigation-menu:overflow-hidden group-data-[viewport=false]/navigation-menu:rounded-md group-data-[viewport=false]/navigation-menu:border group-data-[viewport=false]/navigation-menu:shadow group-data-[viewport=false]/navigation-menu:duration-200 **:data-[slot=navigation-menu-link]:focus:ring-0 **:data-[slot=navigation-menu-link]:focus:outline-none",t),...e})}function N3({className:t,...e}){return c.jsx("div",{className:"absolute top-full left-0 isolate z-50 flex justify-center",children:c.jsx(b3,{"data-slot":"navigation-menu-viewport",className:fe("origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]",t),...e})})}function X0({className:t,...e}){return c.jsx(_3,{"data-slot":"navigation-menu-link",className:fe("data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus-visible:ring-ring/50 [&_svg:not([class*='text-'])]:text-muted-foreground flex flex-col gap-1 rounded-sm p-2 text-sm transition-all outline-none focus-visible:ring-[3px] focus-visible:outline-1 [&_svg:not([class*='size-'])]:size-4",t),...e})}const J0={nosotros:{label:"Nosotros",items:[{label:"Historia",href:"#historia",description:"Conoc nuestra historia"},{label:"El Espacio",href:"#espacio",description:"Descubr nuestras instalaciones"},{label:"Equipo",href:"#equipo",description:"Las personas detrs de Casa Ramayon"}]},programacion:{label:"Programacin",items:[{label:"Prximos Eventos",href:"#events",description:"Agenda de eventos y entradas"},{label:"Talleres y Formacin",href:"#talleres",description:"Cursos y workshops"},{label:"Visitas Guiadas",href:"#visitas",description:"Programa 'Visit la casa'"}]},tienda:{label:"Tienda",items:[{label:"Obras de Arte",href:"#shop",description:"Catlogo de obras en venta"},{label:"Tienda de Objetos",href:"#objetos",description:"Merch, yerbas, libros y vinos"}]},comunidad:{label:"Comunidad",items:[{label:"Hacete Amigo",href:"#amigo",description:"Membresas y socios"},{label:"Patrocinadores",href:"#sponsors",description:"Apoyos y colaboradores"}]}};function A3(){const[t,e]=x.useState(!1),[n,r]=x.useState(null),s=a=>{r(n===a?null:a)};return c.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border",children:c.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[c.jsxs("div",{className:"flex items-center justify-between h-20",children:[c.jsxs(Es,{to:"/",className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-primary-foreground font-serif font-medium text-lg",children:"CR"})}),c.jsx("span",{className:"text-xl lg:text-2xl font-serif italic tracking-wide text-foreground",children:"Casa Ramayon"})]}),c.jsx(S3,{className:"hidden lg:flex",children:c.jsxs(T3,{children:[Object.entries(J0).map(([a,l])=>c.jsxs(Q0,{children:[c.jsx(I3,{className:"bg-transparent",children:l.label}),c.jsx(k3,{children:c.jsx("ul",{className:"grid w-[300px] gap-1 p-2",children:l.items.map(d=>c.jsx("li",{children:c.jsx(X0,{asChild:!0,children:c.jsxs("a",{href:d.href,className:fe("block select-none rounded-md p-3 leading-none no-underline outline-none transition-colors","hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground"),children:[c.jsx("div",{className:"text-sm font-medium leading-none",children:d.label}),c.jsx("p",{className:"line-clamp-2 text-xs leading-snug text-muted-foreground mt-1",children:d.description})]})})},d.href))})})]},a)),c.jsx(Q0,{children:c.jsx(X0,{href:"#contacto",className:fe("group inline-flex h-10 w-max items-center justify-center rounded-md bg-transparent px-4 py-2 text-sm font-medium transition-colors","hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground"),children:"Contacto"})})]})}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(ge,{className:"hidden md:inline-flex bg-primary text-primary-foreground hover:bg-primary/90 gap-2",asChild:!0,children:c.jsxs("a",{href:"#amigo",children:[c.jsx(mv,{className:"h-4 w-4"}),"Hacete Amigo"]})}),c.jsx(ge,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>e(!t),children:t?c.jsx(gm,{className:"h-6 w-6"}):c.jsx(L1,{className:"h-6 w-6"})})]})]}),t&&c.jsxs("nav",{className:"lg:hidden py-4 space-y-1 border-t border-border max-h-[calc(100vh-5rem)] overflow-y-auto",children:[Object.entries(J0).map(([a,l])=>c.jsxs("div",{className:"border-b border-border/50 last:border-0",children:[c.jsxs("button",{onClick:()=>s(a),className:"flex items-center justify-between w-full py-3 text-left text-base font-medium hover:text-accent transition-colors",children:[l.label,c.jsx(ad,{className:fe("h-4 w-4 transition-transform",n===a&&"rotate-180")})]}),n===a&&c.jsx("div",{className:"pb-3 pl-4 space-y-2",children:l.items.map(d=>c.jsx("a",{href:d.href,className:"block py-2 text-sm text-muted-foreground hover:text-foreground transition-colors",onClick:()=>e(!1),children:d.label},d.href))})]},a)),c.jsx("a",{href:"#contacto",className:"block py-3 text-base font-medium hover:text-accent transition-colors",onClick:()=>e(!1),children:"Contacto"}),c.jsx("div",{className:"pt-4",children:c.jsx(ge,{className:"w-full bg-primary text-primary-foreground hover:bg-primary/90 gap-2",onClick:()=>e(!1),asChild:!0,children:c.jsxs("a",{href:"#amigo",children:[c.jsx(mv,{className:"h-4 w-4"}),"Hacete Amigo"]})})})]})]})})}const R3=()=>c.jsxs("section",{className:"relative min-h-[90vh] flex items-center justify-center pt-20",children:[c.jsxs("div",{className:"absolute inset-0 z-0",children:[c.jsx("img",{src:"/casa_ramayon.png",alt:"Galera de arte cultural",className:"w-full h-full object-cover opacity-70"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background/50 via-background/80 to-background"})]}),c.jsxs("div",{className:"container mx-auto px-4 lg:px-8 relative z-10 text-center",children:[c.jsxs("h1",{className:"text-5xl md:text-7xl lg:text-8xl font-light tracking-tight mb-6 text-balance",children:["Donde la cultura encuentra",c.jsx("br",{}),c.jsx("span",{className:"italic font-normal",children:"experiencia"})]}),c.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto mb-10 leading-relaxed",children:"Descubre eventos culturales, reserva tu mesa y explora materiales de arte seleccionados para tu viaje creativo."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs(ge,{size:"lg",className:"bg-primary text-primary-foreground hover:bg-primary/90 text-base",children:["Explorar Eventos",c.jsx(fv,{className:"ml-2 h-5 w-5"})]}),c.jsx(ge,{size:"lg",variant:"outline",className:"text-base bg-transparent",children:"Ver Tienda"})]})]})]});function Ut({className:t,...e}){return c.jsx("div",{"data-slot":"card",className:fe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function nn({className:t,...e}){return c.jsx("div",{"data-slot":"card-header",className:fe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function sr({className:t,...e}){return c.jsx("div",{"data-slot":"card-title",className:fe("leading-none font-semibold",t),...e})}function mo({className:t,...e}){return c.jsx("div",{"data-slot":"card-description",className:fe("text-muted-foreground text-sm",t),...e})}function zt({className:t,...e}){return c.jsx("div",{"data-slot":"card-content",className:fe("px-6",t),...e})}function P3({className:t,...e}){return c.jsx("div",{"data-slot":"card-footer",className:fe("flex items-center px-6 [.border-t]:pt-6",t),...e})}const j3="/";function D3(){const{events:t,loading:e}=Tr(),n=t.filter(r=>r.isActive);return e?c.jsx("section",{id:"events",className:"py-24 bg-muted/30",children:c.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),c.jsx("p",{className:"mt-4 text-muted-foreground",children:"Cargando eventos..."})]})})}):c.jsx("section",{id:"events",className:"py-24 bg-muted/30",children:c.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsxs("h2",{className:"text-4xl md:text-5xl font-light tracking-tight mb-4",children:["Prximos ",c.jsx("span",{className:"italic",children:"Eventos"})]}),c.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Sumrgete en experiencias culturales seleccionadas que inspiran e iluminan"})]}),n.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"No hay eventos disponibles en este momento."})}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(r=>c.jsxs(Ut,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"relative h-64 overflow-hidden",children:[c.jsx("img",{src:r.image||`${j3}placeholder.svg`,alt:r.title,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"}),c.jsx("div",{className:"absolute top-4 right-4",children:c.jsx("span",{className:"bg-background/90 backdrop-blur-sm text-foreground px-3 py-1 rounded-full text-sm font-mono",children:r.category})})]}),c.jsxs(zt,{className:"p-6",children:[c.jsx("h3",{className:"text-2xl font-medium mb-4",children:r.title}),c.jsxs("div",{className:"space-y-2 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[c.jsx(fc,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm font-mono",children:r.date})]}),r.location&&c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[c.jsx(My,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm font-mono",children:r.location})]}),c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[c.jsx(UV,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm font-mono",children:r.price})]})]}),c.jsx(ge,{className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",children:"Reservar Entradas"})]})]},r.id))}),n.length>0&&c.jsx("div",{className:"text-center mt-12",children:c.jsx(ge,{variant:"outline",size:"lg",children:"Ver Todos los Eventos"})})]})})}function We({className:t,type:e,...n}){return c.jsx("input",{type:e,"data-slot":"input",className:fe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var O3="Label",xC=x.forwardRef((t,e)=>c.jsx(qe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));xC.displayName=O3;var M3=xC;function ke({className:t,...e}){return c.jsx(M3,{"data-slot":"label",className:fe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function L3(){const[t,e]=x.useState({name:"",email:"",date:"",time:"",guests:"2"}),n=r=>{r.preventDefault(),console.log("Booking submitted:",t),alert("Reserva confirmada! Recibirs un correo de confirmacin pronto.")};return c.jsx("section",{id:"bookings",className:"py-24",children:c.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-4xl md:text-5xl font-light tracking-tight mb-6",children:["Reserva tu ",c.jsx("span",{className:"italic",children:"mesa"})]}),c.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed mb-8",children:"Experimenta nuestro espacio cultural con asientos reservados para exposiciones, espectculos y talleres. Disfruta de un ambiente ntimo diseado para entusiastas del arte."}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:c.jsx(fc,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-lg mb-1",children:"Programacin Flexible"}),c.jsx("p",{className:"text-muted-foreground",children:"Elige tu fecha y hora preferidas para cualquier evento"})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:c.jsx(Ly,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-lg mb-1",children:"Reservas Grupales"}),c.jsx("p",{className:"text-muted-foreground",children:"Reserva espacio para reuniones ntimas o grupos ms grandes"})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:c.jsx(wV,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-lg mb-1",children:"Confirmacin Inmediata"}),c.jsx("p",{className:"text-muted-foreground",children:"Recibe confirmacin de reserva inmediata por correo electrnico"})]})]})]})]}),c.jsxs(Ut,{className:"shadow-xl",children:[c.jsx(nn,{children:c.jsx(sr,{className:"text-2xl font-light",children:"Hacer una Reserva"})}),c.jsx(zt,{children:c.jsxs("form",{onSubmit:n,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"name",children:"Nombre Completo"}),c.jsx(We,{id:"name",type:"text",placeholder:"Ingresa tu nombre",value:t.name,onChange:r=>e({...t,name:r.target.value}),className:"mt-2",required:!0})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"email",children:"Correo Electrnico"}),c.jsx(We,{id:"email",type:"email",placeholder:"tu@correo.com",value:t.email,onChange:r=>e({...t,email:r.target.value}),className:"mt-2",required:!0})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"date",children:"Fecha"}),c.jsx(We,{id:"date",type:"date",value:t.date,onChange:r=>e({...t,date:r.target.value}),className:"mt-2",required:!0})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"time",children:"Hora"}),c.jsx(We,{id:"time",type:"time",value:t.time,onChange:r=>e({...t,time:r.target.value}),className:"mt-2",required:!0})]})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"guests",children:"Nmero de Invitados"}),c.jsx(We,{id:"guests",type:"number",min:"1",max:"20",value:t.guests,onChange:r=>e({...t,guests:r.target.value}),className:"mt-2",required:!0})]}),c.jsx(ge,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",children:"Confirmar Reserva"})]})})]})]})})})}const V3="/";function F3(){const{products:t,loading:e}=Tr(),n=t.filter(s=>s.isActive),r=s=>{alert(`${s} agregado al carrito`)};return e?c.jsx("section",{id:"shop",className:"py-24 bg-muted/30",children:c.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),c.jsx("p",{className:"mt-4 text-muted-foreground",children:"Cargando productos..."})]})})}):c.jsx("section",{id:"shop",className:"py-24 bg-muted/30",children:c.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsxs("h2",{className:"text-4xl md:text-5xl font-light tracking-tight mb-4",children:["Materiales de ",c.jsx("span",{className:"italic",children:"Arte"})]}),c.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Materiales premium seleccionados para artistas en cada etapa de su viaje creativo"})]}),n.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"No hay productos disponibles en este momento."})}):c.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(s=>c.jsxs(Ut,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted",children:[c.jsx("img",{src:s.image||`${V3}placeholder.svg`,alt:s.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"}),c.jsx("div",{className:"absolute top-4 left-4",children:c.jsx("span",{className:"bg-background/90 backdrop-blur-sm text-foreground px-3 py-1 rounded-full text-xs font-mono",children:s.category})})]}),c.jsxs(zt,{className:"p-6",children:[c.jsx("h3",{className:"text-xl font-medium mb-2",children:s.name}),c.jsx("p",{className:"text-2xl font-light text-accent",children:s.price})]}),c.jsx(P3,{className:"p-6 pt-0",children:c.jsxs(ge,{className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",onClick:()=>r(s.name),children:[c.jsx(VV,{className:"mr-2 h-4 w-4"}),"Agregar al Carrito"]})})]},s.id))}),n.length>0&&c.jsx("div",{className:"text-center mt-12",children:c.jsx(ge,{variant:"outline",size:"lg",children:"Ver Catlogo Completo"})})]})})}function U3(){return c.jsx("footer",{className:"bg-primary text-primary-foreground",children:c.jsxs("div",{className:"container mx-auto px-4 lg:px-8 py-16",children:[c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-primary-foreground text-primary rounded-full flex items-center justify-center",children:c.jsx("span",{className:"font-serif font-medium text-lg",children:"CR"})}),c.jsx("span",{className:"text-2xl font-serif italic tracking-wide",children:"Casa Ramayon"})]}),c.jsx("p",{className:"text-primary-foreground/80 leading-relaxed",children:"Celebrando el arte, la cultura y la creatividad a travs de experiencias inmersivas y materiales de calidad."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-lg mb-4",children:"Enlaces Rpidos"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx("a",{href:"#events",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Eventos"})}),c.jsx("li",{children:c.jsx("a",{href:"#bookings",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Reservas"})}),c.jsx("li",{children:c.jsx("a",{href:"#shop",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Tienda"})}),c.jsx("li",{children:c.jsx("a",{href:"#about",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Acerca de Nosotros"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-lg mb-4",children:"Soporte"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Contacto"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Preguntas Frecuentes"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Envos"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Devoluciones"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-lg mb-4",children:"Mantente Actualizado"}),c.jsx("p",{className:"text-primary-foreground/80 mb-4 text-sm",children:"Suscrbete a nuestro boletn para recibir los ltimos eventos y ofertas exclusivas"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(We,{type:"email",placeholder:"Tu correo",className:"bg-primary-foreground/10 border-primary-foreground/20 text-primary-foreground placeholder:text-primary-foreground/50"}),c.jsx(ge,{variant:"secondary",size:"icon",children:c.jsx(OV,{className:"h-4 w-4"})})]})]})]}),c.jsxs("div",{className:"border-t border-primary-foreground/20 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsx("p",{className:"text-primary-foreground/60 text-sm font-mono",children:" 2025 Casa Ramayon. Todos los derechos reservados."}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(ge,{variant:"ghost",size:"icon",className:"text-primary-foreground hover:text-primary-foreground/80",children:c.jsx(TV,{className:"h-5 w-5"})}),c.jsx(ge,{variant:"ghost",size:"icon",className:"text-primary-foreground hover:text-primary-foreground/80",children:c.jsx(RV,{className:"h-5 w-5"})}),c.jsx(ge,{variant:"ghost",size:"icon",className:"text-primary-foreground hover:text-primary-foreground/80",children:c.jsx(BV,{className:"h-5 w-5"})})]})]})]})})}function z3(){return c.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[c.jsx(A3,{}),c.jsxs("main",{children:[c.jsx(R3,{}),c.jsx(D3,{}),c.jsx(L3,{}),c.jsx(F3,{})]}),c.jsx(U3,{})]})}const B3=vm("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ku({className:t,variant:e,...n}){return c.jsx("div",{"data-slot":"alert",role:"alert",className:fe(B3({variant:e}),t),...n})}function Nu({className:t,...e}){return c.jsx("div",{"data-slot":"alert-description",className:fe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function W3(){const[t,e]=x.useState(""),[n,r]=x.useState(""),[s,a]=x.useState(""),[l,d]=x.useState(!1),{signIn:h}=Oy(),p=qf(),[g,y]=x.useState(!1),w=async C=>{C.preventDefault(),a(""),d(!0);try{await h(t,n),p("/panel")}catch(b){console.error("Login error:",b),a(b.code==="auth/invalid-credential"?"Credenciales invlidas":"Error al iniciar sesin. Verifica tu conexin.")}finally{d(!1)}},S=()=>{localStorage.setItem("casa_ramayon_demo_auth","true"),p("/panel")};return c.jsx("div",{className:"min-h-screen bg-muted/30 flex items-center justify-center p-4",children:c.jsxs(Ut,{className:"w-full max-w-md",children:[c.jsxs(nn,{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:c.jsx(jV,{className:"w-6 h-6 text-primary"})}),c.jsx(sr,{className:"text-2xl",children:"Panel de Administracin"}),c.jsx(mo,{children:"Casa Ramayon"})]}),c.jsxs(zt,{children:[s&&c.jsx(ku,{variant:"destructive",className:"mb-4",children:c.jsx(Nu,{children:s})}),g?c.jsxs("div",{className:"space-y-4",children:[c.jsx(ku,{children:c.jsx(Nu,{children:"El modo demo usa almacenamiento local del navegador. Los datos se guardarn en este dispositivo hasta que configures Firebase."})}),c.jsx(ge,{className:"w-full",onClick:S,children:"Acceder al Panel Demo"}),c.jsx(ge,{variant:"outline",className:"w-full",onClick:()=>y(!1),children:"Volver al Login"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:w,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"email",children:"Email"}),c.jsx(We,{id:"email",type:"email",placeholder:"admin@casaramayon.com",value:t,onChange:C=>e(C.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"password",children:"Contrasea"}),c.jsx(We,{id:"password",type:"password",value:n,onChange:C=>r(C.target.value),required:!0})]}),c.jsxs(ge,{type:"submit",className:"w-full",disabled:l,children:[l&&c.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),"Iniciar Sesin"]})]}),c.jsxs("div",{className:"mt-6 pt-6 border-t",children:[c.jsx("p",{className:"text-sm text-muted-foreground text-center mb-3",children:"No tienes Firebase configurado?"}),c.jsx(ge,{variant:"outline",className:"w-full",onClick:()=>y(!0),children:"Modo Demo (LocalStorage)"})]})]})]})]})})}function bv(t,[e,n]){return Math.min(n,Math.max(e,t))}function $3(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var Qy="ScrollArea",[_C]=Ti(Qy),[H3,Ir]=_C(Qy),EC=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...l}=t,[d,h]=x.useState(null),[p,g]=x.useState(null),[y,w]=x.useState(null),[S,C]=x.useState(null),[b,k]=x.useState(null),[M,V]=x.useState(0),[j,B]=x.useState(0),[D,W]=x.useState(!1),[I,N]=x.useState(!1),P=st(e,U=>h(U)),F=Uy(s);return c.jsx(H3,{scope:n,type:r,dir:F,scrollHideDelay:a,scrollArea:d,viewport:p,onViewportChange:g,content:y,onContentChange:w,scrollbarX:S,onScrollbarXChange:C,scrollbarXEnabled:D,onScrollbarXEnabledChange:W,scrollbarY:b,onScrollbarYChange:k,scrollbarYEnabled:I,onScrollbarYEnabledChange:N,onCornerWidthChange:V,onCornerHeightChange:B,children:c.jsx(qe.div,{dir:F,...l,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":M+"px","--radix-scroll-area-corner-height":j+"px",...t.style}})})});EC.displayName=Qy;var bC="ScrollAreaViewport",SC=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=t,l=Ir(bC,n),d=x.useRef(null),h=st(e,d,l.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),c.jsx(qe.div,{"data-radix-scroll-area-viewport":"",...a,ref:h,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:c.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});SC.displayName=bC;var Us="ScrollAreaScrollbar",TC=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Ir(Us,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=s,d=t.orientation==="horizontal";return x.useEffect(()=>(d?a(!0):l(!0),()=>{d?a(!1):l(!1)}),[d,a,l]),s.type==="hover"?c.jsx(q3,{...r,ref:e,forceMount:n}):s.type==="scroll"?c.jsx(G3,{...r,ref:e,forceMount:n}):s.type==="auto"?c.jsx(CC,{...r,ref:e,forceMount:n}):s.type==="always"?c.jsx(Xy,{...r,ref:e}):null});TC.displayName=Us;var q3=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Ir(Us,t.__scopeScrollArea),[a,l]=x.useState(!1);return x.useEffect(()=>{const d=s.scrollArea;let h=0;if(d){const p=()=>{window.clearTimeout(h),l(!0)},g=()=>{h=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return d.addEventListener("pointerenter",p),d.addEventListener("pointerleave",g),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",p),d.removeEventListener("pointerleave",g)}}},[s.scrollArea,s.scrollHideDelay]),c.jsx(qn,{present:n||a,children:c.jsx(CC,{"data-state":a?"visible":"hidden",...r,ref:e})})}),G3=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Ir(Us,t.__scopeScrollArea),a=t.orientation==="horizontal",l=wm(()=>h("SCROLL_END"),100),[d,h]=$3("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(d==="idle"){const p=window.setTimeout(()=>h("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(p)}},[d,s.scrollHideDelay,h]),x.useEffect(()=>{const p=s.viewport,g=a?"scrollLeft":"scrollTop";if(p){let y=p[g];const w=()=>{const S=p[g];y!==S&&(h("SCROLL"),l()),y=S};return p.addEventListener("scroll",w),()=>p.removeEventListener("scroll",w)}},[s.viewport,a,h,l]),c.jsx(qn,{present:n||d!=="hidden",children:c.jsx(Xy,{"data-state":d==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Oe(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Oe(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),CC=x.forwardRef((t,e)=>{const n=Ir(Us,t.__scopeScrollArea),{forceMount:r,...s}=t,[a,l]=x.useState(!1),d=t.orientation==="horizontal",h=wm(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;l(d?p:g)}},10);return Zl(n.viewport,h),Zl(n.content,h),c.jsx(qn,{present:r||a,children:c.jsx(Xy,{"data-state":a?"visible":"hidden",...s,ref:e})})}),Xy=x.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Ir(Us,t.__scopeScrollArea),a=x.useRef(null),l=x.useRef(0),[d,h]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=RC(d.viewport,d.content),g={...r,sizes:d,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:w=>a.current=w,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:w=>l.current=w};function y(w,S){return Z3(w,l.current,d,S)}return n==="horizontal"?c.jsx(K3,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const w=s.viewport.scrollLeft,S=Z0(w,d,s.dir);a.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollLeft=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollLeft=y(w,s.dir))}}):n==="vertical"?c.jsx(Y3,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const w=s.viewport.scrollTop,S=Z0(w,d);a.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollTop=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollTop=y(w))}}):null}),K3=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,a=Ir(Us,t.__scopeScrollArea),[l,d]=x.useState(),h=x.useRef(null),p=st(e,h,a.onScrollbarXChange);return x.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),c.jsx(kC,{"data-orientation":"horizontal",...s,ref:p,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ym(n)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.x),onDragScroll:g=>t.onDragScroll(g.x),onWheelScroll:(g,y)=>{if(a.viewport){const w=a.viewport.scrollLeft+g.deltaX;t.onWheelScroll(w),jC(w,y)&&g.preventDefault()}},onResize:()=>{h.current&&a.viewport&&l&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Vf(l.paddingLeft),paddingEnd:Vf(l.paddingRight)}})}})}),Y3=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,a=Ir(Us,t.__scopeScrollArea),[l,d]=x.useState(),h=x.useRef(null),p=st(e,h,a.onScrollbarYChange);return x.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),c.jsx(kC,{"data-orientation":"vertical",...s,ref:p,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ym(n)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.y),onDragScroll:g=>t.onDragScroll(g.y),onWheelScroll:(g,y)=>{if(a.viewport){const w=a.viewport.scrollTop+g.deltaY;t.onWheelScroll(w),jC(w,y)&&g.preventDefault()}},onResize:()=>{h.current&&a.viewport&&l&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Vf(l.paddingTop),paddingEnd:Vf(l.paddingBottom)}})}})}),[Q3,IC]=_C(Us),kC=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:g,onResize:y,...w}=t,S=Ir(Us,n),[C,b]=x.useState(null),k=st(e,P=>b(P)),M=x.useRef(null),V=x.useRef(""),j=S.viewport,B=r.content-r.viewport,D=Bt(g),W=Bt(h),I=wm(y,10);function N(P){if(M.current){const F=P.clientX-M.current.left,U=P.clientY-M.current.top;p({x:F,y:U})}}return x.useEffect(()=>{const P=F=>{const U=F.target;(C==null?void 0:C.contains(U))&&D(F,B)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[j,C,B,D]),x.useEffect(W,[r,W]),Zl(C,I),Zl(S.content,I),c.jsx(Q3,{scope:n,scrollbar:C,hasThumb:s,onThumbChange:Bt(a),onThumbPointerUp:Bt(l),onThumbPositionChange:W,onThumbPointerDown:Bt(d),children:c.jsx(qe.div,{...w,ref:k,style:{position:"absolute",...w.style},onPointerDown:Oe(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),M.current=C.getBoundingClientRect(),V.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S.viewport&&(S.viewport.style.scrollBehavior="auto"),N(P))}),onPointerMove:Oe(t.onPointerMove,N),onPointerUp:Oe(t.onPointerUp,P=>{const F=P.target;F.hasPointerCapture(P.pointerId)&&F.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=V.current,S.viewport&&(S.viewport.style.scrollBehavior=""),M.current=null})})})}),Lf="ScrollAreaThumb",NC=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=IC(Lf,t.__scopeScrollArea);return c.jsx(qn,{present:n||s.hasThumb,children:c.jsx(X3,{ref:e,...r})})}),X3=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,a=Ir(Lf,n),l=IC(Lf,n),{onThumbPositionChange:d}=l,h=st(e,y=>l.onThumbChange(y)),p=x.useRef(void 0),g=wm(()=>{p.current&&(p.current(),p.current=void 0)},100);return x.useEffect(()=>{const y=a.viewport;if(y){const w=()=>{if(g(),!p.current){const S=e6(y,d);p.current=S,d()}};return d(),y.addEventListener("scroll",w),()=>y.removeEventListener("scroll",w)}},[a.viewport,g,d]),c.jsx(qe.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Oe(t.onPointerDownCapture,y=>{const S=y.target.getBoundingClientRect(),C=y.clientX-S.left,b=y.clientY-S.top;l.onThumbPointerDown({x:C,y:b})}),onPointerUp:Oe(t.onPointerUp,l.onThumbPointerUp)})});NC.displayName=Lf;var Jy="ScrollAreaCorner",AC=x.forwardRef((t,e)=>{const n=Ir(Jy,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?c.jsx(J3,{...t,ref:e}):null});AC.displayName=Jy;var J3=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Ir(Jy,n),[a,l]=x.useState(0),[d,h]=x.useState(0),p=!!(a&&d);return Zl(s.scrollbarX,()=>{var y;const g=((y=s.scrollbarX)==null?void 0:y.offsetHeight)||0;s.onCornerHeightChange(g),h(g)}),Zl(s.scrollbarY,()=>{var y;const g=((y=s.scrollbarY)==null?void 0:y.offsetWidth)||0;s.onCornerWidthChange(g),l(g)}),p?c.jsx(qe.div,{...r,ref:e,style:{width:a,height:d,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Vf(t){return t?parseInt(t,10):0}function RC(t,e){const n=t/e;return isNaN(n)?0:n}function ym(t){const e=RC(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Z3(t,e,n,r="ltr"){const s=ym(n),a=s/2,l=e||a,d=s-l,h=n.scrollbar.paddingStart+l,p=n.scrollbar.size-n.scrollbar.paddingEnd-d,g=n.content-n.viewport,y=r==="ltr"?[0,g]:[g*-1,0];return PC([h,p],y)(t)}function Z0(t,e,n="ltr"){const r=ym(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-s,l=e.content-e.viewport,d=a-r,h=n==="ltr"?[0,l]:[l*-1,0],p=bv(t,h);return PC([0,l],[0,d])(p)}function PC(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function jC(t,e){return t>0&&t<e}var e6=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function s(){const a={left:t.scrollLeft,top:t.scrollTop},l=n.left!==a.left,d=n.top!==a.top;(l||d)&&e(),n=a,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function wm(t,e){const n=Bt(t),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Zl(t,e){const n=Bt(e);ln(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var t6=EC,n6=SC,r6=AC;function s6({className:t,children:e,...n}){return c.jsxs(t6,{"data-slot":"scroll-area",className:fe("relative",t),...n,children:[c.jsx(n6,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),c.jsx(i6,{}),c.jsx(r6,{})]})}function i6({className:t,orientation:e="vertical",...n}){return c.jsx(TC,{"data-slot":"scroll-area-scrollbar",orientation:e,className:fe("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:c.jsx(NC,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var o6="Separator",eb="horizontal",a6=["horizontal","vertical"],DC=x.forwardRef((t,e)=>{const{decorative:n,orientation:r=eb,...s}=t,a=l6(r)?r:eb,d=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return c.jsx(qe.div,{"data-orientation":a,...d,...s,ref:e})});DC.displayName=o6;function l6(t){return a6.includes(t)}var c6=DC;function OC({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return c.jsx(c6,{"data-slot":"separator",decorative:n,orientation:e,className:fe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}const tb=[{name:"Dashboard",href:"/panel",icon:PV},{name:"Eventos",href:"/panel/eventos",icon:fc},{name:"Talleres",href:"/panel/talleres",icon:IV},{name:"Visitas Guiadas",href:"/panel/visitas",icon:My},{name:"Productos",href:"/panel/productos",icon:V1},{name:"Equipo",href:"/panel/equipo",icon:Ly},{name:"Membresas",href:"/panel/membresias",icon:mv},{name:"Patrocinadores",href:"/panel/sponsors",icon:gV},{name:"Pginas",href:"/panel/paginas",icon:CV},{name:"Configuracin",href:"/panel/configuracion",icon:LV}];function u6(){var h,p;const[t,e]=x.useState(!1),n=Ls(),r=qf(),{user:s,signOut:a}=Oy(),l=async()=>{localStorage.removeItem("casa_ramayon_demo_auth");try{await a()}catch{}r("/panel/login")},d=localStorage.getItem("casa_ramayon_demo_auth")==="true";return c.jsxs("div",{className:"min-h-screen bg-background",children:[t&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>e(!1)}),c.jsx("aside",{className:fe("fixed top-0 left-0 z-50 h-full w-64 bg-card border-r transform transition-transform duration-200 ease-in-out lg:translate-x-0",t?"translate-x-0":"-translate-x-full"),children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:[c.jsxs(Es,{to:"/panel",className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:"CR"})}),c.jsx("span",{className:"font-semibold",children:"Casa Ramayon"})]}),c.jsx(ge,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>e(!1),children:c.jsx(gm,{className:"h-5 w-5"})})]}),c.jsx(s6,{className:"flex-1 py-4",children:c.jsx("nav",{className:"px-2 space-y-1",children:tb.map(g=>{const y=g.href==="/panel"?n.pathname==="/panel":n.pathname.startsWith(g.href);return c.jsxs(Es,{to:g.href,onClick:()=>e(!1),className:fe("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",y?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[c.jsx(g.icon,{className:"h-5 w-5"}),g.name,y&&c.jsx(M1,{className:"h-4 w-4 ml-auto"})]},g.name)})})}),c.jsxs("div",{className:"p-4 border-t",children:[d&&c.jsx("div",{className:"mb-3 px-3 py-2 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:c.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:"Modo Demo"})}),c.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 mb-2",children:[c.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-xs font-medium",children:d?"D":((h=s==null?void 0:s.email)==null?void 0:h.charAt(0).toUpperCase())||"A"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",children:d?"Demo Admin":(s==null?void 0:s.email)||"Admin"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Administrador"})]})]}),c.jsx(OC,{className:"my-2"}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(ge,{variant:"ghost",className:"w-full justify-start gap-3 text-muted-foreground",asChild:!0,children:c.jsxs(Es,{to:"/",children:[c.jsx(AV,{className:"h-4 w-4"}),"Ver Sitio"]})}),c.jsxs(ge,{variant:"ghost",className:"w-full justify-start gap-3 text-muted-foreground hover:text-destructive",onClick:l,children:[c.jsx(DV,{className:"h-4 w-4"}),"Cerrar Sesin"]})]})]})]})}),c.jsxs("div",{className:"lg:pl-64",children:[c.jsxs("header",{className:"sticky top-0 z-30 h-16 bg-background/95 backdrop-blur border-b flex items-center px-4 lg:px-8",children:[c.jsx(ge,{variant:"ghost",size:"icon",className:"lg:hidden mr-2",onClick:()=>e(!0),children:c.jsx(L1,{className:"h-5 w-5"})}),c.jsx("h1",{className:"text-lg font-semibold",children:((p=tb.find(g=>g.href==="/panel"?n.pathname==="/panel":n.pathname.startsWith(g.href)))==null?void 0:p.name)||"Panel"})]}),c.jsx("main",{className:"p-4 lg:p-8",children:c.jsx(kR,{})})]})]})}function d6(){const{events:t,products:e,loading:n,useLocalStorage:r}=Tr(),s=t.filter(l=>l.isActive).length,a=e.filter(l=>l.isActive).length;return n?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-3xl font-light tracking-tight",children:["Bienvenido al ",c.jsx("span",{className:"italic",children:"Panel"})]}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestiona los eventos y productos de Casa Ramayon"})]}),r&&c.jsx(Ut,{className:"border-amber-500/20 bg-amber-500/5",children:c.jsx(zt,{className:"pt-6",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg",children:c.jsx(SV,{className:"h-5 w-5 text-amber-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-amber-600",children:"Modo Local"}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Los datos se guardan en el almacenamiento local del navegador. Para sincronizacin en la nube, configura Firebase en el archivo"," ",c.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:".env"})]})]})]})})}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[c.jsxs(Ut,{children:[c.jsxs(nn,{className:"flex flex-row items-center justify-between pb-2",children:[c.jsx(sr,{className:"text-sm font-medium",children:"Total Eventos"}),c.jsx(fc,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(zt,{children:[c.jsx("div",{className:"text-2xl font-bold",children:t.length}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[s," activos"]})]})]}),c.jsxs(Ut,{children:[c.jsxs(nn,{className:"flex flex-row items-center justify-between pb-2",children:[c.jsx(sr,{className:"text-sm font-medium",children:"Total Productos"}),c.jsx(V1,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(zt,{children:[c.jsx("div",{className:"text-2xl font-bold",children:e.length}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[a," activos"]})]})]}),c.jsxs(Ut,{children:[c.jsxs(nn,{className:"flex flex-row items-center justify-between pb-2",children:[c.jsx(sr,{className:"text-sm font-medium",children:"Categoras Eventos"}),c.jsx(L0,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(zt,{children:[c.jsx("div",{className:"text-2xl font-bold",children:new Set(t.map(l=>l.category)).size}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"tipos diferentes"})]})]}),c.jsxs(Ut,{children:[c.jsxs(nn,{className:"flex flex-row items-center justify-between pb-2",children:[c.jsx(sr,{className:"text-sm font-medium",children:"Categoras Productos"}),c.jsx(L0,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(zt,{children:[c.jsx("div",{className:"text-2xl font-bold",children:new Set(e.map(l=>l.category)).size}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"tipos diferentes"})]})]})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs(Ut,{children:[c.jsxs(nn,{children:[c.jsx(sr,{children:"Eventos"}),c.jsx(mo,{children:"Gestiona los prximos eventos culturales"})]}),c.jsxs(zt,{className:"space-y-4",children:[c.jsx("div",{className:"space-y-2",children:t.slice(0,3).map(l=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm",children:l.title}),c.jsx("p",{className:"text-xs text-muted-foreground",children:l.date})]}),c.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${l.isActive?"bg-green-500/10 text-green-600":"bg-muted text-muted-foreground"}`,children:l.isActive?"Activo":"Inactivo"})]},l.id))}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ge,{asChild:!0,children:c.jsxs(Es,{to:"/panel/eventos",children:[c.jsx(_n,{className:"mr-2 h-4 w-4"}),"Nuevo Evento"]})}),c.jsx(ge,{variant:"outline",asChild:!0,children:c.jsxs(Es,{to:"/panel/eventos",children:["Ver Todos",c.jsx(fv,{className:"ml-2 h-4 w-4"})]})})]})]})]}),c.jsxs(Ut,{children:[c.jsxs(nn,{children:[c.jsx(sr,{children:"Materiales de Arte"}),c.jsx(mo,{children:"Administra el catlogo de productos"})]}),c.jsxs(zt,{className:"space-y-4",children:[c.jsx("div",{className:"space-y-2",children:e.slice(0,3).map(l=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm",children:l.name}),c.jsx("p",{className:"text-xs text-muted-foreground",children:l.price})]}),c.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${l.isActive?"bg-green-500/10 text-green-600":"bg-muted text-muted-foreground"}`,children:l.isActive?"Activo":"Inactivo"})]},l.id))}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ge,{asChild:!0,children:c.jsxs(Es,{to:"/panel/productos",children:[c.jsx(_n,{className:"mr-2 h-4 w-4"}),"Nuevo Producto"]})}),c.jsx(ge,{variant:"outline",asChild:!0,children:c.jsxs(Es,{to:"/panel/productos",children:["Ver Todos",c.jsx(fv,{className:"ml-2 h-4 w-4"})]})})]})]})]})]})]})}const MC=6048e5,h6=864e5,nb=Symbol.for("constructDateFrom");function cn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&nb in t?t[nb](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ct(t,e){return cn(e||t,t)}function LC(t,e,n){const r=Ct(t,n==null?void 0:n.in);return isNaN(e)?cn(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function VC(t,e,n){const r=Ct(t,n==null?void 0:n.in);if(isNaN(e))return cn(t,NaN);if(!e)return r;const s=r.getDate(),a=cn(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const l=a.getDate();return s>=l?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}let f6={};function cd(){return f6}function ec(t,e){var d,h,p,g;const n=cd(),r=(e==null?void 0:e.weekStartsOn)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,s=Ct(t,e==null?void 0:e.in),a=s.getDay(),l=(a<r?7:0)+a-r;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Wu(t,e){return ec(t,{...e,weekStartsOn:1})}function FC(t,e){const n=Ct(t,e==null?void 0:e.in),r=n.getFullYear(),s=cn(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Wu(s),l=cn(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const d=Wu(l);return n.getTime()>=a.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function rb(t){const e=Ct(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function yc(t,...e){const n=cn.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function $u(t,e){const n=Ct(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function UC(t,e,n){const[r,s]=yc(n==null?void 0:n.in,t,e),a=$u(r),l=$u(s),d=+a-rb(a),h=+l-rb(l);return Math.round((d-h)/h6)}function m6(t,e){const n=FC(t,e),r=cn(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Wu(r)}function p6(t,e,n){return LC(t,e*7,n)}function g6(t,e,n){return VC(t,e*12,n)}function v6(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=cn.bind(null,s));const a=Ct(s,r);(!n||n<a||isNaN(+a))&&(n=a)}),cn(r,n||NaN)}function y6(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=cn.bind(null,s));const a=Ct(s,r);(!n||n>a||isNaN(+a))&&(n=a)}),cn(r,n||NaN)}function w6(t,e,n){const[r,s]=yc(n==null?void 0:n.in,t,e);return+$u(r)==+$u(s)}function zC(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function x6(t){return!(!zC(t)&&typeof t!="number"||isNaN(+Ct(t)))}function _6(t,e,n){const[r,s]=yc(n==null?void 0:n.in,t,e),a=r.getFullYear()-s.getFullYear(),l=r.getMonth()-s.getMonth();return a*12+l}function E6(t,e){const n=Ct(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function b6(t,e){const[n,r]=yc(t,e.start,e.end);return{start:n,end:r}}function S6(t,e){const{start:n,end:r}=b6(e==null?void 0:e.in,t);let s=+n>+r;const a=s?+n:+r,l=s?r:n;l.setHours(0,0,0,0),l.setDate(1);let d=1;const h=[];for(;+l<=a;)h.push(cn(n,l)),l.setMonth(l.getMonth()+d);return s?h.reverse():h}function T6(t,e){const n=Ct(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function C6(t,e){const n=Ct(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function BC(t,e){const n=Ct(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function WC(t,e){var d,h,p,g;const n=cd(),r=(e==null?void 0:e.weekStartsOn)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,s=Ct(t,e==null?void 0:e.in),a=s.getDay(),l=(a<r?-7:0)+6-(a-r);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}function I6(t,e){return WC(t,{...e,weekStartsOn:1})}const k6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},N6=(t,e,n)=>{let r;const s=k6[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ul(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const A6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},R6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},P6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j6={date:Ul({formats:A6,defaultWidth:"full"}),time:Ul({formats:R6,defaultWidth:"full"}),dateTime:Ul({formats:P6,defaultWidth:"full"})},D6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},O6=(t,e,n,r)=>D6[t];function ws(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,d=n!=null&&n.width?String(n.width):l;s=t.formattingValues[d]||t.formattingValues[l]}else{const l=t.defaultWidth,d=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[d]||t.values[l]}const a=t.argumentCallback?t.argumentCallback(e):e;return s[a]}}const M6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},L6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},V6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},F6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},U6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},z6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},B6=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},W6={ordinalNumber:B6,era:ws({values:M6,defaultWidth:"wide"}),quarter:ws({values:L6,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ws({values:V6,defaultWidth:"wide"}),day:ws({values:F6,defaultWidth:"wide"}),dayPeriod:ws({values:U6,defaultWidth:"wide",formattingValues:z6,defaultFormattingWidth:"wide"})};function xs(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(s);if(!a)return null;const l=a[0],d=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(d)?H6(d,y=>y.test(l)):$6(d,y=>y.test(l));let p;p=t.valueCallback?t.valueCallback(h):h,p=n.valueCallback?n.valueCallback(p):p;const g=e.slice(l.length);return{value:p,rest:g}}}function $6(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function H6(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function $C(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],a=e.match(t.parsePattern);if(!a)return null;let l=t.valueCallback?t.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const d=e.slice(s.length);return{value:l,rest:d}}}const q6=/^(\d+)(th|st|nd|rd)?/i,G6=/\d+/i,K6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Y6={any:[/^b/i,/^(a|c)/i]},Q6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},X6={any:[/1/i,/2/i,/3/i,/4/i]},J6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Z6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},e5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},t5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},n5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},r5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},s5={ordinalNumber:$C({matchPattern:q6,parsePattern:G6,valueCallback:t=>parseInt(t,10)}),era:xs({matchPatterns:K6,defaultMatchWidth:"wide",parsePatterns:Y6,defaultParseWidth:"any"}),quarter:xs({matchPatterns:Q6,defaultMatchWidth:"wide",parsePatterns:X6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:xs({matchPatterns:J6,defaultMatchWidth:"wide",parsePatterns:Z6,defaultParseWidth:"any"}),day:xs({matchPatterns:e5,defaultMatchWidth:"wide",parsePatterns:t5,defaultParseWidth:"any"}),dayPeriod:xs({matchPatterns:n5,defaultMatchWidth:"any",parsePatterns:r5,defaultParseWidth:"any"})},Zy={code:"en-US",formatDistance:N6,formatLong:j6,formatRelative:O6,localize:W6,match:s5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function i5(t,e){const n=Ct(t,e==null?void 0:e.in);return UC(n,BC(n))+1}function HC(t,e){const n=Ct(t,e==null?void 0:e.in),r=+Wu(n)-+m6(n);return Math.round(r/MC)+1}function qC(t,e){var g,y,w,S;const n=Ct(t,e==null?void 0:e.in),r=n.getFullYear(),s=cd(),a=(e==null?void 0:e.firstWeekContainsDate)??((y=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((S=(w=s.locale)==null?void 0:w.options)==null?void 0:S.firstWeekContainsDate)??1,l=cn((e==null?void 0:e.in)||t,0);l.setFullYear(r+1,0,a),l.setHours(0,0,0,0);const d=ec(l,e),h=cn((e==null?void 0:e.in)||t,0);h.setFullYear(r,0,a),h.setHours(0,0,0,0);const p=ec(h,e);return+n>=+d?r+1:+n>=+p?r:r-1}function o5(t,e){var d,h,p,g;const n=cd(),r=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,s=qC(t,e),a=cn((e==null?void 0:e.in)||t,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),ec(a,e)}function GC(t,e){const n=Ct(t,e==null?void 0:e.in),r=+ec(n,e)-+o5(n,e);return Math.round(r/MC)+1}function Tt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const eo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Tt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Tt(n+1,2)},d(t,e){return Tt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Tt(t.getHours()%12||12,e.length)},H(t,e){return Tt(t.getHours(),e.length)},m(t,e){return Tt(t.getMinutes(),e.length)},s(t,e){return Tt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Tt(s,e.length)}},Tl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},sb={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return eo.y(t,e)},Y:function(t,e,n,r){const s=qC(t,r),a=s>0?s:1-s;if(e==="YY"){const l=a%100;return Tt(l,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Tt(a,e.length)},R:function(t,e){const n=FC(t);return Tt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Tt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Tt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Tt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return eo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Tt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=GC(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Tt(s,e.length)},I:function(t,e,n){const r=HC(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Tt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):eo.d(t,e)},D:function(t,e,n){const r=i5(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Tt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Tt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Tt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Tt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Tl.noon:r===0?s=Tl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Tl.evening:r>=12?s=Tl.afternoon:r>=4?s=Tl.morning:s=Tl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return eo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):eo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Tt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Tt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):eo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):eo.s(t,e)},S:function(t,e){return eo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return ob(r);case"XXXX":case"XX":return ha(r);case"XXXXX":case"XXX":default:return ha(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return ob(r);case"xxxx":case"xx":return ha(r);case"xxxxx":case"xxx":default:return ha(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ib(r,":");case"OOOO":default:return"GMT"+ha(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ib(r,":");case"zzzz":default:return"GMT"+ha(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Tt(r,e.length)},T:function(t,e,n){return Tt(+t,e.length)}};function ib(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+e+Tt(a,2)}function ob(t,e){return t%60===0?(t>0?"-":"+")+Tt(Math.abs(t)/60,2):ha(t,e)}function ha(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Tt(Math.trunc(r/60),2),a=Tt(r%60,2);return n+s+e+a}const ab=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},KC=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},a5=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return ab(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",ab(r,e)).replace("{{time}}",KC(s,e))},l5={p:KC,P:a5},c5=/^D+$/,u5=/^Y+$/,d5=["D","DD","YY","YYYY"];function h5(t){return c5.test(t)}function f5(t){return u5.test(t)}function m5(t,e,n){const r=p5(t,e,n);if(console.warn(r),d5.includes(t))throw new RangeError(r)}function p5(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const g5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,v5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,y5=/^'([^]*?)'?$/,w5=/''/g,x5=/[a-zA-Z]/;function Hu(t,e,n){var g,y,w,S,C,b,k,M;const r=cd(),s=(n==null?void 0:n.locale)??r.locale??Zy,a=(n==null?void 0:n.firstWeekContainsDate)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??r.firstWeekContainsDate??((S=(w=r.locale)==null?void 0:w.options)==null?void 0:S.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((b=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:b.weekStartsOn)??r.weekStartsOn??((M=(k=r.locale)==null?void 0:k.options)==null?void 0:M.weekStartsOn)??0,d=Ct(t,n==null?void 0:n.in);if(!x6(d))throw new RangeError("Invalid time value");let h=e.match(v5).map(V=>{const j=V[0];if(j==="p"||j==="P"){const B=l5[j];return B(V,s.formatLong)}return V}).join("").match(g5).map(V=>{if(V==="''")return{isToken:!1,value:"'"};const j=V[0];if(j==="'")return{isToken:!1,value:_5(V)};if(sb[j])return{isToken:!0,value:V};if(j.match(x5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:V}});s.localize.preprocessor&&(h=s.localize.preprocessor(d,h));const p={firstWeekContainsDate:a,weekStartsOn:l,locale:s};return h.map(V=>{if(!V.isToken)return V.value;const j=V.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&f5(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&h5(j))&&m5(j,e,String(t));const B=sb[j[0]];return B(d,j,s.localize,p)}).join("")}function _5(t){const e=t.match(y5);return e?e[1].replace(w5,"'"):t}function E5(t,e){const n=Ct(t,e==null?void 0:e.in),r=n.getFullYear(),s=n.getMonth(),a=cn(n,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function b5(t,e){return Ct(t,e==null?void 0:e.in).getMonth()}function S5(t,e){return Ct(t,e==null?void 0:e.in).getFullYear()}function T5(t,e){return+Ct(t)>+Ct(e)}function C5(t,e){return+Ct(t)<+Ct(e)}function I5(t,e,n){const[r,s]=yc(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function k5(t,e,n){const[r,s]=yc(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()}function N5(t,e,n){const r=Ct(t,n==null?void 0:n.in),s=r.getFullYear(),a=r.getDate(),l=cn(t,0);l.setFullYear(s,e,15),l.setHours(0,0,0,0);const d=E5(l);return r.setMonth(e,Math.min(a,d)),r}function A5(t,e,n){const r=Ct(t,n==null?void 0:n.in);return isNaN(+r)?cn(t,NaN):(r.setFullYear(e),r)}const R5={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},P5=(t,e,n)=>{let r;const s=R5[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},j5={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},D5={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},O5={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},M5={date:Ul({formats:j5,defaultWidth:"full"}),time:Ul({formats:D5,defaultWidth:"full"}),dateTime:Ul({formats:O5,defaultWidth:"full"})},L5={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},V5={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},F5=(t,e,n,r)=>e.getHours()!==1?V5[t]:L5[t],U5={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},z5={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},B5={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},W5={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},$5={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},H5={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},q5=(t,e)=>Number(t)+"",G5={ordinalNumber:q5,era:ws({values:U5,defaultWidth:"wide"}),quarter:ws({values:z5,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:ws({values:B5,defaultWidth:"wide"}),day:ws({values:W5,defaultWidth:"wide"}),dayPeriod:ws({values:$5,defaultWidth:"wide",formattingValues:H5,defaultFormattingWidth:"wide"})},K5=/^(\d+)()?/i,Y5=/\d+/i,Q5={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},X5={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},J5={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Z5={any:[/1/i,/2/i,/3/i,/4/i]},e9={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},t9={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},n9={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},r9={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},s9={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},i9={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},o9={ordinalNumber:$C({matchPattern:K5,parsePattern:Y5,valueCallback:function(t){return parseInt(t,10)}}),era:xs({matchPatterns:Q5,defaultMatchWidth:"wide",parsePatterns:X5,defaultParseWidth:"any"}),quarter:xs({matchPatterns:J5,defaultMatchWidth:"wide",parsePatterns:Z5,defaultParseWidth:"any",valueCallback:t=>t+1}),month:xs({matchPatterns:e9,defaultMatchWidth:"wide",parsePatterns:t9,defaultParseWidth:"any"}),day:xs({matchPatterns:n9,defaultMatchWidth:"wide",parsePatterns:r9,defaultParseWidth:"any"}),dayPeriod:xs({matchPatterns:s9,defaultMatchWidth:"any",parsePatterns:i9,defaultParseWidth:"any"})},zl={code:"es",formatDistance:P5,formatLong:M5,formatRelative:F5,localize:G5,match:o9,options:{weekStartsOn:1,firstWeekContainsDate:1}};function wc({className:t,...e}){return c.jsx("textarea",{"data-slot":"textarea",className:fe("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function YC(t){const[e,n]=x.useState(void 0);return ln(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,d;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,d=p.blockSize}else l=t.offsetWidth,d=t.offsetHeight;n({width:l,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ew="Switch",[a9]=Ti(ew),[l9,c9]=a9(ew),QC=x.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:l,disabled:d,value:h="on",onCheckedChange:p,form:g,...y}=t,[w,S]=x.useState(null),C=st(e,j=>S(j)),b=x.useRef(!1),k=w?g||!!w.closest("form"):!0,[M=!1,V]=Ea({prop:s,defaultProp:a,onChange:p});return c.jsxs(l9,{scope:n,checked:M,disabled:d,children:[c.jsx(qe.button,{type:"button",role:"switch","aria-checked":M,"aria-required":l,"data-state":ZC(M),"data-disabled":d?"":void 0,disabled:d,value:h,...y,ref:C,onClick:Oe(t.onClick,j=>{V(B=>!B),k&&(b.current=j.isPropagationStopped(),b.current||j.stopPropagation())})}),k&&c.jsx(u9,{control:w,bubbles:!b.current,name:r,value:h,checked:M,required:l,disabled:d,form:g,style:{transform:"translateX(-100%)"}})]})});QC.displayName=ew;var XC="SwitchThumb",JC=x.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=c9(XC,n);return c.jsx(qe.span,{"data-state":ZC(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});JC.displayName=XC;var u9=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,a=x.useRef(null),l=By(n),d=YC(e);return x.useEffect(()=>{const h=a.current,p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(l!==n&&y){const w=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(w)}},[l,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...t.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ZC(t){return t?"checked":"unchecked"}var d9=QC,h9=JC;function _i({className:t,...e}){return c.jsx(d9,{"data-slot":"switch",className:fe("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:c.jsx(h9,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}const Ig={},xu={};function Au(t,e){try{const r=(Ig[t]||(Ig[t]=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return r in xu?xu[r]:lb(r,r.split(":"))}catch{if(t in xu)return xu[t];const n=t==null?void 0:t.match(f9);return n?lb(t,n.slice(1)):NaN}}const f9=/([+-]\d\d):?(\d\d)?/;function lb(t,e){const n=+e[0],r=+(e[1]||0);return xu[t]=n>0?n*60+r:n*60-r}class bs extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Au(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),eI(this),Sv(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new bs(...n,e):new bs(Date.now(),e)}withTimeZone(e){return new bs(+this,e)}getTimezoneOffset(){return-Au(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),Sv(this),+this}[Symbol.for("constructDateFrom")](e){return new bs(+new Date(e),this.timeZone)}}const cb=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!cb.test(t))return;const e=t.replace(cb,"$1UTC");bs.prototype[e]&&(t.startsWith("get")?bs.prototype[t]=function(){return this.internal[e]()}:(bs.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),m9(this),+this},bs.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),Sv(this),+this}))});function Sv(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function m9(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),eI(t)}function eI(t){const e=Au(t.timeZone,t),n=new Date(+t);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+t).getTimezoneOffset(),s=-new Date(+n).getTimezoneOffset(),a=r-s,l=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();a&&l&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+a);const d=r-e;d&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+d);const h=Au(t.timeZone,t),g=-new Date(+t).getTimezoneOffset()-h,y=h!==e,w=g-d;if(y&&w){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+w);const S=Au(t.timeZone,t),C=h-S;C&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+C),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+C))}}class Nn extends bs{static tz(e,...n){return n.length?new Nn(...n,e):new Nn(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),s=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,s]=this.tzComponents();return`${e} GMT${n}${r}${s} (${p9(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[n,r,s]}withTimeZone(e){return new Nn(+this,e)}[Symbol.for("constructDateFrom")](e){return new Nn(+new Date(e),this.timeZone)}}function p9(t,e){return new Intl.DateTimeFormat("en-GB",{timeZone:t,timeZoneName:"long"}).format(e).slice(12)}var je;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(je||(je={}));var Ft;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Ft||(Ft={}));var zr;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(zr||(zr={}));var rr;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(rr||(rr={}));const ub=5,g9=4;function v9(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,s=e.addDays(t,-r+1),a=e.addDays(s,ub*7-1);return e.getMonth(t)===e.getMonth(a)?ub:g9}function tI(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-6):e.addDays(n,-1*(r-1))}function y9(t,e){const n=tI(t,e),r=v9(t,e);return e.addDays(n,r*7-1)}class Ci{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?Nn.tz(this.options.timeZone):new this.Date},this.newDate=(r,s,a)=>{var l;return(l=this.overrides)!=null&&l.newDate?this.overrides.newDate(r,s,a):this.options.timeZone?new Nn(r,s,a,this.options.timeZone):new Date(r,s,a)},this.addDays=(r,s)=>{var a;return(a=this.overrides)!=null&&a.addDays?this.overrides.addDays(r,s):LC(r,s)},this.addMonths=(r,s)=>{var a;return(a=this.overrides)!=null&&a.addMonths?this.overrides.addMonths(r,s):VC(r,s)},this.addWeeks=(r,s)=>{var a;return(a=this.overrides)!=null&&a.addWeeks?this.overrides.addWeeks(r,s):p6(r,s)},this.addYears=(r,s)=>{var a;return(a=this.overrides)!=null&&a.addYears?this.overrides.addYears(r,s):g6(r,s)},this.differenceInCalendarDays=(r,s)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):UC(r,s)},this.differenceInCalendarMonths=(r,s)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):_6(r,s)},this.eachMonthOfInterval=r=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):S6(r)},this.endOfBroadcastWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):y9(r,this)},this.endOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(r):I6(r)},this.endOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(r):E6(r)},this.endOfWeek=(r,s)=>{var a;return(a=this.overrides)!=null&&a.endOfWeek?this.overrides.endOfWeek(r,s):WC(r,this.options)},this.endOfYear=r=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(r):C6(r)},this.format=(r,s,a)=>{var d;const l=(d=this.overrides)!=null&&d.format?this.overrides.format(r,s,this.options):Hu(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(r):HC(r)},this.getMonth=(r,s)=>{var a;return(a=this.overrides)!=null&&a.getMonth?this.overrides.getMonth(r,this.options):b5(r,this.options)},this.getYear=(r,s)=>{var a;return(a=this.overrides)!=null&&a.getYear?this.overrides.getYear(r,this.options):S5(r,this.options)},this.getWeek=(r,s)=>{var a;return(a=this.overrides)!=null&&a.getWeek?this.overrides.getWeek(r,this.options):GC(r,this.options)},this.isAfter=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isAfter?this.overrides.isAfter(r,s):T5(r,s)},this.isBefore=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isBefore?this.overrides.isBefore(r,s):C5(r,s)},this.isDate=r=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(r):zC(r)},this.isSameDay=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isSameDay?this.overrides.isSameDay(r,s):w6(r,s)},this.isSameMonth=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isSameMonth?this.overrides.isSameMonth(r,s):I5(r,s)},this.isSameYear=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isSameYear?this.overrides.isSameYear(r,s):k5(r,s)},this.max=r=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(r):v6(r)},this.min=r=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(r):y6(r)},this.setMonth=(r,s)=>{var a;return(a=this.overrides)!=null&&a.setMonth?this.overrides.setMonth(r,s):N5(r,s)},this.setYear=(r,s)=>{var a;return(a=this.overrides)!=null&&a.setYear?this.overrides.setYear(r,s):A5(r,s)},this.startOfBroadcastWeek=(r,s)=>{var a;return(a=this.overrides)!=null&&a.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):tI(r,this)},this.startOfDay=r=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(r):$u(r)},this.startOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(r):Wu(r)},this.startOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(r):T6(r)},this.startOfWeek=(r,s)=>{var a;return(a=this.overrides)!=null&&a.startOfWeek?this.overrides.startOfWeek(r,this.options):ec(r,this.options)},this.startOfYear=r=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(r):BC(r)},this.options={locale:Zy,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let s=0;s<10;s++)r[s.toString()]=n.format(s);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}}const zs=new Ci;class nI{constructor(e,n,r=zs){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class w9{constructor(e,n){this.date=e,this.weeks=n}}class x9{constructor(e,n){this.days=n,this.weekNumber=e}}function di(t,e,n=!1,r=zs){let{from:s,to:a}=t;const{differenceInCalendarDays:l,isSameDay:d}=r;return s&&a?(l(a,s)<0&&([s,a]=[a,s]),l(e,s)>=(n?1:0)&&l(a,e)>=(n?1:0)):!n&&a?d(a,e):!n&&s?d(s,e):!1}function rI(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function tw(t){return!!(t&&typeof t=="object"&&"from"in t)}function sI(t){return!!(t&&typeof t=="object"&&"after"in t)}function iI(t){return!!(t&&typeof t=="object"&&"before"in t)}function oI(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function aI(t,e){return Array.isArray(t)&&t.every(e.isDate)}function hi(t,e,n=zs){const r=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:a,isAfter:l}=n;return r.some(d=>{if(typeof d=="boolean")return d;if(n.isDate(d))return s(t,d);if(aI(d,n))return d.includes(t);if(tw(d))return di(d,t,!1,n);if(oI(d))return Array.isArray(d.dayOfWeek)?d.dayOfWeek.includes(t.getDay()):d.dayOfWeek===t.getDay();if(rI(d)){const h=a(d.before,t),p=a(d.after,t),g=h>0,y=p<0;return l(d.before,d.after)?y&&g:g||y}return sI(d)?a(t,d.after)>0:iI(d)?a(d.before,t)>0:typeof d=="function"?d(t):!1})}function _9(t,e,n,r,s){const{disabled:a,hidden:l,modifiers:d,showOutsideDays:h,broadcastCalendar:p,today:g}=e,{isSameDay:y,isSameMonth:w,startOfMonth:S,isBefore:C,endOfMonth:b,isAfter:k}=s,M=n&&S(n),V=r&&b(r),j={[Ft.focused]:[],[Ft.outside]:[],[Ft.disabled]:[],[Ft.hidden]:[],[Ft.today]:[]},B={};for(const D of t){const{date:W,displayMonth:I}=D,N=!!(I&&!w(W,I)),P=!!(M&&C(W,M)),F=!!(V&&k(W,V)),U=!!(a&&hi(W,a,s)),O=!!(l&&hi(W,l,s))||P||F||!p&&!h&&N||p&&h===!1&&N,A=y(W,g??s.today());N&&j.outside.push(D),U&&j.disabled.push(D),O&&j.hidden.push(D),A&&j.today.push(D),d&&Object.keys(d).forEach(de=>{const Z=d==null?void 0:d[de];Z&&hi(W,Z,s)&&(B[de]?B[de].push(D):B[de]=[D])})}return D=>{const W={[Ft.focused]:!1,[Ft.disabled]:!1,[Ft.hidden]:!1,[Ft.outside]:!1,[Ft.today]:!1},I={};for(const N in j){const P=j[N];W[N]=P.some(F=>F===D)}for(const N in B)I[N]=B[N].some(P=>P===D);return{...W,...I}}}function E9(t,e,n={}){return Object.entries(t).filter(([,s])=>s===!0).reduce((s,[a])=>(n[a]?s.push(n[a]):e[Ft[a]]?s.push(e[Ft[a]]):e[zr[a]]&&s.push(e[zr[a]]),s),[e[je.Day]])}function b9(t){return ve.createElement("button",{...t})}function S9(t){return ve.createElement("span",{...t})}function T9(t){const{size:e=24,orientation:n="left",className:r}=t;return ve.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&ve.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&ve.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&ve.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&ve.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function C9(t){const{day:e,modifiers:n,...r}=t;return ve.createElement("td",{...r})}function I9(t){const{day:e,modifiers:n,...r}=t,s=ve.useRef(null);return ve.useEffect(()=>{var a;n.focused&&((a=s.current)==null||a.focus())},[n.focused]),ve.createElement("button",{ref:s,...r})}function k9(t){const{options:e,className:n,components:r,classNames:s,...a}=t,l=[s[je.Dropdown],n].join(" "),d=e==null?void 0:e.find(({value:h})=>h===a.value);return ve.createElement("span",{"data-disabled":a.disabled,className:s[je.DropdownRoot]},ve.createElement(r.Select,{className:l,...a},e==null?void 0:e.map(({value:h,label:p,disabled:g})=>ve.createElement(r.Option,{key:h,value:h,disabled:g},p))),ve.createElement("span",{className:s[je.CaptionLabel],"aria-hidden":!0},d==null?void 0:d.label,ve.createElement(r.Chevron,{orientation:"down",size:18,className:s[je.Chevron]})))}function N9(t){return ve.createElement("div",{...t})}function A9(t){return ve.createElement("div",{...t})}function R9(t){const{calendarMonth:e,displayIndex:n,...r}=t;return ve.createElement("div",{...r},t.children)}function P9(t){const{calendarMonth:e,displayIndex:n,...r}=t;return ve.createElement("div",{...r})}function j9(t){return ve.createElement("table",{...t})}function D9(t){return ve.createElement("div",{...t})}const lI=x.createContext(void 0);function ud(){const t=x.useContext(lI);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function O9(t){const{components:e}=ud();return ve.createElement(e.Dropdown,{...t})}function M9(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:s,...a}=t,{components:l,classNames:d,labels:{labelPrevious:h,labelNext:p}}=ud(),g=x.useCallback(w=>{s&&(n==null||n(w))},[s,n]),y=x.useCallback(w=>{r&&(e==null||e(w))},[r,e]);return ve.createElement("nav",{...a},ve.createElement(l.PreviousMonthButton,{type:"button",className:d[je.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":h(r),onClick:y},ve.createElement(l.Chevron,{disabled:r?void 0:!0,className:d[je.Chevron],orientation:"left"})),ve.createElement(l.NextMonthButton,{type:"button",className:d[je.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":p(s),onClick:g},ve.createElement(l.Chevron,{disabled:s?void 0:!0,orientation:"right",className:d[je.Chevron]})))}function L9(t){const{components:e}=ud();return ve.createElement(e.Button,{...t})}function V9(t){return ve.createElement("option",{...t})}function F9(t){const{components:e}=ud();return ve.createElement(e.Button,{...t})}function U9(t){const{rootRef:e,...n}=t;return ve.createElement("div",{...n,ref:e})}function z9(t){return ve.createElement("select",{...t})}function B9(t){const{week:e,...n}=t;return ve.createElement("tr",{...n})}function W9(t){return ve.createElement("th",{...t})}function $9(t){return ve.createElement("thead",{"aria-hidden":!0},ve.createElement("tr",{...t}))}function H9(t){const{week:e,...n}=t;return ve.createElement("th",{...n})}function q9(t){return ve.createElement("th",{...t})}function G9(t){return ve.createElement("tbody",{...t})}function K9(t){const{components:e}=ud();return ve.createElement(e.Dropdown,{...t})}const Y9=Object.freeze(Object.defineProperty({__proto__:null,Button:b9,CaptionLabel:S9,Chevron:T9,Day:C9,DayButton:I9,Dropdown:k9,DropdownNav:N9,Footer:A9,Month:R9,MonthCaption:P9,MonthGrid:j9,Months:D9,MonthsDropdown:O9,Nav:M9,NextMonthButton:L9,Option:V9,PreviousMonthButton:F9,Root:U9,Select:z9,Week:B9,WeekNumber:H9,WeekNumberHeader:q9,Weekday:W9,Weekdays:$9,Weeks:G9,YearsDropdown:K9},Symbol.toStringTag,{value:"Module"}));function Q9(t){return{...Y9,...t}}function X9(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function nw(){const t={};for(const e in je)t[je[e]]=`rdp-${je[e]}`;for(const e in Ft)t[Ft[e]]=`rdp-${Ft[e]}`;for(const e in zr)t[zr[e]]=`rdp-${zr[e]}`;for(const e in rr)t[rr[e]]=`rdp-${rr[e]}`;return t}function cI(t,e,n){return(n??new Ci(e)).format(t,"LLLL y")}const J9=cI;function Z9(t,e,n){return(n??new Ci(e)).format(t,"d")}function eU(t,e=zs){return e.format(t,"LLLL")}function tU(t,e=zs){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function nU(){return""}function rU(t,e,n){return(n??new Ci(e)).format(t,"cccccc")}function uI(t,e=zs){return e.format(t,"yyyy")}const sU=uI,iU=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:cI,formatDay:Z9,formatMonthCaption:J9,formatMonthDropdown:eU,formatWeekNumber:tU,formatWeekNumberHeader:nU,formatWeekdayName:rU,formatYearCaption:sU,formatYearDropdown:uI},Symbol.toStringTag,{value:"Module"}));function oU(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...iU,...t}}function aU(t,e,n,r,s){const{startOfMonth:a,startOfYear:l,endOfYear:d,eachMonthOfInterval:h,getMonth:p}=s;return h({start:l(t),end:d(t)}).map(w=>{const S=r.formatMonthDropdown(w,s),C=p(w),b=e&&w<a(e)||n&&w>a(n)||!1;return{value:C,label:S,disabled:b}})}function lU(t,e={},n={}){let r={...e==null?void 0:e[je.Day]};return Object.entries(t).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...n==null?void 0:n[s]}}),r}function cU(t,e,n){const r=t.today(),s=e?t.startOfISOWeek(r):t.startOfWeek(r),a=[];for(let l=0;l<7;l++){const d=t.addDays(s,l);a.push(d)}return a}function uU(t,e,n,r){if(!t||!e)return;const{startOfYear:s,endOfYear:a,addYears:l,getYear:d,isBefore:h,isSameYear:p}=r,g=s(t),y=a(e),w=[];let S=g;for(;h(S,y)||p(S,y);)w.push(S),S=l(S,1);return w.map(C=>{const b=n.formatYearDropdown(C,r);return{value:d(C),label:b,disabled:!1}})}function dI(t,e,n){return(n??new Ci(e)).format(t,"LLLL y")}const dU=dI;function hU(t,e,n,r){let s=(r??new Ci(n)).format(t,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function hI(t,e,n,r){let s=(r??new Ci(n)).format(t,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const fU=hI;function mU(){return""}function pU(t){return"Choose the Month"}function gU(t){return"Go to the Next Month"}function vU(t){return"Go to the Previous Month"}function yU(t,e,n){return(n??new Ci(e)).format(t,"cccc")}function wU(t,e){return`Week ${t}`}function xU(t){return"Week Number"}function _U(t){return"Choose the Year"}const EU=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:dU,labelDay:fU,labelDayButton:hI,labelGrid:dI,labelGridcell:hU,labelMonthDropdown:pU,labelNav:mU,labelNext:gU,labelPrevious:vU,labelWeekNumber:wU,labelWeekNumberHeader:xU,labelWeekday:yU,labelYearDropdown:_U},Symbol.toStringTag,{value:"Module"})),dd=t=>t instanceof HTMLElement?t:null,kg=t=>[...t.querySelectorAll("[data-animated-month]")??[]],bU=t=>dd(t.querySelector("[data-animated-month]")),Ng=t=>dd(t.querySelector("[data-animated-caption]")),Ag=t=>dd(t.querySelector("[data-animated-weeks]")),SU=t=>dd(t.querySelector("[data-animated-nav]")),TU=t=>dd(t.querySelector("[data-animated-weekdays]"));function CU(t,e,{classNames:n,months:r,focused:s,dateLib:a}){const l=x.useRef(null),d=x.useRef(r),h=x.useRef(!1);x.useLayoutEffect(()=>{const p=d.current;if(d.current=r,!e||!t.current||!(t.current instanceof HTMLElement)||r.length===0||p.length===0||r.length!==p.length)return;const g=a.isSameMonth(r[0].date,p[0].date),y=a.isAfter(r[0].date,p[0].date),w=y?n[rr.caption_after_enter]:n[rr.caption_before_enter],S=y?n[rr.weeks_after_enter]:n[rr.weeks_before_enter],C=l.current,b=t.current.cloneNode(!0);if(b instanceof HTMLElement?(kg(b).forEach(j=>{if(!(j instanceof HTMLElement))return;const B=bU(j);B&&j.contains(B)&&j.removeChild(B);const D=Ng(j);D&&D.classList.remove(w);const W=Ag(j);W&&W.classList.remove(S)}),l.current=b):l.current=null,h.current||g||s)return;const k=C instanceof HTMLElement?kg(C):[],M=kg(t.current);if(M&&M.every(V=>V instanceof HTMLElement)&&k&&k.every(V=>V instanceof HTMLElement)){h.current=!0,t.current.style.isolation="isolate";const V=SU(t.current);V&&(V.style.zIndex="1"),M.forEach((j,B)=>{const D=k[B];if(!D)return;j.style.position="relative",j.style.overflow="hidden";const W=Ng(j);W&&W.classList.add(w);const I=Ag(j);I&&I.classList.add(S);const N=()=>{h.current=!1,t.current&&(t.current.style.isolation=""),V&&(V.style.zIndex=""),W&&W.classList.remove(w),I&&I.classList.remove(S),j.style.position="",j.style.overflow="",j.contains(D)&&j.removeChild(D)};D.style.pointerEvents="none",D.style.position="absolute",D.style.overflow="hidden",D.setAttribute("aria-hidden","true");const P=TU(D);P&&(P.style.opacity="0");const F=Ng(D);F&&(F.classList.add(y?n[rr.caption_before_exit]:n[rr.caption_after_exit]),F.addEventListener("animationend",N));const U=Ag(D);U&&U.classList.add(y?n[rr.weeks_before_exit]:n[rr.weeks_after_exit]),j.insertBefore(D,j.firstChild)})}})}function IU(t,e,n,r){const s=t[0],a=t[t.length-1],{ISOWeek:l,fixedWeeks:d,broadcastCalendar:h}=n??{},{addDays:p,differenceInCalendarDays:g,differenceInCalendarMonths:y,endOfBroadcastWeek:w,endOfISOWeek:S,endOfMonth:C,endOfWeek:b,isAfter:k,startOfBroadcastWeek:M,startOfISOWeek:V,startOfWeek:j}=r,B=h?M(s,r):l?V(s):j(s),D=h?w(a):l?S(C(a)):b(C(a)),W=g(D,B),I=y(a,s)+1,N=[];for(let U=0;U<=W;U++){const O=p(B,U);if(e&&k(O,e))break;N.push(O)}const F=(h?35:42)*I;if(d&&N.length<F){const U=F-N.length;for(let O=0;O<U;O++){const A=p(N[N.length-1],1);N.push(A)}}return N}function kU(t){const e=[];return t.reduce((n,r)=>{const s=r.weeks.reduce((a,l)=>[...a,...l.days],e);return[...n,...s]},e)}function NU(t,e,n,r){const{numberOfMonths:s=1}=n,a=[];for(let l=0;l<s;l++){const d=r.addMonths(t,l);if(e&&d>e)break;a.push(d)}return a}function db(t,e,n,r){const{month:s,defaultMonth:a,today:l=r.today(),numberOfMonths:d=1}=t;let h=s||a||l;const{differenceInCalendarMonths:p,addMonths:g,startOfMonth:y}=r;if(n&&p(n,h)<d-1){const w=-1*(d-1);h=g(n,w)}return e&&p(h,e)<0&&(h=e),y(h)}function AU(t,e,n,r){const{addDays:s,endOfBroadcastWeek:a,endOfISOWeek:l,endOfMonth:d,endOfWeek:h,getISOWeek:p,getWeek:g,startOfBroadcastWeek:y,startOfISOWeek:w,startOfWeek:S}=r,C=t.reduce((b,k)=>{const M=n.broadcastCalendar?y(k,r):n.ISOWeek?w(k):S(k),V=n.broadcastCalendar?a(k):n.ISOWeek?l(d(k)):h(d(k)),j=e.filter(I=>I>=M&&I<=V),B=n.broadcastCalendar?35:42;if(n.fixedWeeks&&j.length<B){const I=e.filter(N=>{const P=B-j.length;return N>V&&N<=s(V,P)});j.push(...I)}const D=j.reduce((I,N)=>{const P=n.ISOWeek?p(N):g(N),F=I.find(O=>O.weekNumber===P),U=new nI(N,k,r);return F?F.days.push(U):I.push(new x9(P,[U])),I},[]),W=new w9(k,D);return b.push(W),b},[]);return n.reverseMonths?C.reverse():C}function RU(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:s,startOfDay:a,startOfMonth:l,endOfMonth:d,addYears:h,endOfYear:p,newDate:g,today:y}=e,{fromYear:w,toYear:S,fromMonth:C,toMonth:b}=t;!n&&C&&(n=C),!n&&w&&(n=e.newDate(w,0,1)),!r&&b&&(r=b),!r&&S&&(r=g(S,11,31));const k=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=l(n):w?n=g(w,0,1):!n&&k&&(n=s(h(t.today??y(),-100))),r?r=d(r):S?r=g(S,11,31):!r&&k&&(r=p(t.today??y())),[n&&a(n),r&&a(r)]}function PU(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:a=1}=n,{startOfMonth:l,addMonths:d,differenceInCalendarMonths:h}=r,p=s?a:1,g=l(t);if(!e)return d(g,p);if(!(h(e,t)<a))return d(g,p)}function jU(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:a}=n,{startOfMonth:l,addMonths:d,differenceInCalendarMonths:h}=r,p=s?a??1:1,g=l(t);if(!e)return d(g,-p);if(!(h(g,e)<=0))return d(g,-p)}function DU(t){const e=[];return t.reduce((n,r)=>[...n,...r.weeks],e)}function xm(t,e){const[n,r]=x.useState(t);return[e===void 0?n:e,r]}function OU(t,e){const[n,r]=RU(t,e),{startOfMonth:s,endOfMonth:a}=e,l=db(t,n,r,e),[d,h]=xm(l,t.month?l:void 0);x.useEffect(()=>{const W=db(t,n,r,e);h(W)},[t.timeZone]);const p=NU(d,r,t,e),g=IU(p,t.endMonth?a(t.endMonth):void 0,t,e),y=AU(p,g,t,e),w=DU(y),S=kU(y),C=jU(d,n,t,e),b=PU(d,r,t,e),{disableNavigation:k,onMonthChange:M}=t,V=W=>w.some(I=>I.days.some(N=>N.isEqualTo(W))),j=W=>{if(k)return;let I=s(W);n&&I<s(n)&&(I=s(n)),r&&I>s(r)&&(I=s(r)),h(I),M==null||M(I)};return{months:y,weeks:w,days:S,navStart:n,navEnd:r,previousMonth:C,nextMonth:b,goToMonth:j,goToDay:W=>{V(W)||j(W.date)}}}var vs;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(vs||(vs={}));function hb(t){return!t[Ft.disabled]&&!t[Ft.hidden]&&!t[Ft.outside]}function MU(t,e,n,r){let s,a=-1;for(const l of t){const d=e(l);hb(d)&&(d[Ft.focused]&&a<vs.FocusedModifier?(s=l,a=vs.FocusedModifier):r!=null&&r.isEqualTo(l)&&a<vs.LastFocused?(s=l,a=vs.LastFocused):n(l.date)&&a<vs.Selected?(s=l,a=vs.Selected):d[Ft.today]&&a<vs.Today&&(s=l,a=vs.Today))}return s||(s=t.find(l=>hb(e(l)))),s}function LU(t,e,n,r,s,a,l){const{ISOWeek:d,broadcastCalendar:h}=a,{addDays:p,addMonths:g,addWeeks:y,addYears:w,endOfBroadcastWeek:S,endOfISOWeek:C,endOfWeek:b,max:k,min:M,startOfBroadcastWeek:V,startOfISOWeek:j,startOfWeek:B}=l;let W={day:p,week:y,month:g,year:w,startOfWeek:I=>h?V(I,l):d?j(I):B(I),endOfWeek:I=>h?S(I):d?C(I):b(I)}[t](n,e==="after"?1:-1);return e==="before"&&r?W=k([r,W]):e==="after"&&s&&(W=M([s,W])),W}function fI(t,e,n,r,s,a,l,d=0){if(d>365)return;const h=LU(t,e,n.date,r,s,a,l),p=!!(a.disabled&&hi(h,a.disabled,l)),g=!!(a.hidden&&hi(h,a.hidden,l)),y=h,w=new nI(h,y,l);return!p&&!g?w:fI(t,e,w,r,s,a,l,d+1)}function VU(t,e,n,r,s){const{autoFocus:a}=t,[l,d]=x.useState(),h=MU(e.days,n,r||(()=>!1),l),[p,g]=x.useState(a?h:void 0);return{isFocusTarget:b=>!!(h!=null&&h.isEqualTo(b)),setFocused:g,focused:p,blur:()=>{d(p),g(void 0)},moveFocus:(b,k)=>{if(!p)return;const M=fI(b,k,p,e.navStart,e.navEnd,t,s);M&&(e.goToDay(M),g(M))}}}function FU(t,e){const{selected:n,required:r,onSelect:s}=t,[a,l]=xm(n,s?n:void 0),d=s?n:a,{isSameDay:h}=e,p=S=>(d==null?void 0:d.some(C=>h(C,S)))??!1,{min:g,max:y}=t;return{selected:d,select:(S,C,b)=>{let k=[...d??[]];if(p(S)){if((d==null?void 0:d.length)===g||r&&(d==null?void 0:d.length)===1)return;k=d==null?void 0:d.filter(M=>!h(M,S))}else(d==null?void 0:d.length)===y?k=[S]:k=[...k,S];return s||l(k),s==null||s(k,S,C,b),k},isSelected:p}}function UU(t,e,n=0,r=0,s=!1,a=zs){const{from:l,to:d}=e||{},{isSameDay:h,isAfter:p,isBefore:g}=a;let y;if(!l&&!d)y={from:t,to:n>0?void 0:t};else if(l&&!d)h(l,t)?s?y={from:l,to:void 0}:y=void 0:g(t,l)?y={from:t,to:l}:y={from:l,to:t};else if(l&&d)if(h(l,t)&&h(d,t))s?y={from:l,to:d}:y=void 0;else if(h(l,t))y={from:l,to:n>0?void 0:t};else if(h(d,t))y={from:t,to:n>0?void 0:t};else if(g(t,l))y={from:t,to:d};else if(p(t,l))y={from:l,to:t};else if(p(t,d))y={from:l,to:t};else throw new Error("Invalid range");if(y!=null&&y.from&&(y!=null&&y.to)){const w=a.differenceInCalendarDays(y.to,y.from);r>0&&w>r?y={from:t,to:void 0}:n>1&&w<n&&(y={from:t,to:void 0})}return y}function zU(t,e,n=zs){const r=Array.isArray(e)?e:[e];let s=t.from;const a=n.differenceInCalendarDays(t.to,t.from),l=Math.min(a,6);for(let d=0;d<=l;d++){if(r.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function fb(t,e,n=zs){return di(t,e.from,!1,n)||di(t,e.to,!1,n)||di(e,t.from,!1,n)||di(e,t.to,!1,n)}function BU(t,e,n=zs){const r=Array.isArray(e)?e:[e];if(r.filter(d=>typeof d!="function").some(d=>typeof d=="boolean"?d:n.isDate(d)?di(t,d,!1,n):aI(d,n)?d.some(h=>di(t,h,!1,n)):tw(d)?d.from&&d.to?fb(t,{from:d.from,to:d.to},n):!1:oI(d)?zU(t,d.dayOfWeek,n):rI(d)?n.isAfter(d.before,d.after)?fb(t,{from:n.addDays(d.after,1),to:n.addDays(d.before,-1)},n):hi(t.from,d,n)||hi(t.to,d,n):sI(d)||iI(d)?hi(t.from,d,n)||hi(t.to,d,n):!1))return!0;const l=r.filter(d=>typeof d=="function");if(l.length){let d=t.from;const h=n.differenceInCalendarDays(t.to,t.from);for(let p=0;p<=h;p++){if(l.some(g=>g(d)))return!0;d=n.addDays(d,1)}}return!1}function WU(t,e){const{disabled:n,excludeDisabled:r,selected:s,required:a,onSelect:l}=t,[d,h]=xm(s,l?s:void 0),p=l?s:d;return{selected:p,select:(w,S,C)=>{const{min:b,max:k}=t,M=w?UU(w,p,b,k,a,e):void 0;return r&&n&&(M!=null&&M.from)&&M.to&&BU({from:M.from,to:M.to},n,e)&&(M.from=w,M.to=void 0),l||h(M),l==null||l(M,w,S,C),M},isSelected:w=>p&&di(p,w,!1,e)}}function $U(t,e){const{selected:n,required:r,onSelect:s}=t,[a,l]=xm(n,s?n:void 0),d=s?n:a,{isSameDay:h}=e;return{selected:d,select:(y,w,S)=>{let C=y;return!r&&d&&d&&h(y,d)&&(C=void 0),s||l(C),s==null||s(C,y,w,S),C},isSelected:y=>d?h(d,y):!1}}function HU(t,e){const n=$U(t,e),r=FU(t,e),s=WU(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return s;default:return}}function qU(t){var Nr;let e=t;e.timeZone&&(e={...t},e.today&&(e.today=new Nn(e.today,e.timeZone)),e.month&&(e.month=new Nn(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new Nn(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new Nn(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new Nn(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new Nn(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=(Nr=e.selected)==null?void 0:Nr.map(Ke=>new Nn(Ke,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new Nn(e.selected.from,e.timeZone):void 0,to:e.selected.to?new Nn(e.selected.to,e.timeZone):void 0}));const{components:n,formatters:r,labels:s,dateLib:a,locale:l,classNames:d}=x.useMemo(()=>{const Ke={...Zy,...e.locale};return{dateLib:new Ci({locale:Ke,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:Q9(e.components),formatters:oU(e.formatters),labels:{...EU,...e.labels},locale:Ke,classNames:{...nw(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:h,mode:p,navLayout:g,numberOfMonths:y=1,onDayBlur:w,onDayClick:S,onDayFocus:C,onDayKeyDown:b,onDayMouseEnter:k,onDayMouseLeave:M,onNextClick:V,onPrevClick:j,showWeekNumber:B,styles:D}=e,{formatCaption:W,formatDay:I,formatMonthDropdown:N,formatWeekNumber:P,formatWeekNumberHeader:F,formatWeekdayName:U,formatYearDropdown:O}=r,A=OU(e,a),{days:de,months:Z,navStart:me,navEnd:ee,previousMonth:H,nextMonth:re,goToMonth:se}=A,q=_9(de,e,me,ee,a),{isSelected:te,select:ye,selected:we}=HU(e,a)??{},{blur:Me,focused:De,isFocusTarget:le,moveFocus:Ee,setFocused:Pe}=VU(e,A,q,te??(()=>!1),a),{labelDayButton:Ue,labelGridcell:Xe,labelGrid:Je,labelMonthDropdown:ce,labelNav:Re,labelPrevious:pt,labelNext:ct,labelWeekday:vt,labelWeekNumber:Jt,labelWeekNumberHeader:tt,labelYearDropdown:_t}=s,Nt=x.useMemo(()=>cU(a,e.ISOWeek),[a,e.ISOWeek]),kr=p!==void 0||S!==void 0,cr=x.useCallback(()=>{H&&(se(H),j==null||j(H))},[H,se,j]),ki=x.useCallback(()=>{re&&(se(re),V==null||V(re))},[se,re,V]),Qr=x.useCallback((Ke,ut)=>Ze=>{Ze.preventDefault(),Ze.stopPropagation(),Pe(Ke),ye==null||ye(Ke.date,ut,Ze),S==null||S(Ke.date,ut,Ze)},[ye,S,Pe]),Vo=x.useCallback((Ke,ut)=>Ze=>{Pe(Ke),C==null||C(Ke.date,ut,Ze)},[C,Pe]),Ni=x.useCallback((Ke,ut)=>Ze=>{Me(),w==null||w(Ke.date,ut,Ze)},[Me,w]),Xr=x.useCallback((Ke,ut)=>Ze=>{const wt={ArrowLeft:[Ze.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[Ze.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[Ze.shiftKey?"year":"week","after"],ArrowUp:[Ze.shiftKey?"year":"week","before"],PageUp:[Ze.shiftKey?"year":"month","before"],PageDown:[Ze.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(wt[Ze.key]){Ze.preventDefault(),Ze.stopPropagation();const[mn,Gn]=wt[Ze.key];Ee(mn,Gn)}b==null||b(Ke.date,ut,Ze)},[Ee,b,e.dir]),Fa=x.useCallback((Ke,ut)=>Ze=>{k==null||k(Ke.date,ut,Ze)},[k]),Ws=x.useCallback((Ke,ut)=>Ze=>{M==null||M(Ke.date,ut,Ze)},[M]),Jr=x.useCallback(Ke=>ut=>{const Ze=Number(ut.target.value),wt=a.setMonth(a.startOfMonth(Ke),Ze);se(wt)},[a,se]),Ua=x.useCallback(Ke=>ut=>{const Ze=Number(ut.target.value),wt=a.setYear(a.startOfMonth(Ke),Ze);se(wt)},[a,se]),{className:Zr,style:Ai}=x.useMemo(()=>({className:[d[je.Root],e.className].filter(Boolean).join(" "),style:{...D==null?void 0:D[je.Root],...e.style}}),[d,e.className,e.style,D]),Fo=X9(e),Ln=x.useRef(null);CU(Ln,!!e.animate,{classNames:d,months:Z,focused:De,dateLib:a});const Ri={dayPickerProps:e,selected:we,select:ye,isSelected:te,months:Z,nextMonth:re,previousMonth:H,goToMonth:se,getModifiers:q,components:n,classNames:d,styles:D,labels:s,formatters:r};return ve.createElement(lI.Provider,{value:Ri},ve.createElement(n.Root,{rootRef:e.animate?Ln:void 0,className:Zr,style:Ai,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...Fo},ve.createElement(n.Months,{className:d[je.Months],style:D==null?void 0:D[je.Months]},!e.hideNavigation&&!g&&ve.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:d[je.Nav],style:D==null?void 0:D[je.Nav],"aria-label":Re(),onPreviousClick:cr,onNextClick:ki,previousMonth:H,nextMonth:re}),Z.map((Ke,ut)=>{const Ze=aU(Ke.date,me,ee,r,a),wt=uU(me,ee,r,a);return ve.createElement(n.Month,{"data-animated-month":e.animate?"true":void 0,className:d[je.Month],style:D==null?void 0:D[je.Month],key:ut,displayIndex:ut,calendarMonth:Ke},g==="around"&&!e.hideNavigation&&ut===0&&ve.createElement(n.PreviousMonthButton,{type:"button",className:d[je.PreviousMonthButton],tabIndex:H?void 0:-1,"aria-disabled":H?void 0:!0,"aria-label":pt(H),onClick:cr,"data-animated-button":e.animate?"true":void 0},ve.createElement(n.Chevron,{disabled:H?void 0:!0,className:d[je.Chevron],orientation:e.dir==="rtl"?"right":"left"})),ve.createElement(n.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:d[je.MonthCaption],style:D==null?void 0:D[je.MonthCaption],calendarMonth:Ke,displayIndex:ut},h!=null&&h.startsWith("dropdown")?ve.createElement(n.DropdownNav,{className:d[je.Dropdowns],style:D==null?void 0:D[je.Dropdowns]},h==="dropdown"||h==="dropdown-months"?ve.createElement(n.MonthsDropdown,{className:d[je.MonthsDropdown],"aria-label":ce(),classNames:d,components:n,disabled:!!e.disableNavigation,onChange:Jr(Ke.date),options:Ze,style:D==null?void 0:D[je.Dropdown],value:a.getMonth(Ke.date)}):ve.createElement("span",null,N(Ke.date,a)),h==="dropdown"||h==="dropdown-years"?ve.createElement(n.YearsDropdown,{className:d[je.YearsDropdown],"aria-label":_t(a.options),classNames:d,components:n,disabled:!!e.disableNavigation,onChange:Ua(Ke.date),options:wt,style:D==null?void 0:D[je.Dropdown],value:a.getYear(Ke.date)}):ve.createElement("span",null,O(Ke.date,a)),ve.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},W(Ke.date,a.options,a))):ve.createElement(n.CaptionLabel,{className:d[je.CaptionLabel],role:"status","aria-live":"polite"},W(Ke.date,a.options,a))),g==="around"&&!e.hideNavigation&&ut===y-1&&ve.createElement(n.NextMonthButton,{type:"button",className:d[je.NextMonthButton],tabIndex:re?void 0:-1,"aria-disabled":re?void 0:!0,"aria-label":ct(re),onClick:ki,"data-animated-button":e.animate?"true":void 0},ve.createElement(n.Chevron,{disabled:re?void 0:!0,className:d[je.Chevron],orientation:e.dir==="rtl"?"left":"right"})),ut===y-1&&g==="after"&&!e.hideNavigation&&ve.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:d[je.Nav],style:D==null?void 0:D[je.Nav],"aria-label":Re(),onPreviousClick:cr,onNextClick:ki,previousMonth:H,nextMonth:re}),ve.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":p==="multiple"||p==="range","aria-label":Je(Ke.date,a.options,a)||void 0,className:d[je.MonthGrid],style:D==null?void 0:D[je.MonthGrid]},!e.hideWeekdays&&ve.createElement(n.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:d[je.Weekdays],style:D==null?void 0:D[je.Weekdays]},B&&ve.createElement(n.WeekNumberHeader,{"aria-label":tt(a.options),className:d[je.WeekNumberHeader],style:D==null?void 0:D[je.WeekNumberHeader],scope:"col"},F()),Nt.map((mn,Gn)=>ve.createElement(n.Weekday,{"aria-label":vt(mn,a.options,a),className:d[je.Weekday],key:Gn,style:D==null?void 0:D[je.Weekday],scope:"col"},U(mn,a.options,a)))),ve.createElement(n.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:d[je.Weeks],style:D==null?void 0:D[je.Weeks]},Ke.weeks.map((mn,Gn)=>ve.createElement(n.Week,{className:d[je.Week],key:mn.weekNumber,style:D==null?void 0:D[je.Week],week:mn},B&&ve.createElement(n.WeekNumber,{week:mn,style:D==null?void 0:D[je.WeekNumber],"aria-label":Jt(mn.weekNumber,{locale:l}),className:d[je.WeekNumber],scope:"row",role:"rowheader"},P(mn.weekNumber,a)),mn.days.map(At=>{const{date:jn}=At,dt=q(At);if(dt[Ft.focused]=!dt.hidden&&!!(De!=null&&De.isEqualTo(At)),dt[zr.selected]=(te==null?void 0:te(jn))||dt.selected,tw(we)){const{from:dr,to:hr}=we;dt[zr.range_start]=!!(dr&&hr&&a.isSameDay(jn,dr)),dt[zr.range_end]=!!(dr&&hr&&a.isSameDay(jn,hr)),dt[zr.range_middle]=di(we,jn,!0,a)}const ur=lU(dt,D,e.modifiersStyles),za=E9(dt,d,e.modifiersClassNames),$s=!kr&&!dt.hidden?Xe(jn,dt,a.options,a):void 0;return ve.createElement(n.Day,{key:`${a.format(jn,"yyyy-MM-dd")}_${a.format(At.displayMonth,"yyyy-MM")}`,day:At,modifiers:dt,className:za.join(" "),style:ur,role:"gridcell","aria-selected":dt.selected||void 0,"aria-label":$s,"data-day":a.format(jn,"yyyy-MM-dd"),"data-month":At.outside?a.format(jn,"yyyy-MM"):void 0,"data-selected":dt.selected||void 0,"data-disabled":dt.disabled||void 0,"data-hidden":dt.hidden||void 0,"data-outside":At.outside||void 0,"data-focused":dt.focused||void 0,"data-today":dt.today||void 0},!dt.hidden&&kr?ve.createElement(n.DayButton,{className:d[je.DayButton],style:D==null?void 0:D[je.DayButton],type:"button",day:At,modifiers:dt,disabled:dt.disabled||void 0,tabIndex:le(At)?0:-1,"aria-label":Ue(jn,dt,a.options,a),onClick:Qr(At,dt),onBlur:Ni(At,dt),onFocus:Vo(At,dt),onKeyDown:Xr(At,dt),onMouseEnter:Fa(At,dt),onMouseLeave:Ws(At,dt)},I(jn,a.options,a)):!dt.hidden&&I(At.date,a.options,a))}))))))})),e.footer&&ve.createElement(n.Footer,{className:d[je.Footer],style:D==null?void 0:D[je.Footer],role:"status","aria-live":"polite"},e.footer)))}function mI({className:t,classNames:e,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:s="ghost",formatters:a,components:l,...d}){const h=nw();return c.jsx(qU,{showOutsideDays:n,className:fe("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,t),captionLayout:r,formatters:{formatMonthDropdown:p=>p.toLocaleString("default",{month:"short"}),...a},classNames:{root:fe("w-fit",h.root),months:fe("flex gap-4 flex-col md:flex-row relative",h.months),month:fe("flex flex-col w-full gap-4",h.month),nav:fe("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",h.nav),button_previous:fe(Bu({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",h.button_previous),button_next:fe(Bu({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",h.button_next),month_caption:fe("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",h.month_caption),dropdowns:fe("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",h.dropdowns),dropdown_root:fe("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",h.dropdown_root),dropdown:fe("absolute bg-popover inset-0 opacity-0",h.dropdown),caption_label:fe("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",h.caption_label),table:"w-full border-collapse",weekdays:fe("flex",h.weekdays),weekday:fe("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",h.weekday),week:fe("flex w-full mt-2",h.week),week_number_header:fe("select-none w-(--cell-size)",h.week_number_header),week_number:fe("text-[0.8rem] select-none text-muted-foreground",h.week_number),day:fe("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",h.day),range_start:fe("rounded-l-md bg-accent",h.range_start),range_middle:fe("rounded-none",h.range_middle),range_end:fe("rounded-r-md bg-accent",h.range_end),today:fe("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",h.today),outside:fe("text-muted-foreground aria-selected:text-muted-foreground",h.outside),disabled:fe("text-muted-foreground opacity-50",h.disabled),hidden:fe("invisible",h.hidden),...e},components:{Root:({className:p,rootRef:g,...y})=>c.jsx("div",{"data-slot":"calendar",ref:g,className:fe(p),...y}),Chevron:({className:p,orientation:g,...y})=>g==="left"?c.jsx(vV,{className:fe("size-4",p),...y}):g==="right"?c.jsx(M1,{className:fe("size-4",p),...y}):c.jsx(ad,{className:fe("size-4",p),...y}),DayButton:GU,WeekNumber:({children:p,...g})=>c.jsx("td",{...g,children:c.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:p})}),...l},...d})}function GU({className:t,day:e,modifiers:n,...r}){const s=nw(),a=x.useRef(null);return x.useEffect(()=>{var l;n.focused&&((l=a.current)==null||l.focus())},[n.focused]),c.jsx(ge,{ref:a,variant:"ghost",size:"icon","data-day":e.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:fe("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",s.day,t),...r})}var Rg=0;function rw(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??mb()),document.body.insertAdjacentElement("beforeend",t[1]??mb()),Rg++,()=>{Rg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Rg--}},[])}function mb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Pg="focusScope.autoFocusOnMount",jg="focusScope.autoFocusOnUnmount",pb={bubbles:!1,cancelable:!0},KU="FocusScope",_m=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=t,[d,h]=x.useState(null),p=Bt(s),g=Bt(a),y=x.useRef(null),w=st(e,b=>h(b)),S=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let b=function(j){if(S.paused||!d)return;const B=j.target;d.contains(B)?y.current=B:to(y.current,{select:!0})},k=function(j){if(S.paused||!d)return;const B=j.relatedTarget;B!==null&&(d.contains(B)||to(y.current,{select:!0}))},M=function(j){if(document.activeElement===document.body)for(const D of j)D.removedNodes.length>0&&to(d)};document.addEventListener("focusin",b),document.addEventListener("focusout",k);const V=new MutationObserver(M);return d&&V.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",k),V.disconnect()}}},[r,d,S.paused]),x.useEffect(()=>{if(d){vb.add(S);const b=document.activeElement;if(!d.contains(b)){const M=new CustomEvent(Pg,pb);d.addEventListener(Pg,p),d.dispatchEvent(M),M.defaultPrevented||(YU(ez(pI(d)),{select:!0}),document.activeElement===b&&to(d))}return()=>{d.removeEventListener(Pg,p),setTimeout(()=>{const M=new CustomEvent(jg,pb);d.addEventListener(jg,g),d.dispatchEvent(M),M.defaultPrevented||to(b??document.body,{select:!0}),d.removeEventListener(jg,g),vb.remove(S)},0)}}},[d,p,g,S]);const C=x.useCallback(b=>{if(!n&&!r||S.paused)return;const k=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,M=document.activeElement;if(k&&M){const V=b.currentTarget,[j,B]=QU(V);j&&B?!b.shiftKey&&M===B?(b.preventDefault(),n&&to(j,{select:!0})):b.shiftKey&&M===j&&(b.preventDefault(),n&&to(B,{select:!0})):M===V&&b.preventDefault()}},[n,r,S.paused]);return c.jsx(qe.div,{tabIndex:-1,...l,ref:w,onKeyDown:C})});_m.displayName=KU;function YU(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(to(r,{select:e}),document.activeElement!==n)return}function QU(t){const e=pI(t),n=gb(e,t),r=gb(e.reverse(),t);return[n,r]}function pI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gb(t,e){for(const n of t)if(!XU(n,{upTo:e}))return n}function XU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function JU(t){return t instanceof HTMLInputElement&&"select"in t}function to(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&JU(t)&&e&&t.select()}}var vb=ZU();function ZU(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=yb(t,e),t.unshift(e)},remove(e){var n;t=yb(t,e),(n=t[0])==null||n.resume()}}}function yb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function ez(t){return t.filter(e=>e.tagName!=="A")}const tz=["top","right","bottom","left"],Eo=Math.min,ir=Math.max,Ff=Math.round,Wh=Math.floor,Rs=t=>({x:t,y:t}),nz={left:"right",right:"left",bottom:"top",top:"bottom"},rz={start:"end",end:"start"};function Tv(t,e,n){return ir(t,Eo(e,n))}function Ei(t,e){return typeof t=="function"?t(e):t}function bi(t){return t.split("-")[0]}function xc(t){return t.split("-")[1]}function sw(t){return t==="x"?"y":"x"}function iw(t){return t==="y"?"height":"width"}const sz=new Set(["top","bottom"]);function Ss(t){return sz.has(bi(t))?"y":"x"}function ow(t){return sw(Ss(t))}function iz(t,e,n){n===void 0&&(n=!1);const r=xc(t),s=ow(t),a=iw(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Uf(l)),[l,Uf(l)]}function oz(t){const e=Uf(t);return[Cv(t),e,Cv(e)]}function Cv(t){return t.replace(/start|end/g,e=>rz[e])}const wb=["left","right"],xb=["right","left"],az=["top","bottom"],lz=["bottom","top"];function cz(t,e,n){switch(t){case"top":case"bottom":return n?e?xb:wb:e?wb:xb;case"left":case"right":return e?az:lz;default:return[]}}function uz(t,e,n,r){const s=xc(t);let a=cz(bi(t),n==="start",r);return s&&(a=a.map(l=>l+"-"+s),e&&(a=a.concat(a.map(Cv)))),a}function Uf(t){return t.replace(/left|right|bottom|top/g,e=>nz[e])}function dz(t){return{top:0,right:0,bottom:0,left:0,...t}}function gI(t){return typeof t!="number"?dz(t):{top:t,right:t,bottom:t,left:t}}function zf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function _b(t,e,n){let{reference:r,floating:s}=t;const a=Ss(e),l=ow(e),d=iw(l),h=bi(e),p=a==="y",g=r.x+r.width/2-s.width/2,y=r.y+r.height/2-s.height/2,w=r[d]/2-s[d]/2;let S;switch(h){case"top":S={x:g,y:r.y-s.height};break;case"bottom":S={x:g,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y};break;case"left":S={x:r.x-s.width,y};break;default:S={x:r.x,y:r.y}}switch(xc(e)){case"start":S[l]-=w*(n&&p?-1:1);break;case"end":S[l]+=w*(n&&p?-1:1);break}return S}const hz=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:l}=n,d=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:g,y}=_b(p,r,h),w=r,S={},C=0;for(let b=0;b<d.length;b++){const{name:k,fn:M}=d[b],{x:V,y:j,data:B,reset:D}=await M({x:g,y,initialPlacement:r,placement:w,strategy:s,middlewareData:S,rects:p,platform:l,elements:{reference:t,floating:e}});g=V??g,y=j??y,S={...S,[k]:{...S[k],...B}},D&&C<=50&&(C++,typeof D=="object"&&(D.placement&&(w=D.placement),D.rects&&(p=D.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:g,y}=_b(p,w,h)),b=-1)}return{x:g,y,placement:w,strategy:s,middlewareData:S}};async function qu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:a,rects:l,elements:d,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:w=!1,padding:S=0}=Ei(e,t),C=gI(S),k=d[w?y==="floating"?"reference":"floating":y],M=zf(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(k)))==null||n?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:p,rootBoundary:g,strategy:h})),V=y==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),B=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},D=zf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:V,offsetParent:j,strategy:h}):V);return{top:(M.top-D.top+C.top)/B.y,bottom:(D.bottom-M.bottom+C.bottom)/B.y,left:(M.left-D.left+C.left)/B.x,right:(D.right-M.right+C.right)/B.x}}const fz=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:a,platform:l,elements:d,middlewareData:h}=e,{element:p,padding:g=0}=Ei(t,e)||{};if(p==null)return{};const y=gI(g),w={x:n,y:r},S=ow(s),C=iw(S),b=await l.getDimensions(p),k=S==="y",M=k?"top":"left",V=k?"bottom":"right",j=k?"clientHeight":"clientWidth",B=a.reference[C]+a.reference[S]-w[S]-a.floating[C],D=w[S]-a.reference[S],W=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let I=W?W[j]:0;(!I||!await(l.isElement==null?void 0:l.isElement(W)))&&(I=d.floating[j]||a.floating[C]);const N=B/2-D/2,P=I/2-b[C]/2-1,F=Eo(y[M],P),U=Eo(y[V],P),O=F,A=I-b[C]-U,de=I/2-b[C]/2+N,Z=Tv(O,de,A),me=!h.arrow&&xc(s)!=null&&de!==Z&&a.reference[C]/2-(de<O?F:U)-b[C]/2<0,ee=me?de<O?de-O:de-A:0;return{[S]:w[S]+ee,data:{[S]:Z,centerOffset:de-Z-ee,...me&&{alignmentOffset:ee}},reset:me}}}),mz=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:a,rects:l,initialPlacement:d,platform:h,elements:p}=e,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:b=!0,...k}=Ei(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const M=bi(s),V=Ss(d),j=bi(d)===d,B=await(h.isRTL==null?void 0:h.isRTL(p.floating)),D=w||(j||!b?[Uf(d)]:oz(d)),W=C!=="none";!w&&W&&D.push(...uz(d,b,C,B));const I=[d,...D],N=await qu(e,k),P=[];let F=((r=a.flip)==null?void 0:r.overflows)||[];if(g&&P.push(N[M]),y){const de=iz(s,l,B);P.push(N[de[0]],N[de[1]])}if(F=[...F,{placement:s,overflows:P}],!P.every(de=>de<=0)){var U,O;const de=(((U=a.flip)==null?void 0:U.index)||0)+1,Z=I[de];if(Z&&(!(y==="alignment"?V!==Ss(Z):!1)||F.every(H=>Ss(H.placement)===V?H.overflows[0]>0:!0)))return{data:{index:de,overflows:F},reset:{placement:Z}};let me=(O=F.filter(ee=>ee.overflows[0]<=0).sort((ee,H)=>ee.overflows[1]-H.overflows[1])[0])==null?void 0:O.placement;if(!me)switch(S){case"bestFit":{var A;const ee=(A=F.filter(H=>{if(W){const re=Ss(H.placement);return re===V||re==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(re=>re>0).reduce((re,se)=>re+se,0)]).sort((H,re)=>H[1]-re[1])[0])==null?void 0:A[0];ee&&(me=ee);break}case"initialPlacement":me=d;break}if(s!==me)return{reset:{placement:me}}}return{}}}};function Eb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function bb(t){return tz.some(e=>t[e]>=0)}const pz=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ei(t,e);switch(r){case"referenceHidden":{const a=await qu(e,{...s,elementContext:"reference"}),l=Eb(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:bb(l)}}}case"escaped":{const a=await qu(e,{...s,altBoundary:!0}),l=Eb(a,n.floating);return{data:{escapedOffsets:l,escaped:bb(l)}}}default:return{}}}}},vI=new Set(["left","top"]);async function gz(t,e){const{placement:n,platform:r,elements:s}=t,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=bi(n),d=xc(n),h=Ss(n)==="y",p=vI.has(l)?-1:1,g=a&&h?-1:1,y=Ei(e,t);let{mainAxis:w,crossAxis:S,alignmentAxis:C}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return d&&typeof C=="number"&&(S=d==="end"?C*-1:C),h?{x:S*g,y:w*p}:{x:w*p,y:S*g}}const vz=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:a,placement:l,middlewareData:d}=e,h=await gz(e,t);return l===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:a+h.y,data:{...h,placement:l}}}}},yz=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:d={fn:k=>{let{x:M,y:V}=k;return{x:M,y:V}}},...h}=Ei(t,e),p={x:n,y:r},g=await qu(e,h),y=Ss(bi(s)),w=sw(y);let S=p[w],C=p[y];if(a){const k=w==="y"?"top":"left",M=w==="y"?"bottom":"right",V=S+g[k],j=S-g[M];S=Tv(V,S,j)}if(l){const k=y==="y"?"top":"left",M=y==="y"?"bottom":"right",V=C+g[k],j=C-g[M];C=Tv(V,C,j)}const b=d.fn({...e,[w]:S,[y]:C});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[w]:a,[y]:l}}}}}},wz=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:a,middlewareData:l}=e,{offset:d=0,mainAxis:h=!0,crossAxis:p=!0}=Ei(t,e),g={x:n,y:r},y=Ss(s),w=sw(y);let S=g[w],C=g[y];const b=Ei(d,e),k=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(h){const j=w==="y"?"height":"width",B=a.reference[w]-a.floating[j]+k.mainAxis,D=a.reference[w]+a.reference[j]-k.mainAxis;S<B?S=B:S>D&&(S=D)}if(p){var M,V;const j=w==="y"?"width":"height",B=vI.has(bi(s)),D=a.reference[y]-a.floating[j]+(B&&((M=l.offset)==null?void 0:M[y])||0)+(B?0:k.crossAxis),W=a.reference[y]+a.reference[j]+(B?0:((V=l.offset)==null?void 0:V[y])||0)-(B?k.crossAxis:0);C<D?C=D:C>W&&(C=W)}return{[w]:S,[y]:C}}}},xz=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:a,platform:l,elements:d}=e,{apply:h=()=>{},...p}=Ei(t,e),g=await qu(e,p),y=bi(s),w=xc(s),S=Ss(s)==="y",{width:C,height:b}=a.floating;let k,M;y==="top"||y==="bottom"?(k=y,M=w===(await(l.isRTL==null?void 0:l.isRTL(d.floating))?"start":"end")?"left":"right"):(M=y,k=w==="end"?"top":"bottom");const V=b-g.top-g.bottom,j=C-g.left-g.right,B=Eo(b-g[k],V),D=Eo(C-g[M],j),W=!e.middlewareData.shift;let I=B,N=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=V),W&&!w){const F=ir(g.left,0),U=ir(g.right,0),O=ir(g.top,0),A=ir(g.bottom,0);S?N=C-2*(F!==0||U!==0?F+U:ir(g.left,g.right)):I=b-2*(O!==0||A!==0?O+A:ir(g.top,g.bottom))}await h({...e,availableWidth:N,availableHeight:I});const P=await l.getDimensions(d.floating);return C!==P.width||b!==P.height?{reset:{rects:!0}}:{}}}};function Em(){return typeof window<"u"}function _c(t){return yI(t)?(t.nodeName||"").toLowerCase():"#document"}function ar(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Bs(t){var e;return(e=(yI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function yI(t){return Em()?t instanceof Node||t instanceof ar(t).Node:!1}function qr(t){return Em()?t instanceof Element||t instanceof ar(t).Element:!1}function Os(t){return Em()?t instanceof HTMLElement||t instanceof ar(t).HTMLElement:!1}function Sb(t){return!Em()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ar(t).ShadowRoot}const _z=new Set(["inline","contents"]);function hd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Gr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!_z.has(s)}const Ez=new Set(["table","td","th"]);function bz(t){return Ez.has(_c(t))}const Sz=[":popover-open",":modal"];function bm(t){return Sz.some(e=>{try{return t.matches(e)}catch{return!1}})}const Tz=["transform","translate","scale","rotate","perspective"],Cz=["transform","translate","scale","rotate","perspective","filter"],Iz=["paint","layout","strict","content"];function aw(t){const e=lw(),n=qr(t)?Gr(t):t;return Tz.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Cz.some(r=>(n.willChange||"").includes(r))||Iz.some(r=>(n.contain||"").includes(r))}function kz(t){let e=bo(t);for(;Os(e)&&!tc(e);){if(aw(e))return e;if(bm(e))return null;e=bo(e)}return null}function lw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Nz=new Set(["html","body","#document"]);function tc(t){return Nz.has(_c(t))}function Gr(t){return ar(t).getComputedStyle(t)}function Sm(t){return qr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function bo(t){if(_c(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Sb(t)&&t.host||Bs(t);return Sb(e)?e.host:e}function wI(t){const e=bo(t);return tc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Os(e)&&hd(e)?e:wI(e)}function Gu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=wI(t),a=s===((r=t.ownerDocument)==null?void 0:r.body),l=ar(s);if(a){const d=Iv(l);return e.concat(l,l.visualViewport||[],hd(s)?s:[],d&&n?Gu(d):[])}return e.concat(s,Gu(s,[],n))}function Iv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xI(t){const e=Gr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Os(t),a=s?t.offsetWidth:n,l=s?t.offsetHeight:r,d=Ff(n)!==a||Ff(r)!==l;return d&&(n=a,r=l),{width:n,height:r,$:d}}function cw(t){return qr(t)?t:t.contextElement}function Bl(t){const e=cw(t);if(!Os(e))return Rs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:a}=xI(e);let l=(a?Ff(n.width):n.width)/r,d=(a?Ff(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const Az=Rs(0);function _I(t){const e=ar(t);return!lw()||!e.visualViewport?Az:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Rz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ar(t)?!1:e}function ba(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),a=cw(t);let l=Rs(1);e&&(r?qr(r)&&(l=Bl(r)):l=Bl(t));const d=Rz(a,n,r)?_I(a):Rs(0);let h=(s.left+d.x)/l.x,p=(s.top+d.y)/l.y,g=s.width/l.x,y=s.height/l.y;if(a){const w=ar(a),S=r&&qr(r)?ar(r):r;let C=w,b=Iv(C);for(;b&&r&&S!==C;){const k=Bl(b),M=b.getBoundingClientRect(),V=Gr(b),j=M.left+(b.clientLeft+parseFloat(V.paddingLeft))*k.x,B=M.top+(b.clientTop+parseFloat(V.paddingTop))*k.y;h*=k.x,p*=k.y,g*=k.x,y*=k.y,h+=j,p+=B,C=ar(b),b=Iv(C)}}return zf({width:g,height:y,x:h,y:p})}function Tm(t,e){const n=Sm(t).scrollLeft;return e?e.left+n:ba(Bs(t)).left+n}function EI(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Tm(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function Pz(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const a=s==="fixed",l=Bs(r),d=e?bm(e.floating):!1;if(r===l||d&&a)return n;let h={scrollLeft:0,scrollTop:0},p=Rs(1);const g=Rs(0),y=Os(r);if((y||!y&&!a)&&((_c(r)!=="body"||hd(l))&&(h=Sm(r)),Os(r))){const S=ba(r);p=Bl(r),g.x=S.x+r.clientLeft,g.y=S.y+r.clientTop}const w=l&&!y&&!a?EI(l,h):Rs(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+g.x+w.x,y:n.y*p.y-h.scrollTop*p.y+g.y+w.y}}function jz(t){return Array.from(t.getClientRects())}function Dz(t){const e=Bs(t),n=Sm(t),r=t.ownerDocument.body,s=ir(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=ir(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Tm(t);const d=-n.scrollTop;return Gr(r).direction==="rtl"&&(l+=ir(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:l,y:d}}const Tb=25;function Oz(t,e){const n=ar(t),r=Bs(t),s=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,d=0,h=0;if(s){a=s.width,l=s.height;const g=lw();(!g||g&&e==="fixed")&&(d=s.offsetLeft,h=s.offsetTop)}const p=Tm(r);if(p<=0){const g=r.ownerDocument,y=g.body,w=getComputedStyle(y),S=g.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,C=Math.abs(r.clientWidth-y.clientWidth-S);C<=Tb&&(a-=C)}else p<=Tb&&(a+=p);return{width:a,height:l,x:d,y:h}}const Mz=new Set(["absolute","fixed"]);function Lz(t,e){const n=ba(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,a=Os(t)?Bl(t):Rs(1),l=t.clientWidth*a.x,d=t.clientHeight*a.y,h=s*a.x,p=r*a.y;return{width:l,height:d,x:h,y:p}}function Cb(t,e,n){let r;if(e==="viewport")r=Oz(t,n);else if(e==="document")r=Dz(Bs(t));else if(qr(e))r=Lz(e,n);else{const s=_I(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return zf(r)}function bI(t,e){const n=bo(t);return n===e||!qr(n)||tc(n)?!1:Gr(n).position==="fixed"||bI(n,e)}function Vz(t,e){const n=e.get(t);if(n)return n;let r=Gu(t,[],!1).filter(d=>qr(d)&&_c(d)!=="body"),s=null;const a=Gr(t).position==="fixed";let l=a?bo(t):t;for(;qr(l)&&!tc(l);){const d=Gr(l),h=aw(l);!h&&d.position==="fixed"&&(s=null),(a?!h&&!s:!h&&d.position==="static"&&!!s&&Mz.has(s.position)||hd(l)&&!h&&bI(t,l))?r=r.filter(g=>g!==l):s=d,l=bo(l)}return e.set(t,r),r}function Fz(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?bm(e)?[]:Vz(e,this._c):[].concat(n),r],d=l[0],h=l.reduce((p,g)=>{const y=Cb(e,g,s);return p.top=ir(y.top,p.top),p.right=Eo(y.right,p.right),p.bottom=Eo(y.bottom,p.bottom),p.left=ir(y.left,p.left),p},Cb(e,d,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function Uz(t){const{width:e,height:n}=xI(t);return{width:e,height:n}}function zz(t,e,n){const r=Os(e),s=Bs(e),a=n==="fixed",l=ba(t,!0,a,e);let d={scrollLeft:0,scrollTop:0};const h=Rs(0);function p(){h.x=Tm(s)}if(r||!r&&!a)if((_c(e)!=="body"||hd(s))&&(d=Sm(e)),r){const S=ba(e,!0,a,e);h.x=S.x+e.clientLeft,h.y=S.y+e.clientTop}else s&&p();a&&!r&&s&&p();const g=s&&!r&&!a?EI(s,d):Rs(0),y=l.left+d.scrollLeft-h.x-g.x,w=l.top+d.scrollTop-h.y-g.y;return{x:y,y:w,width:l.width,height:l.height}}function Dg(t){return Gr(t).position==="static"}function Ib(t,e){if(!Os(t)||Gr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Bs(t)===n&&(n=n.ownerDocument.body),n}function SI(t,e){const n=ar(t);if(bm(t))return n;if(!Os(t)){let s=bo(t);for(;s&&!tc(s);){if(qr(s)&&!Dg(s))return s;s=bo(s)}return n}let r=Ib(t,e);for(;r&&bz(r)&&Dg(r);)r=Ib(r,e);return r&&tc(r)&&Dg(r)&&!aw(r)?n:r||kz(t)||n}const Bz=async function(t){const e=this.getOffsetParent||SI,n=this.getDimensions,r=await n(t.floating);return{reference:zz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Wz(t){return Gr(t).direction==="rtl"}const $z={convertOffsetParentRelativeRectToViewportRelativeRect:Pz,getDocumentElement:Bs,getClippingRect:Fz,getOffsetParent:SI,getElementRects:Bz,getClientRects:jz,getDimensions:Uz,getScale:Bl,isElement:qr,isRTL:Wz};function TI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Hz(t,e){let n=null,r;const s=Bs(t);function a(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function l(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),a();const p=t.getBoundingClientRect(),{left:g,top:y,width:w,height:S}=p;if(d||e(),!w||!S)return;const C=Wh(y),b=Wh(s.clientWidth-(g+w)),k=Wh(s.clientHeight-(y+S)),M=Wh(g),j={rootMargin:-C+"px "+-b+"px "+-k+"px "+-M+"px",threshold:ir(0,Eo(1,h))||1};let B=!0;function D(W){const I=W[0].intersectionRatio;if(I!==h){if(!B)return l();I?l(!1,I):r=setTimeout(()=>{l(!1,1e-7)},1e3)}I===1&&!TI(p,t.getBoundingClientRect())&&l(),B=!1}try{n=new IntersectionObserver(D,{...j,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,j)}n.observe(t)}return l(!0),a}function qz(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=cw(t),g=s||a?[...p?Gu(p):[],...Gu(e)]:[];g.forEach(M=>{s&&M.addEventListener("scroll",n,{passive:!0}),a&&M.addEventListener("resize",n)});const y=p&&d?Hz(p,n):null;let w=-1,S=null;l&&(S=new ResizeObserver(M=>{let[V]=M;V&&V.target===p&&S&&(S.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var j;(j=S)==null||j.observe(e)})),n()}),p&&!h&&S.observe(p),S.observe(e));let C,b=h?ba(t):null;h&&k();function k(){const M=ba(t);b&&!TI(b,M)&&n(),b=M,C=requestAnimationFrame(k)}return n(),()=>{var M;g.forEach(V=>{s&&V.removeEventListener("scroll",n),a&&V.removeEventListener("resize",n)}),y==null||y(),(M=S)==null||M.disconnect(),S=null,h&&cancelAnimationFrame(C)}}const Gz=vz,Kz=yz,Yz=mz,Qz=xz,Xz=pz,kb=fz,Jz=wz,Zz=(t,e,n)=>{const r=new Map,s={platform:$z,...n},a={...s.platform,_c:r};return hz(t,e,{...s,platform:a})};var eB=typeof document<"u",tB=function(){},cf=eB?x.useLayoutEffect:tB;function Bf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Bf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&t.$$typeof)&&!Bf(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function CI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Nb(t,e){const n=CI(t);return Math.round(e*n)/n}function Og(t){const e=x.useRef(t);return cf(()=>{e.current=t}),e}function nB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:l}={},transform:d=!0,whileElementsMounted:h,open:p}=t,[g,y]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,S]=x.useState(r);Bf(w,r)||S(r);const[C,b]=x.useState(null),[k,M]=x.useState(null),V=x.useCallback(H=>{H!==W.current&&(W.current=H,b(H))},[]),j=x.useCallback(H=>{H!==I.current&&(I.current=H,M(H))},[]),B=a||C,D=l||k,W=x.useRef(null),I=x.useRef(null),N=x.useRef(g),P=h!=null,F=Og(h),U=Og(s),O=Og(p),A=x.useCallback(()=>{if(!W.current||!I.current)return;const H={placement:e,strategy:n,middleware:w};U.current&&(H.platform=U.current),Zz(W.current,I.current,H).then(re=>{const se={...re,isPositioned:O.current!==!1};de.current&&!Bf(N.current,se)&&(N.current=se,Qu.flushSync(()=>{y(se)}))})},[w,e,n,U,O]);cf(()=>{p===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,y(H=>({...H,isPositioned:!1})))},[p]);const de=x.useRef(!1);cf(()=>(de.current=!0,()=>{de.current=!1}),[]),cf(()=>{if(B&&(W.current=B),D&&(I.current=D),B&&D){if(F.current)return F.current(B,D,A);A()}},[B,D,A,F,P]);const Z=x.useMemo(()=>({reference:W,floating:I,setReference:V,setFloating:j}),[V,j]),me=x.useMemo(()=>({reference:B,floating:D}),[B,D]),ee=x.useMemo(()=>{const H={position:n,left:0,top:0};if(!me.floating)return H;const re=Nb(me.floating,g.x),se=Nb(me.floating,g.y);return d?{...H,transform:"translate("+re+"px, "+se+"px)",...CI(me.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:re,top:se}},[n,d,me.floating,g.x,g.y]);return x.useMemo(()=>({...g,update:A,refs:Z,elements:me,floatingStyles:ee}),[g,A,Z,me,ee])}const rB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?kb({element:r.current,padding:s}).fn(n):{}:r?kb({element:r,padding:s}).fn(n):{}}}},sB=(t,e)=>({...Gz(t),options:[t,e]}),iB=(t,e)=>({...Kz(t),options:[t,e]}),oB=(t,e)=>({...Jz(t),options:[t,e]}),aB=(t,e)=>({...Yz(t),options:[t,e]}),lB=(t,e)=>({...Qz(t),options:[t,e]}),cB=(t,e)=>({...Xz(t),options:[t,e]}),uB=(t,e)=>({...rB(t),options:[t,e]});var dB="Arrow",II=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...a}=t;return c.jsx(qe.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});II.displayName=dB;var hB=II,uw="Popper",[kI,Cm]=Ti(uw),[fB,NI]=kI(uw),AI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=x.useState(null);return c.jsx(fB,{scope:e,anchor:r,onAnchorChange:s,children:n})};AI.displayName=uw;var RI="PopperAnchor",PI=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,a=NI(RI,n),l=x.useRef(null),d=st(e,l);return x.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:c.jsx(qe.div,{...s,ref:d})});PI.displayName=RI;var dw="PopperContent",[mB,pB]=kI(dw),jI=x.forwardRef((t,e)=>{var le,Ee,Pe,Ue,Xe,Je;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:C,...b}=t,k=NI(dw,n),[M,V]=x.useState(null),j=st(e,ce=>V(ce)),[B,D]=x.useState(null),W=YC(B),I=(W==null?void 0:W.width)??0,N=(W==null?void 0:W.height)??0,P=r+(a!=="center"?"-"+a:""),F=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},U=Array.isArray(p)?p:[p],O=U.length>0,A={padding:F,boundary:U.filter(vB),altBoundary:O},{refs:de,floatingStyles:Z,placement:me,isPositioned:ee,middlewareData:H}=nB({strategy:"fixed",placement:P,whileElementsMounted:(...ce)=>qz(...ce,{animationFrame:S==="always"}),elements:{reference:k.anchor},middleware:[sB({mainAxis:s+N,alignmentAxis:l}),h&&iB({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?oB():void 0,...A}),h&&aB({...A}),lB({...A,apply:({elements:ce,rects:Re,availableWidth:pt,availableHeight:ct})=>{const{width:vt,height:Jt}=Re.reference,tt=ce.floating.style;tt.setProperty("--radix-popper-available-width",`${pt}px`),tt.setProperty("--radix-popper-available-height",`${ct}px`),tt.setProperty("--radix-popper-anchor-width",`${vt}px`),tt.setProperty("--radix-popper-anchor-height",`${Jt}px`)}}),B&&uB({element:B,padding:d}),yB({arrowWidth:I,arrowHeight:N}),w&&cB({strategy:"referenceHidden",...A})]}),[re,se]=MI(me),q=Bt(C);ln(()=>{ee&&(q==null||q())},[ee,q]);const te=(le=H.arrow)==null?void 0:le.x,ye=(Ee=H.arrow)==null?void 0:Ee.y,we=((Pe=H.arrow)==null?void 0:Pe.centerOffset)!==0,[Me,De]=x.useState();return ln(()=>{M&&De(window.getComputedStyle(M).zIndex)},[M]),c.jsx("div",{ref:de.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:ee?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(Ue=H.transformOrigin)==null?void 0:Ue.x,(Xe=H.transformOrigin)==null?void 0:Xe.y].join(" "),...((Je=H.hide)==null?void 0:Je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(mB,{scope:n,placedSide:re,onArrowChange:D,arrowX:te,arrowY:ye,shouldHideArrow:we,children:c.jsx(qe.div,{"data-side":re,"data-align":se,...b,ref:j,style:{...b.style,animation:ee?void 0:"none"}})})})});jI.displayName=dw;var DI="PopperArrow",gB={top:"bottom",right:"left",bottom:"top",left:"right"},OI=x.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,a=pB(DI,r),l=gB[a.placedSide];return c.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:c.jsx(hB,{...s,ref:n,style:{...s.style,display:"block"}})})});OI.displayName=DI;function vB(t){return t!==null}var yB=t=>({name:"transformOrigin",options:t,fn(e){var k,M,V;const{placement:n,rects:r,middlewareData:s}=e,l=((k=s.arrow)==null?void 0:k.centerOffset)!==0,d=l?0:t.arrowWidth,h=l?0:t.arrowHeight,[p,g]=MI(n),y={start:"0%",center:"50%",end:"100%"}[g],w=(((M=s.arrow)==null?void 0:M.x)??0)+d/2,S=(((V=s.arrow)==null?void 0:V.y)??0)+h/2;let C="",b="";return p==="bottom"?(C=l?y:`${w}px`,b=`${-h}px`):p==="top"?(C=l?y:`${w}px`,b=`${r.floating.height+h}px`):p==="right"?(C=`${-h}px`,b=l?y:`${S}px`):p==="left"&&(C=`${r.floating.width+h}px`,b=l?y:`${S}px`),{data:{x:C,y:b}}}});function MI(t){const[e,n="center"]=t.split("-");return[e,n]}var LI=AI,hw=PI,VI=jI,FI=OI,wB="Portal",Im=x.forwardRef((t,e)=>{var d;const{container:n,...r}=t,[s,a]=x.useState(!1);ln(()=>a(!0),[]);const l=n||s&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return l?aS.createPortal(c.jsx(qe.div,{...r,ref:e}),l):null});Im.displayName=wB;var xB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Cl=new WeakMap,$h=new WeakMap,Hh={},Mg=0,UI=function(t){return t&&(t.host||UI(t.parentNode))},_B=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=UI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},EB=function(t,e,n,r){var s=_B(e,Array.isArray(t)?t:[t]);Hh[n]||(Hh[n]=new WeakMap);var a=Hh[n],l=[],d=new Set,h=new Set(s),p=function(y){!y||d.has(y)||(d.add(y),p(y.parentNode))};s.forEach(p);var g=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(w){if(d.has(w))g(w);else try{var S=w.getAttribute(r),C=S!==null&&S!=="false",b=(Cl.get(w)||0)+1,k=(a.get(w)||0)+1;Cl.set(w,b),a.set(w,k),l.push(w),b===1&&C&&$h.set(w,!0),k===1&&w.setAttribute(n,"true"),C||w.setAttribute(r,"true")}catch(M){console.error("aria-hidden: cannot operate on ",w,M)}})};return g(e),d.clear(),Mg++,function(){l.forEach(function(y){var w=Cl.get(y)-1,S=a.get(y)-1;Cl.set(y,w),a.set(y,S),w||($h.has(y)||y.removeAttribute(r),$h.delete(y)),S||y.removeAttribute(n)}),Mg--,Mg||(Cl=new WeakMap,Cl=new WeakMap,$h=new WeakMap,Hh={})}},fw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=xB(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),EB(r,s,n,"aria-hidden")):function(){return null}},_s=function(){return _s=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_s.apply(this,arguments)};function zI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function bB(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var uf="right-scroll-bar-position",df="width-before-scroll-bar",SB="with-scroll-bars-hidden",TB="--removed-body-scroll-bar-size";function Lg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function CB(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var IB=typeof window<"u"?x.useLayoutEffect:x.useEffect,Ab=new WeakMap;function kB(t,e){var n=CB(null,function(r){return t.forEach(function(s){return Lg(s,r)})});return IB(function(){var r=Ab.get(n);if(r){var s=new Set(r),a=new Set(t),l=n.current;s.forEach(function(d){a.has(d)||Lg(d,null)}),a.forEach(function(d){s.has(d)||Lg(d,l)})}Ab.set(n,t)},[t]),n}function NB(t){return t}function AB(t,e){e===void 0&&(e=NB);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,r);return n.push(l),function(){n=n.filter(function(d){return d!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var d=n;n=[],d.forEach(a),l=n}var h=function(){var g=l;l=[],g.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(g){l.push(g),p()},filter:function(g){return l=l.filter(g),n}}}};return s}function RB(t){t===void 0&&(t={});var e=AB(null);return e.options=_s({async:!0,ssr:!1},t),e}var BI=function(t){var e=t.sideCar,n=zI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,_s({},n))};BI.isSideCarExport=!0;function PB(t,e){return t.useMedium(e),BI}var WI=RB(),Vg=function(){},km=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:Vg,onWheelCapture:Vg,onTouchMoveCapture:Vg}),s=r[0],a=r[1],l=t.forwardProps,d=t.children,h=t.className,p=t.removeScrollBar,g=t.enabled,y=t.shards,w=t.sideCar,S=t.noRelative,C=t.noIsolation,b=t.inert,k=t.allowPinchZoom,M=t.as,V=M===void 0?"div":M,j=t.gapMode,B=zI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=w,W=kB([n,e]),I=_s(_s({},B),s);return x.createElement(x.Fragment,null,g&&x.createElement(D,{sideCar:WI,removeScrollBar:p,shards:y,noRelative:S,noIsolation:C,inert:b,setCallbacks:a,allowPinchZoom:!!k,lockRef:n,gapMode:j}),l?x.cloneElement(x.Children.only(d),_s(_s({},I),{ref:W})):x.createElement(V,_s({},I,{className:h,ref:W}),d))});km.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};km.classNames={fullWidth:df,zeroRight:uf};var jB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function DB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=jB();return e&&t.setAttribute("nonce",e),t}function OB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function MB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var LB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=DB())&&(OB(e,n),MB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},VB=function(){var t=LB();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},$I=function(){var t=VB(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},FB={left:0,top:0,right:0,gap:0},Fg=function(t){return parseInt(t||"",10)||0},UB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Fg(n),Fg(r),Fg(s)]},zB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return FB;var e=UB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},BB=$I(),Wl="data-scroll-locked",WB=function(t,e,n,r){var s=t.left,a=t.top,l=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(SB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(Wl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uf,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(df,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(uf," .").concat(uf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(df," .").concat(df,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wl,`] {
    `).concat(TB,": ").concat(d,`px;
  }
`)},Rb=function(){var t=parseInt(document.body.getAttribute(Wl)||"0",10);return isFinite(t)?t:0},$B=function(){x.useEffect(function(){return document.body.setAttribute(Wl,(Rb()+1).toString()),function(){var t=Rb()-1;t<=0?document.body.removeAttribute(Wl):document.body.setAttribute(Wl,t.toString())}},[])},HB=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;$B();var a=x.useMemo(function(){return zB(s)},[s]);return x.createElement(BB,{styles:WB(a,!e,s,n?"":"!important")})},kv=!1;if(typeof window<"u")try{var qh=Object.defineProperty({},"passive",{get:function(){return kv=!0,!0}});window.addEventListener("test",qh,qh),window.removeEventListener("test",qh,qh)}catch{kv=!1}var Il=kv?{passive:!1}:!1,qB=function(t){return t.tagName==="TEXTAREA"},HI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!qB(t)&&n[e]==="visible")},GB=function(t){return HI(t,"overflowY")},KB=function(t){return HI(t,"overflowX")},Pb=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=qI(t,r);if(s){var a=GI(t,r),l=a[1],d=a[2];if(l>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},YB=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},QB=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},qI=function(t,e){return t==="v"?GB(e):KB(e)},GI=function(t,e){return t==="v"?YB(e):QB(e)},XB=function(t,e){return t==="h"&&e==="rtl"?-1:1},JB=function(t,e,n,r,s){var a=XB(t,window.getComputedStyle(e).direction),l=a*r,d=n.target,h=e.contains(d),p=!1,g=l>0,y=0,w=0;do{if(!d)break;var S=GI(t,d),C=S[0],b=S[1],k=S[2],M=b-k-a*C;(C||M)&&qI(t,d)&&(y+=M,w+=C);var V=d.parentNode;d=V&&V.nodeType===Node.DOCUMENT_FRAGMENT_NODE?V.host:V}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(g&&Math.abs(y)<1||!g&&Math.abs(w)<1)&&(p=!0),p},Gh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},jb=function(t){return[t.deltaX,t.deltaY]},Db=function(t){return t&&"current"in t?t.current:t},ZB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},eW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},tW=0,kl=[];function nW(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),s=x.useState(tW++)[0],a=x.useState($I)[0],l=x.useRef(t);x.useEffect(function(){l.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var b=bB([t.lockRef.current],(t.shards||[]).map(Db),!0).filter(Boolean);return b.forEach(function(k){return k.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var d=x.useCallback(function(b,k){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var M=Gh(b),V=n.current,j="deltaX"in b?b.deltaX:V[0]-M[0],B="deltaY"in b?b.deltaY:V[1]-M[1],D,W=b.target,I=Math.abs(j)>Math.abs(B)?"h":"v";if("touches"in b&&I==="h"&&W.type==="range")return!1;var N=window.getSelection(),P=N&&N.anchorNode,F=P?P===W||P.contains(W):!1;if(F)return!1;var U=Pb(I,W);if(!U)return!0;if(U?D=I:(D=I==="v"?"h":"v",U=Pb(I,W)),!U)return!1;if(!r.current&&"changedTouches"in b&&(j||B)&&(r.current=D),!D)return!0;var O=r.current||D;return JB(O,k,b,O==="h"?j:B)},[]),h=x.useCallback(function(b){var k=b;if(!(!kl.length||kl[kl.length-1]!==a)){var M="deltaY"in k?jb(k):Gh(k),V=e.current.filter(function(D){return D.name===k.type&&(D.target===k.target||k.target===D.shadowParent)&&ZB(D.delta,M)})[0];if(V&&V.should){k.cancelable&&k.preventDefault();return}if(!V){var j=(l.current.shards||[]).map(Db).filter(Boolean).filter(function(D){return D.contains(k.target)}),B=j.length>0?d(k,j[0]):!l.current.noIsolation;B&&k.cancelable&&k.preventDefault()}}},[]),p=x.useCallback(function(b,k,M,V){var j={name:b,delta:k,target:M,should:V,shadowParent:rW(M)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(B){return B!==j})},1)},[]),g=x.useCallback(function(b){n.current=Gh(b),r.current=void 0},[]),y=x.useCallback(function(b){p(b.type,jb(b),b.target,d(b,t.lockRef.current))},[]),w=x.useCallback(function(b){p(b.type,Gh(b),b.target,d(b,t.lockRef.current))},[]);x.useEffect(function(){return kl.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:w}),document.addEventListener("wheel",h,Il),document.addEventListener("touchmove",h,Il),document.addEventListener("touchstart",g,Il),function(){kl=kl.filter(function(b){return b!==a}),document.removeEventListener("wheel",h,Il),document.removeEventListener("touchmove",h,Il),document.removeEventListener("touchstart",g,Il)}},[]);var S=t.removeScrollBar,C=t.inert;return x.createElement(x.Fragment,null,C?x.createElement(a,{styles:eW(s)}):null,S?x.createElement(HB,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function rW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const sW=PB(WI,nW);var Nm=x.forwardRef(function(t,e){return x.createElement(km,_s({},t,{ref:e,sideCar:sW}))});Nm.classNames=km.classNames;var mw="Popover",[KI]=Ti(mw,[Cm]),fd=Cm(),[iW,No]=KI(mw),YI=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:l=!1}=t,d=fd(e),h=x.useRef(null),[p,g]=x.useState(!1),[y=!1,w]=Ea({prop:r,defaultProp:s,onChange:a});return c.jsx(LI,{...d,children:c.jsx(iW,{scope:e,contentId:mi(),triggerRef:h,open:y,onOpenChange:w,onOpenToggle:x.useCallback(()=>w(S=>!S),[w]),hasCustomAnchor:p,onCustomAnchorAdd:x.useCallback(()=>g(!0),[]),onCustomAnchorRemove:x.useCallback(()=>g(!1),[]),modal:l,children:n})})};YI.displayName=mw;var QI="PopoverAnchor",oW=x.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=No(QI,n),a=fd(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:d}=s;return x.useEffect(()=>(l(),()=>d()),[l,d]),c.jsx(hw,{...a,...r,ref:e})});oW.displayName=QI;var XI="PopoverTrigger",JI=x.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=No(XI,n),a=fd(n),l=st(e,s.triggerRef),d=c.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":rk(s.open),...r,ref:l,onClick:Oe(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?d:c.jsx(hw,{asChild:!0,...a,children:d})});JI.displayName=XI;var pw="PopoverPortal",[aW,lW]=KI(pw,{forceMount:void 0}),ZI=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,a=No(pw,e);return c.jsx(aW,{scope:e,forceMount:n,children:c.jsx(qn,{present:n||a.open,children:c.jsx(Im,{asChild:!0,container:s,children:r})})})};ZI.displayName=pw;var nc="PopoverContent",ek=x.forwardRef((t,e)=>{const n=lW(nc,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,a=No(nc,t.__scopePopover);return c.jsx(qn,{present:r||a.open,children:a.modal?c.jsx(cW,{...s,ref:e}):c.jsx(uW,{...s,ref:e})})});ek.displayName=nc;var cW=x.forwardRef((t,e)=>{const n=No(nc,t.__scopePopover),r=x.useRef(null),s=st(e,r),a=x.useRef(!1);return x.useEffect(()=>{const l=r.current;if(l)return fw(l)},[]),c.jsx(Nm,{as:xi,allowPinchZoom:!0,children:c.jsx(tk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(t.onCloseAutoFocus,l=>{var d;l.preventDefault(),a.current||(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:Oe(t.onPointerDownOutside,l=>{const d=l.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,p=d.button===2||h;a.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:Oe(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),uW=x.forwardRef((t,e)=>{const n=No(nc,t.__scopePopover),r=x.useRef(!1),s=x.useRef(!1);return c.jsx(tk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,d;(l=t.onCloseAutoFocus)==null||l.call(t,a),a.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var h,p;(h=t.onInteractOutside)==null||h.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=a.target;((p=n.triggerRef.current)==null?void 0:p.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),tk=x.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:g,...y}=t,w=No(nc,n),S=fd(n);return rw(),c.jsx(_m,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:c.jsx(ld,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:g,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:p,onDismiss:()=>w.onOpenChange(!1),children:c.jsx(VI,{"data-state":rk(w.open),role:"dialog",id:w.contentId,...S,...y,ref:e,style:{...y.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),nk="PopoverClose",dW=x.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=No(nk,n);return c.jsx(qe.button,{type:"button",...r,ref:e,onClick:Oe(t.onClick,()=>s.onOpenChange(!1))})});dW.displayName=nk;var hW="PopoverArrow",fW=x.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=fd(n);return c.jsx(FI,{...s,...r,ref:e})});fW.displayName=hW;function rk(t){return t?"open":"closed"}var mW=YI,pW=JI,gW=ZI,vW=ek;function sk({...t}){return c.jsx(mW,{"data-slot":"popover",...t})}function ik({...t}){return c.jsx(pW,{"data-slot":"popover-trigger",...t})}function ok({className:t,align:e="center",sideOffset:n=4,...r}){return c.jsx(gW,{children:c.jsx(vW,{"data-slot":"popover-content",align:e,sideOffset:n,className:fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...r})})}var yW=[" ","Enter","ArrowUp","ArrowDown"],wW=[" ","Enter"],md="Select",[Am,Rm,xW]=zy(md),[Ec]=Ti(md,[xW,Cm]),Pm=Cm(),[_W,Ao]=Ec(md),[EW,bW]=Ec(md),ak=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:a,value:l,defaultValue:d,onValueChange:h,dir:p,name:g,autoComplete:y,disabled:w,required:S,form:C}=t,b=Pm(e),[k,M]=x.useState(null),[V,j]=x.useState(null),[B,D]=x.useState(!1),W=Uy(p),[I=!1,N]=Ea({prop:r,defaultProp:s,onChange:a}),[P,F]=Ea({prop:l,defaultProp:d,onChange:h}),U=x.useRef(null),O=k?C||!!k.closest("form"):!0,[A,de]=x.useState(new Set),Z=Array.from(A).map(me=>me.props.value).join(";");return c.jsx(LI,{...b,children:c.jsxs(_W,{required:S,scope:e,trigger:k,onTriggerChange:M,valueNode:V,onValueNodeChange:j,valueNodeHasChildren:B,onValueNodeHasChildrenChange:D,contentId:mi(),value:P,onValueChange:F,open:I,onOpenChange:N,dir:W,triggerPointerDownPosRef:U,disabled:w,children:[c.jsx(Am.Provider,{scope:e,children:c.jsx(EW,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(me=>{de(ee=>new Set(ee).add(me))},[]),onNativeOptionRemove:x.useCallback(me=>{de(ee=>{const H=new Set(ee);return H.delete(me),H})},[]),children:n})}),O?c.jsxs(Ak,{"aria-hidden":!0,required:S,tabIndex:-1,name:g,autoComplete:y,value:P,onChange:me=>F(me.target.value),disabled:w,form:C,children:[P===void 0?c.jsx("option",{value:""}):null,Array.from(A)]},Z):null]})})};ak.displayName=md;var lk="SelectTrigger",ck=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,a=Pm(n),l=Ao(lk,n),d=l.disabled||r,h=st(e,l.onTriggerChange),p=Rm(n),g=x.useRef("touch"),[y,w,S]=Rk(b=>{const k=p().filter(j=>!j.disabled),M=k.find(j=>j.value===l.value),V=Pk(k,b,M);V!==void 0&&l.onValueChange(V.value)}),C=b=>{d||(l.onOpenChange(!0),S()),b&&(l.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return c.jsx(hw,{asChild:!0,...a,children:c.jsx(qe.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":Nk(l.value)?"":void 0,...s,ref:h,onClick:Oe(s.onClick,b=>{b.currentTarget.focus(),g.current!=="mouse"&&C(b)}),onPointerDown:Oe(s.onPointerDown,b=>{g.current=b.pointerType;const k=b.target;k.hasPointerCapture(b.pointerId)&&k.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(C(b),b.preventDefault())}),onKeyDown:Oe(s.onKeyDown,b=>{const k=y.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&w(b.key),!(k&&b.key===" ")&&yW.includes(b.key)&&(C(),b.preventDefault())})})})});ck.displayName=lk;var uk="SelectValue",dk=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:l="",...d}=t,h=Ao(uk,n),{onValueNodeHasChildrenChange:p}=h,g=a!==void 0,y=st(e,h.onValueNodeChange);return ln(()=>{p(g)},[p,g]),c.jsx(qe.span,{...d,ref:y,style:{pointerEvents:"none"},children:Nk(h.value)?c.jsx(c.Fragment,{children:l}):a})});dk.displayName=uk;var SW="SelectIcon",hk=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return c.jsx(qe.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});hk.displayName=SW;var TW="SelectPortal",fk=t=>c.jsx(Im,{asChild:!0,...t});fk.displayName=TW;var Sa="SelectContent",mk=x.forwardRef((t,e)=>{const n=Ao(Sa,t.__scopeSelect),[r,s]=x.useState();if(ln(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?Qu.createPortal(c.jsx(pk,{scope:t.__scopeSelect,children:c.jsx(Am.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),a):null}return c.jsx(gk,{...t,ref:e})});mk.displayName=Sa;var Vr=10,[pk,Ro]=Ec(Sa),CW="SelectContentImpl",gk=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:l,side:d,sideOffset:h,align:p,alignOffset:g,arrowPadding:y,collisionBoundary:w,collisionPadding:S,sticky:C,hideWhenDetached:b,avoidCollisions:k,...M}=t,V=Ao(Sa,n),[j,B]=x.useState(null),[D,W]=x.useState(null),I=st(e,le=>B(le)),[N,P]=x.useState(null),[F,U]=x.useState(null),O=Rm(n),[A,de]=x.useState(!1),Z=x.useRef(!1);x.useEffect(()=>{if(j)return fw(j)},[j]),rw();const me=x.useCallback(le=>{const[Ee,...Pe]=O().map(Je=>Je.ref.current),[Ue]=Pe.slice(-1),Xe=document.activeElement;for(const Je of le)if(Je===Xe||(Je==null||Je.scrollIntoView({block:"nearest"}),Je===Ee&&D&&(D.scrollTop=0),Je===Ue&&D&&(D.scrollTop=D.scrollHeight),Je==null||Je.focus(),document.activeElement!==Xe))return},[O,D]),ee=x.useCallback(()=>me([N,j]),[me,N,j]);x.useEffect(()=>{A&&ee()},[A,ee]);const{onOpenChange:H,triggerPointerDownPosRef:re}=V;x.useEffect(()=>{if(j){let le={x:0,y:0};const Ee=Ue=>{var Xe,Je;le={x:Math.abs(Math.round(Ue.pageX)-(((Xe=re.current)==null?void 0:Xe.x)??0)),y:Math.abs(Math.round(Ue.pageY)-(((Je=re.current)==null?void 0:Je.y)??0))}},Pe=Ue=>{le.x<=10&&le.y<=10?Ue.preventDefault():j.contains(Ue.target)||H(!1),document.removeEventListener("pointermove",Ee),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[j,H,re]),x.useEffect(()=>{const le=()=>H(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[H]);const[se,q]=Rk(le=>{const Ee=O().filter(Xe=>!Xe.disabled),Pe=Ee.find(Xe=>Xe.ref.current===document.activeElement),Ue=Pk(Ee,le,Pe);Ue&&setTimeout(()=>Ue.ref.current.focus())}),te=x.useCallback((le,Ee,Pe)=>{const Ue=!Z.current&&!Pe;(V.value!==void 0&&V.value===Ee||Ue)&&(P(le),Ue&&(Z.current=!0))},[V.value]),ye=x.useCallback(()=>j==null?void 0:j.focus(),[j]),we=x.useCallback((le,Ee,Pe)=>{const Ue=!Z.current&&!Pe;(V.value!==void 0&&V.value===Ee||Ue)&&U(le)},[V.value]),Me=r==="popper"?Nv:vk,De=Me===Nv?{side:d,sideOffset:h,align:p,alignOffset:g,arrowPadding:y,collisionBoundary:w,collisionPadding:S,sticky:C,hideWhenDetached:b,avoidCollisions:k}:{};return c.jsx(pk,{scope:n,content:j,viewport:D,onViewportChange:W,itemRefCallback:te,selectedItem:N,onItemLeave:ye,itemTextRefCallback:we,focusSelectedItem:ee,selectedItemText:F,position:r,isPositioned:A,searchRef:se,children:c.jsx(Nm,{as:xi,allowPinchZoom:!0,children:c.jsx(_m,{asChild:!0,trapped:V.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Oe(s,le=>{var Ee;(Ee=V.trigger)==null||Ee.focus({preventScroll:!0}),le.preventDefault()}),children:c.jsx(ld,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>V.onOpenChange(!1),children:c.jsx(Me,{role:"listbox",id:V.contentId,"data-state":V.open?"open":"closed",dir:V.dir,onContextMenu:le=>le.preventDefault(),...M,...De,onPlaced:()=>de(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:Oe(M.onKeyDown,le=>{const Ee=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!Ee&&le.key.length===1&&q(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Ue=O().filter(Xe=>!Xe.disabled).map(Xe=>Xe.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Xe=le.target,Je=Ue.indexOf(Xe);Ue=Ue.slice(Je+1)}setTimeout(()=>me(Ue)),le.preventDefault()}})})})})})})});gk.displayName=CW;var IW="SelectItemAlignedPosition",vk=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,a=Ao(Sa,n),l=Ro(Sa,n),[d,h]=x.useState(null),[p,g]=x.useState(null),y=st(e,I=>g(I)),w=Rm(n),S=x.useRef(!1),C=x.useRef(!0),{viewport:b,selectedItem:k,selectedItemText:M,focusSelectedItem:V}=l,j=x.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&p&&b&&k&&M){const I=a.trigger.getBoundingClientRect(),N=p.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),F=M.getBoundingClientRect();if(a.dir!=="rtl"){const Xe=F.left-N.left,Je=P.left-Xe,ce=I.left-Je,Re=I.width+ce,pt=Math.max(Re,N.width),ct=window.innerWidth-Vr,vt=bv(Je,[Vr,Math.max(Vr,ct-pt)]);d.style.minWidth=Re+"px",d.style.left=vt+"px"}else{const Xe=N.right-F.right,Je=window.innerWidth-P.right-Xe,ce=window.innerWidth-I.right-Je,Re=I.width+ce,pt=Math.max(Re,N.width),ct=window.innerWidth-Vr,vt=bv(Je,[Vr,Math.max(Vr,ct-pt)]);d.style.minWidth=Re+"px",d.style.right=vt+"px"}const U=w(),O=window.innerHeight-Vr*2,A=b.scrollHeight,de=window.getComputedStyle(p),Z=parseInt(de.borderTopWidth,10),me=parseInt(de.paddingTop,10),ee=parseInt(de.borderBottomWidth,10),H=parseInt(de.paddingBottom,10),re=Z+me+A+H+ee,se=Math.min(k.offsetHeight*5,re),q=window.getComputedStyle(b),te=parseInt(q.paddingTop,10),ye=parseInt(q.paddingBottom,10),we=I.top+I.height/2-Vr,Me=O-we,De=k.offsetHeight/2,le=k.offsetTop+De,Ee=Z+me+le,Pe=re-Ee;if(Ee<=we){const Xe=U.length>0&&k===U[U.length-1].ref.current;d.style.bottom="0px";const Je=p.clientHeight-b.offsetTop-b.offsetHeight,ce=Math.max(Me,De+(Xe?ye:0)+Je+ee),Re=Ee+ce;d.style.height=Re+"px"}else{const Xe=U.length>0&&k===U[0].ref.current;d.style.top="0px";const ce=Math.max(we,Z+b.offsetTop+(Xe?te:0)+De)+Pe;d.style.height=ce+"px",b.scrollTop=Ee-we+b.offsetTop}d.style.margin=`${Vr}px 0`,d.style.minHeight=se+"px",d.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>S.current=!0)}},[w,a.trigger,a.valueNode,d,p,b,k,M,a.dir,r]);ln(()=>j(),[j]);const[B,D]=x.useState();ln(()=>{p&&D(window.getComputedStyle(p).zIndex)},[p]);const W=x.useCallback(I=>{I&&C.current===!0&&(j(),V==null||V(),C.current=!1)},[j,V]);return c.jsx(NW,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:S,onScrollButtonChange:W,children:c.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:B},children:c.jsx(qe.div,{...s,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});vk.displayName=IW;var kW="SelectPopperPosition",Nv=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Vr,...a}=t,l=Pm(n);return c.jsx(VI,{...l,...a,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Nv.displayName=kW;var[NW,gw]=Ec(Sa,{}),Av="SelectViewport",yk=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,a=Ro(Av,n),l=gw(Av,n),d=st(e,a.onViewportChange),h=x.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(Am.Slot,{scope:n,children:c.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Oe(s.onScroll,p=>{const g=p.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:w}=l;if(w!=null&&w.current&&y){const S=Math.abs(h.current-g.scrollTop);if(S>0){const C=window.innerHeight-Vr*2,b=parseFloat(y.style.minHeight),k=parseFloat(y.style.height),M=Math.max(b,k);if(M<C){const V=M+S,j=Math.min(C,V),B=V-j;y.style.height=j+"px",y.style.bottom==="0px"&&(g.scrollTop=B>0?B:0,y.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});yk.displayName=Av;var wk="SelectGroup",[AW,RW]=Ec(wk),PW=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=mi();return c.jsx(AW,{scope:n,id:s,children:c.jsx(qe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});PW.displayName=wk;var xk="SelectLabel",jW=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=RW(xk,n);return c.jsx(qe.div,{id:s.id,...r,ref:e})});jW.displayName=xk;var Wf="SelectItem",[DW,_k]=Ec(Wf),Ek=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...l}=t,d=Ao(Wf,n),h=Ro(Wf,n),p=d.value===r,[g,y]=x.useState(a??""),[w,S]=x.useState(!1),C=st(e,V=>{var j;return(j=h.itemRefCallback)==null?void 0:j.call(h,V,r,s)}),b=mi(),k=x.useRef("touch"),M=()=>{s||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(DW,{scope:n,value:r,disabled:s,textId:b,isSelected:p,onItemTextChange:x.useCallback(V=>{y(j=>j||((V==null?void 0:V.textContent)??"").trim())},[]),children:c.jsx(Am.ItemSlot,{scope:n,value:r,disabled:s,textValue:g,children:c.jsx(qe.div,{role:"option","aria-labelledby":b,"data-highlighted":w?"":void 0,"aria-selected":p&&w,"data-state":p?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:C,onFocus:Oe(l.onFocus,()=>S(!0)),onBlur:Oe(l.onBlur,()=>S(!1)),onClick:Oe(l.onClick,()=>{k.current!=="mouse"&&M()}),onPointerUp:Oe(l.onPointerUp,()=>{k.current==="mouse"&&M()}),onPointerDown:Oe(l.onPointerDown,V=>{k.current=V.pointerType}),onPointerMove:Oe(l.onPointerMove,V=>{var j;k.current=V.pointerType,s?(j=h.onItemLeave)==null||j.call(h):k.current==="mouse"&&V.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Oe(l.onPointerLeave,V=>{var j;V.currentTarget===document.activeElement&&((j=h.onItemLeave)==null||j.call(h))}),onKeyDown:Oe(l.onKeyDown,V=>{var B;((B=h.searchRef)==null?void 0:B.current)!==""&&V.key===" "||(wW.includes(V.key)&&M(),V.key===" "&&V.preventDefault())})})})})});Ek.displayName=Wf;var _u="SelectItemText",bk=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...a}=t,l=Ao(_u,n),d=Ro(_u,n),h=_k(_u,n),p=bW(_u,n),[g,y]=x.useState(null),w=st(e,M=>y(M),h.onItemTextChange,M=>{var V;return(V=d.itemTextRefCallback)==null?void 0:V.call(d,M,h.value,h.disabled)}),S=g==null?void 0:g.textContent,C=x.useMemo(()=>c.jsx("option",{value:h.value,disabled:h.disabled,children:S},h.value),[h.disabled,h.value,S]),{onNativeOptionAdd:b,onNativeOptionRemove:k}=p;return ln(()=>(b(C),()=>k(C)),[b,k,C]),c.jsxs(c.Fragment,{children:[c.jsx(qe.span,{id:h.textId,...a,ref:w}),h.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Qu.createPortal(a.children,l.valueNode):null]})});bk.displayName=_u;var Sk="SelectItemIndicator",Tk=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _k(Sk,n).isSelected?c.jsx(qe.span,{"aria-hidden":!0,...r,ref:e}):null});Tk.displayName=Sk;var Rv="SelectScrollUpButton",Ck=x.forwardRef((t,e)=>{const n=Ro(Rv,t.__scopeSelect),r=gw(Rv,t.__scopeSelect),[s,a]=x.useState(!1),l=st(e,r.onScrollButtonChange);return ln(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=h.scrollTop>0;a(p)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),s?c.jsx(kk,{...t,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});Ck.displayName=Rv;var Pv="SelectScrollDownButton",Ik=x.forwardRef((t,e)=>{const n=Ro(Pv,t.__scopeSelect),r=gw(Pv,t.__scopeSelect),[s,a]=x.useState(!1),l=st(e,r.onScrollButtonChange);return ln(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<p;a(g)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),s?c.jsx(kk,{...t,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});Ik.displayName=Pv;var kk=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,a=Ro("SelectScrollButton",n),l=x.useRef(null),d=Rm(n),h=x.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return x.useEffect(()=>()=>h(),[h]),ln(()=>{var g;const p=d().find(y=>y.ref.current===document.activeElement);(g=p==null?void 0:p.ref.current)==null||g.scrollIntoView({block:"nearest"})},[d]),c.jsx(qe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Oe(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Oe(s.onPointerMove,()=>{var p;(p=a.onItemLeave)==null||p.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Oe(s.onPointerLeave,()=>{h()})})}),OW="SelectSeparator",MW=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(qe.div,{"aria-hidden":!0,...r,ref:e})});MW.displayName=OW;var jv="SelectArrow",LW=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Pm(n),a=Ao(jv,n),l=Ro(jv,n);return a.open&&l.position==="popper"?c.jsx(FI,{...s,...r,ref:e}):null});LW.displayName=jv;function Nk(t){return t===""||t===void 0}var Ak=x.forwardRef((t,e)=>{const{value:n,...r}=t,s=x.useRef(null),a=st(e,s),l=By(n);return x.useEffect(()=>{const d=s.current,h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==n&&g){const y=new Event("change",{bubbles:!0});g.call(d,n),d.dispatchEvent(y)}},[l,n]),c.jsx(Wy,{asChild:!0,children:c.jsx("select",{...r,ref:a,defaultValue:n})})});Ak.displayName="BubbleSelect";function Rk(t){const e=Bt(t),n=x.useRef(""),r=x.useRef(0),s=x.useCallback(l=>{const d=n.current+l;e(d),(function h(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>h(""),1e3))})(d)},[e]),a=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function Pk(t,e,n){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=VW(t,Math.max(a,0));s.length===1&&(l=l.filter(p=>p!==n));const h=l.find(p=>p.textValue.toLowerCase().startsWith(s.toLowerCase()));return h!==n?h:void 0}function VW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var FW=ak,UW=ck,zW=dk,BW=hk,WW=fk,$W=mk,HW=yk,qW=Ek,GW=bk,KW=Tk,YW=Ck,QW=Ik;function pd({...t}){return c.jsx(FW,{"data-slot":"select",...t})}function gd({...t}){return c.jsx(zW,{"data-slot":"select-value",...t})}function vd({className:t,size:e="default",children:n,...r}){return c.jsxs(UW,{"data-slot":"select-trigger","data-size":e,className:fe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,c.jsx(BW,{asChild:!0,children:c.jsx(ad,{className:"size-4 opacity-50"})})]})}function yd({className:t,children:e,position:n="popper",...r}){return c.jsx(WW,{children:c.jsxs($W,{"data-slot":"select-content",className:fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(XW,{}),c.jsx(HW,{className:fe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),c.jsx(JW,{})]})})}function rc({className:t,children:e,...n}){return c.jsxs(qW,{"data-slot":"select-item",className:fe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[c.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:c.jsx(KW,{children:c.jsx(O1,{className:"size-4"})})}),c.jsx(GW,{children:e})]})}function XW({className:t,...e}){return c.jsx(YW,{"data-slot":"select-scroll-up-button",className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(yV,{className:"size-4"})})}function JW({className:t,...e}){return c.jsx(QW,{"data-slot":"select-scroll-down-button",className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(ad,{className:"size-4"})})}var vw="Dialog",[jk,Dk]=Ti(vw),[ZW,Yr]=jk(vw),Ok=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:l=!0}=t,d=x.useRef(null),h=x.useRef(null),[p=!1,g]=Ea({prop:r,defaultProp:s,onChange:a});return c.jsx(ZW,{scope:e,triggerRef:d,contentRef:h,contentId:mi(),titleId:mi(),descriptionId:mi(),open:p,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(y=>!y),[g]),modal:l,children:n})};Ok.displayName=vw;var Mk="DialogTrigger",Lk=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yr(Mk,n),a=st(e,s.triggerRef);return c.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":xw(s.open),...r,ref:a,onClick:Oe(t.onClick,s.onOpenToggle)})});Lk.displayName=Mk;var yw="DialogPortal",[e$,Vk]=jk(yw,{forceMount:void 0}),Fk=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,a=Yr(yw,e);return c.jsx(e$,{scope:e,forceMount:n,children:x.Children.map(r,l=>c.jsx(qn,{present:n||a.open,children:c.jsx(Im,{asChild:!0,container:s,children:l})}))})};Fk.displayName=yw;var $f="DialogOverlay",Uk=x.forwardRef((t,e)=>{const n=Vk($f,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,a=Yr($f,t.__scopeDialog);return a.modal?c.jsx(qn,{present:r||a.open,children:c.jsx(t$,{...s,ref:e})}):null});Uk.displayName=$f;var t$=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yr($f,n);return c.jsx(Nm,{as:xi,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(qe.div,{"data-state":xw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ta="DialogContent",zk=x.forwardRef((t,e)=>{const n=Vk(Ta,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,a=Yr(Ta,t.__scopeDialog);return c.jsx(qn,{present:r||a.open,children:a.modal?c.jsx(n$,{...s,ref:e}):c.jsx(r$,{...s,ref:e})})});zk.displayName=Ta;var n$=x.forwardRef((t,e)=>{const n=Yr(Ta,t.__scopeDialog),r=x.useRef(null),s=st(e,n.contentRef,r);return x.useEffect(()=>{const a=r.current;if(a)return fw(a)},[]),c.jsx(Bk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Oe(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&a.preventDefault()}),onFocusOutside:Oe(t.onFocusOutside,a=>a.preventDefault())})}),r$=x.forwardRef((t,e)=>{const n=Yr(Ta,t.__scopeDialog),r=x.useRef(!1),s=x.useRef(!1);return c.jsx(Bk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,d;(l=t.onCloseAutoFocus)==null||l.call(t,a),a.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var h,p;(h=t.onInteractOutside)==null||h.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=a.target;((p=n.triggerRef.current)==null?void 0:p.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Bk=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...l}=t,d=Yr(Ta,n),h=x.useRef(null),p=st(e,h);return rw(),c.jsxs(c.Fragment,{children:[c.jsx(_m,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:c.jsx(ld,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":xw(d.open),...l,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(i$,{titleId:d.titleId}),c.jsx(a$,{contentRef:h,descriptionId:d.descriptionId})]})]})}),ww="DialogTitle",Wk=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yr(ww,n);return c.jsx(qe.h2,{id:s.titleId,...r,ref:e})});Wk.displayName=ww;var $k="DialogDescription",Hk=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yr($k,n);return c.jsx(qe.p,{id:s.descriptionId,...r,ref:e})});Hk.displayName=$k;var qk="DialogClose",Gk=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yr(qk,n);return c.jsx(qe.button,{type:"button",...r,ref:e,onClick:Oe(t.onClick,()=>s.onOpenChange(!1))})});Gk.displayName=qk;function xw(t){return t?"open":"closed"}var Kk="DialogTitleWarning",[s$,Yk]=OF(Kk,{contentName:Ta,titleName:ww,docsSlug:"dialog"}),i$=({titleId:t})=>{const e=Yk(Kk),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},o$="DialogDescriptionWarning",a$=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Yk(o$).contentName}}.`;return x.useEffect(()=>{var a;const s=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Qk=Ok,l$=Lk,Xk=Fk,Jk=Uk,Zk=zk,eN=Wk,tN=Hk,_w=Gk;function Po({...t}){return c.jsx(Qk,{"data-slot":"dialog",...t})}function c$({...t}){return c.jsx(Xk,{"data-slot":"dialog-portal",...t})}function u$({className:t,...e}){return c.jsx(Jk,{"data-slot":"dialog-overlay",className:fe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function jo({className:t,children:e,showCloseButton:n=!0,...r}){return c.jsxs(c$,{"data-slot":"dialog-portal",children:[c.jsx(u$,{}),c.jsxs(Zk,{"data-slot":"dialog-content",className:fe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,n&&c.jsxs(_w,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[c.jsx(gm,{}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Do({className:t,...e}){return c.jsx("div",{"data-slot":"dialog-header",className:fe("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Oo({className:t,...e}){return c.jsx("div",{"data-slot":"dialog-footer",className:fe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Mo({className:t,...e}){return c.jsx(eN,{"data-slot":"dialog-title",className:fe("text-lg leading-none font-semibold",t),...e})}function Lo({className:t,...e}){return c.jsx(tN,{"data-slot":"dialog-description",className:fe("text-muted-foreground text-sm",t),...e})}var nN="AlertDialog",[d$]=Ti(nN,[Dk]),Ii=Dk(),rN=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ii(e);return c.jsx(Qk,{...r,...n,modal:!0})};rN.displayName=nN;var h$="AlertDialogTrigger",f$=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ii(n);return c.jsx(l$,{...s,...r,ref:e})});f$.displayName=h$;var m$="AlertDialogPortal",sN=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ii(e);return c.jsx(Xk,{...r,...n})};sN.displayName=m$;var p$="AlertDialogOverlay",iN=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ii(n);return c.jsx(Jk,{...s,...r,ref:e})});iN.displayName=p$;var $l="AlertDialogContent",[g$,v$]=d$($l),oN=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,a=Ii(n),l=x.useRef(null),d=st(e,l),h=x.useRef(null);return c.jsx(s$,{contentName:$l,titleName:aN,docsSlug:"alert-dialog",children:c.jsx(g$,{scope:n,cancelRef:h,children:c.jsxs(Zk,{role:"alertdialog",...a,...s,ref:d,onOpenAutoFocus:Oe(s.onOpenAutoFocus,p=>{var g;p.preventDefault(),(g=h.current)==null||g.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[c.jsx(F1,{children:r}),c.jsx(w$,{contentRef:l})]})})})});oN.displayName=$l;var aN="AlertDialogTitle",lN=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ii(n);return c.jsx(eN,{...s,...r,ref:e})});lN.displayName=aN;var cN="AlertDialogDescription",uN=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ii(n);return c.jsx(tN,{...s,...r,ref:e})});uN.displayName=cN;var y$="AlertDialogAction",dN=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ii(n);return c.jsx(_w,{...s,...r,ref:e})});dN.displayName=y$;var hN="AlertDialogCancel",fN=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=v$(hN,n),a=Ii(n),l=st(e,s);return c.jsx(_w,{...a,...r,ref:l})});fN.displayName=hN;var w$=({contentRef:t})=>{const e=`\`${$l}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${$l}\` by passing a \`${cN}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${$l}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},x$=rN,_$=sN,E$=iN,b$=oN,S$=dN,T$=fN,C$=lN,I$=uN;function Ra({...t}){return c.jsx(x$,{"data-slot":"alert-dialog",...t})}function k$({...t}){return c.jsx(_$,{"data-slot":"alert-dialog-portal",...t})}function N$({className:t,...e}){return c.jsx(E$,{"data-slot":"alert-dialog-overlay",className:fe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Pa({className:t,...e}){return c.jsxs(k$,{children:[c.jsx(N$,{}),c.jsx(b$,{"data-slot":"alert-dialog-content",className:fe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function ja({className:t,...e}){return c.jsx("div",{"data-slot":"alert-dialog-header",className:fe("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Da({className:t,...e}){return c.jsx("div",{"data-slot":"alert-dialog-footer",className:fe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Oa({className:t,...e}){return c.jsx(C$,{"data-slot":"alert-dialog-title",className:fe("text-lg font-semibold",t),...e})}function Ma({className:t,...e}){return c.jsx(I$,{"data-slot":"alert-dialog-description",className:fe("text-muted-foreground text-sm",t),...e})}function La({className:t,...e}){return c.jsx(S$,{className:fe(Bu(),t),...e})}function Va({className:t,...e}){return c.jsx(T$,{className:fe(Bu({variant:"outline"}),t),...e})}function wd({className:t,...e}){return c.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:c.jsx("table",{"data-slot":"table",className:fe("w-full caption-bottom text-sm",t),...e})})}function xd({className:t,...e}){return c.jsx("thead",{"data-slot":"table-header",className:fe("[&_tr]:border-b",t),...e})}function _d({className:t,...e}){return c.jsx("tbody",{"data-slot":"table-body",className:fe("[&_tr:last-child]:border-0",t),...e})}function Ms({className:t,...e}){return c.jsx("tr",{"data-slot":"table-row",className:fe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function ft({className:t,...e}){return c.jsx("th",{"data-slot":"table-head",className:fe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function mt({className:t,...e}){return c.jsx("td",{"data-slot":"table-cell",className:fe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}const A$=vm("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Sr({className:t,variant:e,asChild:n=!1,...r}){const s=n?xi:"span";return c.jsx(s,{"data-slot":"badge",className:fe(A$({variant:e}),t),...r})}const R$=["Exposicin","Espectculo","Taller"],Ob={title:"",date:"",location:"",price:"",image:"",category:"Exposicin",description:"",isActive:!0};function P$(){const{events:t,loading:e,addEvent:n,updateEvent:r,deleteEvent:s,uploadImage:a}=Tr(),[l,d]=x.useState(""),[h,p]=x.useState(!1),[g,y]=x.useState(!1),[w,S]=x.useState(null),[C,b]=x.useState(Ob),[k,M]=x.useState(void 0),[V,j]=x.useState(null),[B,D]=x.useState(""),[W,I]=x.useState(!1),N=t.filter(ee=>ee.title.toLowerCase().includes(l.toLowerCase())||ee.category.toLowerCase().includes(l.toLowerCase())),P=()=>{S(null),b(Ob),M(void 0),j(null),D(""),p(!0)},F=ee=>{try{const H={enero:0,febrero:1,marzo:2,abril:3,mayo:4,junio:5,julio:6,agosto:7,septiembre:8,octubre:9,noviembre:10,diciembre:11},re=ee.match(/(\d+)\s+de\s+(\w+),?\s+(\d{4})/i);if(re){const se=parseInt(re[1]),q=H[re[2].toLowerCase()],te=parseInt(re[3]);if(q!==void 0)return new Date(te,q,se)}}catch{return}},U=ee=>{S(ee),b({title:ee.title,date:ee.date,location:ee.location,price:ee.price,image:ee.image,category:ee.category,description:ee.description||"",isActive:ee.isActive}),M(F(ee.date)),D(ee.image),j(null),p(!0)},O=ee=>{S(ee),y(!0)},A=ee=>{var re;const H=(re=ee.target.files)==null?void 0:re[0];if(H){j(H);const se=new FileReader;se.onloadend=()=>{D(se.result)},se.readAsDataURL(H)}},de=ee=>{if(M(ee),ee){const H=Hu(ee,"d 'de' MMMM, yyyy",{locale:zl});b({...C,date:H})}else b({...C,date:""})},Z=async()=>{I(!0);try{let ee=C.image;V&&(ee=await a(V,"events"));const H={...C,image:ee};w?await r(w.id,H):await n(H),p(!1)}catch(ee){console.error("Error saving event:",ee)}finally{I(!1)}},me=async()=>{if(w)try{await s(w.id),y(!1)}catch(ee){console.error("Error deleting event:",ee)}};return e?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"Eventos"}),c.jsx("p",{className:"text-muted-foreground",children:"Gestiona los eventos culturales"})]}),c.jsxs(ge,{onClick:P,children:[c.jsx(_n,{className:"mr-2 h-4 w-4"}),"Nuevo Evento"]})]}),c.jsxs(Ut,{children:[c.jsx(nn,{children:c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:c.jsxs("div",{className:"relative flex-1",children:[c.jsx(mc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(We,{placeholder:"Buscar eventos...",value:l,onChange:ee=>d(ee.target.value),className:"pl-9"})]})})}),c.jsx(zt,{children:N.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-muted-foreground",children:"No hay eventos para mostrar"}),c.jsxs(ge,{variant:"outline",className:"mt-4",onClick:P,children:[c.jsx(_n,{className:"mr-2 h-4 w-4"}),"Crear primer evento"]})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(wd,{children:[c.jsx(xd,{children:c.jsxs(Ms,{children:[c.jsx(ft,{children:"Imagen"}),c.jsx(ft,{children:"Ttulo"}),c.jsx(ft,{children:"Fecha"}),c.jsx(ft,{children:"Categora"}),c.jsx(ft,{children:"Precio"}),c.jsx(ft,{children:"Estado"}),c.jsx(ft,{className:"text-right",children:"Acciones"})]})}),c.jsx(_d,{children:N.map(ee=>c.jsxs(Ms,{children:[c.jsx(mt,{children:c.jsx("div",{className:"w-16 h-12 bg-muted rounded overflow-hidden",children:ee.image?c.jsx("img",{src:ee.image,alt:ee.title,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx(br,{className:"h-4 w-4 text-muted-foreground"})})})}),c.jsx(mt,{className:"font-medium",children:ee.title}),c.jsx(mt,{children:ee.date}),c.jsx(mt,{children:c.jsx(Sr,{variant:"secondary",children:ee.category})}),c.jsx(mt,{children:ee.price}),c.jsx(mt,{children:c.jsx(Sr,{variant:ee.isActive?"default":"outline",children:ee.isActive?"Activo":"Inactivo"})}),c.jsx(mt,{className:"text-right",children:c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>U(ee),children:c.jsx(Io,{className:"h-4 w-4"})}),c.jsx(ge,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>O(ee),children:c.jsx(ko,{className:"h-4 w-4"})})]})})]},ee.id))})]})})})]}),c.jsx(Po,{open:h,onOpenChange:p,children:c.jsxs(jo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(Do,{children:[c.jsx(Mo,{children:w?"Editar Evento":"Nuevo Evento"}),c.jsx(Lo,{children:w?"Modifica los datos del evento":"Completa los datos para crear un nuevo evento"})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Imagen"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-32 h-24 bg-muted rounded-lg overflow-hidden flex items-center justify-center",children:B?c.jsx("img",{src:B,alt:"Preview",className:"w-full h-full object-cover"}):c.jsx(br,{className:"h-8 w-8 text-muted-foreground"})}),c.jsxs("div",{children:[c.jsx(We,{type:"file",accept:"image/*",onChange:A,className:"max-w-[200px]"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"JPG, PNG o GIF. Max 5MB"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"title",children:"Ttulo *"}),c.jsx(We,{id:"title",value:C.title,onChange:ee=>b({...C,title:ee.target.value}),placeholder:"Nombre del evento"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Categora *"}),c.jsxs(pd,{value:C.category,onValueChange:ee=>b({...C,category:ee}),children:[c.jsx(vd,{children:c.jsx(gd,{})}),c.jsx(yd,{children:R$.map(ee=>c.jsx(rc,{value:ee,children:ee},ee))})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Fecha *"}),c.jsxs(sk,{children:[c.jsx(ik,{asChild:!0,children:c.jsxs(ge,{variant:"outline",className:fe("w-full justify-start text-left font-normal",!k&&"text-muted-foreground"),children:[c.jsx(fc,{className:"mr-2 h-4 w-4"}),k?Hu(k,"d 'de' MMMM, yyyy",{locale:zl}):c.jsx("span",{children:"Seleccionar fecha"})]})}),c.jsx(ok,{className:"w-auto p-0",align:"start",children:c.jsx(mI,{mode:"single",selected:k,onSelect:de,locale:zl,initialFocus:!0})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"location",children:"Ubicacin *"}),c.jsx(We,{id:"location",value:C.location,onChange:ee=>b({...C,location:ee.target.value}),placeholder:"Gran Galera"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"price",children:"Precio *"}),c.jsx(We,{id:"price",value:C.price,onChange:ee=>b({...C,price:ee.target.value}),placeholder:"$25"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"description",children:"Descripcin"}),c.jsx(wc,{id:"description",value:C.description,onChange:ee=>b({...C,description:ee.target.value}),placeholder:"Descripcin del evento...",rows:3})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(ke,{children:"Estado"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Los eventos inactivos no se muestran en el sitio"})]}),c.jsx(_i,{checked:C.isActive,onCheckedChange:ee=>b({...C,isActive:ee})})]})]}),c.jsxs(Oo,{children:[c.jsx(ge,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),c.jsxs(ge,{onClick:Z,disabled:W||!C.title,children:[W&&c.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),w?"Guardar Cambios":"Crear Evento"]})]})]})}),c.jsx(Ra,{open:g,onOpenChange:y,children:c.jsxs(Pa,{children:[c.jsxs(ja,{children:[c.jsx(Oa,{children:"Eliminar evento?"}),c.jsxs(Ma,{children:['Esta accin no se puede deshacer. El evento "',w==null?void 0:w.title,'" ser eliminado permanentemente.']})]}),c.jsxs(Da,{children:[c.jsx(Va,{children:"Cancelar"}),c.jsx(La,{onClick:me,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Eliminar"})]})]})})]})}const j$=["Pintura","Herramientas","Lienzo","Accesorios"],Mb={name:"",price:"",image:"",category:"Pintura",description:"",stock:void 0,isActive:!0};function D$(){const{products:t,loading:e,addProduct:n,updateProduct:r,deleteProduct:s,uploadImage:a}=Tr(),[l,d]=x.useState(""),[h,p]=x.useState(!1),[g,y]=x.useState(!1),[w,S]=x.useState(null),[C,b]=x.useState(Mb),[k,M]=x.useState(null),[V,j]=x.useState(""),[B,D]=x.useState(!1),W=t.filter(A=>A.name.toLowerCase().includes(l.toLowerCase())||A.category.toLowerCase().includes(l.toLowerCase())),I=()=>{S(null),b(Mb),M(null),j(""),p(!0)},N=A=>{S(A),b({name:A.name,price:A.price,image:A.image,category:A.category,description:A.description||"",stock:A.stock,isActive:A.isActive}),j(A.image),M(null),p(!0)},P=A=>{S(A),y(!0)},F=A=>{var Z;const de=(Z=A.target.files)==null?void 0:Z[0];if(de){M(de);const me=new FileReader;me.onloadend=()=>{j(me.result)},me.readAsDataURL(de)}},U=async()=>{D(!0);try{let A=C.image;k&&(A=await a(k,"products"));const de={...C,image:A};w?await r(w.id,de):await n(de),p(!1)}catch(A){console.error("Error saving product:",A)}finally{D(!1)}},O=async()=>{if(w)try{await s(w.id),y(!1)}catch(A){console.error("Error deleting product:",A)}};return e?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"Materiales de Arte"}),c.jsx("p",{className:"text-muted-foreground",children:"Gestiona el catlogo de productos"})]}),c.jsxs(ge,{onClick:I,children:[c.jsx(_n,{className:"mr-2 h-4 w-4"}),"Nuevo Producto"]})]}),c.jsxs(Ut,{children:[c.jsx(nn,{children:c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:c.jsxs("div",{className:"relative flex-1",children:[c.jsx(mc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(We,{placeholder:"Buscar productos...",value:l,onChange:A=>d(A.target.value),className:"pl-9"})]})})}),c.jsx(zt,{children:W.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-muted-foreground",children:"No hay productos para mostrar"}),c.jsxs(ge,{variant:"outline",className:"mt-4",onClick:I,children:[c.jsx(_n,{className:"mr-2 h-4 w-4"}),"Crear primer producto"]})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(wd,{children:[c.jsx(xd,{children:c.jsxs(Ms,{children:[c.jsx(ft,{children:"Imagen"}),c.jsx(ft,{children:"Nombre"}),c.jsx(ft,{children:"Categora"}),c.jsx(ft,{children:"Precio"}),c.jsx(ft,{children:"Stock"}),c.jsx(ft,{children:"Estado"}),c.jsx(ft,{className:"text-right",children:"Acciones"})]})}),c.jsx(_d,{children:W.map(A=>c.jsxs(Ms,{children:[c.jsx(mt,{children:c.jsx("div",{className:"w-16 h-16 bg-muted rounded overflow-hidden",children:A.image?c.jsx("img",{src:A.image,alt:A.name,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx(br,{className:"h-4 w-4 text-muted-foreground"})})})}),c.jsx(mt,{className:"font-medium",children:A.name}),c.jsx(mt,{children:c.jsx(Sr,{variant:"secondary",children:A.category})}),c.jsx(mt,{className:"font-semibold",children:A.price}),c.jsx(mt,{children:A.stock!==void 0?A.stock:""}),c.jsx(mt,{children:c.jsx(Sr,{variant:A.isActive?"default":"outline",children:A.isActive?"Activo":"Inactivo"})}),c.jsx(mt,{className:"text-right",children:c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>N(A),children:c.jsx(Io,{className:"h-4 w-4"})}),c.jsx(ge,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>P(A),children:c.jsx(ko,{className:"h-4 w-4"})})]})})]},A.id))})]})})})]}),c.jsx(Po,{open:h,onOpenChange:p,children:c.jsxs(jo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(Do,{children:[c.jsx(Mo,{children:w?"Editar Producto":"Nuevo Producto"}),c.jsx(Lo,{children:w?"Modifica los datos del producto":"Completa los datos para crear un nuevo producto"})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Imagen"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-24 h-24 bg-muted rounded-lg overflow-hidden flex items-center justify-center",children:V?c.jsx("img",{src:V,alt:"Preview",className:"w-full h-full object-cover"}):c.jsx(br,{className:"h-8 w-8 text-muted-foreground"})}),c.jsxs("div",{children:[c.jsx(We,{type:"file",accept:"image/*",onChange:F,className:"max-w-[200px]"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"JPG, PNG o GIF. Max 5MB"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"name",children:"Nombre *"}),c.jsx(We,{id:"name",value:C.name,onChange:A=>b({...C,name:A.target.value}),placeholder:"Nombre del producto"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Categora *"}),c.jsxs(pd,{value:C.category,onValueChange:A=>b({...C,category:A}),children:[c.jsx(vd,{children:c.jsx(gd,{})}),c.jsx(yd,{children:j$.map(A=>c.jsx(rc,{value:A,children:A},A))})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"price",children:"Precio *"}),c.jsx(We,{id:"price",value:C.price,onChange:A=>b({...C,price:A.target.value}),placeholder:"$89.99"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"stock",children:"Stock (opcional)"}),c.jsx(We,{id:"stock",type:"number",value:C.stock||"",onChange:A=>b({...C,stock:A.target.value?parseInt(A.target.value):void 0}),placeholder:"Cantidad"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"description",children:"Descripcin"}),c.jsx(wc,{id:"description",value:C.description,onChange:A=>b({...C,description:A.target.value}),placeholder:"Descripcin del producto...",rows:3})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(ke,{children:"Estado"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Los productos inactivos no se muestran en la tienda"})]}),c.jsx(_i,{checked:C.isActive,onCheckedChange:A=>b({...C,isActive:A})})]})]}),c.jsxs(Oo,{children:[c.jsx(ge,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),c.jsxs(ge,{onClick:U,disabled:B||!C.name,children:[B&&c.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),w?"Guardar Cambios":"Crear Producto"]})]})]})}),c.jsx(Ra,{open:g,onOpenChange:y,children:c.jsxs(Pa,{children:[c.jsxs(ja,{children:[c.jsx(Oa,{children:"Eliminar producto?"}),c.jsxs(Ma,{children:['Esta accin no se puede deshacer. El producto "',w==null?void 0:w.name,'" ser eliminado permanentemente.']})]}),c.jsxs(Da,{children:[c.jsx(Va,{children:"Cancelar"}),c.jsx(La,{onClick:O,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Eliminar"})]})]})})]})}const O$=["Arte","Msica","Danza","Literatura","Fotografa","Otro"],Lb={title:"",instructor:"",description:"",date:"",duration:"",price:"",capacity:10,image:"",category:"Arte",isActive:!0};function M$(){const{workshops:t,loading:e,addWorkshop:n,updateWorkshop:r,deleteWorkshop:s,uploadImage:a}=Tr(),[l,d]=x.useState(""),[h,p]=x.useState(!1),[g,y]=x.useState(!1),[w,S]=x.useState(null),[C,b]=x.useState(Lb),[k,M]=x.useState(void 0),[V,j]=x.useState(null),[B,D]=x.useState(""),[W,I]=x.useState(!1),N=t.filter(Z=>Z.title.toLowerCase().includes(l.toLowerCase())||Z.instructor.toLowerCase().includes(l.toLowerCase())),P=()=>{S(null),b(Lb),M(void 0),j(null),D(""),p(!0)},F=Z=>{S(Z),b({title:Z.title,instructor:Z.instructor,description:Z.description,date:Z.date,duration:Z.duration,price:Z.price,capacity:Z.capacity,image:Z.image,category:Z.category,isActive:Z.isActive}),D(Z.image),j(null),p(!0)},U=Z=>{M(Z),Z&&b({...C,date:Hu(Z,"d 'de' MMMM, yyyy",{locale:zl})})},O=Z=>{var ee;const me=(ee=Z.target.files)==null?void 0:ee[0];if(me){j(me);const H=new FileReader;H.onloadend=()=>D(H.result),H.readAsDataURL(me)}},A=async()=>{I(!0);try{let Z=C.image;V&&(Z=await a(V,"workshops"));const me={...C,image:Z};w?await r(w.id,me):await n(me),p(!1)}catch(Z){console.error("Error saving:",Z)}finally{I(!1)}},de=async()=>{w&&(await s(w.id),y(!1))};return e?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"Talleres y Formacin"}),c.jsx("p",{className:"text-muted-foreground",children:"Gestiona los cursos y workshops"})]}),c.jsxs(ge,{onClick:P,children:[c.jsx(_n,{className:"mr-2 h-4 w-4"}),"Nuevo Taller"]})]}),c.jsxs(Ut,{children:[c.jsx(nn,{children:c.jsxs("div",{className:"relative flex-1",children:[c.jsx(mc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(We,{placeholder:"Buscar talleres...",value:l,onChange:Z=>d(Z.target.value),className:"pl-9"})]})}),c.jsx(zt,{children:N.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-muted-foreground",children:"No hay talleres para mostrar"}),c.jsxs(ge,{variant:"outline",className:"mt-4",onClick:P,children:[c.jsx(_n,{className:"mr-2 h-4 w-4"}),"Crear primer taller"]})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(wd,{children:[c.jsx(xd,{children:c.jsxs(Ms,{children:[c.jsx(ft,{children:"Imagen"}),c.jsx(ft,{children:"Ttulo"}),c.jsx(ft,{children:"Instructor"}),c.jsx(ft,{children:"Fecha"}),c.jsx(ft,{children:"Precio"}),c.jsx(ft,{children:"Estado"}),c.jsx(ft,{className:"text-right",children:"Acciones"})]})}),c.jsx(_d,{children:N.map(Z=>c.jsxs(Ms,{children:[c.jsx(mt,{children:c.jsx("div",{className:"w-16 h-12 bg-muted rounded overflow-hidden",children:Z.image?c.jsx("img",{src:Z.image,alt:Z.title,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx(br,{className:"h-4 w-4 text-muted-foreground"})})})}),c.jsx(mt,{className:"font-medium",children:Z.title}),c.jsx(mt,{children:Z.instructor}),c.jsx(mt,{children:Z.date}),c.jsx(mt,{children:Z.price}),c.jsx(mt,{children:c.jsx(Sr,{variant:Z.isActive?"default":"outline",children:Z.isActive?"Activo":"Inactivo"})}),c.jsx(mt,{className:"text-right",children:c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>F(Z),children:c.jsx(Io,{className:"h-4 w-4"})}),c.jsx(ge,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>{S(Z),y(!0)},children:c.jsx(ko,{className:"h-4 w-4"})})]})})]},Z.id))})]})})})]}),c.jsx(Po,{open:h,onOpenChange:p,children:c.jsxs(jo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(Do,{children:[c.jsx(Mo,{children:w?"Editar Taller":"Nuevo Taller"}),c.jsx(Lo,{children:w?"Modifica los datos del taller":"Completa los datos del nuevo taller"})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Imagen"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-32 h-24 bg-muted rounded-lg overflow-hidden flex items-center justify-center",children:B?c.jsx("img",{src:B,alt:"Preview",className:"w-full h-full object-cover"}):c.jsx(br,{className:"h-8 w-8 text-muted-foreground"})}),c.jsx(We,{type:"file",accept:"image/*",onChange:O,className:"max-w-[200px]"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Ttulo *"}),c.jsx(We,{value:C.title,onChange:Z=>b({...C,title:Z.target.value}),placeholder:"Nombre del taller"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Instructor *"}),c.jsx(We,{value:C.instructor,onChange:Z=>b({...C,instructor:Z.target.value}),placeholder:"Nombre del instructor"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Categora"}),c.jsxs(pd,{value:C.category,onValueChange:Z=>b({...C,category:Z}),children:[c.jsx(vd,{children:c.jsx(gd,{})}),c.jsx(yd,{children:O$.map(Z=>c.jsx(rc,{value:Z,children:Z},Z))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Fecha"}),c.jsxs(sk,{children:[c.jsx(ik,{asChild:!0,children:c.jsxs(ge,{variant:"outline",className:fe("w-full justify-start",!k&&"text-muted-foreground"),children:[c.jsx(fc,{className:"mr-2 h-4 w-4"}),k?Hu(k,"d 'de' MMMM, yyyy",{locale:zl}):"Seleccionar"]})}),c.jsx(ok,{className:"w-auto p-0",align:"start",children:c.jsx(mI,{mode:"single",selected:k,onSelect:U,locale:zl})})]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Duracin"}),c.jsx(We,{value:C.duration,onChange:Z=>b({...C,duration:Z.target.value}),placeholder:"2 horas"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Precio"}),c.jsx(We,{value:C.price,onChange:Z=>b({...C,price:Z.target.value}),placeholder:"$50"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Capacidad"}),c.jsx(We,{type:"number",value:C.capacity,onChange:Z=>b({...C,capacity:parseInt(Z.target.value)||0})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Descripcin"}),c.jsx(wc,{value:C.description,onChange:Z=>b({...C,description:Z.target.value}),rows:3})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(ke,{children:"Estado"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Talleres inactivos no se muestran"})]}),c.jsx(_i,{checked:C.isActive,onCheckedChange:Z=>b({...C,isActive:Z})})]})]}),c.jsxs(Oo,{children:[c.jsx(ge,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),c.jsxs(ge,{onClick:A,disabled:W||!C.title,children:[W&&c.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),w?"Guardar":"Crear"]})]})]})}),c.jsx(Ra,{open:g,onOpenChange:y,children:c.jsxs(Pa,{children:[c.jsxs(ja,{children:[c.jsx(Oa,{children:"Eliminar taller?"}),c.jsxs(Ma,{children:['Esta accin no se puede deshacer. El taller "',w==null?void 0:w.title,'" ser eliminado.']})]}),c.jsxs(Da,{children:[c.jsx(Va,{children:"Cancelar"}),c.jsx(La,{onClick:de,className:"bg-destructive text-destructive-foreground",children:"Eliminar"})]})]})})]})}const Vb={title:"",description:"",schedule:"",duration:"",price:"",capacity:15,image:"",isActive:!0};function L$(){const{guidedTours:t,loading:e,addGuidedTour:n,updateGuidedTour:r,deleteGuidedTour:s,uploadImage:a}=Tr(),[l,d]=x.useState(""),[h,p]=x.useState(!1),[g,y]=x.useState(!1),[w,S]=x.useState(null),[C,b]=x.useState(Vb),[k,M]=x.useState(null),[V,j]=x.useState(""),[B,D]=x.useState(!1),W=t.filter(O=>O.title.toLowerCase().includes(l.toLowerCase())),I=()=>{S(null),b(Vb),M(null),j(""),p(!0)},N=O=>{S(O),b({title:O.title,description:O.description,schedule:O.schedule,duration:O.duration,price:O.price,capacity:O.capacity,image:O.image,isActive:O.isActive}),j(O.image),p(!0)},P=O=>{var de;const A=(de=O.target.files)==null?void 0:de[0];if(A){M(A);const Z=new FileReader;Z.onloadend=()=>j(Z.result),Z.readAsDataURL(A)}},F=async()=>{D(!0);try{let O=C.image;k&&(O=await a(k,"tours"));const A={...C,image:O};w?await r(w.id,A):await n(A),p(!1)}finally{D(!1)}},U=async()=>{w&&(await s(w.id),y(!1))};return e?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"Visitas Guiadas"}),c.jsx("p",{className:"text-muted-foreground",children:'Programa "Visit la Casa"'})]}),c.jsxs(ge,{onClick:I,children:[c.jsx(_n,{className:"mr-2 h-4 w-4"}),"Nueva Visita"]})]}),c.jsxs(Ut,{children:[c.jsx(nn,{children:c.jsxs("div",{className:"relative flex-1",children:[c.jsx(mc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(We,{placeholder:"Buscar...",value:l,onChange:O=>d(O.target.value),className:"pl-9"})]})}),c.jsx(zt,{children:W.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-muted-foreground",children:"No hay visitas guiadas"}),c.jsxs(ge,{variant:"outline",className:"mt-4",onClick:I,children:[c.jsx(_n,{className:"mr-2 h-4 w-4"}),"Crear primera visita"]})]}):c.jsxs(wd,{children:[c.jsx(xd,{children:c.jsxs(Ms,{children:[c.jsx(ft,{children:"Imagen"}),c.jsx(ft,{children:"Ttulo"}),c.jsx(ft,{children:"Horario"}),c.jsx(ft,{children:"Duracin"}),c.jsx(ft,{children:"Precio"}),c.jsx(ft,{children:"Estado"}),c.jsx(ft,{className:"text-right",children:"Acciones"})]})}),c.jsx(_d,{children:W.map(O=>c.jsxs(Ms,{children:[c.jsx(mt,{children:c.jsx("div",{className:"w-16 h-12 bg-muted rounded overflow-hidden",children:O.image?c.jsx("img",{src:O.image,alt:O.title,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx(br,{className:"h-4 w-4 text-muted-foreground"})})})}),c.jsx(mt,{className:"font-medium",children:O.title}),c.jsx(mt,{children:O.schedule}),c.jsx(mt,{children:O.duration}),c.jsx(mt,{children:O.price}),c.jsx(mt,{children:c.jsx(Sr,{variant:O.isActive?"default":"outline",children:O.isActive?"Activo":"Inactivo"})}),c.jsx(mt,{className:"text-right",children:c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>N(O),children:c.jsx(Io,{className:"h-4 w-4"})}),c.jsx(ge,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>{S(O),y(!0)},children:c.jsx(ko,{className:"h-4 w-4"})})]})})]},O.id))})]})})]}),c.jsx(Po,{open:h,onOpenChange:p,children:c.jsxs(jo,{className:"max-w-2xl",children:[c.jsxs(Do,{children:[c.jsx(Mo,{children:w?"Editar Visita":"Nueva Visita Guiada"}),c.jsx(Lo,{children:"Configura los detalles de la visita guiada"})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Imagen"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-32 h-24 bg-muted rounded-lg overflow-hidden flex items-center justify-center",children:V?c.jsx("img",{src:V,alt:"Preview",className:"w-full h-full object-cover"}):c.jsx(br,{className:"h-8 w-8 text-muted-foreground"})}),c.jsx(We,{type:"file",accept:"image/*",onChange:P,className:"max-w-[200px]"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Ttulo *"}),c.jsx(We,{value:C.title,onChange:O=>b({...C,title:O.target.value}),placeholder:"Visita al jardn histrico"})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Horario"}),c.jsx(We,{value:C.schedule,onChange:O=>b({...C,schedule:O.target.value}),placeholder:"Sbados 10:00"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Duracin"}),c.jsx(We,{value:C.duration,onChange:O=>b({...C,duration:O.target.value}),placeholder:"1.5 horas"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Capacidad"}),c.jsx(We,{type:"number",value:C.capacity,onChange:O=>b({...C,capacity:parseInt(O.target.value)||0})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Precio"}),c.jsx(We,{value:C.price,onChange:O=>b({...C,price:O.target.value}),placeholder:"$20 / Gratis para miembros"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Descripcin"}),c.jsx(wc,{value:C.description,onChange:O=>b({...C,description:O.target.value}),rows:3})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ke,{children:"Activo"}),c.jsx(_i,{checked:C.isActive,onCheckedChange:O=>b({...C,isActive:O})})]})]}),c.jsxs(Oo,{children:[c.jsx(ge,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),c.jsxs(ge,{onClick:F,disabled:B||!C.title,children:[B&&c.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),w?"Guardar":"Crear"]})]})]})}),c.jsx(Ra,{open:g,onOpenChange:y,children:c.jsxs(Pa,{children:[c.jsxs(ja,{children:[c.jsx(Oa,{children:"Eliminar visita?"}),c.jsx(Ma,{children:"Esta accin no se puede deshacer."})]}),c.jsxs(Da,{children:[c.jsx(Va,{children:"Cancelar"}),c.jsx(La,{onClick:U,className:"bg-destructive text-destructive-foreground",children:"Eliminar"})]})]})})]})}const Fb={name:"",role:"",bio:"",image:"",order:0,isActive:!0};function V$(){const{teamMembers:t,loading:e,addTeamMember:n,updateTeamMember:r,deleteTeamMember:s,uploadImage:a}=Tr(),[l,d]=x.useState(""),[h,p]=x.useState(!1),[g,y]=x.useState(!1),[w,S]=x.useState(null),[C,b]=x.useState(Fb),[k,M]=x.useState(null),[V,j]=x.useState(""),[B,D]=x.useState(!1),W=t.filter(O=>O.name.toLowerCase().includes(l.toLowerCase())).sort((O,A)=>O.order-A.order),I=()=>{S(null),b({...Fb,order:t.length}),M(null),j(""),p(!0)},N=O=>{S(O),b({name:O.name,role:O.role,bio:O.bio||"",image:O.image,order:O.order,isActive:O.isActive}),j(O.image),p(!0)},P=O=>{var de;const A=(de=O.target.files)==null?void 0:de[0];if(A){M(A);const Z=new FileReader;Z.onloadend=()=>j(Z.result),Z.readAsDataURL(A)}},F=async()=>{D(!0);try{let O=C.image;k&&(O=await a(k,"team"));const A={...C,image:O};w?await r(w.id,A):await n(A),p(!1)}finally{D(!1)}},U=async()=>{w&&(await s(w.id),y(!1))};return e?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"Equipo"}),c.jsx("p",{className:"text-muted-foreground",children:"Gestiona los miembros del equipo"})]}),c.jsxs(ge,{onClick:I,children:[c.jsx(_n,{className:"mr-2 h-4 w-4"}),"Nuevo Miembro"]})]}),c.jsxs(Ut,{children:[c.jsx(nn,{children:c.jsxs("div",{className:"relative flex-1",children:[c.jsx(mc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(We,{placeholder:"Buscar...",value:l,onChange:O=>d(O.target.value),className:"pl-9"})]})}),c.jsx(zt,{children:W.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-muted-foreground",children:"No hay miembros del equipo"}),c.jsxs(ge,{variant:"outline",className:"mt-4",onClick:I,children:[c.jsx(_n,{className:"mr-2 h-4 w-4"}),"Agregar primer miembro"]})]}):c.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:W.map(O=>c.jsxs("div",{className:"border rounded-lg p-4 flex flex-col",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-16 h-16 bg-muted rounded-full overflow-hidden flex-shrink-0",children:O.image?c.jsx("img",{src:O.image,alt:O.name,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl font-medium text-muted-foreground",children:O.name.charAt(0)})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"font-medium truncate",children:O.name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:O.role}),c.jsx(Sr,{variant:O.isActive?"default":"outline",className:"mt-2",children:O.isActive?"Activo":"Inactivo"})]})]}),c.jsxs("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[c.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>N(O),children:c.jsx(Io,{className:"h-4 w-4"})}),c.jsx(ge,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>{S(O),y(!0)},children:c.jsx(ko,{className:"h-4 w-4"})})]})]},O.id))})})]}),c.jsx(Po,{open:h,onOpenChange:p,children:c.jsxs(jo,{children:[c.jsxs(Do,{children:[c.jsx(Mo,{children:w?"Editar Miembro":"Nuevo Miembro"}),c.jsx(Lo,{children:"Informacin del miembro del equipo"})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Foto"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-20 h-20 bg-muted rounded-full overflow-hidden flex items-center justify-center",children:V?c.jsx("img",{src:V,alt:"Preview",className:"w-full h-full object-cover"}):c.jsx(br,{className:"h-6 w-6 text-muted-foreground"})}),c.jsx(We,{type:"file",accept:"image/*",onChange:P,className:"max-w-[200px]"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Nombre *"}),c.jsx(We,{value:C.name,onChange:O=>b({...C,name:O.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Rol *"}),c.jsx(We,{value:C.role,onChange:O=>b({...C,role:O.target.value}),placeholder:"Director, Curador..."})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Biografa"}),c.jsx(wc,{value:C.bio,onChange:O=>b({...C,bio:O.target.value}),rows:3})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Orden"}),c.jsx(We,{type:"number",value:C.order,onChange:O=>b({...C,order:parseInt(O.target.value)||0})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ke,{children:"Activo"}),c.jsx(_i,{checked:C.isActive,onCheckedChange:O=>b({...C,isActive:O})})]})]})]}),c.jsxs(Oo,{children:[c.jsx(ge,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),c.jsxs(ge,{onClick:F,disabled:B||!C.name,children:[B&&c.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),w?"Guardar":"Crear"]})]})]})}),c.jsx(Ra,{open:g,onOpenChange:y,children:c.jsxs(Pa,{children:[c.jsxs(ja,{children:[c.jsx(Oa,{children:"Eliminar miembro?"}),c.jsx(Ma,{children:"Esta accin no se puede deshacer."})]}),c.jsxs(Da,{children:[c.jsx(Va,{children:"Cancelar"}),c.jsx(La,{onClick:U,className:"bg-destructive text-destructive-foreground",children:"Eliminar"})]})]})})]})}const Ub={name:"",price:"",period:"mensual",benefits:[],featured:!1,isActive:!0};function F$(){const{memberships:t,loading:e,addMembership:n,updateMembership:r,deleteMembership:s}=Tr(),[a,l]=x.useState(!1),[d,h]=x.useState(!1),[p,g]=x.useState(null),[y,w]=x.useState(Ub),[S,C]=x.useState(""),[b,k]=x.useState(!1),M=()=>{g(null),w(Ub),l(!0)},V=I=>{g(I),w({name:I.name,price:I.price,period:I.period,benefits:[...I.benefits],featured:I.featured,isActive:I.isActive}),l(!0)},j=()=>{S.trim()&&(w({...y,benefits:[...y.benefits,S.trim()]}),C(""))},B=I=>{w({...y,benefits:y.benefits.filter((N,P)=>P!==I)})},D=async()=>{k(!0);try{p?await r(p.id,y):await n(y),l(!1)}finally{k(!1)}},W=async()=>{p&&(await s(p.id),h(!1))};return e?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"Membresas"}),c.jsx("p",{className:"text-muted-foreground",children:'Programa "Hacete Amigo"'})]}),c.jsxs(ge,{onClick:M,children:[c.jsx(_n,{className:"mr-2 h-4 w-4"}),"Nueva Membresa"]})]}),t.length===0?c.jsx(Ut,{children:c.jsxs(zt,{className:"py-12 text-center",children:[c.jsx("p",{className:"text-muted-foreground",children:"No hay membresas configuradas"}),c.jsxs(ge,{variant:"outline",className:"mt-4",onClick:M,children:[c.jsx(_n,{className:"mr-2 h-4 w-4"}),"Crear primera membresa"]})]})}):c.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(I=>c.jsxs(Ut,{className:I.featured?"border-primary ring-2 ring-primary/20":"",children:[c.jsx(nn,{children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsxs(sr,{className:"flex items-center gap-2",children:[I.name,I.featured&&c.jsx(FV,{className:"h-4 w-4 fill-primary text-primary"})]}),c.jsxs(mo,{children:[I.price," / ",I.period]})]}),c.jsx(Sr,{variant:I.isActive?"default":"outline",children:I.isActive?"Activo":"Inactivo"})]})}),c.jsxs(zt,{children:[c.jsx("ul",{className:"space-y-2 mb-4",children:I.benefits.map((N,P)=>c.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[c.jsx(O1,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),N]},P))}),c.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[c.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>V(I),children:c.jsx(Io,{className:"h-4 w-4"})}),c.jsx(ge,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>{g(I),h(!0)},children:c.jsx(ko,{className:"h-4 w-4"})})]})]})]},I.id))}),c.jsx(Po,{open:a,onOpenChange:l,children:c.jsxs(jo,{children:[c.jsxs(Do,{children:[c.jsx(Mo,{children:p?"Editar Membresa":"Nueva Membresa"}),c.jsx(Lo,{children:"Configura los detalles del plan"})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Nombre *"}),c.jsx(We,{value:y.name,onChange:I=>w({...y,name:I.target.value}),placeholder:"Amigo, Amigo Plus..."})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Precio *"}),c.jsx(We,{value:y.price,onChange:I=>w({...y,price:I.target.value}),placeholder:"$5.000"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Perodo"}),c.jsxs(pd,{value:y.period,onValueChange:I=>w({...y,period:I}),children:[c.jsx(vd,{children:c.jsx(gd,{})}),c.jsxs(yd,{children:[c.jsx(rc,{value:"mensual",children:"Mensual"}),c.jsx(rc,{value:"anual",children:"Anual"})]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Beneficios"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(We,{value:S,onChange:I=>C(I.target.value),placeholder:"Agregar beneficio...",onKeyDown:I=>I.key==="Enter"&&(I.preventDefault(),j())}),c.jsx(ge,{type:"button",onClick:j,variant:"outline",children:c.jsx(_n,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"space-y-1 mt-2",children:y.benefits.map((I,N)=>c.jsxs("div",{className:"flex items-center justify-between bg-muted rounded px-3 py-2",children:[c.jsx("span",{className:"text-sm",children:I}),c.jsx(ge,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>B(N),children:c.jsx(gm,{className:"h-3 w-3"})})]},N))})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(ke,{children:"Destacado"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Resaltar este plan"})]}),c.jsx(_i,{checked:y.featured,onCheckedChange:I=>w({...y,featured:I})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ke,{children:"Activo"}),c.jsx(_i,{checked:y.isActive,onCheckedChange:I=>w({...y,isActive:I})})]})]}),c.jsxs(Oo,{children:[c.jsx(ge,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),c.jsxs(ge,{onClick:D,disabled:b||!y.name,children:[b&&c.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),p?"Guardar":"Crear"]})]})]})}),c.jsx(Ra,{open:d,onOpenChange:h,children:c.jsxs(Pa,{children:[c.jsxs(ja,{children:[c.jsx(Oa,{children:"Eliminar membresa?"}),c.jsx(Ma,{children:"Esta accin no se puede deshacer."})]}),c.jsxs(Da,{children:[c.jsx(Va,{children:"Cancelar"}),c.jsx(La,{onClick:W,className:"bg-destructive text-destructive-foreground",children:"Eliminar"})]})]})})]})}const U$=["Principal","Colaborador","Amigo"],zb={name:"",logo:"",website:"",tier:"Colaborador",isActive:!0};function z$(){const{sponsors:t,loading:e,addSponsor:n,updateSponsor:r,deleteSponsor:s,uploadImage:a}=Tr(),[l,d]=x.useState(""),[h,p]=x.useState(!1),[g,y]=x.useState(!1),[w,S]=x.useState(null),[C,b]=x.useState(zb),[k,M]=x.useState(null),[V,j]=x.useState(""),[B,D]=x.useState(!1),W=t.filter(A=>A.name.toLowerCase().includes(l.toLowerCase())),I=()=>{S(null),b(zb),M(null),j(""),p(!0)},N=A=>{S(A),b({name:A.name,logo:A.logo,website:A.website||"",tier:A.tier,isActive:A.isActive}),j(A.logo),p(!0)},P=A=>{var Z;const de=(Z=A.target.files)==null?void 0:Z[0];if(de){M(de);const me=new FileReader;me.onloadend=()=>j(me.result),me.readAsDataURL(de)}},F=async()=>{D(!0);try{let A=C.logo;k&&(A=await a(k,"sponsors"));const de={...C,logo:A};w?await r(w.id,de):await n(de),p(!1)}finally{D(!1)}},U=async()=>{w&&(await s(w.id),y(!1))},O=A=>{switch(A){case"Principal":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";case"Colaborador":return"bg-blue-500/10 text-blue-600 border-blue-500/20";case"Amigo":return"bg-green-500/10 text-green-600 border-green-500/20"}};return e?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"Patrocinadores"}),c.jsx("p",{className:"text-muted-foreground",children:"Apoyos y colaboradores"})]}),c.jsxs(ge,{onClick:I,children:[c.jsx(_n,{className:"mr-2 h-4 w-4"}),"Nuevo Patrocinador"]})]}),c.jsxs(Ut,{children:[c.jsx(nn,{children:c.jsxs("div",{className:"relative flex-1",children:[c.jsx(mc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(We,{placeholder:"Buscar...",value:l,onChange:A=>d(A.target.value),className:"pl-9"})]})}),c.jsx(zt,{children:W.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-muted-foreground",children:"No hay patrocinadores"}),c.jsxs(ge,{variant:"outline",className:"mt-4",onClick:I,children:[c.jsx(_n,{className:"mr-2 h-4 w-4"}),"Agregar primer patrocinador"]})]}):c.jsxs(wd,{children:[c.jsx(xd,{children:c.jsxs(Ms,{children:[c.jsx(ft,{children:"Logo"}),c.jsx(ft,{children:"Nombre"}),c.jsx(ft,{children:"Nivel"}),c.jsx(ft,{children:"Website"}),c.jsx(ft,{children:"Estado"}),c.jsx(ft,{className:"text-right",children:"Acciones"})]})}),c.jsx(_d,{children:W.map(A=>c.jsxs(Ms,{children:[c.jsx(mt,{children:c.jsx("div",{className:"w-16 h-12 bg-muted rounded overflow-hidden flex items-center justify-center p-2",children:A.logo?c.jsx("img",{src:A.logo,alt:A.name,className:"w-full h-full object-contain"}):c.jsx(br,{className:"h-4 w-4 text-muted-foreground"})})}),c.jsx(mt,{className:"font-medium",children:A.name}),c.jsx(mt,{children:c.jsx(Sr,{variant:"outline",className:O(A.tier),children:A.tier})}),c.jsx(mt,{children:A.website&&c.jsxs("a",{href:A.website,target:"_blank",rel:"noopener",className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground",children:[c.jsx(bV,{className:"h-3 w-3"}),"Visitar"]})}),c.jsx(mt,{children:c.jsx(Sr,{variant:A.isActive?"default":"outline",children:A.isActive?"Activo":"Inactivo"})}),c.jsx(mt,{className:"text-right",children:c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>N(A),children:c.jsx(Io,{className:"h-4 w-4"})}),c.jsx(ge,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>{S(A),y(!0)},children:c.jsx(ko,{className:"h-4 w-4"})})]})})]},A.id))})]})})]}),c.jsx(Po,{open:h,onOpenChange:p,children:c.jsxs(jo,{children:[c.jsxs(Do,{children:[c.jsx(Mo,{children:w?"Editar Patrocinador":"Nuevo Patrocinador"}),c.jsx(Lo,{children:"Informacin del patrocinador o colaborador"})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Logo"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-24 h-16 bg-muted rounded-lg overflow-hidden flex items-center justify-center p-2",children:V?c.jsx("img",{src:V,alt:"Preview",className:"w-full h-full object-contain"}):c.jsx(br,{className:"h-6 w-6 text-muted-foreground"})}),c.jsx(We,{type:"file",accept:"image/*",onChange:P,className:"max-w-[200px]"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Nombre *"}),c.jsx(We,{value:C.name,onChange:A=>b({...C,name:A.target.value})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Nivel"}),c.jsxs(pd,{value:C.tier,onValueChange:A=>b({...C,tier:A}),children:[c.jsx(vd,{children:c.jsx(gd,{})}),c.jsx(yd,{children:U$.map(A=>c.jsx(rc,{value:A,children:A},A))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Website"}),c.jsx(We,{value:C.website,onChange:A=>b({...C,website:A.target.value}),placeholder:"https://..."})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ke,{children:"Activo"}),c.jsx(_i,{checked:C.isActive,onCheckedChange:A=>b({...C,isActive:A})})]})]}),c.jsxs(Oo,{children:[c.jsx(ge,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),c.jsxs(ge,{onClick:F,disabled:B||!C.name,children:[B&&c.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),w?"Guardar":"Crear"]})]})]})}),c.jsx(Ra,{open:g,onOpenChange:y,children:c.jsxs(Pa,{children:[c.jsxs(ja,{children:[c.jsx(Oa,{children:"Eliminar patrocinador?"}),c.jsx(Ma,{children:"Esta accin no se puede deshacer."})]}),c.jsxs(Da,{children:[c.jsx(Va,{children:"Cancelar"}),c.jsx(La,{onClick:U,className:"bg-destructive text-destructive-foreground",children:"Eliminar"})]})]})})]})}const Ug=[{slug:"historia",title:"Historia",icon:NV,description:"La historia de Casa Ramayon"},{slug:"espacio",title:"El Espacio",icon:My,description:"Descripcin de las instalaciones"},{slug:"equipo",title:"Equipo",icon:Ly,description:"Informacin general del equipo"},{slug:"contacto",title:"Contacto",icon:MV,description:"Informacin de contacto"}];function B$(){var B;const{pages:t,loading:e,updatePage:n,uploadImage:r}=Tr(),[s,a]=x.useState(!1),[l,d]=x.useState(null),[h,p]=x.useState({title:"",subtitle:"",content:"",image:"",isActive:!0}),[g,y]=x.useState(null),[w,S]=x.useState(""),[C,b]=x.useState(!1),k=D=>t.find(W=>W.slug===D),M=D=>{const W=k(D),I=Ug.find(N=>N.slug===D);d(D),p({title:(W==null?void 0:W.title)||(I==null?void 0:I.title)||"",subtitle:(W==null?void 0:W.subtitle)||"",content:(W==null?void 0:W.content)||"",image:(W==null?void 0:W.image)||"",isActive:(W==null?void 0:W.isActive)??!0}),S((W==null?void 0:W.image)||""),y(null),a(!0)},V=D=>{var I;const W=(I=D.target.files)==null?void 0:I[0];if(W){y(W);const N=new FileReader;N.onloadend=()=>S(N.result),N.readAsDataURL(W)}},j=async()=>{if(l){b(!0);try{let D=h.image;g&&(D=await r(g,"pages")),await n(l,{...h,image:D,slug:l}),a(!1)}finally{b(!1)}}};return e?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"Pginas"}),c.jsx("p",{className:"text-muted-foreground",children:"Gestiona el contenido de las pginas estticas"})]}),c.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:Ug.map(D=>{const W=k(D.slug),I=D.icon;return c.jsxs(Ut,{children:[c.jsx(nn,{children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:c.jsx(I,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx(sr,{className:"text-lg",children:D.title}),c.jsx(mo,{children:D.description})]})]}),c.jsx(Sr,{variant:W!=null&&W.isActive?"default":"outline",children:W!=null&&W.isActive?"Activo":"Inactivo"})]})}),c.jsx(zt,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:W!=null&&W.content?c.jsxs("span",{children:[W.content.substring(0,50),"..."]}):c.jsx("span",{className:"italic",children:"Sin contenido"})}),c.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>M(D.slug),children:[c.jsx(Io,{className:"h-4 w-4 mr-2"}),"Editar"]})]})})]},D.slug)})}),c.jsx(Po,{open:s,onOpenChange:a,children:c.jsxs(jo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(Do,{children:[c.jsxs(Mo,{children:["Editar ",(B=Ug.find(D=>D.slug===l))==null?void 0:B.title]}),c.jsx(Lo,{children:"Modifica el contenido de esta pgina"})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Imagen de cabecera"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-32 h-20 bg-muted rounded-lg overflow-hidden flex items-center justify-center",children:w?c.jsx("img",{src:w,alt:"Preview",className:"w-full h-full object-cover"}):c.jsx(br,{className:"h-8 w-8 text-muted-foreground"})}),c.jsx(We,{type:"file",accept:"image/*",onChange:V,className:"max-w-[200px]"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Ttulo"}),c.jsx(We,{value:h.title,onChange:D=>p({...h,title:D.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Subttulo (opcional)"}),c.jsx(We,{value:h.subtitle,onChange:D=>p({...h,subtitle:D.target.value}),placeholder:"Una breve descripcin..."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Contenido"}),c.jsx(wc,{value:h.content,onChange:D=>p({...h,content:D.target.value}),rows:8,placeholder:"Escribe el contenido de la pgina..."}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Pods usar saltos de lnea para separar prrafos"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(ke,{children:"Estado"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Pginas inactivas no se muestran"})]}),c.jsx(_i,{checked:h.isActive,onCheckedChange:D=>p({...h,isActive:D})})]})]}),c.jsxs(Oo,{children:[c.jsx(ge,{variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),c.jsxs(ge,{onClick:j,disabled:C,children:[C&&c.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardar Cambios"]})]})]})})]})}function W$(){const{events:t,products:e,useLocalStorage:n}=Tr(),[r,s]=x.useState(""),a=()=>{const p={events:t,products:e,exportedAt:new Date().toISOString()},g=new Blob([JSON.stringify(p,null,2)],{type:"application/json"}),y=URL.createObjectURL(g),w=document.createElement("a");w.href=y,w.download=`casa-ramayon-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(y),s("Datos exportados correctamente"),setTimeout(()=>s(""),3e3)},l=p=>{var w;const g=(w=p.target.files)==null?void 0:w[0];if(!g)return;const y=new FileReader;y.onload=S=>{var C;try{const b=JSON.parse((C=S.target)==null?void 0:C.result);b.events&&localStorage.setItem("casa_ramayon_events",JSON.stringify(b.events)),b.products&&localStorage.setItem("casa_ramayon_products",JSON.stringify(b.products)),s("Datos importados. Recarga la pgina para ver los cambios.")}catch{s("Error al importar los datos. Verifica el formato del archivo.")}},y.readAsText(g)},d=()=>{window.confirm("Ests seguro de que quieres eliminar todos los datos? Esta accin no se puede deshacer.")&&(localStorage.removeItem("casa_ramayon_events"),localStorage.removeItem("casa_ramayon_products"),s("Datos eliminados. Recarga la pgina."))},h=()=>{navigator.clipboard.writeText(`VITE_FIREBASE_API_KEY=your-api-key
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your-sender-id
VITE_FIREBASE_APP_ID=your-app-id`),s("Variables copiadas al portapapeles"),setTimeout(()=>s(""),3e3)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"Configuracin"}),c.jsx("p",{className:"text-muted-foreground",children:"Administra la configuracin del panel"})]}),r&&c.jsxs(ku,{children:[c.jsx(O0,{className:"h-4 w-4"}),c.jsx(Nu,{children:r})]}),c.jsxs(Ut,{children:[c.jsx(nn,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs(sr,{className:"flex items-center gap-2",children:[c.jsx(_V,{className:"h-5 w-5"}),"Estado del Almacenamiento"]}),c.jsx(mo,{children:"Modo actual de almacenamiento de datos"})]}),c.jsx(Sr,{variant:n?"secondary":"default",children:n?c.jsxs(c.Fragment,{children:[c.jsx(kV,{className:"mr-1 h-3 w-3"}),"Local"]}):c.jsxs(c.Fragment,{children:[c.jsx(M0,{className:"mr-1 h-3 w-3"}),"Firebase"]})})]})}),c.jsxs(zt,{children:[n?c.jsxs(ku,{children:[c.jsx(zV,{className:"h-4 w-4"}),c.jsx(Nu,{children:"Ests usando almacenamiento local. Los datos solo estn guardados en este navegador y no se sincronizarn entre dispositivos."})]}):c.jsxs(ku,{children:[c.jsx(O0,{className:"h-4 w-4"}),c.jsx(Nu,{children:"Conectado a Firebase. Los datos se sincronizan en tiempo real."})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[c.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Eventos"}),c.jsx("p",{className:"text-2xl font-bold",children:t.length})]}),c.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Productos"}),c.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})]})]}),c.jsxs(Ut,{children:[c.jsxs(nn,{children:[c.jsxs(sr,{className:"flex items-center gap-2",children:[c.jsx(M0,{className:"h-5 w-5"}),"Configurar Firebase"]}),c.jsx(mo,{children:"Configura Firebase para sincronizacin en la nube"})]}),c.jsxs(zt,{className:"space-y-4",children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Para usar Firebase, crea un archivo ",c.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:".env"})," ","en la raz del proyecto con las siguientes variables:"]}),c.jsxs("div",{className:"relative",children:[c.jsx("pre",{className:"bg-muted p-4 rounded-lg text-xs overflow-x-auto",children:`VITE_FIREBASE_API_KEY=your-api-key
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your-sender-id
VITE_FIREBASE_APP_ID=your-app-id`}),c.jsxs(ge,{variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:h,children:[c.jsx(xV,{className:"h-4 w-4 mr-1"}),"Copiar"]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm font-medium",children:"Pasos para configurar Firebase:"}),c.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 list-decimal list-inside",children:[c.jsxs("li",{children:["Ve a ",c.jsx("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener",className:"text-primary hover:underline",children:"Firebase Console"})]}),c.jsx("li",{children:"Crea un nuevo proyecto o selecciona uno existente"}),c.jsx("li",{children:"Activa Authentication, Firestore y Storage"}),c.jsx("li",{children:"En Configuracin del proyecto, copia las credenciales de la app web"}),c.jsx("li",{children:"Crea el archivo .env con las variables"}),c.jsx("li",{children:"Reinicia el servidor de desarrollo"})]})]})]})]}),c.jsxs(Ut,{children:[c.jsxs(nn,{children:[c.jsx(sr,{children:"Gestin de Datos"}),c.jsx(mo,{children:"Exporta, importa o elimina los datos del sistema"})]}),c.jsxs(zt,{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsxs(ge,{variant:"outline",onClick:a,children:[c.jsx(EV,{className:"mr-2 h-4 w-4"}),"Exportar Datos (JSON)"]}),c.jsxs("div",{children:[c.jsx(We,{type:"file",accept:".json",onChange:l,className:"hidden",id:"import-file"}),c.jsx(ge,{variant:"outline",asChild:!0,children:c.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[c.jsx(WV,{className:"mr-2 h-4 w-4"}),"Importar Datos"]})})]})]}),c.jsx(OC,{}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-destructive mb-2",children:"Zona de Peligro"}),c.jsxs(ge,{variant:"destructive",onClick:d,children:[c.jsx(ko,{className:"mr-2 h-4 w-4"}),"Eliminar Todos los Datos Locales"]})]})]})]})]})}function $$(){return c.jsx(eP,{children:c.jsx(aV,{children:c.jsx(dV,{children:c.jsxs(AR,{children:[c.jsx(Mn,{path:"/",element:c.jsx(z3,{})}),c.jsx(Mn,{path:"/panel/login",element:c.jsx(W3,{})}),c.jsxs(Mn,{path:"/panel",element:c.jsx(hV,{children:c.jsx(u6,{})}),children:[c.jsx(Mn,{index:!0,element:c.jsx(d6,{})}),c.jsx(Mn,{path:"eventos",element:c.jsx(P$,{})}),c.jsx(Mn,{path:"talleres",element:c.jsx(M$,{})}),c.jsx(Mn,{path:"visitas",element:c.jsx(L$,{})}),c.jsx(Mn,{path:"productos",element:c.jsx(D$,{})}),c.jsx(Mn,{path:"equipo",element:c.jsx(V$,{})}),c.jsx(Mn,{path:"membresias",element:c.jsx(F$,{})}),c.jsx(Mn,{path:"sponsors",element:c.jsx(z$,{})}),c.jsx(Mn,{path:"paginas",element:c.jsx(B$,{})}),c.jsx(Mn,{path:"configuracion",element:c.jsx(W$,{})})]}),c.jsx(Mn,{path:"*",element:c.jsx(nS,{to:"/",replace:!0})})]})})})})}AA.createRoot(document.getElementById("root")).render(c.jsx(ve.StrictMode,{children:c.jsx($$,{})}));
