function JA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Yv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mg={exports:{}},yu={},pg={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function ZA(){if(n0)return st;n0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(q){return q===null||typeof q!="object"?null:(q=v&&q[v]||q["@@iterator"],typeof q=="function"?q:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,b={};function I(q,ee,ge){this.props=q,this.context=ee,this.refs=b,this.updater=ge||S}I.prototype.isReactComponent={},I.prototype.setState=function(q,ee){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ee,"setState")},I.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function O(){}O.prototype=I.prototype;function D(q,ee,ge){this.props=q,this.context=ee,this.refs=b,this.updater=ge||S}var j=D.prototype=new O;j.constructor=D,C(j,I.prototype),j.isPureReactComponent=!0;var B=Array.isArray,M=Object.prototype.hasOwnProperty,$={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function k(q,ee,ge){var ye,Oe={},De=null,oe=null;if(ee!=null)for(ye in ee.ref!==void 0&&(oe=ee.ref),ee.key!==void 0&&(De=""+ee.key),ee)M.call(ee,ye)&&!N.hasOwnProperty(ye)&&(Oe[ye]=ee[ye]);var Ee=arguments.length-2;if(Ee===1)Oe.children=ge;else if(1<Ee){for(var Re=Array(Ee),Fe=0;Fe<Ee;Fe++)Re[Fe]=arguments[Fe+2];Oe.children=Re}if(q&&q.defaultProps)for(ye in Ee=q.defaultProps,Ee)Oe[ye]===void 0&&(Oe[ye]=Ee[ye]);return{$$typeof:t,type:q,key:De,ref:oe,props:Oe,_owner:$.current}}function P(q,ee){return{$$typeof:t,type:q.type,key:ee,ref:q.ref,props:q.props,_owner:q._owner}}function F(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function U(q){var ee={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ge){return ee[ge]})}var L=/\/+/g;function A(q,ee){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):ee.toString(36)}function le(q,ee,ge,ye,Oe){var De=typeof q;(De==="undefined"||De==="boolean")&&(q=null);var oe=!1;if(q===null)oe=!0;else switch(De){case"string":case"number":oe=!0;break;case"object":switch(q.$$typeof){case t:case e:oe=!0}}if(oe)return oe=q,Oe=Oe(oe),q=ye===""?"."+A(oe,0):ye,B(Oe)?(ge="",q!=null&&(ge=q.replace(L,"$&/")+"/"),le(Oe,ee,ge,"",function(Fe){return Fe})):Oe!=null&&(F(Oe)&&(Oe=P(Oe,ge+(!Oe.key||oe&&oe.key===Oe.key?"":(""+Oe.key).replace(L,"$&/")+"/")+q)),ee.push(Oe)),1;if(oe=0,ye=ye===""?".":ye+":",B(q))for(var Ee=0;Ee<q.length;Ee++){De=q[Ee];var Re=ye+A(De,Ee);oe+=le(De,ee,ge,Re,Oe)}else if(Re=x(q),typeof Re=="function")for(q=Re.call(q),Ee=0;!(De=q.next()).done;)De=De.value,Re=ye+A(De,Ee++),oe+=le(De,ee,ge,Re,Oe);else if(De==="object")throw ee=String(q),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return oe}function ve(q,ee,ge){if(q==null)return q;var ye=[],Oe=0;return le(q,ye,"","",function(De){return ee.call(ge,De,Oe++)}),ye}function pe(q){if(q._status===-1){var ee=q._result;ee=ee(),ee.then(function(ge){(q._status===0||q._status===-1)&&(q._status=1,q._result=ge)},function(ge){(q._status===0||q._status===-1)&&(q._status=2,q._result=ge)}),q._status===-1&&(q._status=0,q._result=ee)}if(q._status===1)return q._result.default;throw q._result}var xe={current:null},z={transition:null},K={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:z,ReactCurrentOwner:$};function te(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:ve,forEach:function(q,ee,ge){ve(q,function(){ee.apply(this,arguments)},ge)},count:function(q){var ee=0;return ve(q,function(){ee++}),ee},toArray:function(q){return ve(q,function(ee){return ee})||[]},only:function(q){if(!F(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},st.Component=I,st.Fragment=n,st.Profiler=s,st.PureComponent=D,st.StrictMode=r,st.Suspense=h,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,st.act=te,st.cloneElement=function(q,ee,ge){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var ye=C({},q.props),Oe=q.key,De=q.ref,oe=q._owner;if(ee!=null){if(ee.ref!==void 0&&(De=ee.ref,oe=$.current),ee.key!==void 0&&(Oe=""+ee.key),q.type&&q.type.defaultProps)var Ee=q.type.defaultProps;for(Re in ee)M.call(ee,Re)&&!N.hasOwnProperty(Re)&&(ye[Re]=ee[Re]===void 0&&Ee!==void 0?Ee[Re]:ee[Re])}var Re=arguments.length-2;if(Re===1)ye.children=ge;else if(1<Re){Ee=Array(Re);for(var Fe=0;Fe<Re;Fe++)Ee[Fe]=arguments[Fe+2];ye.children=Ee}return{$$typeof:t,type:q.type,key:Oe,ref:De,props:ye,_owner:oe}},st.createContext=function(q){return q={$$typeof:c,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:o,_context:q},q.Consumer=q},st.createElement=k,st.createFactory=function(q){var ee=k.bind(null,q);return ee.type=q,ee},st.createRef=function(){return{current:null}},st.forwardRef=function(q){return{$$typeof:d,render:q}},st.isValidElement=F,st.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:pe}},st.memo=function(q,ee){return{$$typeof:p,type:q,compare:ee===void 0?null:ee}},st.startTransition=function(q){var ee=z.transition;z.transition={};try{q()}finally{z.transition=ee}},st.unstable_act=te,st.useCallback=function(q,ee){return xe.current.useCallback(q,ee)},st.useContext=function(q){return xe.current.useContext(q)},st.useDebugValue=function(){},st.useDeferredValue=function(q){return xe.current.useDeferredValue(q)},st.useEffect=function(q,ee){return xe.current.useEffect(q,ee)},st.useId=function(){return xe.current.useId()},st.useImperativeHandle=function(q,ee,ge){return xe.current.useImperativeHandle(q,ee,ge)},st.useInsertionEffect=function(q,ee){return xe.current.useInsertionEffect(q,ee)},st.useLayoutEffect=function(q,ee){return xe.current.useLayoutEffect(q,ee)},st.useMemo=function(q,ee){return xe.current.useMemo(q,ee)},st.useReducer=function(q,ee,ge){return xe.current.useReducer(q,ee,ge)},st.useRef=function(q){return xe.current.useRef(q)},st.useState=function(q){return xe.current.useState(q)},st.useSyncExternalStore=function(q,ee,ge){return xe.current.useSyncExternalStore(q,ee,ge)},st.useTransition=function(){return xe.current.useTransition()},st.version="18.3.1",st}var r0;function Qv(){return r0||(r0=1,pg.exports=ZA()),pg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function eR(){if(s0)return yu;s0=1;var t=Qv(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,p){var g,v={},x=null,S=null;p!==void 0&&(x=""+p),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)r.call(h,g)&&!o.hasOwnProperty(g)&&(v[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:d,key:x,ref:S,props:v,_owner:s.current}}return yu.Fragment=n,yu.jsx=c,yu.jsxs=c,yu}var i0;function tR(){return i0||(i0=1,mg.exports=eR()),mg.exports}var l=tR(),w=Qv();const ue=Yv(w),nR=JA({__proto__:null,default:ue},[w]);var Ph={},gg={exports:{}},Kn={},vg={exports:{}},yg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function rR(){return o0||(o0=1,(function(t){function e(z,K){var te=z.length;z.push(K);e:for(;0<te;){var q=te-1>>>1,ee=z[q];if(0<s(ee,K))z[q]=K,z[te]=ee,te=q;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var K=z[0],te=z.pop();if(te!==K){z[0]=te;e:for(var q=0,ee=z.length,ge=ee>>>1;q<ge;){var ye=2*(q+1)-1,Oe=z[ye],De=ye+1,oe=z[De];if(0>s(Oe,te))De<ee&&0>s(oe,Oe)?(z[q]=oe,z[De]=te,q=De):(z[q]=Oe,z[ye]=te,q=ye);else if(De<ee&&0>s(oe,te))z[q]=oe,z[De]=te,q=De;else break e}}return K}function s(z,K){var te=z.sortIndex-K.sortIndex;return te!==0?te:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],p=[],g=1,v=null,x=3,S=!1,C=!1,b=!1,I=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(z){for(var K=n(p);K!==null;){if(K.callback===null)r(p);else if(K.startTime<=z)r(p),K.sortIndex=K.expirationTime,e(h,K);else break;K=n(p)}}function B(z){if(b=!1,j(z),!C)if(n(h)!==null)C=!0,pe(M);else{var K=n(p);K!==null&&xe(B,K.startTime-z)}}function M(z,K){C=!1,b&&(b=!1,O(k),k=-1),S=!0;var te=x;try{for(j(K),v=n(h);v!==null&&(!(v.expirationTime>K)||z&&!U());){var q=v.callback;if(typeof q=="function"){v.callback=null,x=v.priorityLevel;var ee=q(v.expirationTime<=K);K=t.unstable_now(),typeof ee=="function"?v.callback=ee:v===n(h)&&r(h),j(K)}else r(h);v=n(h)}if(v!==null)var ge=!0;else{var ye=n(p);ye!==null&&xe(B,ye.startTime-K),ge=!1}return ge}finally{v=null,x=te,S=!1}}var $=!1,N=null,k=-1,P=5,F=-1;function U(){return!(t.unstable_now()-F<P)}function L(){if(N!==null){var z=t.unstable_now();F=z;var K=!0;try{K=N(!0,z)}finally{K?A():($=!1,N=null)}}else $=!1}var A;if(typeof D=="function")A=function(){D(L)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ve=le.port2;le.port1.onmessage=L,A=function(){ve.postMessage(null)}}else A=function(){I(L,0)};function pe(z){N=z,$||($=!0,A())}function xe(z,K){k=I(function(){z(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){C||S||(C=!0,pe(M))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(z){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var te=x;x=K;try{return z()}finally{x=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=x;x=z;try{return K()}finally{x=te}},t.unstable_scheduleCallback=function(z,K,te){var q=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?q+te:q):te=q,z){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=te+ee,z={id:g++,callback:K,priorityLevel:z,startTime:te,expirationTime:ee,sortIndex:-1},te>q?(z.sortIndex=te,e(p,z),n(h)===null&&z===n(p)&&(b?(O(k),k=-1):b=!0,xe(B,te-q))):(z.sortIndex=ee,e(h,z),C||S||(C=!0,pe(M))),z},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(z){var K=x;return function(){var te=x;x=K;try{return z.apply(this,arguments)}finally{x=te}}}})(yg)),yg}var a0;function sR(){return a0||(a0=1,vg.exports=rR()),vg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function iR(){if(l0)return Kn;l0=1;var t=Qv(),e=sR();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){c(i,a),c(i+"Capture",a)}function c(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function x(i){return h.call(v,i)?!0:h.call(g,i)?!1:p.test(i)?v[i]=!0:(g[i]=!0,!1)}function S(i,a,u,m){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,a,u,m){if(a===null||typeof a>"u"||S(i,a,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(i,a,u,m,y,_,R){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=i,this.type=a,this.sanitizeURL=_,this.removeEmptyString=R}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){I[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];I[a]=new b(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){I[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){I[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){I[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){I[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){I[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){I[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){I[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function D(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(O,D);I[a]=new b(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(O,D);I[a]=new b(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(O,D);I[a]=new b(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){I[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),I.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){I[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function j(i,a,u,m){var y=I.hasOwnProperty(a)?I[a]:null;(y!==null?y.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(C(a,u,y,m)&&(u=null),m||y===null?x(a)&&(u===null?i.removeAttribute(a):i.setAttribute(a,""+u)):y.mustUseProperty?i[y.propertyName]=u===null?y.type===3?!1:"":u:(a=y.attributeName,m=y.attributeNamespace,u===null?i.removeAttribute(a):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,m?i.setAttributeNS(m,a,u):i.setAttribute(a,u))))}var B=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),$=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),U=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),z=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var te=Object.assign,q;function ee(i){if(q===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);q=a&&a[1]||""}return`
`+q+i}var ge=!1;function ye(i,a){if(!i||ge)return"";ge=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(J){var m=J}Reflect.construct(i,[],a)}else{try{a.call()}catch(J){m=J}i.call(a.prototype)}else{try{throw Error()}catch(J){m=J}i()}}catch(J){if(J&&m&&typeof J.stack=="string"){for(var y=J.stack.split(`
`),_=m.stack.split(`
`),R=y.length-1,W=_.length-1;1<=R&&0<=W&&y[R]!==_[W];)W--;for(;1<=R&&0<=W;R--,W--)if(y[R]!==_[W]){if(R!==1||W!==1)do if(R--,W--,0>W||y[R]!==_[W]){var H=`
`+y[R].replace(" at new "," at ");return i.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",i.displayName)),H}while(1<=R&&0<=W);break}}}finally{ge=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?ee(i):""}function Oe(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=ye(i.type,!1),i;case 11:return i=ye(i.type.render,!1),i;case 1:return i=ye(i.type,!0),i;default:return""}}function De(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case $:return"Portal";case P:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case le:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case U:return(i.displayName||"Context")+".Consumer";case F:return(i._context.displayName||"Context")+".Provider";case L:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ve:return a=i.displayName||null,a!==null?a:De(i.type)||"Memo";case pe:a=i._payload,i=i._init;try{return De(i(a))}catch{}}return null}function oe(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(a);case 8:return a===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ee(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Re(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Fe(i){var a=Re(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),m=""+i[a];if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,_=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(R){m=""+R,_.call(this,R)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Je(i){i._valueTracker||(i._valueTracker=Fe(i))}function Ze(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),m="";return i&&(m=Re(i)?i.checked?"true":"false":i.value),i=m,i!==u?(a.setValue(i),!0):!1}function It(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function $t(i,a){var u=a.checked;return te({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function zn(i,a){var u=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;u=Ee(a.value!=null?a.value:u),i._wrapperState={initialChecked:m,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function fe(i,a){a=a.checked,a!=null&&j(i,"checked",a,!1)}function Pe(i,a){fe(i,a);var u=Ee(a.value),m=a.type;if(u!=null)m==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Ke(i,a.type,u):a.hasOwnProperty("defaultValue")&&Ke(i,a.type,Ee(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function St(i,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,u||a===i.value||(i.value=a),i.defaultValue=a}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Ke(i,a,u){(a!=="number"||It(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var tt=Array.isArray;function Lt(i,a,u,m){if(i=i.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=a.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Ee(u),a=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,m&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function nn(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Sn(i,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(tt(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}i._wrapperState={initialValue:Ee(u)}}function Qt(i,a){var u=Ee(a.value),m=Ee(a.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),a.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),m!=null&&(i.defaultValue=""+m)}function Zn(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function os(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vi(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?os(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var as,$a=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,m,y){MSApp.execUnsafeLocalFunction(function(){return i(a,u,m,y)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(as=as||document.createElement("div"),as.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=as.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function ei(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ha=["Webkit","ms","Moz","O"];Object.keys(ls).forEach(function(i){Ha.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),ls[a]=ls[i]})});function cs(i,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||ls.hasOwnProperty(i)&&ls[i]?(""+a).trim():a+"px"}function Fi(i,a){i=i.style;for(var u in a)if(a.hasOwnProperty(u)){var m=u.indexOf("--")===0,y=cs(u,a[u],m);u==="float"&&(u="cssFloat"),m?i.setProperty(u,y):i[u]=y}}var Zo=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bn(i,a){if(a){if(Zo[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Ui(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Or=null;function Ye(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ht=null,nt=null,vt=null;function gn(i){if(i=ru(i)){if(typeof ht!="function")throw Error(n(280));var a=i.stateNode;a&&(a=Gd(a),ht(i.stateNode,i.type,a))}}function er(i){nt?vt?vt.push(i):vt=[i]:nt=i}function At(){if(nt){var i=nt,a=vt;if(vt=nt=null,gn(i),a)for(i=0;i<a.length;i++)gn(a[i])}}function Ln(i,a){return i(a)}function ft(){}var yr=!1;function qa(i,a,u){if(yr)return i(a,u);yr=!0;try{return Ln(i,a,u)}finally{yr=!1,(nt!==null||vt!==null)&&(ft(),At())}}function ti(i,a){var u=i.stateNode;if(u===null)return null;var m=Gd(u);if(m===null)return null;u=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var xr=!1;if(d)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){xr=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{xr=!1}function Sd(i,a,u,m,y,_,R,W,H){var J=Array.prototype.slice.call(arguments,3);try{a.apply(u,J)}catch(ie){this.onError(ie)}}var ni=!1,us=null,Ga=!1,_r=null,Cd={onError:function(i){ni=!0,us=i}};function Td(i,a,u,m,y,_,R,W,H){ni=!1,us=null,Sd.apply(Cd,arguments)}function Rc(i,a,u,m,y,_,R,W,H){if(Td.apply(this,arguments),ni){if(ni){var J=us;ni=!1,us=null}else throw Error(n(198));Ga||(Ga=!0,_r=J)}}function Mr(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function Pc(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Nd(i){if(Mr(i)!==i)throw Error(n(188))}function Id(i){var a=i.alternate;if(!a){if(a=Mr(i),a===null)throw Error(n(188));return a!==i?null:i}for(var u=i,m=a;;){var y=u.return;if(y===null)break;var _=y.alternate;if(_===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===u)return Nd(y),i;if(_===m)return Nd(y),a;_=_.sibling}throw Error(n(188))}if(u.return!==m.return)u=y,m=_;else{for(var R=!1,W=y.child;W;){if(W===u){R=!0,u=y,m=_;break}if(W===m){R=!0,m=y,u=_;break}W=W.sibling}if(!R){for(W=_.child;W;){if(W===u){R=!0,u=_,m=y;break}if(W===m){R=!0,m=_,u=y;break}W=W.sibling}if(!R)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:a}function kd(i){return i=Id(i),i!==null?ea(i):null}function ea(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=ea(i);if(a!==null)return a;i=i.sibling}return null}var jc=e.unstable_scheduleCallback,Ka=e.unstable_cancelCallback,ta=e.unstable_shouldYield,ri=e.unstable_requestPaint,Rt=e.unstable_now,Hm=e.unstable_getCurrentPriorityLevel,Ya=e.unstable_ImmediatePriority,Dc=e.unstable_UserBlockingPriority,na=e.unstable_NormalPriority,Oc=e.unstable_LowPriority,Qa=e.unstable_IdlePriority,ra=null,tr=null;function Ad(i){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(ra,i,void 0,(i.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:sa,ds=Math.log,Er=Math.LN2;function sa(i){return i>>>=0,i===0?32:31-(ds(i)/Er|0)|0}var hs=64,zi=4194304;function yt(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function si(i,a){var u=i.pendingLanes;if(u===0)return 0;var m=0,y=i.suspendedLanes,_=i.pingedLanes,R=u&268435455;if(R!==0){var W=R&~y;W!==0?m=yt(W):(_&=R,_!==0&&(m=yt(_)))}else R=u&~y,R!==0?m=yt(R):_!==0&&(m=yt(_));if(m===0)return 0;if(a!==0&&a!==m&&(a&y)===0&&(y=m&-m,_=a&-a,y>=_||y===16&&(_&4194240)!==0))return a;if((m&4)!==0&&(m|=u&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=m;0<a;)u=31-nr(a),y=1<<u,m|=i[u],a&=~y;return m}function ia(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oa(i,a){for(var u=i.suspendedLanes,m=i.pingedLanes,y=i.expirationTimes,_=i.pendingLanes;0<_;){var R=31-nr(_),W=1<<R,H=y[R];H===-1?((W&u)===0||(W&m)!==0)&&(y[R]=ia(W,a)):H<=a&&(i.expiredLanes|=W),_&=~W}}function Mc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Lc(){var i=hs;return hs<<=1,(hs&4194240)===0&&(hs=64),i}function Vc(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function aa(i,a,u){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-nr(a),i[a]=u}function qm(i,a){var u=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<u;){var y=31-nr(u),_=1<<y;a[y]=0,m[y]=-1,i[y]=-1,u&=~_}}function Fc(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var m=31-nr(u),y=1<<m;y&a|i[m]&a&&(i[m]|=a),u&=~y}}var dt=0;function fs(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Uc,Xa,zc,Bc,Wc,ms=!1,Ja=[],ps=null,gs=null,vn=null,la=new Map,ii=new Map,rr=[],Rd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bi(i,a){switch(i){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":la.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ii.delete(a.pointerId)}}function Lr(i,a,u,m,y,_){return i===null||i.nativeEvent!==_?(i={blockedOn:a,domEventName:u,eventSystemFlags:m,nativeEvent:_,targetContainers:[y]},a!==null&&(a=ru(a),a!==null&&Xa(a)),i):(i.eventSystemFlags|=m,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function Pd(i,a,u,m,y){switch(a){case"focusin":return ps=Lr(ps,i,a,u,m,y),!0;case"dragenter":return gs=Lr(gs,i,a,u,m,y),!0;case"mouseover":return vn=Lr(vn,i,a,u,m,y),!0;case"pointerover":var _=y.pointerId;return la.set(_,Lr(la.get(_)||null,i,a,u,m,y)),!0;case"gotpointercapture":return _=y.pointerId,ii.set(_,Lr(ii.get(_)||null,i,a,u,m,y)),!0}return!1}function Za(i){var a=ha(i.target);if(a!==null){var u=Mr(a);if(u!==null){if(a=u.tag,a===13){if(a=Pc(u),a!==null){i.blockedOn=a,Wc(i.priority,function(){zc(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ct(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=el(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Or=m,u.target.dispatchEvent(m),Or=null}else return a=ru(u),a!==null&&Xa(a),i.blockedOn=u,!1;a.shift()}return!0}function jd(i,a,u){Ct(i)&&u.delete(a)}function Gm(){ms=!1,ps!==null&&Ct(ps)&&(ps=null),gs!==null&&Ct(gs)&&(gs=null),vn!==null&&Ct(vn)&&(vn=null),la.forEach(jd),ii.forEach(jd)}function Wi(i,a){i.blockedOn===a&&(i.blockedOn=null,ms||(ms=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gm)))}function $i(i){function a(y){return Wi(y,i)}if(0<Ja.length){Wi(Ja[0],i);for(var u=1;u<Ja.length;u++){var m=Ja[u];m.blockedOn===i&&(m.blockedOn=null)}}for(ps!==null&&Wi(ps,i),gs!==null&&Wi(gs,i),vn!==null&&Wi(vn,i),la.forEach(a),ii.forEach(a),u=0;u<rr.length;u++)m=rr[u],m.blockedOn===i&&(m.blockedOn=null);for(;0<rr.length&&(u=rr[0],u.blockedOn===null);)Za(u),u.blockedOn===null&&rr.shift()}var oi=B.ReactCurrentBatchConfig,ai=!0;function vs(i,a,u,m){var y=dt,_=oi.transition;oi.transition=null;try{dt=1,$c(i,a,u,m)}finally{dt=y,oi.transition=_}}function Dd(i,a,u,m){var y=dt,_=oi.transition;oi.transition=null;try{dt=4,$c(i,a,u,m)}finally{dt=y,oi.transition=_}}function $c(i,a,u,m){if(ai){var y=el(i,a,u,m);if(y===null)sp(i,a,m,ys,u),Bi(i,m);else if(Pd(y,i,a,u,m))m.stopPropagation();else if(Bi(i,m),a&4&&-1<Rd.indexOf(i)){for(;y!==null;){var _=ru(y);if(_!==null&&Uc(_),_=el(i,a,u,m),_===null&&sp(i,a,m,ys,u),_===y)break;y=_}y!==null&&m.stopPropagation()}else sp(i,a,m,null,u)}}var ys=null;function el(i,a,u,m){if(ys=null,i=Ye(m),i=ha(i),i!==null)if(a=Mr(i),a===null)i=null;else if(u=a.tag,u===13){if(i=Pc(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return ys=i,null}function tl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hm()){case Ya:return 1;case Dc:return 4;case na:case Oc:return 16;case Qa:return 536870912;default:return 16}default:return 16}}var sr=null,nl=null,li=null;function Od(){if(li)return li;var i,a=nl,u=a.length,m,y="value"in sr?sr.value:sr.textContent,_=y.length;for(i=0;i<u&&a[i]===y[i];i++);var R=u-i;for(m=1;m<=R&&a[u-m]===y[_-m];m++);return li=y.slice(i,1<m?1-m:void 0)}function ca(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function xs(){return!0}function Hc(){return!1}function Cn(i){function a(u,m,y,_,R){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var W in i)i.hasOwnProperty(W)&&(u=i[W],this[W]=u?u(_):_[W]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?xs:Hc,this.isPropagationStopped=Hc,this}return te(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),a}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=Cn(ws),Hi=te({},ws,{view:0,detail:0}),rl=Cn(Hi),sl,il,ir,da=te({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qe,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ir&&(ir&&i.type==="mousemove"?(sl=i.screenX-ir.screenX,il=i.screenY-ir.screenY):il=sl=0,ir=i),sl)},movementY:function(i){return"movementY"in i?i.movementY:il}}),qc=Cn(da),Md=te({},da,{dataTransfer:0}),Ld=Cn(Md),ol=te({},Hi,{relatedTarget:0}),yn=Cn(ol),Vd=te({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),Fd=Cn(Vd),qi=te({},ws,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),f=Cn(qi),E=te({},ws,{data:0}),T=Cn(E),V={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function me(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Z[i])?!!a[i]:!1}function Qe(){return me}var Gt=te({},Hi,{key:function(i){if(i.key){var a=V[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=ca(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Q[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qe,charCode:function(i){return i.type==="keypress"?ca(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ca(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_t=Cn(Gt),Xt=te({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),or=Cn(Xt),ci=te({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qe}),_s=Cn(ci),Es=te({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),al=Cn(Es),Gc=te({},da,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),qk=Cn(Gc),Gk=[9,13,27,32],Km=d&&"CompositionEvent"in window,Kc=null;d&&"documentMode"in document&&(Kc=document.documentMode);var Kk=d&&"TextEvent"in window&&!Kc,Kx=d&&(!Km||Kc&&8<Kc&&11>=Kc),Yx=" ",Qx=!1;function Xx(i,a){switch(i){case"keyup":return Gk.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jx(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ll=!1;function Yk(i,a){switch(i){case"compositionend":return Jx(a);case"keypress":return a.which!==32?null:(Qx=!0,Yx);case"textInput":return i=a.data,i===Yx&&Qx?null:i;default:return null}}function Qk(i,a){if(ll)return i==="compositionend"||!Km&&Xx(i,a)?(i=Od(),li=nl=sr=null,ll=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Kx&&a.locale!=="ko"?null:a.data;default:return null}}var Xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zx(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Xk[i.type]:a==="textarea"}function ew(i,a,u,m){er(m),a=$d(a,"onChange"),0<a.length&&(u=new ua("onChange","change",null,u,m),i.push({event:u,listeners:a}))}var Yc=null,Qc=null;function Jk(i){yw(i,0)}function Ud(i){var a=fl(i);if(Ze(a))return i}function Zk(i,a){if(i==="change")return a}var tw=!1;if(d){var Ym;if(d){var Qm="oninput"in document;if(!Qm){var nw=document.createElement("div");nw.setAttribute("oninput","return;"),Qm=typeof nw.oninput=="function"}Ym=Qm}else Ym=!1;tw=Ym&&(!document.documentMode||9<document.documentMode)}function rw(){Yc&&(Yc.detachEvent("onpropertychange",sw),Qc=Yc=null)}function sw(i){if(i.propertyName==="value"&&Ud(Qc)){var a=[];ew(a,Qc,i,Ye(i)),qa(Jk,a)}}function eA(i,a,u){i==="focusin"?(rw(),Yc=a,Qc=u,Yc.attachEvent("onpropertychange",sw)):i==="focusout"&&rw()}function tA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ud(Qc)}function nA(i,a){if(i==="click")return Ud(a)}function rA(i,a){if(i==="input"||i==="change")return Ud(a)}function sA(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Vr=typeof Object.is=="function"?Object.is:sA;function Xc(i,a){if(Vr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),m=Object.keys(a);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!h.call(a,y)||!Vr(i[y],a[y]))return!1}return!0}function iw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ow(i,a){var u=iw(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=a&&m>=a)return{node:u,offset:a-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=iw(u)}}function aw(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?aw(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function lw(){for(var i=window,a=It();a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)i=a.contentWindow;else break;a=It(i.document)}return a}function Xm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function iA(i){var a=lw(),u=i.focusedElem,m=i.selectionRange;if(a!==u&&u&&u.ownerDocument&&aw(u.ownerDocument.documentElement,u)){if(m!==null&&Xm(u)){if(a=m.start,i=m.end,i===void 0&&(i=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(i,u.value.length);else if(i=(a=u.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var y=u.textContent.length,_=Math.min(m.start,y);m=m.end===void 0?_:Math.min(m.end,y),!i.extend&&_>m&&(y=m,m=_,_=y),y=ow(u,_);var R=ow(u,m);y&&R&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==R.node||i.focusOffset!==R.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),i.removeAllRanges(),_>m?(i.addRange(a),i.extend(R.node,R.offset)):(a.setEnd(R.node,R.offset),i.addRange(a)))}}for(a=[],i=u;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)i=a[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var oA=d&&"documentMode"in document&&11>=document.documentMode,cl=null,Jm=null,Jc=null,Zm=!1;function cw(i,a,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Zm||cl==null||cl!==It(m)||(m=cl,"selectionStart"in m&&Xm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Jc&&Xc(Jc,m)||(Jc=m,m=$d(Jm,"onSelect"),0<m.length&&(a=new ua("onSelect","select",null,a,u),i.push({event:a,listeners:m}),a.target=cl)))}function zd(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var ul={animationend:zd("Animation","AnimationEnd"),animationiteration:zd("Animation","AnimationIteration"),animationstart:zd("Animation","AnimationStart"),transitionend:zd("Transition","TransitionEnd")},ep={},uw={};d&&(uw=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function Bd(i){if(ep[i])return ep[i];if(!ul[i])return i;var a=ul[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in uw)return ep[i]=a[u];return i}var dw=Bd("animationend"),hw=Bd("animationiteration"),fw=Bd("animationstart"),mw=Bd("transitionend"),pw=new Map,gw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(i,a){pw.set(i,a),o(a,[i])}for(var tp=0;tp<gw.length;tp++){var np=gw[tp],aA=np.toLowerCase(),lA=np[0].toUpperCase()+np.slice(1);Gi(aA,"on"+lA)}Gi(dw,"onAnimationEnd"),Gi(hw,"onAnimationIteration"),Gi(fw,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(mw,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zc));function vw(i,a,u){var m=i.type||"unknown-event";i.currentTarget=u,Rc(m,a,void 0,i),i.currentTarget=null}function yw(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],y=m.event;m=m.listeners;e:{var _=void 0;if(a)for(var R=m.length-1;0<=R;R--){var W=m[R],H=W.instance,J=W.currentTarget;if(W=W.listener,H!==_&&y.isPropagationStopped())break e;vw(y,W,J),_=H}else for(R=0;R<m.length;R++){if(W=m[R],H=W.instance,J=W.currentTarget,W=W.listener,H!==_&&y.isPropagationStopped())break e;vw(y,W,J),_=H}}}if(Ga)throw i=_r,Ga=!1,_r=null,i}function Pt(i,a){var u=a[up];u===void 0&&(u=a[up]=new Set);var m=i+"__bubble";u.has(m)||(xw(a,i,2,!1),u.add(m))}function rp(i,a,u){var m=0;a&&(m|=4),xw(u,i,m,a)}var Wd="_reactListening"+Math.random().toString(36).slice(2);function eu(i){if(!i[Wd]){i[Wd]=!0,r.forEach(function(u){u!=="selectionchange"&&(cA.has(u)||rp(u,!1,i),rp(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Wd]||(a[Wd]=!0,rp("selectionchange",!1,a))}}function xw(i,a,u,m){switch(tl(a)){case 1:var y=vs;break;case 4:y=Dd;break;default:y=$c}u=y.bind(null,a,u,i),y=void 0,!xr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),m?y!==void 0?i.addEventListener(a,u,{capture:!0,passive:y}):i.addEventListener(a,u,!0):y!==void 0?i.addEventListener(a,u,{passive:y}):i.addEventListener(a,u,!1)}function sp(i,a,u,m,y){var _=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var W=m.stateNode.containerInfo;if(W===y||W.nodeType===8&&W.parentNode===y)break;if(R===4)for(R=m.return;R!==null;){var H=R.tag;if((H===3||H===4)&&(H=R.stateNode.containerInfo,H===y||H.nodeType===8&&H.parentNode===y))return;R=R.return}for(;W!==null;){if(R=ha(W),R===null)return;if(H=R.tag,H===5||H===6){m=_=R;continue e}W=W.parentNode}}m=m.return}qa(function(){var J=_,ie=Ye(u),ae=[];e:{var re=pw.get(i);if(re!==void 0){var we=ua,Ce=i;switch(i){case"keypress":if(ca(u)===0)break e;case"keydown":case"keyup":we=_t;break;case"focusin":Ce="focus",we=yn;break;case"focusout":Ce="blur",we=yn;break;case"beforeblur":case"afterblur":we=yn;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Ld;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=_s;break;case dw:case hw:case fw:we=Fd;break;case mw:we=al;break;case"scroll":we=rl;break;case"wheel":we=qk;break;case"copy":case"cut":case"paste":we=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=or}var Ie=(a&4)!==0,Kt=!Ie&&i==="scroll",Y=Ie?re!==null?re+"Capture":null:re;Ie=[];for(var G=J,X;G!==null;){X=G;var de=X.stateNode;if(X.tag===5&&de!==null&&(X=de,Y!==null&&(de=ti(G,Y),de!=null&&Ie.push(tu(G,de,X)))),Kt)break;G=G.return}0<Ie.length&&(re=new we(re,Ce,null,u,ie),ae.push({event:re,listeners:Ie}))}}if((a&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",we=i==="mouseout"||i==="pointerout",re&&u!==Or&&(Ce=u.relatedTarget||u.fromElement)&&(ha(Ce)||Ce[ui]))break e;if((we||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,we?(Ce=u.relatedTarget||u.toElement,we=J,Ce=Ce?ha(Ce):null,Ce!==null&&(Kt=Mr(Ce),Ce!==Kt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(we=null,Ce=J),we!==Ce)){if(Ie=qc,de="onMouseLeave",Y="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Ie=or,de="onPointerLeave",Y="onPointerEnter",G="pointer"),Kt=we==null?re:fl(we),X=Ce==null?re:fl(Ce),re=new Ie(de,G+"leave",we,u,ie),re.target=Kt,re.relatedTarget=X,de=null,ha(ie)===J&&(Ie=new Ie(Y,G+"enter",Ce,u,ie),Ie.target=X,Ie.relatedTarget=Kt,de=Ie),Kt=de,we&&Ce)t:{for(Ie=we,Y=Ce,G=0,X=Ie;X;X=dl(X))G++;for(X=0,de=Y;de;de=dl(de))X++;for(;0<G-X;)Ie=dl(Ie),G--;for(;0<X-G;)Y=dl(Y),X--;for(;G--;){if(Ie===Y||Y!==null&&Ie===Y.alternate)break t;Ie=dl(Ie),Y=dl(Y)}Ie=null}else Ie=null;we!==null&&ww(ae,re,we,Ie,!1),Ce!==null&&Kt!==null&&ww(ae,Kt,Ce,Ie,!0)}}e:{if(re=J?fl(J):window,we=re.nodeName&&re.nodeName.toLowerCase(),we==="select"||we==="input"&&re.type==="file")var ke=Zk;else if(Zx(re))if(tw)ke=rA;else{ke=tA;var Le=eA}else(we=re.nodeName)&&we.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(ke=nA);if(ke&&(ke=ke(i,J))){ew(ae,ke,u,ie);break e}Le&&Le(i,re,J),i==="focusout"&&(Le=re._wrapperState)&&Le.controlled&&re.type==="number"&&Ke(re,"number",re.value)}switch(Le=J?fl(J):window,i){case"focusin":(Zx(Le)||Le.contentEditable==="true")&&(cl=Le,Jm=J,Jc=null);break;case"focusout":Jc=Jm=cl=null;break;case"mousedown":Zm=!0;break;case"contextmenu":case"mouseup":case"dragend":Zm=!1,cw(ae,u,ie);break;case"selectionchange":if(oA)break;case"keydown":case"keyup":cw(ae,u,ie)}var Ve;if(Km)e:{switch(i){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else ll?Xx(i,u)&&(qe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(qe="onCompositionStart");qe&&(Kx&&u.locale!=="ko"&&(ll||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&ll&&(Ve=Od()):(sr=ie,nl="value"in sr?sr.value:sr.textContent,ll=!0)),Le=$d(J,qe),0<Le.length&&(qe=new T(qe,i,null,u,ie),ae.push({event:qe,listeners:Le}),Ve?qe.data=Ve:(Ve=Jx(u),Ve!==null&&(qe.data=Ve)))),(Ve=Kk?Yk(i,u):Qk(i,u))&&(J=$d(J,"onBeforeInput"),0<J.length&&(ie=new T("onBeforeInput","beforeinput",null,u,ie),ae.push({event:ie,listeners:J}),ie.data=Ve))}yw(ae,a)})}function tu(i,a,u){return{instance:i,listener:a,currentTarget:u}}function $d(i,a){for(var u=a+"Capture",m=[];i!==null;){var y=i,_=y.stateNode;y.tag===5&&_!==null&&(y=_,_=ti(i,u),_!=null&&m.unshift(tu(i,_,y)),_=ti(i,a),_!=null&&m.push(tu(i,_,y))),i=i.return}return m}function dl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function ww(i,a,u,m,y){for(var _=a._reactName,R=[];u!==null&&u!==m;){var W=u,H=W.alternate,J=W.stateNode;if(H!==null&&H===m)break;W.tag===5&&J!==null&&(W=J,y?(H=ti(u,_),H!=null&&R.unshift(tu(u,H,W))):y||(H=ti(u,_),H!=null&&R.push(tu(u,H,W)))),u=u.return}R.length!==0&&i.push({event:a,listeners:R})}var uA=/\r\n?/g,dA=/\u0000|\uFFFD/g;function _w(i){return(typeof i=="string"?i:""+i).replace(uA,`
`).replace(dA,"")}function Hd(i,a,u){if(a=_w(a),_w(i)!==a&&u)throw Error(n(425))}function qd(){}var ip=null,op=null;function ap(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var lp=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,Ew=typeof Promise=="function"?Promise:void 0,fA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ew<"u"?function(i){return Ew.resolve(null).then(i).catch(mA)}:lp;function mA(i){setTimeout(function(){throw i})}function cp(i,a){var u=a,m=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(m===0){i.removeChild(y),$i(a);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=y}while(u);$i(a)}function Ki(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function bw(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return i;a--}else u==="/$"&&a++}i=i.previousSibling}return null}var hl=Math.random().toString(36).slice(2),bs="__reactFiber$"+hl,nu="__reactProps$"+hl,ui="__reactContainer$"+hl,up="__reactEvents$"+hl,pA="__reactListeners$"+hl,gA="__reactHandles$"+hl;function ha(i){var a=i[bs];if(a)return a;for(var u=i.parentNode;u;){if(a=u[ui]||u[bs]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=bw(i);i!==null;){if(u=i[bs])return u;i=bw(i)}return a}i=u,u=i.parentNode}return null}function ru(i){return i=i[bs]||i[ui],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function fl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Gd(i){return i[nu]||null}var dp=[],ml=-1;function Yi(i){return{current:i}}function jt(i){0>ml||(i.current=dp[ml],dp[ml]=null,ml--)}function kt(i,a){ml++,dp[ml]=i.current,i.current=a}var Qi={},Tn=Yi(Qi),Wn=Yi(!1),fa=Qi;function pl(i,a){var u=i.type.contextTypes;if(!u)return Qi;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var y={},_;for(_ in u)y[_]=a[_];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=y),y}function $n(i){return i=i.childContextTypes,i!=null}function Kd(){jt(Wn),jt(Tn)}function Sw(i,a,u){if(Tn.current!==Qi)throw Error(n(168));kt(Tn,a),kt(Wn,u)}function Cw(i,a,u){var m=i.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var y in m)if(!(y in a))throw Error(n(108,oe(i)||"Unknown",y));return te({},u,m)}function Yd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Qi,fa=Tn.current,kt(Tn,i),kt(Wn,Wn.current),!0}function Tw(i,a,u){var m=i.stateNode;if(!m)throw Error(n(169));u?(i=Cw(i,a,fa),m.__reactInternalMemoizedMergedChildContext=i,jt(Wn),jt(Tn),kt(Tn,i)):jt(Wn),kt(Wn,u)}var di=null,Qd=!1,hp=!1;function Nw(i){di===null?di=[i]:di.push(i)}function vA(i){Qd=!0,Nw(i)}function Xi(){if(!hp&&di!==null){hp=!0;var i=0,a=dt;try{var u=di;for(dt=1;i<u.length;i++){var m=u[i];do m=m(!0);while(m!==null)}di=null,Qd=!1}catch(y){throw di!==null&&(di=di.slice(i+1)),jc(Ya,Xi),y}finally{dt=a,hp=!1}}return null}var gl=[],vl=0,Xd=null,Jd=0,br=[],Sr=0,ma=null,hi=1,fi="";function pa(i,a){gl[vl++]=Jd,gl[vl++]=Xd,Xd=i,Jd=a}function Iw(i,a,u){br[Sr++]=hi,br[Sr++]=fi,br[Sr++]=ma,ma=i;var m=hi;i=fi;var y=32-nr(m)-1;m&=~(1<<y),u+=1;var _=32-nr(a)+y;if(30<_){var R=y-y%5;_=(m&(1<<R)-1).toString(32),m>>=R,y-=R,hi=1<<32-nr(a)+y|u<<y|m,fi=_+i}else hi=1<<_|u<<y|m,fi=i}function fp(i){i.return!==null&&(pa(i,1),Iw(i,1,0))}function mp(i){for(;i===Xd;)Xd=gl[--vl],gl[vl]=null,Jd=gl[--vl],gl[vl]=null;for(;i===ma;)ma=br[--Sr],br[Sr]=null,fi=br[--Sr],br[Sr]=null,hi=br[--Sr],br[Sr]=null}var ar=null,lr=null,Ot=!1,Fr=null;function kw(i,a){var u=Ir(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=i,a=i.deletions,a===null?(i.deletions=[u],i.flags|=16):a.push(u)}function Aw(i,a){switch(i.tag){case 5:var u=i.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,ar=i,lr=Ki(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,ar=i,lr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=ma!==null?{id:hi,overflow:fi}:null,i.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Ir(18,null,null,0),u.stateNode=a,u.return=i,i.child=u,ar=i,lr=null,!0):!1;default:return!1}}function pp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function gp(i){if(Ot){var a=lr;if(a){var u=a;if(!Aw(i,a)){if(pp(i))throw Error(n(418));a=Ki(u.nextSibling);var m=ar;a&&Aw(i,a)?kw(m,u):(i.flags=i.flags&-4097|2,Ot=!1,ar=i)}}else{if(pp(i))throw Error(n(418));i.flags=i.flags&-4097|2,Ot=!1,ar=i}}}function Rw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;ar=i}function Zd(i){if(i!==ar)return!1;if(!Ot)return Rw(i),Ot=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!ap(i.type,i.memoizedProps)),a&&(a=lr)){if(pp(i))throw Pw(),Error(n(418));for(;a;)kw(i,a),a=Ki(a.nextSibling)}if(Rw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(a===0){lr=Ki(i.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}i=i.nextSibling}lr=null}}else lr=ar?Ki(i.stateNode.nextSibling):null;return!0}function Pw(){for(var i=lr;i;)i=Ki(i.nextSibling)}function yl(){lr=ar=null,Ot=!1}function vp(i){Fr===null?Fr=[i]:Fr.push(i)}var yA=B.ReactCurrentBatchConfig;function su(i,a,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var m=u.stateNode}if(!m)throw Error(n(147,i));var y=m,_=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(R){var W=y.refs;R===null?delete W[_]:W[_]=R},a._stringRef=_,a)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function eh(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function jw(i){var a=i._init;return a(i._payload)}function Dw(i){function a(Y,G){if(i){var X=Y.deletions;X===null?(Y.deletions=[G],Y.flags|=16):X.push(G)}}function u(Y,G){if(!i)return null;for(;G!==null;)a(Y,G),G=G.sibling;return null}function m(Y,G){for(Y=new Map;G!==null;)G.key!==null?Y.set(G.key,G):Y.set(G.index,G),G=G.sibling;return Y}function y(Y,G){return Y=io(Y,G),Y.index=0,Y.sibling=null,Y}function _(Y,G,X){return Y.index=X,i?(X=Y.alternate,X!==null?(X=X.index,X<G?(Y.flags|=2,G):X):(Y.flags|=2,G)):(Y.flags|=1048576,G)}function R(Y){return i&&Y.alternate===null&&(Y.flags|=2),Y}function W(Y,G,X,de){return G===null||G.tag!==6?(G=lg(X,Y.mode,de),G.return=Y,G):(G=y(G,X),G.return=Y,G)}function H(Y,G,X,de){var ke=X.type;return ke===N?ie(Y,G,X.props.children,de,X.key):G!==null&&(G.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===pe&&jw(ke)===G.type)?(de=y(G,X.props),de.ref=su(Y,G,X),de.return=Y,de):(de=Sh(X.type,X.key,X.props,null,Y.mode,de),de.ref=su(Y,G,X),de.return=Y,de)}function J(Y,G,X,de){return G===null||G.tag!==4||G.stateNode.containerInfo!==X.containerInfo||G.stateNode.implementation!==X.implementation?(G=cg(X,Y.mode,de),G.return=Y,G):(G=y(G,X.children||[]),G.return=Y,G)}function ie(Y,G,X,de,ke){return G===null||G.tag!==7?(G=ba(X,Y.mode,de,ke),G.return=Y,G):(G=y(G,X),G.return=Y,G)}function ae(Y,G,X){if(typeof G=="string"&&G!==""||typeof G=="number")return G=lg(""+G,Y.mode,X),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case M:return X=Sh(G.type,G.key,G.props,null,Y.mode,X),X.ref=su(Y,null,G),X.return=Y,X;case $:return G=cg(G,Y.mode,X),G.return=Y,G;case pe:var de=G._init;return ae(Y,de(G._payload),X)}if(tt(G)||K(G))return G=ba(G,Y.mode,X,null),G.return=Y,G;eh(Y,G)}return null}function re(Y,G,X,de){var ke=G!==null?G.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return ke!==null?null:W(Y,G,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case M:return X.key===ke?H(Y,G,X,de):null;case $:return X.key===ke?J(Y,G,X,de):null;case pe:return ke=X._init,re(Y,G,ke(X._payload),de)}if(tt(X)||K(X))return ke!==null?null:ie(Y,G,X,de,null);eh(Y,X)}return null}function we(Y,G,X,de,ke){if(typeof de=="string"&&de!==""||typeof de=="number")return Y=Y.get(X)||null,W(G,Y,""+de,ke);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case M:return Y=Y.get(de.key===null?X:de.key)||null,H(G,Y,de,ke);case $:return Y=Y.get(de.key===null?X:de.key)||null,J(G,Y,de,ke);case pe:var Le=de._init;return we(Y,G,X,Le(de._payload),ke)}if(tt(de)||K(de))return Y=Y.get(X)||null,ie(G,Y,de,ke,null);eh(G,de)}return null}function Ce(Y,G,X,de){for(var ke=null,Le=null,Ve=G,qe=G=0,fn=null;Ve!==null&&qe<X.length;qe++){Ve.index>qe?(fn=Ve,Ve=null):fn=Ve.sibling;var gt=re(Y,Ve,X[qe],de);if(gt===null){Ve===null&&(Ve=fn);break}i&&Ve&&gt.alternate===null&&a(Y,Ve),G=_(gt,G,qe),Le===null?ke=gt:Le.sibling=gt,Le=gt,Ve=fn}if(qe===X.length)return u(Y,Ve),Ot&&pa(Y,qe),ke;if(Ve===null){for(;qe<X.length;qe++)Ve=ae(Y,X[qe],de),Ve!==null&&(G=_(Ve,G,qe),Le===null?ke=Ve:Le.sibling=Ve,Le=Ve);return Ot&&pa(Y,qe),ke}for(Ve=m(Y,Ve);qe<X.length;qe++)fn=we(Ve,Y,qe,X[qe],de),fn!==null&&(i&&fn.alternate!==null&&Ve.delete(fn.key===null?qe:fn.key),G=_(fn,G,qe),Le===null?ke=fn:Le.sibling=fn,Le=fn);return i&&Ve.forEach(function(oo){return a(Y,oo)}),Ot&&pa(Y,qe),ke}function Ie(Y,G,X,de){var ke=K(X);if(typeof ke!="function")throw Error(n(150));if(X=ke.call(X),X==null)throw Error(n(151));for(var Le=ke=null,Ve=G,qe=G=0,fn=null,gt=X.next();Ve!==null&&!gt.done;qe++,gt=X.next()){Ve.index>qe?(fn=Ve,Ve=null):fn=Ve.sibling;var oo=re(Y,Ve,gt.value,de);if(oo===null){Ve===null&&(Ve=fn);break}i&&Ve&&oo.alternate===null&&a(Y,Ve),G=_(oo,G,qe),Le===null?ke=oo:Le.sibling=oo,Le=oo,Ve=fn}if(gt.done)return u(Y,Ve),Ot&&pa(Y,qe),ke;if(Ve===null){for(;!gt.done;qe++,gt=X.next())gt=ae(Y,gt.value,de),gt!==null&&(G=_(gt,G,qe),Le===null?ke=gt:Le.sibling=gt,Le=gt);return Ot&&pa(Y,qe),ke}for(Ve=m(Y,Ve);!gt.done;qe++,gt=X.next())gt=we(Ve,Y,qe,gt.value,de),gt!==null&&(i&&gt.alternate!==null&&Ve.delete(gt.key===null?qe:gt.key),G=_(gt,G,qe),Le===null?ke=gt:Le.sibling=gt,Le=gt);return i&&Ve.forEach(function(XA){return a(Y,XA)}),Ot&&pa(Y,qe),ke}function Kt(Y,G,X,de){if(typeof X=="object"&&X!==null&&X.type===N&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case M:e:{for(var ke=X.key,Le=G;Le!==null;){if(Le.key===ke){if(ke=X.type,ke===N){if(Le.tag===7){u(Y,Le.sibling),G=y(Le,X.props.children),G.return=Y,Y=G;break e}}else if(Le.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===pe&&jw(ke)===Le.type){u(Y,Le.sibling),G=y(Le,X.props),G.ref=su(Y,Le,X),G.return=Y,Y=G;break e}u(Y,Le);break}else a(Y,Le);Le=Le.sibling}X.type===N?(G=ba(X.props.children,Y.mode,de,X.key),G.return=Y,Y=G):(de=Sh(X.type,X.key,X.props,null,Y.mode,de),de.ref=su(Y,G,X),de.return=Y,Y=de)}return R(Y);case $:e:{for(Le=X.key;G!==null;){if(G.key===Le)if(G.tag===4&&G.stateNode.containerInfo===X.containerInfo&&G.stateNode.implementation===X.implementation){u(Y,G.sibling),G=y(G,X.children||[]),G.return=Y,Y=G;break e}else{u(Y,G);break}else a(Y,G);G=G.sibling}G=cg(X,Y.mode,de),G.return=Y,Y=G}return R(Y);case pe:return Le=X._init,Kt(Y,G,Le(X._payload),de)}if(tt(X))return Ce(Y,G,X,de);if(K(X))return Ie(Y,G,X,de);eh(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,G!==null&&G.tag===6?(u(Y,G.sibling),G=y(G,X),G.return=Y,Y=G):(u(Y,G),G=lg(X,Y.mode,de),G.return=Y,Y=G),R(Y)):u(Y,G)}return Kt}var xl=Dw(!0),Ow=Dw(!1),th=Yi(null),nh=null,wl=null,yp=null;function xp(){yp=wl=nh=null}function wp(i){var a=th.current;jt(th),i._currentValue=a}function _p(i,a,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),i===u)break;i=i.return}}function _l(i,a){nh=i,yp=wl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(Hn=!0),i.firstContext=null)}function Cr(i){var a=i._currentValue;if(yp!==i)if(i={context:i,memoizedValue:a,next:null},wl===null){if(nh===null)throw Error(n(308));wl=i,nh.dependencies={lanes:0,firstContext:i}}else wl=wl.next=i;return a}var ga=null;function Ep(i){ga===null?ga=[i]:ga.push(i)}function Mw(i,a,u,m){var y=a.interleaved;return y===null?(u.next=u,Ep(a)):(u.next=y.next,y.next=u),a.interleaved=u,mi(i,m)}function mi(i,a){i.lanes|=a;var u=i.alternate;for(u!==null&&(u.lanes|=a),u=i,i=i.return;i!==null;)i.childLanes|=a,u=i.alternate,u!==null&&(u.childLanes|=a),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Ji=!1;function bp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lw(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function pi(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Zi(i,a,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(pt&2)!==0){var y=m.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),m.pending=a,mi(i,u)}return y=m.interleaved,y===null?(a.next=a,Ep(m)):(a.next=y.next,y.next=a),m.interleaved=a,mi(i,u)}function rh(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var m=a.lanes;m&=i.pendingLanes,u|=m,a.lanes=u,Fc(i,u)}}function Vw(i,a){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var R={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?y=_=R:_=_.next=R,u=u.next}while(u!==null);_===null?y=_=a:_=_.next=a}else y=_=a;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:m.shared,effects:m.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}function sh(i,a,u,m){var y=i.updateQueue;Ji=!1;var _=y.firstBaseUpdate,R=y.lastBaseUpdate,W=y.shared.pending;if(W!==null){y.shared.pending=null;var H=W,J=H.next;H.next=null,R===null?_=J:R.next=J,R=H;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,W=ie.lastBaseUpdate,W!==R&&(W===null?ie.firstBaseUpdate=J:W.next=J,ie.lastBaseUpdate=H))}if(_!==null){var ae=y.baseState;R=0,ie=J=H=null,W=_;do{var re=W.lane,we=W.eventTime;if((m&re)===re){ie!==null&&(ie=ie.next={eventTime:we,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Ce=i,Ie=W;switch(re=a,we=u,Ie.tag){case 1:if(Ce=Ie.payload,typeof Ce=="function"){ae=Ce.call(we,ae,re);break e}ae=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ie.payload,re=typeof Ce=="function"?Ce.call(we,ae,re):Ce,re==null)break e;ae=te({},ae,re);break e;case 2:Ji=!0}}W.callback!==null&&W.lane!==0&&(i.flags|=64,re=y.effects,re===null?y.effects=[W]:re.push(W))}else we={eventTime:we,lane:re,tag:W.tag,payload:W.payload,callback:W.callback,next:null},ie===null?(J=ie=we,H=ae):ie=ie.next=we,R|=re;if(W=W.next,W===null){if(W=y.shared.pending,W===null)break;re=W,W=re.next,re.next=null,y.lastBaseUpdate=re,y.shared.pending=null}}while(!0);if(ie===null&&(H=ae),y.baseState=H,y.firstBaseUpdate=J,y.lastBaseUpdate=ie,a=y.shared.interleaved,a!==null){y=a;do R|=y.lane,y=y.next;while(y!==a)}else _===null&&(y.shared.lanes=0);xa|=R,i.lanes=R,i.memoizedState=ae}}function Fw(i,a,u){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var m=i[a],y=m.callback;if(y!==null){if(m.callback=null,m=u,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var iu={},Ss=Yi(iu),ou=Yi(iu),au=Yi(iu);function va(i){if(i===iu)throw Error(n(174));return i}function Sp(i,a){switch(kt(au,a),kt(ou,i),kt(Ss,iu),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Vi(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=Vi(a,i)}jt(Ss),kt(Ss,a)}function El(){jt(Ss),jt(ou),jt(au)}function Uw(i){va(au.current);var a=va(Ss.current),u=Vi(a,i.type);a!==u&&(kt(ou,i),kt(Ss,u))}function Cp(i){ou.current===i&&(jt(Ss),jt(ou))}var Vt=Yi(0);function ih(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Tp=[];function Np(){for(var i=0;i<Tp.length;i++)Tp[i]._workInProgressVersionPrimary=null;Tp.length=0}var oh=B.ReactCurrentDispatcher,Ip=B.ReactCurrentBatchConfig,ya=0,Ft=null,rn=null,dn=null,ah=!1,lu=!1,cu=0,xA=0;function Nn(){throw Error(n(321))}function kp(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!Vr(i[u],a[u]))return!1;return!0}function Ap(i,a,u,m,y,_){if(ya=_,Ft=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,oh.current=i===null||i.memoizedState===null?bA:SA,i=u(m,y),lu){_=0;do{if(lu=!1,cu=0,25<=_)throw Error(n(301));_+=1,dn=rn=null,a.updateQueue=null,oh.current=CA,i=u(m,y)}while(lu)}if(oh.current=uh,a=rn!==null&&rn.next!==null,ya=0,dn=rn=Ft=null,ah=!1,a)throw Error(n(300));return i}function Rp(){var i=cu!==0;return cu=0,i}function Cs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Ft.memoizedState=dn=i:dn=dn.next=i,dn}function Tr(){if(rn===null){var i=Ft.alternate;i=i!==null?i.memoizedState:null}else i=rn.next;var a=dn===null?Ft.memoizedState:dn.next;if(a!==null)dn=a,rn=i;else{if(i===null)throw Error(n(310));rn=i,i={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},dn===null?Ft.memoizedState=dn=i:dn=dn.next=i}return dn}function uu(i,a){return typeof a=="function"?a(i):a}function Pp(i){var a=Tr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=rn,y=m.baseQueue,_=u.pending;if(_!==null){if(y!==null){var R=y.next;y.next=_.next,_.next=R}m.baseQueue=y=_,u.pending=null}if(y!==null){_=y.next,m=m.baseState;var W=R=null,H=null,J=_;do{var ie=J.lane;if((ya&ie)===ie)H!==null&&(H=H.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),m=J.hasEagerState?J.eagerState:i(m,J.action);else{var ae={lane:ie,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};H===null?(W=H=ae,R=m):H=H.next=ae,Ft.lanes|=ie,xa|=ie}J=J.next}while(J!==null&&J!==_);H===null?R=m:H.next=W,Vr(m,a.memoizedState)||(Hn=!0),a.memoizedState=m,a.baseState=R,a.baseQueue=H,u.lastRenderedState=m}if(i=u.interleaved,i!==null){y=i;do _=y.lane,Ft.lanes|=_,xa|=_,y=y.next;while(y!==i)}else y===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function jp(i){var a=Tr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=u.dispatch,y=u.pending,_=a.memoizedState;if(y!==null){u.pending=null;var R=y=y.next;do _=i(_,R.action),R=R.next;while(R!==y);Vr(_,a.memoizedState)||(Hn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),u.lastRenderedState=_}return[_,m]}function zw(){}function Bw(i,a){var u=Ft,m=Tr(),y=a(),_=!Vr(m.memoizedState,y);if(_&&(m.memoizedState=y,Hn=!0),m=m.queue,Dp(Hw.bind(null,u,m,i),[i]),m.getSnapshot!==a||_||dn!==null&&dn.memoizedState.tag&1){if(u.flags|=2048,du(9,$w.bind(null,u,m,y,a),void 0,null),hn===null)throw Error(n(349));(ya&30)!==0||Ww(u,a,y)}return y}function Ww(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=Ft.updateQueue,a===null?(a={lastEffect:null,stores:null},Ft.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function $w(i,a,u,m){a.value=u,a.getSnapshot=m,qw(a)&&Gw(i)}function Hw(i,a,u){return u(function(){qw(a)&&Gw(i)})}function qw(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!Vr(i,u)}catch{return!0}}function Gw(i){var a=mi(i,1);a!==null&&Wr(a,i,1,-1)}function Kw(i){var a=Cs();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:i},a.queue=i,i=i.dispatch=EA.bind(null,Ft,i),[a.memoizedState,i]}function du(i,a,u,m){return i={tag:i,create:a,destroy:u,deps:m,next:null},a=Ft.updateQueue,a===null?(a={lastEffect:null,stores:null},Ft.updateQueue=a,a.lastEffect=i.next=i):(u=a.lastEffect,u===null?a.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,a.lastEffect=i)),i}function Yw(){return Tr().memoizedState}function lh(i,a,u,m){var y=Cs();Ft.flags|=i,y.memoizedState=du(1|a,u,void 0,m===void 0?null:m)}function ch(i,a,u,m){var y=Tr();m=m===void 0?null:m;var _=void 0;if(rn!==null){var R=rn.memoizedState;if(_=R.destroy,m!==null&&kp(m,R.deps)){y.memoizedState=du(a,u,_,m);return}}Ft.flags|=i,y.memoizedState=du(1|a,u,_,m)}function Qw(i,a){return lh(8390656,8,i,a)}function Dp(i,a){return ch(2048,8,i,a)}function Xw(i,a){return ch(4,2,i,a)}function Jw(i,a){return ch(4,4,i,a)}function Zw(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function e_(i,a,u){return u=u!=null?u.concat([i]):null,ch(4,4,Zw.bind(null,a,i),u)}function Op(){}function t_(i,a){var u=Tr();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&kp(a,m[1])?m[0]:(u.memoizedState=[i,a],i)}function n_(i,a){var u=Tr();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&kp(a,m[1])?m[0]:(i=i(),u.memoizedState=[i,a],i)}function r_(i,a,u){return(ya&21)===0?(i.baseState&&(i.baseState=!1,Hn=!0),i.memoizedState=u):(Vr(u,a)||(u=Lc(),Ft.lanes|=u,xa|=u,i.baseState=!0),a)}function wA(i,a){var u=dt;dt=u!==0&&4>u?u:4,i(!0);var m=Ip.transition;Ip.transition={};try{i(!1),a()}finally{dt=u,Ip.transition=m}}function s_(){return Tr().memoizedState}function _A(i,a,u){var m=ro(i);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},i_(i))o_(a,u);else if(u=Mw(i,a,u,m),u!==null){var y=Fn();Wr(u,i,m,y),a_(u,a,m)}}function EA(i,a,u){var m=ro(i),y={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(i_(i))o_(a,y);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var R=a.lastRenderedState,W=_(R,u);if(y.hasEagerState=!0,y.eagerState=W,Vr(W,R)){var H=a.interleaved;H===null?(y.next=y,Ep(a)):(y.next=H.next,H.next=y),a.interleaved=y;return}}catch{}finally{}u=Mw(i,a,y,m),u!==null&&(y=Fn(),Wr(u,i,m,y),a_(u,a,m))}}function i_(i){var a=i.alternate;return i===Ft||a!==null&&a===Ft}function o_(i,a){lu=ah=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function a_(i,a,u){if((u&4194240)!==0){var m=a.lanes;m&=i.pendingLanes,u|=m,a.lanes=u,Fc(i,u)}}var uh={readContext:Cr,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},bA={readContext:Cr,useCallback:function(i,a){return Cs().memoizedState=[i,a===void 0?null:a],i},useContext:Cr,useEffect:Qw,useImperativeHandle:function(i,a,u){return u=u!=null?u.concat([i]):null,lh(4194308,4,Zw.bind(null,a,i),u)},useLayoutEffect:function(i,a){return lh(4194308,4,i,a)},useInsertionEffect:function(i,a){return lh(4,2,i,a)},useMemo:function(i,a){var u=Cs();return a=a===void 0?null:a,i=i(),u.memoizedState=[i,a],i},useReducer:function(i,a,u){var m=Cs();return a=u!==void 0?u(a):a,m.memoizedState=m.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},m.queue=i,i=i.dispatch=_A.bind(null,Ft,i),[m.memoizedState,i]},useRef:function(i){var a=Cs();return i={current:i},a.memoizedState=i},useState:Kw,useDebugValue:Op,useDeferredValue:function(i){return Cs().memoizedState=i},useTransition:function(){var i=Kw(!1),a=i[0];return i=wA.bind(null,i[1]),Cs().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,u){var m=Ft,y=Cs();if(Ot){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),hn===null)throw Error(n(349));(ya&30)!==0||Ww(m,a,u)}y.memoizedState=u;var _={value:u,getSnapshot:a};return y.queue=_,Qw(Hw.bind(null,m,_,i),[i]),m.flags|=2048,du(9,$w.bind(null,m,_,u,a),void 0,null),u},useId:function(){var i=Cs(),a=hn.identifierPrefix;if(Ot){var u=fi,m=hi;u=(m&~(1<<32-nr(m)-1)).toString(32)+u,a=":"+a+"R"+u,u=cu++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=xA++,a=":"+a+"r"+u.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},SA={readContext:Cr,useCallback:t_,useContext:Cr,useEffect:Dp,useImperativeHandle:e_,useInsertionEffect:Xw,useLayoutEffect:Jw,useMemo:n_,useReducer:Pp,useRef:Yw,useState:function(){return Pp(uu)},useDebugValue:Op,useDeferredValue:function(i){var a=Tr();return r_(a,rn.memoizedState,i)},useTransition:function(){var i=Pp(uu)[0],a=Tr().memoizedState;return[i,a]},useMutableSource:zw,useSyncExternalStore:Bw,useId:s_,unstable_isNewReconciler:!1},CA={readContext:Cr,useCallback:t_,useContext:Cr,useEffect:Dp,useImperativeHandle:e_,useInsertionEffect:Xw,useLayoutEffect:Jw,useMemo:n_,useReducer:jp,useRef:Yw,useState:function(){return jp(uu)},useDebugValue:Op,useDeferredValue:function(i){var a=Tr();return rn===null?a.memoizedState=i:r_(a,rn.memoizedState,i)},useTransition:function(){var i=jp(uu)[0],a=Tr().memoizedState;return[i,a]},useMutableSource:zw,useSyncExternalStore:Bw,useId:s_,unstable_isNewReconciler:!1};function Ur(i,a){if(i&&i.defaultProps){a=te({},a),i=i.defaultProps;for(var u in i)a[u]===void 0&&(a[u]=i[u]);return a}return a}function Mp(i,a,u,m){a=i.memoizedState,u=u(m,a),u=u==null?a:te({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var dh={isMounted:function(i){return(i=i._reactInternals)?Mr(i)===i:!1},enqueueSetState:function(i,a,u){i=i._reactInternals;var m=Fn(),y=ro(i),_=pi(m,y);_.payload=a,u!=null&&(_.callback=u),a=Zi(i,_,y),a!==null&&(Wr(a,i,y,m),rh(a,i,y))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var m=Fn(),y=ro(i),_=pi(m,y);_.tag=1,_.payload=a,u!=null&&(_.callback=u),a=Zi(i,_,y),a!==null&&(Wr(a,i,y,m),rh(a,i,y))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=Fn(),m=ro(i),y=pi(u,m);y.tag=2,a!=null&&(y.callback=a),a=Zi(i,y,m),a!==null&&(Wr(a,i,m,u),rh(a,i,m))}};function l_(i,a,u,m,y,_,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,_,R):a.prototype&&a.prototype.isPureReactComponent?!Xc(u,m)||!Xc(y,_):!0}function c_(i,a,u){var m=!1,y=Qi,_=a.contextType;return typeof _=="object"&&_!==null?_=Cr(_):(y=$n(a)?fa:Tn.current,m=a.contextTypes,_=(m=m!=null)?pl(i,y):Qi),a=new a(u,_),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=dh,i.stateNode=a,a._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=_),a}function u_(i,a,u,m){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,m),a.state!==i&&dh.enqueueReplaceState(a,a.state,null)}function Lp(i,a,u,m){var y=i.stateNode;y.props=u,y.state=i.memoizedState,y.refs={},bp(i);var _=a.contextType;typeof _=="object"&&_!==null?y.context=Cr(_):(_=$n(a)?fa:Tn.current,y.context=pl(i,_)),y.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Mp(i,a,_,u),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&dh.enqueueReplaceState(y,y.state,null),sh(i,u,y,m),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function bl(i,a){try{var u="",m=a;do u+=Oe(m),m=m.return;while(m);var y=u}catch(_){y=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:a,stack:y,digest:null}}function Vp(i,a,u){return{value:i,source:null,stack:u??null,digest:a??null}}function Fp(i,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var TA=typeof WeakMap=="function"?WeakMap:Map;function d_(i,a,u){u=pi(-1,u),u.tag=3,u.payload={element:null};var m=a.value;return u.callback=function(){yh||(yh=!0,eg=m),Fp(i,a)},u}function h_(i,a,u){u=pi(-1,u),u.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var y=a.value;u.payload=function(){return m(y)},u.callback=function(){Fp(i,a)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){Fp(i,a),typeof m!="function"&&(to===null?to=new Set([this]):to.add(this));var R=a.stack;this.componentDidCatch(a.value,{componentStack:R!==null?R:""})}),u}function f_(i,a,u){var m=i.pingCache;if(m===null){m=i.pingCache=new TA;var y=new Set;m.set(a,y)}else y=m.get(a),y===void 0&&(y=new Set,m.set(a,y));y.has(u)||(y.add(u),i=UA.bind(null,i,a,u),a.then(i,i))}function m_(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function p_(i,a,u,m,y){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=pi(-1,1),a.tag=2,Zi(u,a,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var NA=B.ReactCurrentOwner,Hn=!1;function Vn(i,a,u,m){a.child=i===null?Ow(a,null,u,m):xl(a,i.child,u,m)}function g_(i,a,u,m,y){u=u.render;var _=a.ref;return _l(a,y),m=Ap(i,a,u,m,_,y),u=Rp(),i!==null&&!Hn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,gi(i,a,y)):(Ot&&u&&fp(a),a.flags|=1,Vn(i,a,m,y),a.child)}function v_(i,a,u,m,y){if(i===null){var _=u.type;return typeof _=="function"&&!ag(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=_,y_(i,a,_,m,y)):(i=Sh(u.type,null,m,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(_=i.child,(i.lanes&y)===0){var R=_.memoizedProps;if(u=u.compare,u=u!==null?u:Xc,u(R,m)&&i.ref===a.ref)return gi(i,a,y)}return a.flags|=1,i=io(_,m),i.ref=a.ref,i.return=a,a.child=i}function y_(i,a,u,m,y){if(i!==null){var _=i.memoizedProps;if(Xc(_,m)&&i.ref===a.ref)if(Hn=!1,a.pendingProps=m=_,(i.lanes&y)!==0)(i.flags&131072)!==0&&(Hn=!0);else return a.lanes=i.lanes,gi(i,a,y)}return Up(i,a,u,m,y)}function x_(i,a,u){var m=a.pendingProps,y=m.children,_=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(Cl,cr),cr|=u;else{if((u&1073741824)===0)return i=_!==null?_.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,kt(Cl,cr),cr|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=_!==null?_.baseLanes:u,kt(Cl,cr),cr|=m}else _!==null?(m=_.baseLanes|u,a.memoizedState=null):m=u,kt(Cl,cr),cr|=m;return Vn(i,a,y,u),a.child}function w_(i,a){var u=a.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Up(i,a,u,m,y){var _=$n(u)?fa:Tn.current;return _=pl(a,_),_l(a,y),u=Ap(i,a,u,m,_,y),m=Rp(),i!==null&&!Hn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,gi(i,a,y)):(Ot&&m&&fp(a),a.flags|=1,Vn(i,a,u,y),a.child)}function __(i,a,u,m,y){if($n(u)){var _=!0;Yd(a)}else _=!1;if(_l(a,y),a.stateNode===null)fh(i,a),c_(a,u,m),Lp(a,u,m,y),m=!0;else if(i===null){var R=a.stateNode,W=a.memoizedProps;R.props=W;var H=R.context,J=u.contextType;typeof J=="object"&&J!==null?J=Cr(J):(J=$n(u)?fa:Tn.current,J=pl(a,J));var ie=u.getDerivedStateFromProps,ae=typeof ie=="function"||typeof R.getSnapshotBeforeUpdate=="function";ae||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(W!==m||H!==J)&&u_(a,R,m,J),Ji=!1;var re=a.memoizedState;R.state=re,sh(a,m,R,y),H=a.memoizedState,W!==m||re!==H||Wn.current||Ji?(typeof ie=="function"&&(Mp(a,u,ie,m),H=a.memoizedState),(W=Ji||l_(a,u,W,m,re,H,J))?(ae||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(a.flags|=4194308)):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=H),R.props=m,R.state=H,R.context=J,m=W):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{R=a.stateNode,Lw(i,a),W=a.memoizedProps,J=a.type===a.elementType?W:Ur(a.type,W),R.props=J,ae=a.pendingProps,re=R.context,H=u.contextType,typeof H=="object"&&H!==null?H=Cr(H):(H=$n(u)?fa:Tn.current,H=pl(a,H));var we=u.getDerivedStateFromProps;(ie=typeof we=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(W!==ae||re!==H)&&u_(a,R,m,H),Ji=!1,re=a.memoizedState,R.state=re,sh(a,m,R,y);var Ce=a.memoizedState;W!==ae||re!==Ce||Wn.current||Ji?(typeof we=="function"&&(Mp(a,u,we,m),Ce=a.memoizedState),(J=Ji||l_(a,u,J,m,re,Ce,H)||!1)?(ie||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,Ce,H),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,Ce,H)),typeof R.componentDidUpdate=="function"&&(a.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof R.componentDidUpdate!="function"||W===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||W===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=Ce),R.props=m,R.state=Ce,R.context=H,m=J):(typeof R.componentDidUpdate!="function"||W===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||W===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),m=!1)}return zp(i,a,u,m,_,y)}function zp(i,a,u,m,y,_){w_(i,a);var R=(a.flags&128)!==0;if(!m&&!R)return y&&Tw(a,u,!1),gi(i,a,_);m=a.stateNode,NA.current=a;var W=R&&typeof u.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,i!==null&&R?(a.child=xl(a,i.child,null,_),a.child=xl(a,null,W,_)):Vn(i,a,W,_),a.memoizedState=m.state,y&&Tw(a,u,!0),a.child}function E_(i){var a=i.stateNode;a.pendingContext?Sw(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Sw(i,a.context,!1),Sp(i,a.containerInfo)}function b_(i,a,u,m,y){return yl(),vp(y),a.flags|=256,Vn(i,a,u,m),a.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function Wp(i){return{baseLanes:i,cachePool:null,transitions:null}}function S_(i,a,u){var m=a.pendingProps,y=Vt.current,_=!1,R=(a.flags&128)!==0,W;if((W=R)||(W=i!==null&&i.memoizedState===null?!1:(y&2)!==0),W?(_=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),kt(Vt,y&1),i===null)return gp(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(R=m.children,i=m.fallback,_?(m=a.mode,_=a.child,R={mode:"hidden",children:R},(m&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=R):_=Ch(R,m,0,null),i=ba(i,m,u,null),_.return=a,i.return=a,_.sibling=i,a.child=_,a.child.memoizedState=Wp(u),a.memoizedState=Bp,i):$p(a,R));if(y=i.memoizedState,y!==null&&(W=y.dehydrated,W!==null))return IA(i,a,R,m,W,y,u);if(_){_=m.fallback,R=a.mode,y=i.child,W=y.sibling;var H={mode:"hidden",children:m.children};return(R&1)===0&&a.child!==y?(m=a.child,m.childLanes=0,m.pendingProps=H,a.deletions=null):(m=io(y,H),m.subtreeFlags=y.subtreeFlags&14680064),W!==null?_=io(W,_):(_=ba(_,R,u,null),_.flags|=2),_.return=a,m.return=a,m.sibling=_,a.child=m,m=_,_=a.child,R=i.child.memoizedState,R=R===null?Wp(u):{baseLanes:R.baseLanes|u,cachePool:null,transitions:R.transitions},_.memoizedState=R,_.childLanes=i.childLanes&~u,a.memoizedState=Bp,m}return _=i.child,i=_.sibling,m=io(_,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=u),m.return=a,m.sibling=null,i!==null&&(u=a.deletions,u===null?(a.deletions=[i],a.flags|=16):u.push(i)),a.child=m,a.memoizedState=null,m}function $p(i,a){return a=Ch({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function hh(i,a,u,m){return m!==null&&vp(m),xl(a,i.child,null,u),i=$p(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function IA(i,a,u,m,y,_,R){if(u)return a.flags&256?(a.flags&=-257,m=Vp(Error(n(422))),hh(i,a,R,m)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(_=m.fallback,y=a.mode,m=Ch({mode:"visible",children:m.children},y,0,null),_=ba(_,y,R,null),_.flags|=2,m.return=a,_.return=a,m.sibling=_,a.child=m,(a.mode&1)!==0&&xl(a,i.child,null,R),a.child.memoizedState=Wp(R),a.memoizedState=Bp,_);if((a.mode&1)===0)return hh(i,a,R,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var W=m.dgst;return m=W,_=Error(n(419)),m=Vp(_,m,void 0),hh(i,a,R,m)}if(W=(R&i.childLanes)!==0,Hn||W){if(m=hn,m!==null){switch(R&-R){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|R))!==0?0:y,y!==0&&y!==_.retryLane&&(_.retryLane=y,mi(i,y),Wr(m,i,y,-1))}return og(),m=Vp(Error(n(421))),hh(i,a,R,m)}return y.data==="$?"?(a.flags|=128,a.child=i.child,a=zA.bind(null,i),y._reactRetry=a,null):(i=_.treeContext,lr=Ki(y.nextSibling),ar=a,Ot=!0,Fr=null,i!==null&&(br[Sr++]=hi,br[Sr++]=fi,br[Sr++]=ma,hi=i.id,fi=i.overflow,ma=a),a=$p(a,m.children),a.flags|=4096,a)}function C_(i,a,u){i.lanes|=a;var m=i.alternate;m!==null&&(m.lanes|=a),_p(i.return,a,u)}function Hp(i,a,u,m,y){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=m,_.tail=u,_.tailMode=y)}function T_(i,a,u){var m=a.pendingProps,y=m.revealOrder,_=m.tail;if(Vn(i,a,m.children,u),m=Vt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&C_(i,u,a);else if(i.tag===19)C_(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(kt(Vt,m),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(u=a.child,y=null;u!==null;)i=u.alternate,i!==null&&ih(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),Hp(a,!1,y,u,_);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&ih(i)===null){a.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}Hp(a,!0,u,null,_);break;case"together":Hp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function fh(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function gi(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),xa|=a.lanes,(u&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,u=io(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=io(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function kA(i,a,u){switch(a.tag){case 3:E_(a),yl();break;case 5:Uw(a);break;case 1:$n(a.type)&&Yd(a);break;case 4:Sp(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,y=a.memoizedProps.value;kt(th,m._currentValue),m._currentValue=y;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(kt(Vt,Vt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?S_(i,a,u):(kt(Vt,Vt.current&1),i=gi(i,a,u),i!==null?i.sibling:null);kt(Vt,Vt.current&1);break;case 19:if(m=(u&a.childLanes)!==0,(i.flags&128)!==0){if(m)return T_(i,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),kt(Vt,Vt.current),m)break;return null;case 22:case 23:return a.lanes=0,x_(i,a,u)}return gi(i,a,u)}var N_,qp,I_,k_;N_=function(i,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},qp=function(){},I_=function(i,a,u,m){var y=i.memoizedProps;if(y!==m){i=a.stateNode,va(Ss.current);var _=null;switch(u){case"input":y=$t(i,y),m=$t(i,m),_=[];break;case"select":y=te({},y,{value:void 0}),m=te({},m,{value:void 0}),_=[];break;case"textarea":y=nn(i,y),m=nn(i,m),_=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=qd)}Bn(u,m);var R;u=null;for(J in y)if(!m.hasOwnProperty(J)&&y.hasOwnProperty(J)&&y[J]!=null)if(J==="style"){var W=y[J];for(R in W)W.hasOwnProperty(R)&&(u||(u={}),u[R]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(s.hasOwnProperty(J)?_||(_=[]):(_=_||[]).push(J,null));for(J in m){var H=m[J];if(W=y!=null?y[J]:void 0,m.hasOwnProperty(J)&&H!==W&&(H!=null||W!=null))if(J==="style")if(W){for(R in W)!W.hasOwnProperty(R)||H&&H.hasOwnProperty(R)||(u||(u={}),u[R]="");for(R in H)H.hasOwnProperty(R)&&W[R]!==H[R]&&(u||(u={}),u[R]=H[R])}else u||(_||(_=[]),_.push(J,u)),u=H;else J==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,W=W?W.__html:void 0,H!=null&&W!==H&&(_=_||[]).push(J,H)):J==="children"?typeof H!="string"&&typeof H!="number"||(_=_||[]).push(J,""+H):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(s.hasOwnProperty(J)?(H!=null&&J==="onScroll"&&Pt("scroll",i),_||W===H||(_=[])):(_=_||[]).push(J,H))}u&&(_=_||[]).push("style",u);var J=_;(a.updateQueue=J)&&(a.flags|=4)}},k_=function(i,a,u,m){u!==m&&(a.flags|=4)};function hu(i,a){if(!Ot)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function In(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(a)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=m,i.childLanes=u,a}function AA(i,a,u){var m=a.pendingProps;switch(mp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(a),null;case 1:return $n(a.type)&&Kd(),In(a),null;case 3:return m=a.stateNode,El(),jt(Wn),jt(Tn),Np(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Zd(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Fr!==null&&(rg(Fr),Fr=null))),qp(i,a),In(a),null;case 5:Cp(a);var y=va(au.current);if(u=a.type,i!==null&&a.stateNode!=null)I_(i,a,u,m,y),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return In(a),null}if(i=va(Ss.current),Zd(a)){m=a.stateNode,u=a.type;var _=a.memoizedProps;switch(m[bs]=a,m[nu]=_,i=(a.mode&1)!==0,u){case"dialog":Pt("cancel",m),Pt("close",m);break;case"iframe":case"object":case"embed":Pt("load",m);break;case"video":case"audio":for(y=0;y<Zc.length;y++)Pt(Zc[y],m);break;case"source":Pt("error",m);break;case"img":case"image":case"link":Pt("error",m),Pt("load",m);break;case"details":Pt("toggle",m);break;case"input":zn(m,_),Pt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!_.multiple},Pt("invalid",m);break;case"textarea":Sn(m,_),Pt("invalid",m)}Bn(u,_),y=null;for(var R in _)if(_.hasOwnProperty(R)){var W=_[R];R==="children"?typeof W=="string"?m.textContent!==W&&(_.suppressHydrationWarning!==!0&&Hd(m.textContent,W,i),y=["children",W]):typeof W=="number"&&m.textContent!==""+W&&(_.suppressHydrationWarning!==!0&&Hd(m.textContent,W,i),y=["children",""+W]):s.hasOwnProperty(R)&&W!=null&&R==="onScroll"&&Pt("scroll",m)}switch(u){case"input":Je(m),St(m,_,!0);break;case"textarea":Je(m),Zn(m);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(m.onclick=qd)}m=y,a.updateQueue=m,m!==null&&(a.flags|=4)}else{R=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=os(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=R.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=R.createElement(u,{is:m.is}):(i=R.createElement(u),u==="select"&&(R=i,m.multiple?R.multiple=!0:m.size&&(R.size=m.size))):i=R.createElementNS(i,u),i[bs]=a,i[nu]=m,N_(i,a,!1,!1),a.stateNode=i;e:{switch(R=Ui(u,m),u){case"dialog":Pt("cancel",i),Pt("close",i),y=m;break;case"iframe":case"object":case"embed":Pt("load",i),y=m;break;case"video":case"audio":for(y=0;y<Zc.length;y++)Pt(Zc[y],i);y=m;break;case"source":Pt("error",i),y=m;break;case"img":case"image":case"link":Pt("error",i),Pt("load",i),y=m;break;case"details":Pt("toggle",i),y=m;break;case"input":zn(i,m),y=$t(i,m),Pt("invalid",i);break;case"option":y=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},y=te({},m,{value:void 0}),Pt("invalid",i);break;case"textarea":Sn(i,m),y=nn(i,m),Pt("invalid",i);break;default:y=m}Bn(u,y),W=y;for(_ in W)if(W.hasOwnProperty(_)){var H=W[_];_==="style"?Fi(i,H):_==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&$a(i,H)):_==="children"?typeof H=="string"?(u!=="textarea"||H!=="")&&ei(i,H):typeof H=="number"&&ei(i,""+H):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?H!=null&&_==="onScroll"&&Pt("scroll",i):H!=null&&j(i,_,H,R))}switch(u){case"input":Je(i),St(i,m,!1);break;case"textarea":Je(i),Zn(i);break;case"option":m.value!=null&&i.setAttribute("value",""+Ee(m.value));break;case"select":i.multiple=!!m.multiple,_=m.value,_!=null?Lt(i,!!m.multiple,_,!1):m.defaultValue!=null&&Lt(i,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=qd)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return In(a),null;case 6:if(i&&a.stateNode!=null)k_(i,a,i.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(u=va(au.current),va(Ss.current),Zd(a)){if(m=a.stateNode,u=a.memoizedProps,m[bs]=a,(_=m.nodeValue!==u)&&(i=ar,i!==null))switch(i.tag){case 3:Hd(m.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Hd(m.nodeValue,u,(i.mode&1)!==0)}_&&(a.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[bs]=a,a.stateNode=m}return In(a),null;case 13:if(jt(Vt),m=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ot&&lr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Pw(),yl(),a.flags|=98560,_=!1;else if(_=Zd(a),m!==null&&m.dehydrated!==null){if(i===null){if(!_)throw Error(n(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[bs]=a}else yl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;In(a),_=!1}else Fr!==null&&(rg(Fr),Fr=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(Vt.current&1)!==0?sn===0&&(sn=3):og())),a.updateQueue!==null&&(a.flags|=4),In(a),null);case 4:return El(),qp(i,a),i===null&&eu(a.stateNode.containerInfo),In(a),null;case 10:return wp(a.type._context),In(a),null;case 17:return $n(a.type)&&Kd(),In(a),null;case 19:if(jt(Vt),_=a.memoizedState,_===null)return In(a),null;if(m=(a.flags&128)!==0,R=_.rendering,R===null)if(m)hu(_,!1);else{if(sn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(R=ih(i),R!==null){for(a.flags|=128,hu(_,!1),m=R.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=u,u=a.child;u!==null;)_=u,i=m,_.flags&=14680066,R=_.alternate,R===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=R.childLanes,_.lanes=R.lanes,_.child=R.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=R.memoizedProps,_.memoizedState=R.memoizedState,_.updateQueue=R.updateQueue,_.type=R.type,i=R.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return kt(Vt,Vt.current&1|2),a.child}i=i.sibling}_.tail!==null&&Rt()>Tl&&(a.flags|=128,m=!0,hu(_,!1),a.lanes=4194304)}else{if(!m)if(i=ih(R),i!==null){if(a.flags|=128,m=!0,u=i.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),hu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!R.alternate&&!Ot)return In(a),null}else 2*Rt()-_.renderingStartTime>Tl&&u!==1073741824&&(a.flags|=128,m=!0,hu(_,!1),a.lanes=4194304);_.isBackwards?(R.sibling=a.child,a.child=R):(u=_.last,u!==null?u.sibling=R:a.child=R,_.last=R)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=Rt(),a.sibling=null,u=Vt.current,kt(Vt,m?u&1|2:u&1),a):(In(a),null);case 22:case 23:return ig(),m=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(cr&1073741824)!==0&&(In(a),a.subtreeFlags&6&&(a.flags|=8192)):In(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function RA(i,a){switch(mp(a),a.tag){case 1:return $n(a.type)&&Kd(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return El(),jt(Wn),jt(Tn),Np(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Cp(a),null;case 13:if(jt(Vt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));yl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return jt(Vt),null;case 4:return El(),null;case 10:return wp(a.type._context),null;case 22:case 23:return ig(),null;case 24:return null;default:return null}}var mh=!1,kn=!1,PA=typeof WeakSet=="function"?WeakSet:Set,be=null;function Sl(i,a){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){Ht(i,a,m)}else u.current=null}function Gp(i,a,u){try{u()}catch(m){Ht(i,a,m)}}var A_=!1;function jA(i,a){if(ip=ai,i=lw(),Xm(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var R=0,W=-1,H=-1,J=0,ie=0,ae=i,re=null;t:for(;;){for(var we;ae!==u||y!==0&&ae.nodeType!==3||(W=R+y),ae!==_||m!==0&&ae.nodeType!==3||(H=R+m),ae.nodeType===3&&(R+=ae.nodeValue.length),(we=ae.firstChild)!==null;)re=ae,ae=we;for(;;){if(ae===i)break t;if(re===u&&++J===y&&(W=R),re===_&&++ie===m&&(H=R),(we=ae.nextSibling)!==null)break;ae=re,re=ae.parentNode}ae=we}u=W===-1||H===-1?null:{start:W,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(op={focusedElem:i,selectionRange:u},ai=!1,be=a;be!==null;)if(a=be,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,be=i;else for(;be!==null;){a=be;try{var Ce=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Ie=Ce.memoizedProps,Kt=Ce.memoizedState,Y=a.stateNode,G=Y.getSnapshotBeforeUpdate(a.elementType===a.type?Ie:Ur(a.type,Ie),Kt);Y.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var X=a.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(de){Ht(a,a.return,de)}if(i=a.sibling,i!==null){i.return=a.return,be=i;break}be=a.return}return Ce=A_,A_=!1,Ce}function fu(i,a,u){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&i)===i){var _=y.destroy;y.destroy=void 0,_!==void 0&&Gp(a,u,_)}y=y.next}while(y!==m)}}function ph(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&i)===i){var m=u.create;u.destroy=m()}u=u.next}while(u!==a)}}function Kp(i){var a=i.ref;if(a!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof a=="function"?a(i):a.current=i}}function R_(i){var a=i.alternate;a!==null&&(i.alternate=null,R_(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[bs],delete a[nu],delete a[up],delete a[pA],delete a[gA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function P_(i){return i.tag===5||i.tag===3||i.tag===4}function j_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||P_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Yp(i,a,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(i,a):u.insertBefore(i,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(i,u)):(a=u,a.appendChild(i)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=qd));else if(m!==4&&(i=i.child,i!==null))for(Yp(i,a,u),i=i.sibling;i!==null;)Yp(i,a,u),i=i.sibling}function Qp(i,a,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(Qp(i,a,u),i=i.sibling;i!==null;)Qp(i,a,u),i=i.sibling}var xn=null,zr=!1;function eo(i,a,u){for(u=u.child;u!==null;)D_(i,a,u),u=u.sibling}function D_(i,a,u){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(ra,u)}catch{}switch(u.tag){case 5:kn||Sl(u,a);case 6:var m=xn,y=zr;xn=null,eo(i,a,u),xn=m,zr=y,xn!==null&&(zr?(i=xn,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):xn.removeChild(u.stateNode));break;case 18:xn!==null&&(zr?(i=xn,u=u.stateNode,i.nodeType===8?cp(i.parentNode,u):i.nodeType===1&&cp(i,u),$i(i)):cp(xn,u.stateNode));break;case 4:m=xn,y=zr,xn=u.stateNode.containerInfo,zr=!0,eo(i,a,u),xn=m,zr=y;break;case 0:case 11:case 14:case 15:if(!kn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var _=y,R=_.destroy;_=_.tag,R!==void 0&&((_&2)!==0||(_&4)!==0)&&Gp(u,a,R),y=y.next}while(y!==m)}eo(i,a,u);break;case 1:if(!kn&&(Sl(u,a),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(W){Ht(u,a,W)}eo(i,a,u);break;case 21:eo(i,a,u);break;case 22:u.mode&1?(kn=(m=kn)||u.memoizedState!==null,eo(i,a,u),kn=m):eo(i,a,u);break;default:eo(i,a,u)}}function O_(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new PA),a.forEach(function(m){var y=BA.bind(null,i,m);u.has(m)||(u.add(m),m.then(y,y))})}}function Br(i,a){var u=a.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];try{var _=i,R=a,W=R;e:for(;W!==null;){switch(W.tag){case 5:xn=W.stateNode,zr=!1;break e;case 3:xn=W.stateNode.containerInfo,zr=!0;break e;case 4:xn=W.stateNode.containerInfo,zr=!0;break e}W=W.return}if(xn===null)throw Error(n(160));D_(_,R,y),xn=null,zr=!1;var H=y.alternate;H!==null&&(H.return=null),y.return=null}catch(J){Ht(y,a,J)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)M_(a,i),a=a.sibling}function M_(i,a){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Br(a,i),Ts(i),m&4){try{fu(3,i,i.return),ph(3,i)}catch(Ie){Ht(i,i.return,Ie)}try{fu(5,i,i.return)}catch(Ie){Ht(i,i.return,Ie)}}break;case 1:Br(a,i),Ts(i),m&512&&u!==null&&Sl(u,u.return);break;case 5:if(Br(a,i),Ts(i),m&512&&u!==null&&Sl(u,u.return),i.flags&32){var y=i.stateNode;try{ei(y,"")}catch(Ie){Ht(i,i.return,Ie)}}if(m&4&&(y=i.stateNode,y!=null)){var _=i.memoizedProps,R=u!==null?u.memoizedProps:_,W=i.type,H=i.updateQueue;if(i.updateQueue=null,H!==null)try{W==="input"&&_.type==="radio"&&_.name!=null&&fe(y,_),Ui(W,R);var J=Ui(W,_);for(R=0;R<H.length;R+=2){var ie=H[R],ae=H[R+1];ie==="style"?Fi(y,ae):ie==="dangerouslySetInnerHTML"?$a(y,ae):ie==="children"?ei(y,ae):j(y,ie,ae,J)}switch(W){case"input":Pe(y,_);break;case"textarea":Qt(y,_);break;case"select":var re=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!_.multiple;var we=_.value;we!=null?Lt(y,!!_.multiple,we,!1):re!==!!_.multiple&&(_.defaultValue!=null?Lt(y,!!_.multiple,_.defaultValue,!0):Lt(y,!!_.multiple,_.multiple?[]:"",!1))}y[nu]=_}catch(Ie){Ht(i,i.return,Ie)}}break;case 6:if(Br(a,i),Ts(i),m&4){if(i.stateNode===null)throw Error(n(162));y=i.stateNode,_=i.memoizedProps;try{y.nodeValue=_}catch(Ie){Ht(i,i.return,Ie)}}break;case 3:if(Br(a,i),Ts(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{$i(a.containerInfo)}catch(Ie){Ht(i,i.return,Ie)}break;case 4:Br(a,i),Ts(i);break;case 13:Br(a,i),Ts(i),y=i.child,y.flags&8192&&(_=y.memoizedState!==null,y.stateNode.isHidden=_,!_||y.alternate!==null&&y.alternate.memoizedState!==null||(Zp=Rt())),m&4&&O_(i);break;case 22:if(ie=u!==null&&u.memoizedState!==null,i.mode&1?(kn=(J=kn)||ie,Br(a,i),kn=J):Br(a,i),Ts(i),m&8192){if(J=i.memoizedState!==null,(i.stateNode.isHidden=J)&&!ie&&(i.mode&1)!==0)for(be=i,ie=i.child;ie!==null;){for(ae=be=ie;be!==null;){switch(re=be,we=re.child,re.tag){case 0:case 11:case 14:case 15:fu(4,re,re.return);break;case 1:Sl(re,re.return);var Ce=re.stateNode;if(typeof Ce.componentWillUnmount=="function"){m=re,u=re.return;try{a=m,Ce.props=a.memoizedProps,Ce.state=a.memoizedState,Ce.componentWillUnmount()}catch(Ie){Ht(m,u,Ie)}}break;case 5:Sl(re,re.return);break;case 22:if(re.memoizedState!==null){F_(ae);continue}}we!==null?(we.return=re,be=we):F_(ae)}ie=ie.sibling}e:for(ie=null,ae=i;;){if(ae.tag===5){if(ie===null){ie=ae;try{y=ae.stateNode,J?(_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(W=ae.stateNode,H=ae.memoizedProps.style,R=H!=null&&H.hasOwnProperty("display")?H.display:null,W.style.display=cs("display",R))}catch(Ie){Ht(i,i.return,Ie)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=J?"":ae.memoizedProps}catch(Ie){Ht(i,i.return,Ie)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===i)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===i)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===i)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Br(a,i),Ts(i),m&4&&O_(i);break;case 21:break;default:Br(a,i),Ts(i)}}function Ts(i){var a=i.flags;if(a&2){try{e:{for(var u=i.return;u!==null;){if(P_(u)){var m=u;break e}u=u.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(ei(y,""),m.flags&=-33);var _=j_(i);Qp(i,_,y);break;case 3:case 4:var R=m.stateNode.containerInfo,W=j_(i);Yp(i,W,R);break;default:throw Error(n(161))}}catch(H){Ht(i,i.return,H)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function DA(i,a,u){be=i,L_(i)}function L_(i,a,u){for(var m=(i.mode&1)!==0;be!==null;){var y=be,_=y.child;if(y.tag===22&&m){var R=y.memoizedState!==null||mh;if(!R){var W=y.alternate,H=W!==null&&W.memoizedState!==null||kn;W=mh;var J=kn;if(mh=R,(kn=H)&&!J)for(be=y;be!==null;)R=be,H=R.child,R.tag===22&&R.memoizedState!==null?U_(y):H!==null?(H.return=R,be=H):U_(y);for(;_!==null;)be=_,L_(_),_=_.sibling;be=y,mh=W,kn=J}V_(i)}else(y.subtreeFlags&8772)!==0&&_!==null?(_.return=y,be=_):V_(i)}}function V_(i){for(;be!==null;){var a=be;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:kn||ph(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!kn)if(u===null)m.componentDidMount();else{var y=a.elementType===a.type?u.memoizedProps:Ur(a.type,u.memoizedProps);m.componentDidUpdate(y,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&Fw(a,_,m);break;case 3:var R=a.updateQueue;if(R!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Fw(a,R,u)}break;case 5:var W=a.stateNode;if(u===null&&a.flags&4){u=W;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&u.focus();break;case"img":H.src&&(u.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var J=a.alternate;if(J!==null){var ie=J.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&$i(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}kn||a.flags&512&&Kp(a)}catch(re){Ht(a,a.return,re)}}if(a===i){be=null;break}if(u=a.sibling,u!==null){u.return=a.return,be=u;break}be=a.return}}function F_(i){for(;be!==null;){var a=be;if(a===i){be=null;break}var u=a.sibling;if(u!==null){u.return=a.return,be=u;break}be=a.return}}function U_(i){for(;be!==null;){var a=be;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{ph(4,a)}catch(H){Ht(a,u,H)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var y=a.return;try{m.componentDidMount()}catch(H){Ht(a,y,H)}}var _=a.return;try{Kp(a)}catch(H){Ht(a,_,H)}break;case 5:var R=a.return;try{Kp(a)}catch(H){Ht(a,R,H)}}}catch(H){Ht(a,a.return,H)}if(a===i){be=null;break}var W=a.sibling;if(W!==null){W.return=a.return,be=W;break}be=a.return}}var OA=Math.ceil,gh=B.ReactCurrentDispatcher,Xp=B.ReactCurrentOwner,Nr=B.ReactCurrentBatchConfig,pt=0,hn=null,Jt=null,wn=0,cr=0,Cl=Yi(0),sn=0,mu=null,xa=0,vh=0,Jp=0,pu=null,qn=null,Zp=0,Tl=1/0,vi=null,yh=!1,eg=null,to=null,xh=!1,no=null,wh=0,gu=0,tg=null,_h=-1,Eh=0;function Fn(){return(pt&6)!==0?Rt():_h!==-1?_h:_h=Rt()}function ro(i){return(i.mode&1)===0?1:(pt&2)!==0&&wn!==0?wn&-wn:yA.transition!==null?(Eh===0&&(Eh=Lc()),Eh):(i=dt,i!==0||(i=window.event,i=i===void 0?16:tl(i.type)),i)}function Wr(i,a,u,m){if(50<gu)throw gu=0,tg=null,Error(n(185));aa(i,u,m),((pt&2)===0||i!==hn)&&(i===hn&&((pt&2)===0&&(vh|=u),sn===4&&so(i,wn)),Gn(i,m),u===1&&pt===0&&(a.mode&1)===0&&(Tl=Rt()+500,Qd&&Xi()))}function Gn(i,a){var u=i.callbackNode;oa(i,a);var m=si(i,i===hn?wn:0);if(m===0)u!==null&&Ka(u),i.callbackNode=null,i.callbackPriority=0;else if(a=m&-m,i.callbackPriority!==a){if(u!=null&&Ka(u),a===1)i.tag===0?vA(B_.bind(null,i)):Nw(B_.bind(null,i)),fA(function(){(pt&6)===0&&Xi()}),u=null;else{switch(fs(m)){case 1:u=Ya;break;case 4:u=Dc;break;case 16:u=na;break;case 536870912:u=Qa;break;default:u=na}u=Q_(u,z_.bind(null,i))}i.callbackPriority=a,i.callbackNode=u}}function z_(i,a){if(_h=-1,Eh=0,(pt&6)!==0)throw Error(n(327));var u=i.callbackNode;if(Nl()&&i.callbackNode!==u)return null;var m=si(i,i===hn?wn:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||a)a=bh(i,m);else{a=m;var y=pt;pt|=2;var _=$_();(hn!==i||wn!==a)&&(vi=null,Tl=Rt()+500,_a(i,a));do try{VA();break}catch(W){W_(i,W)}while(!0);xp(),gh.current=_,pt=y,Jt!==null?a=0:(hn=null,wn=0,a=sn)}if(a!==0){if(a===2&&(y=Mc(i),y!==0&&(m=y,a=ng(i,y))),a===1)throw u=mu,_a(i,0),so(i,m),Gn(i,Rt()),u;if(a===6)so(i,m);else{if(y=i.current.alternate,(m&30)===0&&!MA(y)&&(a=bh(i,m),a===2&&(_=Mc(i),_!==0&&(m=_,a=ng(i,_))),a===1))throw u=mu,_a(i,0),so(i,m),Gn(i,Rt()),u;switch(i.finishedWork=y,i.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:Ea(i,qn,vi);break;case 3:if(so(i,m),(m&130023424)===m&&(a=Zp+500-Rt(),10<a)){if(si(i,0)!==0)break;if(y=i.suspendedLanes,(y&m)!==m){Fn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=lp(Ea.bind(null,i,qn,vi),a);break}Ea(i,qn,vi);break;case 4:if(so(i,m),(m&4194240)===m)break;for(a=i.eventTimes,y=-1;0<m;){var R=31-nr(m);_=1<<R,R=a[R],R>y&&(y=R),m&=~_}if(m=y,m=Rt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*OA(m/1960))-m,10<m){i.timeoutHandle=lp(Ea.bind(null,i,qn,vi),m);break}Ea(i,qn,vi);break;case 5:Ea(i,qn,vi);break;default:throw Error(n(329))}}}return Gn(i,Rt()),i.callbackNode===u?z_.bind(null,i):null}function ng(i,a){var u=pu;return i.current.memoizedState.isDehydrated&&(_a(i,a).flags|=256),i=bh(i,a),i!==2&&(a=qn,qn=u,a!==null&&rg(a)),i}function rg(i){qn===null?qn=i:qn.push.apply(qn,i)}function MA(i){for(var a=i;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var y=u[m],_=y.getSnapshot;y=y.value;try{if(!Vr(_(),y))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function so(i,a){for(a&=~Jp,a&=~vh,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var u=31-nr(a),m=1<<u;i[u]=-1,a&=~m}}function B_(i){if((pt&6)!==0)throw Error(n(327));Nl();var a=si(i,0);if((a&1)===0)return Gn(i,Rt()),null;var u=bh(i,a);if(i.tag!==0&&u===2){var m=Mc(i);m!==0&&(a=m,u=ng(i,m))}if(u===1)throw u=mu,_a(i,0),so(i,a),Gn(i,Rt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Ea(i,qn,vi),Gn(i,Rt()),null}function sg(i,a){var u=pt;pt|=1;try{return i(a)}finally{pt=u,pt===0&&(Tl=Rt()+500,Qd&&Xi())}}function wa(i){no!==null&&no.tag===0&&(pt&6)===0&&Nl();var a=pt;pt|=1;var u=Nr.transition,m=dt;try{if(Nr.transition=null,dt=1,i)return i()}finally{dt=m,Nr.transition=u,pt=a,(pt&6)===0&&Xi()}}function ig(){cr=Cl.current,jt(Cl)}function _a(i,a){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,hA(u)),Jt!==null)for(u=Jt.return;u!==null;){var m=u;switch(mp(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Kd();break;case 3:El(),jt(Wn),jt(Tn),Np();break;case 5:Cp(m);break;case 4:El();break;case 13:jt(Vt);break;case 19:jt(Vt);break;case 10:wp(m.type._context);break;case 22:case 23:ig()}u=u.return}if(hn=i,Jt=i=io(i.current,null),wn=cr=a,sn=0,mu=null,Jp=vh=xa=0,qn=pu=null,ga!==null){for(a=0;a<ga.length;a++)if(u=ga[a],m=u.interleaved,m!==null){u.interleaved=null;var y=m.next,_=u.pending;if(_!==null){var R=_.next;_.next=y,m.next=R}u.pending=m}ga=null}return i}function W_(i,a){do{var u=Jt;try{if(xp(),oh.current=uh,ah){for(var m=Ft.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}ah=!1}if(ya=0,dn=rn=Ft=null,lu=!1,cu=0,Xp.current=null,u===null||u.return===null){sn=1,mu=a,Jt=null;break}e:{var _=i,R=u.return,W=u,H=a;if(a=wn,W.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var J=H,ie=W,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var we=m_(R);if(we!==null){we.flags&=-257,p_(we,R,W,_,a),we.mode&1&&f_(_,J,a),a=we,H=J;var Ce=a.updateQueue;if(Ce===null){var Ie=new Set;Ie.add(H),a.updateQueue=Ie}else Ce.add(H);break e}else{if((a&1)===0){f_(_,J,a),og();break e}H=Error(n(426))}}else if(Ot&&W.mode&1){var Kt=m_(R);if(Kt!==null){(Kt.flags&65536)===0&&(Kt.flags|=256),p_(Kt,R,W,_,a),vp(bl(H,W));break e}}_=H=bl(H,W),sn!==4&&(sn=2),pu===null?pu=[_]:pu.push(_),_=R;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var Y=d_(_,H,a);Vw(_,Y);break e;case 1:W=H;var G=_.type,X=_.stateNode;if((_.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(to===null||!to.has(X)))){_.flags|=65536,a&=-a,_.lanes|=a;var de=h_(_,W,a);Vw(_,de);break e}}_=_.return}while(_!==null)}q_(u)}catch(ke){a=ke,Jt===u&&u!==null&&(Jt=u=u.return);continue}break}while(!0)}function $_(){var i=gh.current;return gh.current=uh,i===null?uh:i}function og(){(sn===0||sn===3||sn===2)&&(sn=4),hn===null||(xa&268435455)===0&&(vh&268435455)===0||so(hn,wn)}function bh(i,a){var u=pt;pt|=2;var m=$_();(hn!==i||wn!==a)&&(vi=null,_a(i,a));do try{LA();break}catch(y){W_(i,y)}while(!0);if(xp(),pt=u,gh.current=m,Jt!==null)throw Error(n(261));return hn=null,wn=0,sn}function LA(){for(;Jt!==null;)H_(Jt)}function VA(){for(;Jt!==null&&!ta();)H_(Jt)}function H_(i){var a=Y_(i.alternate,i,cr);i.memoizedProps=i.pendingProps,a===null?q_(i):Jt=a,Xp.current=null}function q_(i){var a=i;do{var u=a.alternate;if(i=a.return,(a.flags&32768)===0){if(u=AA(u,a,cr),u!==null){Jt=u;return}}else{if(u=RA(u,a),u!==null){u.flags&=32767,Jt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{sn=6,Jt=null;return}}if(a=a.sibling,a!==null){Jt=a;return}Jt=a=i}while(a!==null);sn===0&&(sn=5)}function Ea(i,a,u){var m=dt,y=Nr.transition;try{Nr.transition=null,dt=1,FA(i,a,u,m)}finally{Nr.transition=y,dt=m}return null}function FA(i,a,u,m){do Nl();while(no!==null);if((pt&6)!==0)throw Error(n(327));u=i.finishedWork;var y=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var _=u.lanes|u.childLanes;if(qm(i,_),i===hn&&(Jt=hn=null,wn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||xh||(xh=!0,Q_(na,function(){return Nl(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=Nr.transition,Nr.transition=null;var R=dt;dt=1;var W=pt;pt|=4,Xp.current=null,jA(i,u),M_(u,i),iA(op),ai=!!ip,op=ip=null,i.current=u,DA(u),ri(),pt=W,dt=R,Nr.transition=_}else i.current=u;if(xh&&(xh=!1,no=i,wh=y),_=i.pendingLanes,_===0&&(to=null),Ad(u.stateNode),Gn(i,Rt()),a!==null)for(m=i.onRecoverableError,u=0;u<a.length;u++)y=a[u],m(y.value,{componentStack:y.stack,digest:y.digest});if(yh)throw yh=!1,i=eg,eg=null,i;return(wh&1)!==0&&i.tag!==0&&Nl(),_=i.pendingLanes,(_&1)!==0?i===tg?gu++:(gu=0,tg=i):gu=0,Xi(),null}function Nl(){if(no!==null){var i=fs(wh),a=Nr.transition,u=dt;try{if(Nr.transition=null,dt=16>i?16:i,no===null)var m=!1;else{if(i=no,no=null,wh=0,(pt&6)!==0)throw Error(n(331));var y=pt;for(pt|=4,be=i.current;be!==null;){var _=be,R=_.child;if((be.flags&16)!==0){var W=_.deletions;if(W!==null){for(var H=0;H<W.length;H++){var J=W[H];for(be=J;be!==null;){var ie=be;switch(ie.tag){case 0:case 11:case 15:fu(8,ie,_)}var ae=ie.child;if(ae!==null)ae.return=ie,be=ae;else for(;be!==null;){ie=be;var re=ie.sibling,we=ie.return;if(R_(ie),ie===J){be=null;break}if(re!==null){re.return=we,be=re;break}be=we}}}var Ce=_.alternate;if(Ce!==null){var Ie=Ce.child;if(Ie!==null){Ce.child=null;do{var Kt=Ie.sibling;Ie.sibling=null,Ie=Kt}while(Ie!==null)}}be=_}}if((_.subtreeFlags&2064)!==0&&R!==null)R.return=_,be=R;else e:for(;be!==null;){if(_=be,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:fu(9,_,_.return)}var Y=_.sibling;if(Y!==null){Y.return=_.return,be=Y;break e}be=_.return}}var G=i.current;for(be=G;be!==null;){R=be;var X=R.child;if((R.subtreeFlags&2064)!==0&&X!==null)X.return=R,be=X;else e:for(R=G;be!==null;){if(W=be,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:ph(9,W)}}catch(ke){Ht(W,W.return,ke)}if(W===R){be=null;break e}var de=W.sibling;if(de!==null){de.return=W.return,be=de;break e}be=W.return}}if(pt=y,Xi(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(ra,i)}catch{}m=!0}return m}finally{dt=u,Nr.transition=a}}return!1}function G_(i,a,u){a=bl(u,a),a=d_(i,a,1),i=Zi(i,a,1),a=Fn(),i!==null&&(aa(i,1,a),Gn(i,a))}function Ht(i,a,u){if(i.tag===3)G_(i,i,u);else for(;a!==null;){if(a.tag===3){G_(a,i,u);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(to===null||!to.has(m))){i=bl(u,i),i=h_(a,i,1),a=Zi(a,i,1),i=Fn(),a!==null&&(aa(a,1,i),Gn(a,i));break}}a=a.return}}function UA(i,a,u){var m=i.pingCache;m!==null&&m.delete(a),a=Fn(),i.pingedLanes|=i.suspendedLanes&u,hn===i&&(wn&u)===u&&(sn===4||sn===3&&(wn&130023424)===wn&&500>Rt()-Zp?_a(i,0):Jp|=u),Gn(i,a)}function K_(i,a){a===0&&((i.mode&1)===0?a=1:(a=zi,zi<<=1,(zi&130023424)===0&&(zi=4194304)));var u=Fn();i=mi(i,a),i!==null&&(aa(i,a,u),Gn(i,u))}function zA(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),K_(i,u)}function BA(i,a){var u=0;switch(i.tag){case 13:var m=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),K_(i,u)}var Y_;Y_=function(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps||Wn.current)Hn=!0;else{if((i.lanes&u)===0&&(a.flags&128)===0)return Hn=!1,kA(i,a,u);Hn=(i.flags&131072)!==0}else Hn=!1,Ot&&(a.flags&1048576)!==0&&Iw(a,Jd,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;fh(i,a),i=a.pendingProps;var y=pl(a,Tn.current);_l(a,u),y=Ap(null,a,m,i,y,u);var _=Rp();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,$n(m)?(_=!0,Yd(a)):_=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,bp(a),y.updater=dh,a.stateNode=y,y._reactInternals=a,Lp(a,m,i,u),a=zp(null,a,m,!0,_,u)):(a.tag=0,Ot&&_&&fp(a),Vn(null,a,y,u),a=a.child),a;case 16:m=a.elementType;e:{switch(fh(i,a),i=a.pendingProps,y=m._init,m=y(m._payload),a.type=m,y=a.tag=$A(m),i=Ur(m,i),y){case 0:a=Up(null,a,m,i,u);break e;case 1:a=__(null,a,m,i,u);break e;case 11:a=g_(null,a,m,i,u);break e;case 14:a=v_(null,a,m,Ur(m.type,i),u);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Ur(m,y),Up(i,a,m,y,u);case 1:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Ur(m,y),__(i,a,m,y,u);case 3:e:{if(E_(a),i===null)throw Error(n(387));m=a.pendingProps,_=a.memoizedState,y=_.element,Lw(i,a),sh(a,m,null,u);var R=a.memoizedState;if(m=R.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){y=bl(Error(n(423)),a),a=b_(i,a,m,u,y);break e}else if(m!==y){y=bl(Error(n(424)),a),a=b_(i,a,m,u,y);break e}else for(lr=Ki(a.stateNode.containerInfo.firstChild),ar=a,Ot=!0,Fr=null,u=Ow(a,null,m,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(yl(),m===y){a=gi(i,a,u);break e}Vn(i,a,m,u)}a=a.child}return a;case 5:return Uw(a),i===null&&gp(a),m=a.type,y=a.pendingProps,_=i!==null?i.memoizedProps:null,R=y.children,ap(m,y)?R=null:_!==null&&ap(m,_)&&(a.flags|=32),w_(i,a),Vn(i,a,R,u),a.child;case 6:return i===null&&gp(a),null;case 13:return S_(i,a,u);case 4:return Sp(a,a.stateNode.containerInfo),m=a.pendingProps,i===null?a.child=xl(a,null,m,u):Vn(i,a,m,u),a.child;case 11:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Ur(m,y),g_(i,a,m,y,u);case 7:return Vn(i,a,a.pendingProps,u),a.child;case 8:return Vn(i,a,a.pendingProps.children,u),a.child;case 12:return Vn(i,a,a.pendingProps.children,u),a.child;case 10:e:{if(m=a.type._context,y=a.pendingProps,_=a.memoizedProps,R=y.value,kt(th,m._currentValue),m._currentValue=R,_!==null)if(Vr(_.value,R)){if(_.children===y.children&&!Wn.current){a=gi(i,a,u);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var W=_.dependencies;if(W!==null){R=_.child;for(var H=W.firstContext;H!==null;){if(H.context===m){if(_.tag===1){H=pi(-1,u&-u),H.tag=2;var J=_.updateQueue;if(J!==null){J=J.shared;var ie=J.pending;ie===null?H.next=H:(H.next=ie.next,ie.next=H),J.pending=H}}_.lanes|=u,H=_.alternate,H!==null&&(H.lanes|=u),_p(_.return,u,a),W.lanes|=u;break}H=H.next}}else if(_.tag===10)R=_.type===a.type?null:_.child;else if(_.tag===18){if(R=_.return,R===null)throw Error(n(341));R.lanes|=u,W=R.alternate,W!==null&&(W.lanes|=u),_p(R,u,a),R=_.sibling}else R=_.child;if(R!==null)R.return=_;else for(R=_;R!==null;){if(R===a){R=null;break}if(_=R.sibling,_!==null){_.return=R.return,R=_;break}R=R.return}_=R}Vn(i,a,y.children,u),a=a.child}return a;case 9:return y=a.type,m=a.pendingProps.children,_l(a,u),y=Cr(y),m=m(y),a.flags|=1,Vn(i,a,m,u),a.child;case 14:return m=a.type,y=Ur(m,a.pendingProps),y=Ur(m.type,y),v_(i,a,m,y,u);case 15:return y_(i,a,a.type,a.pendingProps,u);case 17:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Ur(m,y),fh(i,a),a.tag=1,$n(m)?(i=!0,Yd(a)):i=!1,_l(a,u),c_(a,m,y),Lp(a,m,y,u),zp(null,a,m,!0,i,u);case 19:return T_(i,a,u);case 22:return x_(i,a,u)}throw Error(n(156,a.tag))};function Q_(i,a){return jc(i,a)}function WA(i,a,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(i,a,u,m){return new WA(i,a,u,m)}function ag(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $A(i){if(typeof i=="function")return ag(i)?1:0;if(i!=null){if(i=i.$$typeof,i===L)return 11;if(i===ve)return 14}return 2}function io(i,a){var u=i.alternate;return u===null?(u=Ir(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Sh(i,a,u,m,y,_){var R=2;if(m=i,typeof i=="function")ag(i)&&(R=1);else if(typeof i=="string")R=5;else e:switch(i){case N:return ba(u.children,y,_,a);case k:R=8,y|=8;break;case P:return i=Ir(12,u,a,y|2),i.elementType=P,i.lanes=_,i;case A:return i=Ir(13,u,a,y),i.elementType=A,i.lanes=_,i;case le:return i=Ir(19,u,a,y),i.elementType=le,i.lanes=_,i;case xe:return Ch(u,y,_,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:R=10;break e;case U:R=9;break e;case L:R=11;break e;case ve:R=14;break e;case pe:R=16,m=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=Ir(R,u,a,y),a.elementType=i,a.type=m,a.lanes=_,a}function ba(i,a,u,m){return i=Ir(7,i,m,a),i.lanes=u,i}function Ch(i,a,u,m){return i=Ir(22,i,m,a),i.elementType=xe,i.lanes=u,i.stateNode={isHidden:!1},i}function lg(i,a,u){return i=Ir(6,i,null,a),i.lanes=u,i}function cg(i,a,u){return a=Ir(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function HA(i,a,u,m,y){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vc(0),this.expirationTimes=Vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vc(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function ug(i,a,u,m,y,_,R,W,H){return i=new HA(i,a,u,W,H),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Ir(3,null,null,a),i.current=_,_.stateNode=i,_.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},bp(_),i}function qA(i,a,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:m==null?null:""+m,children:i,containerInfo:a,implementation:u}}function X_(i){if(!i)return Qi;i=i._reactInternals;e:{if(Mr(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if($n(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if($n(u))return Cw(i,u,a)}return a}function J_(i,a,u,m,y,_,R,W,H){return i=ug(u,m,!0,i,y,_,R,W,H),i.context=X_(null),u=i.current,m=Fn(),y=ro(u),_=pi(m,y),_.callback=a??null,Zi(u,_,y),i.current.lanes=y,aa(i,y,m),Gn(i,m),i}function Th(i,a,u,m){var y=a.current,_=Fn(),R=ro(y);return u=X_(u),a.context===null?a.context=u:a.pendingContext=u,a=pi(_,R),a.payload={element:i},m=m===void 0?null:m,m!==null&&(a.callback=m),i=Zi(y,a,R),i!==null&&(Wr(i,y,R,_),rh(i,y,R)),R}function Nh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Z_(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function dg(i,a){Z_(i,a),(i=i.alternate)&&Z_(i,a)}function GA(){return null}var e0=typeof reportError=="function"?reportError:function(i){console.error(i)};function hg(i){this._internalRoot=i}Ih.prototype.render=hg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));Th(i,a,null,null)},Ih.prototype.unmount=hg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;wa(function(){Th(null,i,null,null)}),a[ui]=null}};function Ih(i){this._internalRoot=i}Ih.prototype.unstable_scheduleHydration=function(i){if(i){var a=Bc();i={blockedOn:null,target:i,priority:a};for(var u=0;u<rr.length&&a!==0&&a<rr[u].priority;u++);rr.splice(u,0,i),u===0&&Za(i)}};function fg(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function kh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function t0(){}function KA(i,a,u,m,y){if(y){if(typeof m=="function"){var _=m;m=function(){var J=Nh(R);_.call(J)}}var R=J_(a,m,i,0,null,!1,!1,"",t0);return i._reactRootContainer=R,i[ui]=R.current,eu(i.nodeType===8?i.parentNode:i),wa(),R}for(;y=i.lastChild;)i.removeChild(y);if(typeof m=="function"){var W=m;m=function(){var J=Nh(H);W.call(J)}}var H=ug(i,0,!1,null,null,!1,!1,"",t0);return i._reactRootContainer=H,i[ui]=H.current,eu(i.nodeType===8?i.parentNode:i),wa(function(){Th(a,H,u,m)}),H}function Ah(i,a,u,m,y){var _=u._reactRootContainer;if(_){var R=_;if(typeof y=="function"){var W=y;y=function(){var H=Nh(R);W.call(H)}}Th(a,R,i,y)}else R=KA(u,a,i,y,m);return Nh(R)}Uc=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var u=yt(a.pendingLanes);u!==0&&(Fc(a,u|1),Gn(a,Rt()),(pt&6)===0&&(Tl=Rt()+500,Xi()))}break;case 13:wa(function(){var m=mi(i,1);if(m!==null){var y=Fn();Wr(m,i,1,y)}}),dg(i,1)}},Xa=function(i){if(i.tag===13){var a=mi(i,134217728);if(a!==null){var u=Fn();Wr(a,i,134217728,u)}dg(i,134217728)}},zc=function(i){if(i.tag===13){var a=ro(i),u=mi(i,a);if(u!==null){var m=Fn();Wr(u,i,a,m)}dg(i,a)}},Bc=function(){return dt},Wc=function(i,a){var u=dt;try{return dt=i,a()}finally{dt=u}},ht=function(i,a,u){switch(a){case"input":if(Pe(i,u),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var m=u[a];if(m!==i&&m.form===i.form){var y=Gd(m);if(!y)throw Error(n(90));Ze(m),Pe(m,y)}}}break;case"textarea":Qt(i,u);break;case"select":a=u.value,a!=null&&Lt(i,!!u.multiple,a,!1)}},Ln=sg,ft=wa;var YA={usingClientEntryPoint:!1,Events:[ru,fl,Gd,er,At,sg]},vu={findFiberByHostInstance:ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QA={bundleType:vu.bundleType,version:vu.version,rendererPackageName:vu.rendererPackageName,rendererConfig:vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=kd(i),i===null?null:i.stateNode},findFiberByHostInstance:vu.findFiberByHostInstance||GA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{ra=Rh.inject(QA),tr=Rh}catch{}}return Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YA,Kn.createPortal=function(i,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fg(a))throw Error(n(200));return qA(i,a,null,u)},Kn.createRoot=function(i,a){if(!fg(i))throw Error(n(299));var u=!1,m="",y=e0;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=ug(i,1,!1,null,null,u,!1,m,y),i[ui]=a.current,eu(i.nodeType===8?i.parentNode:i),new hg(a)},Kn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=kd(a),i=i===null?null:i.stateNode,i},Kn.flushSync=function(i){return wa(i)},Kn.hydrate=function(i,a,u){if(!kh(a))throw Error(n(200));return Ah(null,i,a,!0,u)},Kn.hydrateRoot=function(i,a,u){if(!fg(i))throw Error(n(405));var m=u!=null&&u.hydratedSources||null,y=!1,_="",R=e0;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),a=J_(a,null,i,1,u??null,y,!1,_,R),i[ui]=a.current,eu(i),m)for(i=0;i<m.length;i++)u=m[i],y=u._getVersion,y=y(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,y]:a.mutableSourceEagerHydrationData.push(u,y);return new Ih(a)},Kn.render=function(i,a,u){if(!kh(a))throw Error(n(200));return Ah(null,i,a,!1,u)},Kn.unmountComponentAtNode=function(i){if(!kh(i))throw Error(n(40));return i._reactRootContainer?(wa(function(){Ah(null,null,i,!1,function(){i._reactRootContainer=null,i[ui]=null})}),!0):!1},Kn.unstable_batchedUpdates=sg,Kn.unstable_renderSubtreeIntoContainer=function(i,a,u,m){if(!kh(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Ah(i,a,u,!1,m)},Kn.version="18.3.1-next-f1338f8080-20240426",Kn}var c0;function xS(){if(c0)return gg.exports;c0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gg.exports=iR(),gg.exports}var u0;function oR(){if(u0)return Ph;u0=1;var t=xS();return Ph.createRoot=t.createRoot,Ph.hydrateRoot=t.hydrateRoot,Ph}var aR=oR();const lR=Yv(aR);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var d0="popstate";function cR(t={}){function e(r,s){let{pathname:o,search:c,hash:d}=r.location;return ev("",{pathname:o,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Lu(s)}return dR(e,n,null,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uR(){return Math.random().toString(36).substring(2,10)}function h0(t,e){return{usr:t.state,key:t.key,idx:e}}function ev(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?uc(e):e,state:n,key:e&&e.key||r||uR()}}function Lu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function uc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function dR(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,c=s.history,d="POP",h=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function v(){d="POP";let I=g(),O=I==null?null:I-p;p=I,h&&h({action:d,location:b.location,delta:O})}function x(I,O){d="PUSH";let D=ev(b.location,I,O);p=g()+1;let j=h0(D,p),B=b.createHref(D);try{c.pushState(j,"",B)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(B)}o&&h&&h({action:d,location:b.location,delta:1})}function S(I,O){d="REPLACE";let D=ev(b.location,I,O);p=g();let j=h0(D,p),B=b.createHref(D);c.replaceState(j,"",B),o&&h&&h({action:d,location:b.location,delta:0})}function C(I){return hR(I)}let b={get action(){return d},get location(){return t(s,c)},listen(I){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(d0,v),h=I,()=>{s.removeEventListener(d0,v),h=null}},createHref(I){return e(s,I)},createURL:C,encodeLocation(I){let O=C(I);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:x,replace:S,go(I){return c.go(I)}};return b}function hR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Lu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function wS(t,e,n="/"){return fR(t,e,n,!1)}function fR(t,e,n,r){let s=typeof e=="string"?uc(e):e,o=Si(s.pathname||"/",n);if(o==null)return null;let c=_S(t);mR(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=CR(o);d=bR(c[h],p,r)}return d}function _S(t,e=[],n=[],r="",s=!1){let o=(c,d,h=s,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&h)return;Mt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=bi([r,g.relativePath]),x=n.concat(g);c.children&&c.children.length>0&&(Mt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),_S(c.children,e,x,v,h)),!(c.path==null&&!c.index)&&e.push({path:v,score:_R(v,c.index),routesMeta:x})};return t.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))o(c,d);else for(let p of ES(c.path))o(c,d,!0,p)}),e}function ES(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let c=ES(r.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),s&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function mR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ER(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var pR=/^:[\w-]+$/,gR=3,vR=2,yR=1,xR=10,wR=-2,f0=t=>t==="*";function _R(t,e){let n=t.split("/"),r=n.length;return n.some(f0)&&(r+=wR),e&&(r+=vR),n.filter(s=>!f0(s)).reduce((s,o)=>s+(pR.test(o)?gR:o===""?yR:xR),r)}function ER(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function bR(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=pf({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),x=h.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=pf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),c.push({params:s,pathname:bi([o,v.pathname]),pathnameBase:kR(bi([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=bi([o,v.pathnameBase]))}return c}function pf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},x)=>{if(g==="*"){let C=d[x]||"";c=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const S=d[x];return v&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:t}}function SR(t,e=!1,n=!0){Zr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function CR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Si(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var TR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function NR(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?uc(t):t,o;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?o=m0(n.substring(1),"/"):o=m0(n,e)):o=e,{pathname:o,search:AR(r),hash:RR(s)}}function m0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function xg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xv(t){let e=IR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Jv(t,e,n,r=!1){let s;typeof t=="string"?s=uc(t):(s={...t},Mt(!s.pathname||!s.pathname.includes("?"),xg("?","pathname","search",s)),Mt(!s.pathname||!s.pathname.includes("#"),xg("#","pathname","hash",s)),Mt(!s.search||!s.search.includes("#"),xg("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;s.pathname=x.join("/")}d=v>=0?e[v]:"/"}let h=NR(s,d),p=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var bi=t=>t.join("/").replace(/\/\/+/g,"/"),kR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,PR=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function jR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function DR(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var bS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function SS(t,e){let n=t;if(typeof n!="string"||!TR.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(bS)try{let o=new URL(window.location.href),c=n.startsWith("//")?new URL(o.protocol+n):new URL(n),d=Si(c.pathname,e);c.origin===o.origin&&d!=null?n=d+c.search+c.hash:s=!0}catch{Zr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CS=["POST","PUT","PATCH","DELETE"];new Set(CS);var OR=["GET",...CS];new Set(OR);var dc=w.createContext(null);dc.displayName="DataRouter";var Xf=w.createContext(null);Xf.displayName="DataRouterState";var MR=w.createContext(!1),TS=w.createContext({isTransitioning:!1});TS.displayName="ViewTransition";var LR=w.createContext(new Map);LR.displayName="Fetchers";var VR=w.createContext(null);VR.displayName="Await";var gr=w.createContext(null);gr.displayName="Navigation";var ed=w.createContext(null);ed.displayName="Location";var rs=w.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var Zv=w.createContext(null);Zv.displayName="RouteError";var NS="REACT_ROUTER_ERROR",FR="REDIRECT",UR="ROUTE_ERROR_RESPONSE";function zR(t){if(t.startsWith(`${NS}:${FR}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function BR(t){if(t.startsWith(`${NS}:${UR}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new PR(e.status,e.statusText,e.data)}catch{}}function WR(t,{relative:e}={}){Mt(hc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(gr),{hash:s,pathname:o,search:c}=td(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:bi([n,o])),r.createHref({pathname:d,search:c,hash:s})}function hc(){return w.useContext(ed)!=null}function Gs(){return Mt(hc(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(ed).location}var IS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kS(t){w.useContext(gr).static||w.useLayoutEffect(t)}function Jf(){let{isDataRoute:t}=w.useContext(rs);return t?sP():$R()}function $R(){Mt(hc(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(dc),{basename:e,navigator:n}=w.useContext(gr),{matches:r}=w.useContext(rs),{pathname:s}=Gs(),o=JSON.stringify(Xv(r)),c=w.useRef(!1);return kS(()=>{c.current=!0}),w.useCallback((h,p={})=>{if(Zr(c.current,IS),!c.current)return;if(typeof h=="number"){n.go(h);return}let g=Jv(h,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:bi([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,o,s,t])}var HR=w.createContext(null);function qR(t){let e=w.useContext(rs).outlet;return w.useMemo(()=>e&&w.createElement(HR.Provider,{value:t},e),[e,t])}function td(t,{relative:e}={}){let{matches:n}=w.useContext(rs),{pathname:r}=Gs(),s=JSON.stringify(Xv(n));return w.useMemo(()=>Jv(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function GR(t,e){return AS(t,e)}function AS(t,e,n,r,s){var D;Mt(hc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=w.useContext(gr),{matches:c}=w.useContext(rs),d=c[c.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let j=v&&v.path||"";PS(p,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let x=Gs(),S;if(e){let j=typeof e=="string"?uc(e):e;Mt(g==="/"||((D=j.pathname)==null?void 0:D.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),S=j}else S=x;let C=S.pathname||"/",b=C;if(g!=="/"){let j=g.replace(/^\//,"").split("/");b="/"+C.replace(/^\//,"").split("/").slice(j.length).join("/")}let I=wS(t,{pathname:b});Zr(v||I!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Zr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=JR(I&&I.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:bi([g,o.encodeLocation?o.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:bi([g,o.encodeLocation?o.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),c,n,r,s);return e&&O?w.createElement(ed.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},O):O}function KR(){let t=rP(),e=jR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,c)}var YR=w.createElement(KR,null),RS=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=BR(t.digest);n&&(t=n)}let e=t!==void 0?w.createElement(rs.Provider,{value:this.props.routeContext},w.createElement(Zv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?w.createElement(QR,{error:t},e):e}};RS.contextType=MR;var wg=new WeakMap;function QR({children:t,error:e}){let{basename:n}=w.useContext(gr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=zR(e.digest);if(r){let s=wg.get(e);if(s)throw s;let o=SS(r.location,n);if(bS&&!wg.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw wg.set(e,c),c}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function XR({routeContext:t,match:e,children:n}){let r=w.useContext(dc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(rs.Provider,{value:t},n)}function JR(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n==null?void 0:n.errors;if(c!=null){let g=o.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);Mt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,h=-1;if(n)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=g),v.route.id){let{loaderData:x,errors:S}=n,C=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||C){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let p=n&&r?(g,v)=>{var x,S;r(g,{location:n.location,params:((S=(x=n.matches)==null?void 0:x[0])==null?void 0:S.params)??{},unstable_pattern:DR(n.matches),errorInfo:v})}:void 0;return o.reduceRight((g,v,x)=>{let S,C=!1,b=null,I=null;n&&(S=c&&v.route.id?c[v.route.id]:void 0,b=v.route.errorElement||YR,d&&(h<0&&x===0?(PS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,I=null):h===x&&(C=!0,I=v.route.hydrateFallbackElement||null)));let O=e.concat(o.slice(0,x+1)),D=()=>{let j;return S?j=b:C?j=I:v.route.Component?j=w.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=g,w.createElement(XR,{match:v,routeContext:{outlet:g,matches:O,isDataRoute:n!=null},children:j})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?w.createElement(RS,{location:n.location,revalidation:n.revalidation,component:b,error:S,children:D(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:p}):D()},null)}function ey(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZR(t){let e=w.useContext(dc);return Mt(e,ey(t)),e}function eP(t){let e=w.useContext(Xf);return Mt(e,ey(t)),e}function tP(t){let e=w.useContext(rs);return Mt(e,ey(t)),e}function ty(t){let e=tP(t),n=e.matches[e.matches.length-1];return Mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function nP(){return ty("useRouteId")}function rP(){var r;let t=w.useContext(Zv),e=eP("useRouteError"),n=ty("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function sP(){let{router:t}=ZR("useNavigate"),e=ty("useNavigate"),n=w.useRef(!1);return kS(()=>{n.current=!0}),w.useCallback(async(s,o={})=>{Zr(n.current,IS),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var p0={};function PS(t,e,n){!e&&!p0[t]&&(p0[t]=!0,Zr(!1,n))}w.memo(iP);function iP({routes:t,future:e,state:n,onError:r}){return AS(t,void 0,n,r,e)}function jS({to:t,replace:e,state:n,relative:r}){Mt(hc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=w.useContext(gr);Zr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=w.useContext(rs),{pathname:c}=Gs(),d=Jf(),h=Jv(t,Xv(o),c,r==="path"),p=JSON.stringify(h);return w.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:r})},[d,p,r,e,n]),null}function oP(t){return qR(t.context)}function Rn(t){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1,unstable_useTransitions:c}){Mt(!hc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:d,navigator:s,static:o,unstable_useTransitions:c,future:{}}),[d,s,o,c]);typeof n=="string"&&(n=uc(n));let{pathname:p="/",search:g="",hash:v="",state:x=null,key:S="default"}=n,C=w.useMemo(()=>{let b=Si(p,d);return b==null?null:{location:{pathname:b,search:g,hash:v,state:x,key:S},navigationType:r}},[d,p,g,v,x,S,r]);return Zr(C!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:w.createElement(gr.Provider,{value:h},w.createElement(ed.Provider,{children:e,value:C}))}function lP({children:t,location:e}){return GR(tv(t),e)}function tv(t,e=[]){let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let o=[...e,s];if(r.type===w.Fragment){n.push.apply(n,tv(r.props.children,o));return}Mt(r.type===Rn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=tv(r.props.children,o)),n.push(c)}),n}var Qh="get",Xh="application/x-www-form-urlencoded";function Zf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function cP(t){return Zf(t)&&t.tagName.toLowerCase()==="button"}function uP(t){return Zf(t)&&t.tagName.toLowerCase()==="form"}function dP(t){return Zf(t)&&t.tagName.toLowerCase()==="input"}function hP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fP(t,e){return t.button===0&&(!e||e==="_self")&&!hP(t)}var jh=null;function mP(){if(jh===null)try{new FormData(document.createElement("form"),0),jh=!1}catch{jh=!0}return jh}var pP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _g(t){return t!=null&&!pP.has(t)?(Zr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xh}"`),null):t}function gP(t,e){let n,r,s,o,c;if(uP(t)){let d=t.getAttribute("action");r=d?Si(d,e):null,n=t.getAttribute("method")||Qh,s=_g(t.getAttribute("enctype"))||Xh,o=new FormData(t)}else if(cP(t)||dP(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?Si(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Qh,s=_g(t.getAttribute("formenctype"))||_g(d.getAttribute("enctype"))||Xh,o=new FormData(d,t),!mP()){let{name:p,type:g,value:v}=t;if(g==="image"){let x=p?`${p}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else p&&o.append(p,v)}}else{if(Zf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qh,r=null,s=Xh,c=t}return o&&s==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ny(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vP(t,e,n,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:e&&Si(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function yP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wP(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await yP(o,n);return c.links?c.links():[]}return[]}));return SP(r.flat(1).filter(xP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function g0(t,e,n,r,s,o){let c=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,d=(h,p)=>{var g;return n[p].pathname!==h.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>c(h,p)||d(h,p)):o==="data"?e.filter((h,p)=>{var v;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function _P(t,e,{includeHydrateFallback:n}={}){return EP(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function EP(t){return[...new Set(t)]}function bP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function SP(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(bP(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function DS(){let t=w.useContext(dc);return ny(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function CP(){let t=w.useContext(Xf);return ny(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ry=w.createContext(void 0);ry.displayName="FrameworkContext";function OS(){let t=w.useContext(ry);return ny(t,"You must render this element inside a <HydratedRouter> element"),t}function TP(t,e){let n=w.useContext(ry),[r,s]=w.useState(!1),[o,c]=w.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,x=w.useRef(null);w.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let b=O=>{O.forEach(D=>{c(D.isIntersecting)})},I=new IntersectionObserver(b,{threshold:.5});return x.current&&I.observe(x.current),()=>{I.disconnect()}}},[t]),w.useEffect(()=>{if(r){let b=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(b)}}},[r]);let S=()=>{s(!0)},C=()=>{s(!1),c(!1)};return n?t!=="intent"?[o,x,{}]:[o,x,{onFocus:xu(d,S),onBlur:xu(h,C),onMouseEnter:xu(p,S),onMouseLeave:xu(g,C),onTouchStart:xu(v,S)}]:[!1,x,{}]}function xu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function NP({page:t,...e}){let{router:n}=DS(),r=w.useMemo(()=>wS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(kP,{page:t,matches:r,...e}):null}function IP(t){let{manifest:e,routeModules:n}=OS(),[r,s]=w.useState([]);return w.useEffect(()=>{let o=!1;return wP(t,e,n).then(c=>{o||s(c)}),()=>{o=!0}},[t,e,n]),r}function kP({page:t,matches:e,...n}){let r=Gs(),{future:s,manifest:o,routeModules:c}=OS(),{basename:d}=DS(),{loaderData:h,matches:p}=CP(),g=w.useMemo(()=>g0(t,e,p,o,r,"data"),[t,e,p,o,r]),v=w.useMemo(()=>g0(t,e,p,o,r,"assets"),[t,e,p,o,r]),x=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,I=!1;if(e.forEach(D=>{var B;let j=o.routes[D.route.id];!j||!j.hasLoader||(!g.some(M=>M.route.id===D.route.id)&&D.route.id in h&&((B=c[D.route.id])!=null&&B.shouldRevalidate)||j.hasClientLoader?I=!0:b.add(D.route.id))}),b.size===0)return[];let O=vP(t,d,s.unstable_trailingSlashAwareDataRequests,"data");return I&&b.size>0&&O.searchParams.set("_routes",e.filter(D=>b.has(D.route.id)).map(D=>D.route.id).join(",")),[O.pathname+O.search]},[d,s.unstable_trailingSlashAwareDataRequests,h,r,o,g,e,t,c]),S=w.useMemo(()=>_P(v,o),[v,o]),C=IP(v);return w.createElement(w.Fragment,null,x.map(b=>w.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),S.map(b=>w.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),C.map(({key:b,link:I})=>w.createElement("link",{key:b,nonce:n.nonce,...I,crossOrigin:I.crossOrigin??n.crossOrigin})))}function AP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var RP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RP&&(window.__reactRouterVersion="7.13.0")}catch{}function PP({basename:t,children:e,unstable_useTransitions:n,window:r}){let s=w.useRef();s.current==null&&(s.current=cR({window:r,v5Compat:!0}));let o=s.current,[c,d]=w.useState({action:o.action,location:o.location}),h=w.useCallback(p=>{n===!1?d(p):w.startTransition(()=>d(p))},[n]);return w.useLayoutEffect(()=>o.listen(h),[o,h]),w.createElement(aP,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:n})}var MS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,js=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:c,state:d,target:h,to:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:x,...S},C){let{basename:b,unstable_useTransitions:I}=w.useContext(gr),O=typeof p=="string"&&MS.test(p),D=SS(p,b);p=D.to;let j=WR(p,{relative:s}),[B,M,$]=TP(r,S),N=MP(p,{replace:c,state:d,target:h,preventScrollReset:g,relative:s,viewTransition:v,unstable_defaultShouldRevalidate:x,unstable_useTransitions:I});function k(F){e&&e(F),F.defaultPrevented||N(F)}let P=w.createElement("a",{...S,...$,href:D.absoluteURL||j,onClick:D.isExternal||o?e:k,ref:AP(C,M),target:h,"data-discover":!O&&n==="render"?"true":void 0});return B&&!O?w.createElement(w.Fragment,null,P,w.createElement(NP,{page:j})):P});js.displayName="Link";var jP=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:c,viewTransition:d,children:h,...p},g){let v=td(c,{relative:p.relative}),x=Gs(),S=w.useContext(Xf),{navigator:C,basename:b}=w.useContext(gr),I=S!=null&&zP(v)&&d===!0,O=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,D=x.pathname,j=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(D=D.toLowerCase(),j=j?j.toLowerCase():null,O=O.toLowerCase()),j&&b&&(j=Si(j,b)||j);const B=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let M=D===O||!s&&D.startsWith(O)&&D.charAt(B)==="/",$=j!=null&&(j===O||!s&&j.startsWith(O)&&j.charAt(O.length)==="/"),N={isActive:M,isPending:$,isTransitioning:I},k=M?e:void 0,P;typeof r=="function"?P=r(N):P=[r,M?"active":null,$?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(N):o;return w.createElement(js,{...p,"aria-current":k,className:P,ref:g,style:F,to:c,viewTransition:d},typeof h=="function"?h(N):h)});jP.displayName="NavLink";var DP=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:c=Qh,action:d,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:x,...S},C)=>{let{unstable_useTransitions:b}=w.useContext(gr),I=FP(),O=UP(d,{relative:p}),D=c.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&MS.test(d),B=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let $=M.nativeEvent.submitter,N=($==null?void 0:$.getAttribute("formmethod"))||c,k=()=>I($||M.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:s,state:o,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:x});b&&n!==!1?w.startTransition(()=>k()):k()};return w.createElement("form",{ref:C,method:D,action:O,onSubmit:r?h:B,...S,"data-discover":!j&&t==="render"?"true":void 0})});DP.displayName="Form";function OP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LS(t){let e=w.useContext(dc);return Mt(e,OP(t)),e}function MP(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h}={}){let p=Jf(),g=Gs(),v=td(t,{relative:o});return w.useCallback(x=>{if(fP(x,e)){x.preventDefault();let S=n!==void 0?n:Lu(g)===Lu(v),C=()=>p(t,{replace:S,state:r,preventScrollReset:s,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d});h?w.startTransition(()=>C()):C()}},[g,p,v,n,r,e,t,s,o,c,d,h])}var LP=0,VP=()=>`__${String(++LP)}__`;function FP(){let{router:t}=LS("useSubmit"),{basename:e}=w.useContext(gr),n=nP(),r=t.fetch,s=t.navigate;return w.useCallback(async(o,c={})=>{let{action:d,method:h,encType:p,formData:g,body:v}=gP(o,e);if(c.navigate===!1){let x=c.fetcherKey||VP();await r(x,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||h,formEncType:c.encType||p,flushSync:c.flushSync})}else await s(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||h,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,s,e,n])}function UP(t,{relative:e}={}){let{basename:n}=w.useContext(gr),r=w.useContext(rs);Mt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...td(t||".",{relative:e})},c=Gs();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:bi([n,o.pathname])),Lu(o)}function zP(t,{relative:e}={}){let n=w.useContext(TS);Mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=LS("useViewTransitionState"),s=td(t,{relative:e});if(!n.isTransitioning)return!1;let o=Si(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Si(n.nextLocation.pathname,r)||n.nextLocation.pathname;return pf(s.pathname,c)!=null||pf(s.pathname,o)!=null}var nd=xS();const VS=Yv(nd),BP=()=>{};var v0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},WP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],c=t[n++],d=t[n++],h=((s&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},US={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],c=s+1<t.length,d=c?t[s+1]:0,h=s+2<t.length,p=h?t[s+2]:0,g=o>>2,v=(o&3)<<4|d>>4;let x=(d&15)<<2|p>>6,S=p&63;h||(S=64,c||(x=64)),r.push(n[g],n[v],n[x],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||d==null||p==null||v==null)throw new $P;const x=o<<2|d>>4;if(r.push(x),p!==64){const S=d<<4&240|p>>2;if(r.push(S),v!==64){const C=p<<6&192|v;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $P extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HP=function(t){const e=FS(t);return US.encodeByteArray(e,!0)},gf=function(t){return HP(t).replace(/\./g,"")},zS=function(t){try{return US.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=()=>qP().__FIREBASE_DEFAULTS__,KP=()=>{if(typeof process>"u"||typeof v0>"u")return;const t=v0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zS(t[1]);return e&&JSON.parse(e)},em=()=>{try{return BP()||GP()||KP()||YP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BS=t=>{var e,n;return(n=(e=em())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},sy=t=>{const e=BS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WS=()=>{var t;return(t=em())==null?void 0:t.config},$S=t=>{var e;return(e=em())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tm(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[gf(JSON.stringify(n)),gf(JSON.stringify(c)),""].join(".")}const Au={};function XP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Au))Au[e]?t.emulator.push(e):t.prod.push(e);return t}function JP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let y0=!1;function nm(t,e){if(typeof window>"u"||typeof document>"u"||!Di(window.location.host)||Au[t]===e||Au[t]||y0)return;Au[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=XP().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,S){x.setAttribute("width","24"),x.setAttribute("id",S),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{y0=!0,c()},x}function g(x,S){x.setAttribute("id",S),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=JP(r),S=n("text"),C=document.getElementById(S)||document.createElement("span"),b=n("learnmore"),I=document.getElementById(b)||document.createElement("a"),O=n("preprendIcon"),D=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const j=x.element;d(j),g(I,b);const B=p();h(D,O),j.append(D,C,I,B),document.body.appendChild(j)}o?(C.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function ej(){var e;const t=(e=em())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sj(){const t=Mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ij(){return!ej()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oj(){try{return typeof indexedDB=="object"}catch{return!1}}function aj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj="FirebaseError";class ss extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lj,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rd.prototype.create)}}class rd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?cj(o,r):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new ss(s,d,r)}}function cj(t,e){return t.replace(uj,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const uj=/\{\$([^}]+)}/g;function dj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Aa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],c=e[s];if(x0(o)&&x0(c)){if(!Aa(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function x0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Eu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function bu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function hj(t,e){const n=new fj(t,e);return n.subscribe.bind(n)}class fj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mj(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Eg),s.error===void 0&&(s.error=Eg),s.complete===void 0&&(s.complete=Eg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Eg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class Ci{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new QP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vj(e))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ca){return this.instances.has(e)}getOptions(e=Ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ca){return this.component?this.component.multipleInstances?e:Ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gj(t){return t===Ca?void 0:t}function vj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const xj={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},wj=lt.INFO,_j={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},Ej=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=_j[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iy{constructor(e){this.name=e,this._logLevel=wj,this._logHandler=Ej,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const bj=(t,e)=>e.some(n=>t instanceof n);let w0,_0;function Sj(){return w0||(w0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cj(){return _0||(_0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qS=new WeakMap,nv=new WeakMap,GS=new WeakMap,bg=new WeakMap,oy=new WeakMap;function Tj(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(vo(t.result)),s()},c=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&qS.set(n,t)}).catch(()=>{}),oy.set(e,t),e}function Nj(t){if(nv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),s()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});nv.set(t,e)}let rv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ij(t){rv=t(rv)}function kj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sg(this),e,...n);return GS.set(r,e.sort?e.sort():[e]),vo(r)}:Cj().includes(t)?function(...e){return t.apply(Sg(this),e),vo(qS.get(this))}:function(...e){return vo(t.apply(Sg(this),e))}}function Aj(t){return typeof t=="function"?kj(t):(t instanceof IDBTransaction&&Nj(t),bj(t,Sj())?new Proxy(t,rv):t)}function vo(t){if(t instanceof IDBRequest)return Tj(t);if(bg.has(t))return bg.get(t);const e=Aj(t);return e!==t&&(bg.set(t,e),oy.set(e,t)),e}const Sg=t=>oy.get(t);function Rj(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(t,e),d=vo(c);return r&&c.addEventListener("upgradeneeded",h=>{r(vo(c.result),h.oldVersion,h.newVersion,vo(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const Pj=["get","getKey","getAll","getAllKeys","count"],jj=["put","add","delete","clear"],Cg=new Map;function E0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cg.get(e))return Cg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=jj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Pj.includes(n)))return;const o=async function(c,...d){const h=this.transaction(c,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),s&&h.done]))[0]};return Cg.set(e,o),o}Ij(t=>({...t,get:(e,n,r)=>E0(e,n)||t.get(e,n,r),has:(e,n)=>!!E0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Oj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Oj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sv="@firebase/app",b0="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new iy("@firebase/app"),Mj="@firebase/app-compat",Lj="@firebase/analytics-compat",Vj="@firebase/analytics",Fj="@firebase/app-check-compat",Uj="@firebase/app-check",zj="@firebase/auth",Bj="@firebase/auth-compat",Wj="@firebase/database",$j="@firebase/data-connect",Hj="@firebase/database-compat",qj="@firebase/functions",Gj="@firebase/functions-compat",Kj="@firebase/installations",Yj="@firebase/installations-compat",Qj="@firebase/messaging",Xj="@firebase/messaging-compat",Jj="@firebase/performance",Zj="@firebase/performance-compat",e2="@firebase/remote-config",t2="@firebase/remote-config-compat",n2="@firebase/storage",r2="@firebase/storage-compat",s2="@firebase/firestore",i2="@firebase/ai",o2="@firebase/firestore-compat",a2="firebase",l2="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="[DEFAULT]",c2={[sv]:"fire-core",[Mj]:"fire-core-compat",[Vj]:"fire-analytics",[Lj]:"fire-analytics-compat",[Uj]:"fire-app-check",[Fj]:"fire-app-check-compat",[zj]:"fire-auth",[Bj]:"fire-auth-compat",[Wj]:"fire-rtdb",[$j]:"fire-data-connect",[Hj]:"fire-rtdb-compat",[qj]:"fire-fn",[Gj]:"fire-fn-compat",[Kj]:"fire-iid",[Yj]:"fire-iid-compat",[Qj]:"fire-fcm",[Xj]:"fire-fcm-compat",[Jj]:"fire-perf",[Zj]:"fire-perf-compat",[e2]:"fire-rc",[t2]:"fire-rc-compat",[n2]:"fire-gcs",[r2]:"fire-gcs-compat",[s2]:"fire-fst",[o2]:"fire-fst-compat",[i2]:"fire-vertex","fire-js":"fire-js",[a2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=new Map,u2=new Map,ov=new Map;function S0(t,e){try{t.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bo(t){const e=t.name;if(ov.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;ov.set(e,t);for(const n of vf.values())S0(n,t);for(const n of u2.values())S0(n,t);return!0}function id(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yo=new rd("app","Firebase",d2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=l2;function KS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:iv,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw yo.create("bad-app-name",{appName:String(s)});if(n||(n=WS()),!n)throw yo.create("no-options");const o=vf.get(s);if(o){if(Aa(n,o.options)&&Aa(r,o.config))return o;throw yo.create("duplicate-app",{appName:s})}const c=new yj(s);for(const h of ov.values())c.addComponent(h);const d=new h2(n,r,c);return vf.set(s,d),d}function rm(t=iv){const e=vf.get(t);if(!e&&t===iv&&WS())return KS();if(!e)throw yo.create("no-app",{appName:t});return e}function Ar(t,e,n){let r=c2[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(c.join(" "));return}bo(new Ci(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="firebase-heartbeat-database",m2=1,Vu="firebase-heartbeat-store";let Tg=null;function YS(){return Tg||(Tg=Rj(f2,m2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vu)}catch(n){console.warn(n)}}}}).catch(t=>{throw yo.create("idb-open",{originalErrorMessage:t.message})})),Tg}async function p2(t){try{const n=(await YS()).transaction(Vu),r=await n.objectStore(Vu).get(QS(t));return await n.done,r}catch(e){if(e instanceof ss)Ti.warn(e.message);else{const n=yo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ti.warn(n.message)}}}async function C0(t,e){try{const r=(await YS()).transaction(Vu,"readwrite");await r.objectStore(Vu).put(e,QS(t)),await r.done}catch(n){if(n instanceof ss)Ti.warn(n.message);else{const r=yo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ti.warn(r.message)}}}function QS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=1024,v2=30;class y2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new w2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=T0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>v2){const c=_2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ti.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=T0(),{heartbeatsToSend:r,unsentEntries:s}=x2(this._heartbeatsCache.heartbeats),o=gf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ti.warn(n),""}}}function T0(){return new Date().toISOString().substring(0,10)}function x2(t,e=g2){const n=[];let r=t.slice();for(const s of t){const o=n.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),N0(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),N0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class w2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oj()?aj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await p2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return C0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return C0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function N0(t){return gf(JSON.stringify({version:2,heartbeats:t})).length}function _2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t){bo(new Ci("platform-logger",e=>new Dj(e),"PRIVATE")),bo(new Ci("heartbeat",e=>new y2(e),"PRIVATE")),Ar(sv,b0,t),Ar(sv,b0,"esm2020"),Ar("fire-js","")}E2("");function XS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b2=XS,JS=new rd("auth","Firebase",XS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new iy("@firebase/auth");function S2(t,...e){yf.logLevel<=lt.WARN&&yf.warn(`Auth (${Va}): ${t}`,...e)}function Jh(t,...e){yf.logLevel<=lt.ERROR&&yf.error(`Auth (${Va}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t,...e){throw ay(t,...e)}function Ms(t,...e){return ay(t,...e)}function ZS(t,e,n){const r={...b2(),[e]:n};return new rd("auth","Firebase",r).create(e,{appName:t.name})}function xo(t){return ZS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ay(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JS.create(t,...e)}function $e(t,e,...n){if(!t)throw ay(e,...n)}function xi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jh(e),new Error(e)}function Ni(t,e){t||xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function C2(){return I0()==="http:"||I0()==="https:"}function I0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C2()||nj()||"connection"in navigator)?navigator.onLine:!0}function N2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ni(n>e,"Short delay should be less than long delay!"),this.isMobile=ZP()||rj()}get(){return T2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t,e){Ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],A2=new od(3e4,6e4);function Fa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function jo(t,e,n,r,s={}){return tC(t,s,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const d=sd({key:t.config.apiKey,...c}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:h,...o};return tj()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Di(t.emulatorConfig.host)&&(p.credentials="include"),eC.fetch()(await nC(t,t.config.apiHost,n,d),p)})}async function tC(t,e,n){t._canInitEmulator=!1;const r={...I2,...e};try{const s=new P2(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Dh(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Dh(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw Dh(t,"user-disabled",c);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ZS(t,g,p);es(t,g)}}catch(s){if(s instanceof ss)throw s;es(t,"network-request-failed",{message:String(s)})}}async function sm(t,e,n,r,s={}){const o=await jo(t,e,n,r,s);return"mfaPendingCredential"in o&&es(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function nC(t,e,n,r){const s=`${e}${n}?${r}`,o=t,c=o.config.emulator?ly(t.config,s):`${t.config.apiScheme}://${s}`;return k2.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function R2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class P2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ms(this.auth,"network-request-failed")),A2.get())})}}function Dh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ms(t,e,r);return s.customData._tokenResponse=n,s}function k0(t){return t!==void 0&&t.enterprise!==void 0}class j2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return R2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function D2(t,e){return jo(t,"GET","/v2/recaptchaConfig",Fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(t,e){return jo(t,"POST","/v1/accounts:delete",e)}async function xf(t,e){return jo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M2(t,e=!1){const n=qt(t),r=await n.getIdToken(e),s=cy(r);$e(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Ru(Ng(s.auth_time)),issuedAtTime:Ru(Ng(s.iat)),expirationTime:Ru(Ng(s.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ng(t){return Number(t)*1e3}function cy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const s=zS(n);return s?JSON.parse(s):(Jh("Failed to decode base64 JWT payload"),null)}catch(s){return Jh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function A0(t){const e=cy(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ss&&L2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function L2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ru(this.lastLoginAt),this.creationTime=Ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(t){var v;const e=t.auth,n=await t.getIdToken(),r=await Fu(t,xf(e,{idToken:n}));$e(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(v=s.providerUserInfo)!=null&&v.length?rC(s.providerUserInfo):[],c=U2(t.providerData,o),d=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),p=d?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new lv(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function F2(t){const e=qt(t);await wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U2(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function rC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(t,e){const n=await tC(t,{},async()=>{const r=sd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,c=await nC(t,s,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:r};return t.emulatorConfig&&Di(t.emulatorConfig.host)&&(h.credentials="include"),eC.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function B2(t,e){return jo(t,"POST","/v2/accounts:revokeToken",Fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const n=A0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await z2(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,c=new Ul;return r&&($e(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&($e(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&($e(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ul,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new V2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new lv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Fu(this,this.stsTokenManager.getToken(this.auth,e));return $e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return M2(this,e)}reload(){return F2(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(xo(this.auth));const e=await this.getIdToken();return await Fu(this,O2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,h=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:S,providerData:C,stsTokenManager:b}=n;$e(v&&b,e,"internal-error");const I=Ul.fromJSON(this.name,b);$e(typeof v=="string",e,"internal-error"),ao(r,e.name),ao(s,e.name),$e(typeof x=="boolean",e,"internal-error"),$e(typeof S=="boolean",e,"internal-error"),ao(o,e.name),ao(c,e.name),ao(d,e.name),ao(h,e.name),ao(p,e.name),ao(g,e.name);const O=new Kr({uid:v,auth:e,email:s,emailVerified:x,displayName:r,isAnonymous:S,photoURL:c,phoneNumber:o,tenantId:d,stsTokenManager:I,createdAt:p,lastLoginAt:g});return C&&Array.isArray(C)&&(O.providerData=C.map(D=>({...D}))),h&&(O._redirectEventId=h),O}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ul;s.updateFromServerResponse(n);const o=new Kr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await wf(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];$e(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?rC(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),d=new Ul;d.updateFromIdToken(r);const h=new Kr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new lv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=new Map;function wi(t){Ni(t instanceof Function,"Expected a class definition");let e=R0.get(t);return e?(Ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,R0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sC.type="NONE";const P0=sC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t,e,n){return`firebase:${t}:${e}:${n}`}class zl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Zh(this.userKey,s.apiKey,o),this.fullPersistenceKey=Zh("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xf(this.auth,{idToken:e}).catch(()=>{});return n?Kr._fromGetAccountInfoResponse(this.auth,n,e):null}return Kr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zl(wi(P0),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||wi(P0);const c=Zh(r,e.config.apiKey,e.name);let d=null;for(const p of n)try{const g=await p._get(c);if(g){let v;if(typeof g=="string"){const x=await xf(e,{idToken:g}).catch(()=>{});if(!x)break;v=await Kr._fromGetAccountInfoResponse(e,x,g)}else v=Kr._fromJSON(e,g);p!==o&&(d=v),o=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new zl(o,e,r):(o=h[0],d&&await o._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new zl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uC(e))return"Blackberry";if(dC(e))return"Webos";if(oC(e))return"Safari";if((e.includes("chrome/")||aC(e))&&!e.includes("edge/"))return"Chrome";if(cC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iC(t=Mn()){return/firefox\//i.test(t)}function oC(t=Mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aC(t=Mn()){return/crios\//i.test(t)}function lC(t=Mn()){return/iemobile/i.test(t)}function cC(t=Mn()){return/android/i.test(t)}function uC(t=Mn()){return/blackberry/i.test(t)}function dC(t=Mn()){return/webos/i.test(t)}function uy(t=Mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function W2(t=Mn()){var e;return uy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function $2(){return sj()&&document.documentMode===10}function hC(t=Mn()){return uy(t)||cC(t)||dC(t)||uC(t)||/windows phone/i.test(t)||lC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t,e=[]){let n;switch(t){case"Browser":n=j0(Mn());break;case"Worker":n=`${j0(Mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Va}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,d)=>{try{const h=e(o);c(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(t,e={}){return jo(t,"GET","/v2/passwordPolicy",Fa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=6;class K2{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??G2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D0(this),this.idTokenSubscription=new D0(this),this.beforeStateQueue=new H2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wi(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await zl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xf(this,{idToken:e}),r=await Kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(hr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(o=this.redirectUser)==null?void 0:o._redirectEventId,d=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&(h!=null&&h.user)&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(xo(this));const n=e?qt(e):null;return n&&$e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(xo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(xo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await q2(this),n=new K2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await B2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wi(e)||this._popupRedirectResolver;$e(n,this,"argument-error"),this.redirectPersistenceManager=await zl.create(this,[wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&S2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function fc(t){return qt(t)}class D0{constructor(e){this.auth=e,this.observer=null,this.addObserver=hj(n=>this.observer=n)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q2(t){im=t}function mC(t){return im.loadJS(t)}function X2(){return im.recaptchaEnterpriseScript}function J2(){return im.gapiScript}function Z2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eD{constructor(){this.enterprise=new tD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nD="recaptcha-enterprise",pC="NO_RECAPTCHA";class rD{constructor(e){this.type=nD,this.auth=fc(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{D2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new j2(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(h=>{d(h)})})}function s(o,c,d){const h=window.grecaptcha;k0(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{c(p)}).catch(()=>{c(pC)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eD().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(d=>{if(!n&&k0(window.grecaptcha))s(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=X2();h.length!==0&&(h+=d),mC(h).then(()=>{s(d,o,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function O0(t,e,n,r=!1,s=!1){const o=new rD(t);let c;if(s)c=pC;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function M0(t,e,n,r,s){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await O0(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await O0(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t,e){const n=id(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Aa(o,e??{}))return s;es(s,"already-initialized")}return n.initialize({options:e})}function iD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oD(t,e,n){const r=fc(t);$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=gC(e),{host:c,port:d}=aD(e),h=d===null?"":`:${d}`,p={url:`${o}//${c}${h}/`},g=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){$e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$e(Aa(p,r.config.emulator)&&Aa(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Di(c)?(tm(`${o}//${c}${h}`),nm("Auth",!0)):lD()}function gC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aD(t){const e=gC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:L0(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:L0(c)}}}function L0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,n){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function cD(t,e){return jo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(t,e){return sm(t,"POST","/v1/accounts:signInWithPassword",Fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e){return sm(t,"POST","/v1/accounts:signInWithEmailLink",Fa(t,e))}async function hD(t,e){return sm(t,"POST","/v1/accounts:signInWithEmailLink",Fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends dy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Uu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Uu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return M0(e,n,"signInWithPassword",uD);case"emailLink":return dD(e,{email:this._email,oobCode:this._password});default:es(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return M0(e,r,"signUpPassword",cD);case"emailLink":return hD(e,{idToken:n,email:this._email,oobCode:this._password});default:es(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(t,e){return sm(t,"POST","/v1/accounts:signInWithIdp",Fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="http://localhost";class Ra extends dy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const c=new Ra(r,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Bl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bl(e,n)}buildRequest(){const e={requestUri:fD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pD(t){const e=Eu(bu(t)).link,n=e?Eu(bu(e)).deep_link_id:null,r=Eu(bu(t)).deep_link_id;return(r?Eu(bu(r)).link:null)||r||n||e||t}class hy{constructor(e){const n=Eu(bu(e)),r=n.apiKey??null,s=n.oobCode??null,o=mD(n.mode??null);$e(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=pD(e);try{return new hy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this.providerId=mc.PROVIDER_ID}static credential(e,n){return Uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hy.parseLink(n);return $e(r,"argument-error"),Uu._fromEmailAndCode(e,r.code,r.tenantId)}}mc.PROVIDER_ID="password";mc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends vC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends ad{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.FACEBOOK_SIGN_IN_METHOD="facebook.com";ho.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends ad{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ra._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fo.credential(n,r)}catch{return null}}}fo.GOOGLE_SIGN_IN_METHOD="google.com";fo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends ad{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mo.credential(e.oauthAccessToken)}catch{return null}}}mo.GITHUB_SIGN_IN_METHOD="github.com";mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends ad{constructor(){super("twitter.com")}static credential(e,n){return Ra._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return po.credential(n,r)}catch{return null}}}po.TWITTER_SIGN_IN_METHOD="twitter.com";po.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Kr._fromIdTokenResponse(e,r,s),c=V0(r);return new Xl({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=V0(r);return new Xl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function V0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends ss{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,_f.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new _f(e,n,r,s)}}function yC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_f._fromErrorAndOperation(t,o,e,r):o})}async function gD(t,e,n=!1){const r=await Fu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(t,e,n=!1){const{auth:r}=t;if(hr(r.app))return Promise.reject(xo(r));const s="reauthenticate";try{const o=await Fu(t,yC(r,s,e,t),n);$e(o.idToken,r,"internal-error");const c=cy(o.idToken);$e(c,r,"internal-error");const{sub:d}=c;return $e(t.uid===d,r,"user-mismatch"),Xl._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&es(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(t,e,n=!1){if(hr(t.app))return Promise.reject(xo(t));const r="signIn",s=await yC(t,r,e),o=await Xl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function yD(t,e){return xC(fc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t){const e=fc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function wD(t,e,n){return hr(t.app)?Promise.reject(xo(t)):yD(qt(t),mc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xD(t),r})}function _D(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function ED(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function bD(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}function SD(t){return qt(t).signOut()}const Ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ef,"1"),this.storage.removeItem(Ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=1e3,TD=10;class _C extends wC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);$2()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,TD):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},CD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_C.type="LOCAL";const ND=_C;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC extends wC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}EC.type="SESSION";const bC=EC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new om(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(c).map(async p=>p(n.origin,o)),h=await ID(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}om.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((d,h)=>{const p=fy("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(v){const x=v;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(x.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(){return window}function AD(t){Ls().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(){return typeof Ls().WorkerGlobalScope<"u"&&typeof Ls().importScripts=="function"}async function RD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function jD(){return SC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firebaseLocalStorageDb",DD=1,bf="firebaseLocalStorage",TC="fbase_key";class ld{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function am(t,e){return t.transaction([bf],e?"readwrite":"readonly").objectStore(bf)}function OD(){const t=indexedDB.deleteDatabase(CC);return new ld(t).toPromise()}function cv(){const t=indexedDB.open(CC,DD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bf,{keyPath:TC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bf)?e(r):(r.close(),await OD(),e(await cv()))})})}async function F0(t,e,n){const r=am(t,!0).put({[TC]:e,value:n});return new ld(r).toPromise()}async function MD(t,e){const n=am(t,!1).get(e),r=await new ld(n).toPromise();return r===void 0?null:r.value}function U0(t,e){const n=am(t,!0).delete(e);return new ld(n).toPromise()}const LD=800,VD=3;class NC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>VD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=om._getInstance(jD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await RD(),!this.activeServiceWorker)return;this.sender=new kD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cv();return await F0(e,Ef,"1"),await U0(e,Ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>F0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>MD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>U0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=am(s,!1).getAll();return new ld(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NC.type="LOCAL";const FD=NC;new od(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t,e){return e?wi(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my extends dy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zD(t){return xC(t.auth,new my(t),t.bypassAuthState)}function BD(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),vD(n,new my(t),t.bypassAuthState)}async function WD(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),gD(n,new my(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zD;case"linkViaPopup":case"linkViaRedirect":return WD;case"reauthViaPopup":case"reauthViaRedirect":return BD;default:es(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new od(2e3,1e4);class Fl extends IC{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Fl.currentPopupAction&&Fl.currentPopupAction.cancel(),Fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=fy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$D.get())};e()}}Fl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="pendingRedirect",ef=new Map;class qD extends IC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ef.get(this.auth._key());if(!e){try{const r=await GD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ef.set(this.auth._key(),e)}return this.bypassAuthState||ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GD(t,e){const n=QD(e),r=YD(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function KD(t,e){ef.set(t._key(),e)}function YD(t){return wi(t._redirectPersistence)}function QD(t){return Zh(HD,t.config.apiKey,t.name)}async function XD(t,e,n=!1){if(hr(t.app))return Promise.reject(xo(t));const r=fc(t),s=UD(r,e),c=await new qD(r,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=600*1e3;class ZD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kC(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ms(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JD&&this.cachedEventUids.clear(),this.cachedEventUids.has(z0(e))}saveEventToCache(e){this.cachedEventUids.add(z0(e)),this.lastProcessedEventTime=Date.now()}}function z0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(t,e={}){return jo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rO=/^https?/;async function sO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tO(t);for(const n of e)try{if(iO(n))return}catch{}es(t,"unauthorized-domain")}function iO(t){const e=av(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!rO.test(n))return!1;if(nO.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new od(3e4,6e4);function B0(){const t=Ls().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aO(t){return new Promise((e,n)=>{var s,o,c;function r(){B0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B0(),n(Ms(t,"network-request-failed"))},timeout:oO.get()})}if((o=(s=Ls().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((c=Ls().gapi)!=null&&c.load)r();else{const d=Z2("iframefcb");return Ls()[d]=()=>{gapi.load?r():n(Ms(t,"network-request-failed"))},mC(`${J2()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw tf=null,e})}let tf=null;function lO(t){return tf=tf||aO(t),tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new od(5e3,15e3),uO="__/auth/iframe",dO="emulator/auth/iframe",hO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mO(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ly(e,dO):`https://${t.config.authDomain}/${uO}`,r={apiKey:e.apiKey,appName:t.name,v:Va},s=fO.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${sd(r).slice(1)}`}async function pO(t){const e=await lO(t),n=Ls().gapi;return $e(n,t,"internal-error"),e.open({where:document.body,url:mO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hO,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const c=Ms(t,"network-request-failed"),d=Ls().setTimeout(()=>{o(c)},cO.get());function h(){Ls().clearTimeout(d),s(r)}r.ping(h).then(h,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vO=500,yO=600,xO="_blank",wO="http://localhost";class W0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _O(t,e,n,r=vO,s=yO){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h={...gO,width:r.toString(),height:s.toString(),top:o,left:c},p=Mn().toLowerCase();n&&(d=aC(p)?xO:n),iC(p)&&(e=e||wO,h.scrollbars="yes");const g=Object.entries(h).reduce((x,[S,C])=>`${x}${S}=${C},`,"");if(W2(p)&&d!=="_self")return EO(e||"",d),new W0(null);const v=window.open(e||"",d,g);$e(v,t,"popup-blocked");try{v.focus()}catch{}return new W0(v)}function EO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="__/auth/handler",SO="emulator/auth/handler",CO=encodeURIComponent("fac");async function $0(t,e,n,r,s,o){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Va,eventId:s};if(e instanceof vC){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",dj(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))c[g]=v}if(e instanceof ad){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await t._getAppCheckToken(),p=h?`#${CO}=${encodeURIComponent(h)}`:"";return`${TO(t)}?${sd(d).slice(1)}${p}`}function TO({config:t}){return t.emulator?ly(t,SO):`https://${t.authDomain}/${bO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="webStorageSupport";class NO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bC,this._completeRedirectFn=XD,this._overrideRedirectResult=KD}async _openPopup(e,n,r,s){var c;Ni((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const o=await $0(e,n,r,av(),s);return _O(e,o,fy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await $0(e,n,r,av(),s);return AD(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Ni(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pO(e),r=new ZD(e);return n.register("authEvent",s=>($e(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ig,{type:Ig},s=>{var c;const o=(c=s==null?void 0:s[0])==null?void 0:c[Ig];o!==void 0&&n(!!o),es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hC()||oC()||uy()}}const IO=NO;var H0="@firebase/auth",q0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RO(t){bo(new Ci("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;$e(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fC(t)},p=new Y2(r,s,o,h);return iD(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bo(new Ci("auth-internal",e=>{const n=fc(e.getProvider("auth").getImmediate());return(r=>new kO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(H0,q0,AO(t)),Ar(H0,q0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=300,jO=$S("authIdTokenMaxAge")||PO;let G0=null;const DO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jO)return;const s=n==null?void 0:n.token;G0!==s&&(G0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function OO(t=rm()){const e=id(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sD(t,{popupRedirectResolver:IO,persistence:[FD,ND,bC]}),r=$S("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=DO(o.toString());ED(n,c,()=>c(n.currentUser)),_D(n,d=>c(d))}}const s=BS("auth");return s&&oD(n,`http://${s}`),n}function MO(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Q2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Ms("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",MO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RO("Browser");var LO="firebase",VO="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(LO,VO,"app");var K0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wo,AC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,k){function P(){}P.prototype=k.prototype,N.F=k.prototype,N.prototype=new P,N.prototype.constructor=N,N.D=function(F,U,L){for(var A=Array(arguments.length-2),le=2;le<arguments.length;le++)A[le-2]=arguments[le];return k.prototype[U].apply(F,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,k,P){P||(P=0);const F=Array(16);if(typeof k=="string")for(var U=0;U<16;++U)F[U]=k.charCodeAt(P++)|k.charCodeAt(P++)<<8|k.charCodeAt(P++)<<16|k.charCodeAt(P++)<<24;else for(U=0;U<16;++U)F[U]=k[P++]|k[P++]<<8|k[P++]<<16|k[P++]<<24;k=N.g[0],P=N.g[1],U=N.g[2];let L=N.g[3],A;A=k+(L^P&(U^L))+F[0]+3614090360&4294967295,k=P+(A<<7&4294967295|A>>>25),A=L+(U^k&(P^U))+F[1]+3905402710&4294967295,L=k+(A<<12&4294967295|A>>>20),A=U+(P^L&(k^P))+F[2]+606105819&4294967295,U=L+(A<<17&4294967295|A>>>15),A=P+(k^U&(L^k))+F[3]+3250441966&4294967295,P=U+(A<<22&4294967295|A>>>10),A=k+(L^P&(U^L))+F[4]+4118548399&4294967295,k=P+(A<<7&4294967295|A>>>25),A=L+(U^k&(P^U))+F[5]+1200080426&4294967295,L=k+(A<<12&4294967295|A>>>20),A=U+(P^L&(k^P))+F[6]+2821735955&4294967295,U=L+(A<<17&4294967295|A>>>15),A=P+(k^U&(L^k))+F[7]+4249261313&4294967295,P=U+(A<<22&4294967295|A>>>10),A=k+(L^P&(U^L))+F[8]+1770035416&4294967295,k=P+(A<<7&4294967295|A>>>25),A=L+(U^k&(P^U))+F[9]+2336552879&4294967295,L=k+(A<<12&4294967295|A>>>20),A=U+(P^L&(k^P))+F[10]+4294925233&4294967295,U=L+(A<<17&4294967295|A>>>15),A=P+(k^U&(L^k))+F[11]+2304563134&4294967295,P=U+(A<<22&4294967295|A>>>10),A=k+(L^P&(U^L))+F[12]+1804603682&4294967295,k=P+(A<<7&4294967295|A>>>25),A=L+(U^k&(P^U))+F[13]+4254626195&4294967295,L=k+(A<<12&4294967295|A>>>20),A=U+(P^L&(k^P))+F[14]+2792965006&4294967295,U=L+(A<<17&4294967295|A>>>15),A=P+(k^U&(L^k))+F[15]+1236535329&4294967295,P=U+(A<<22&4294967295|A>>>10),A=k+(U^L&(P^U))+F[1]+4129170786&4294967295,k=P+(A<<5&4294967295|A>>>27),A=L+(P^U&(k^P))+F[6]+3225465664&4294967295,L=k+(A<<9&4294967295|A>>>23),A=U+(k^P&(L^k))+F[11]+643717713&4294967295,U=L+(A<<14&4294967295|A>>>18),A=P+(L^k&(U^L))+F[0]+3921069994&4294967295,P=U+(A<<20&4294967295|A>>>12),A=k+(U^L&(P^U))+F[5]+3593408605&4294967295,k=P+(A<<5&4294967295|A>>>27),A=L+(P^U&(k^P))+F[10]+38016083&4294967295,L=k+(A<<9&4294967295|A>>>23),A=U+(k^P&(L^k))+F[15]+3634488961&4294967295,U=L+(A<<14&4294967295|A>>>18),A=P+(L^k&(U^L))+F[4]+3889429448&4294967295,P=U+(A<<20&4294967295|A>>>12),A=k+(U^L&(P^U))+F[9]+568446438&4294967295,k=P+(A<<5&4294967295|A>>>27),A=L+(P^U&(k^P))+F[14]+3275163606&4294967295,L=k+(A<<9&4294967295|A>>>23),A=U+(k^P&(L^k))+F[3]+4107603335&4294967295,U=L+(A<<14&4294967295|A>>>18),A=P+(L^k&(U^L))+F[8]+1163531501&4294967295,P=U+(A<<20&4294967295|A>>>12),A=k+(U^L&(P^U))+F[13]+2850285829&4294967295,k=P+(A<<5&4294967295|A>>>27),A=L+(P^U&(k^P))+F[2]+4243563512&4294967295,L=k+(A<<9&4294967295|A>>>23),A=U+(k^P&(L^k))+F[7]+1735328473&4294967295,U=L+(A<<14&4294967295|A>>>18),A=P+(L^k&(U^L))+F[12]+2368359562&4294967295,P=U+(A<<20&4294967295|A>>>12),A=k+(P^U^L)+F[5]+4294588738&4294967295,k=P+(A<<4&4294967295|A>>>28),A=L+(k^P^U)+F[8]+2272392833&4294967295,L=k+(A<<11&4294967295|A>>>21),A=U+(L^k^P)+F[11]+1839030562&4294967295,U=L+(A<<16&4294967295|A>>>16),A=P+(U^L^k)+F[14]+4259657740&4294967295,P=U+(A<<23&4294967295|A>>>9),A=k+(P^U^L)+F[1]+2763975236&4294967295,k=P+(A<<4&4294967295|A>>>28),A=L+(k^P^U)+F[4]+1272893353&4294967295,L=k+(A<<11&4294967295|A>>>21),A=U+(L^k^P)+F[7]+4139469664&4294967295,U=L+(A<<16&4294967295|A>>>16),A=P+(U^L^k)+F[10]+3200236656&4294967295,P=U+(A<<23&4294967295|A>>>9),A=k+(P^U^L)+F[13]+681279174&4294967295,k=P+(A<<4&4294967295|A>>>28),A=L+(k^P^U)+F[0]+3936430074&4294967295,L=k+(A<<11&4294967295|A>>>21),A=U+(L^k^P)+F[3]+3572445317&4294967295,U=L+(A<<16&4294967295|A>>>16),A=P+(U^L^k)+F[6]+76029189&4294967295,P=U+(A<<23&4294967295|A>>>9),A=k+(P^U^L)+F[9]+3654602809&4294967295,k=P+(A<<4&4294967295|A>>>28),A=L+(k^P^U)+F[12]+3873151461&4294967295,L=k+(A<<11&4294967295|A>>>21),A=U+(L^k^P)+F[15]+530742520&4294967295,U=L+(A<<16&4294967295|A>>>16),A=P+(U^L^k)+F[2]+3299628645&4294967295,P=U+(A<<23&4294967295|A>>>9),A=k+(U^(P|~L))+F[0]+4096336452&4294967295,k=P+(A<<6&4294967295|A>>>26),A=L+(P^(k|~U))+F[7]+1126891415&4294967295,L=k+(A<<10&4294967295|A>>>22),A=U+(k^(L|~P))+F[14]+2878612391&4294967295,U=L+(A<<15&4294967295|A>>>17),A=P+(L^(U|~k))+F[5]+4237533241&4294967295,P=U+(A<<21&4294967295|A>>>11),A=k+(U^(P|~L))+F[12]+1700485571&4294967295,k=P+(A<<6&4294967295|A>>>26),A=L+(P^(k|~U))+F[3]+2399980690&4294967295,L=k+(A<<10&4294967295|A>>>22),A=U+(k^(L|~P))+F[10]+4293915773&4294967295,U=L+(A<<15&4294967295|A>>>17),A=P+(L^(U|~k))+F[1]+2240044497&4294967295,P=U+(A<<21&4294967295|A>>>11),A=k+(U^(P|~L))+F[8]+1873313359&4294967295,k=P+(A<<6&4294967295|A>>>26),A=L+(P^(k|~U))+F[15]+4264355552&4294967295,L=k+(A<<10&4294967295|A>>>22),A=U+(k^(L|~P))+F[6]+2734768916&4294967295,U=L+(A<<15&4294967295|A>>>17),A=P+(L^(U|~k))+F[13]+1309151649&4294967295,P=U+(A<<21&4294967295|A>>>11),A=k+(U^(P|~L))+F[4]+4149444226&4294967295,k=P+(A<<6&4294967295|A>>>26),A=L+(P^(k|~U))+F[11]+3174756917&4294967295,L=k+(A<<10&4294967295|A>>>22),A=U+(k^(L|~P))+F[2]+718787259&4294967295,U=L+(A<<15&4294967295|A>>>17),A=P+(L^(U|~k))+F[9]+3951481745&4294967295,N.g[0]=N.g[0]+k&4294967295,N.g[1]=N.g[1]+(U+(A<<21&4294967295|A>>>11))&4294967295,N.g[2]=N.g[2]+U&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,k){k===void 0&&(k=N.length);const P=k-this.blockSize,F=this.C;let U=this.h,L=0;for(;L<k;){if(U==0)for(;L<=P;)s(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<k;)if(F[U++]=N.charCodeAt(L++),U==this.blockSize){s(this,F),U=0;break}}else for(;L<k;)if(F[U++]=N[L++],U==this.blockSize){s(this,F),U=0;break}}this.h=U,this.o+=k},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var k=1;k<N.length-8;++k)N[k]=0;k=this.o*8;for(var P=N.length-8;P<N.length;++P)N[P]=k&255,k/=256;for(this.v(N),N=Array(16),k=0,P=0;P<4;++P)for(let F=0;F<32;F+=8)N[k++]=this.g[P]>>>F&255;return N};function o(N,k){var P=d;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=k(N)}function c(N,k){this.h=k;const P=[];let F=!0;for(let U=N.length-1;U>=0;U--){const L=N[U]|0;F&&L==k||(P[U]=L,F=!1)}this.g=P}var d={};function h(N){return-128<=N&&N<128?o(N,function(k){return new c([k|0],k<0?-1:0)}):new c([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return v;if(N<0)return I(p(-N));const k=[];let P=1;for(let F=0;N>=P;F++)k[F]=N/P|0,P*=4294967296;return new c(k,0)}function g(N,k){if(N.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(N.charAt(0)=="-")return I(g(N.substring(1),k));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=p(Math.pow(k,8));let F=v;for(let L=0;L<N.length;L+=8){var U=Math.min(8,N.length-L);const A=parseInt(N.substring(L,L+U),k);U<8?(U=p(Math.pow(k,U)),F=F.j(U).add(p(A))):(F=F.j(P),F=F.add(p(A)))}return F}var v=h(0),x=h(1),S=h(16777216);t=c.prototype,t.m=function(){if(b(this))return-I(this).m();let N=0,k=1;for(let P=0;P<this.g.length;P++){const F=this.i(P);N+=(F>=0?F:4294967296+F)*k,k*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(C(this))return"0";if(b(this))return"-"+I(this).toString(N);const k=p(Math.pow(N,6));var P=this;let F="";for(;;){const U=B(P,k).g;P=O(P,U.j(k));let L=((P.g.length>0?P.g[0]:P.h)>>>0).toString(N);if(P=U,C(P))return L+F;for(;L.length<6;)L="0"+L;F=L+F}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function C(N){if(N.h!=0)return!1;for(let k=0;k<N.g.length;k++)if(N.g[k]!=0)return!1;return!0}function b(N){return N.h==-1}t.l=function(N){return N=O(this,N),b(N)?-1:C(N)?0:1};function I(N){const k=N.g.length,P=[];for(let F=0;F<k;F++)P[F]=~N.g[F];return new c(P,~N.h).add(x)}t.abs=function(){return b(this)?I(this):this},t.add=function(N){const k=Math.max(this.g.length,N.g.length),P=[];let F=0;for(let U=0;U<=k;U++){let L=F+(this.i(U)&65535)+(N.i(U)&65535),A=(L>>>16)+(this.i(U)>>>16)+(N.i(U)>>>16);F=A>>>16,L&=65535,A&=65535,P[U]=A<<16|L}return new c(P,P[P.length-1]&-2147483648?-1:0)};function O(N,k){return N.add(I(k))}t.j=function(N){if(C(this)||C(N))return v;if(b(this))return b(N)?I(this).j(I(N)):I(I(this).j(N));if(b(N))return I(this.j(I(N)));if(this.l(S)<0&&N.l(S)<0)return p(this.m()*N.m());const k=this.g.length+N.g.length,P=[];for(var F=0;F<2*k;F++)P[F]=0;for(F=0;F<this.g.length;F++)for(let U=0;U<N.g.length;U++){const L=this.i(F)>>>16,A=this.i(F)&65535,le=N.i(U)>>>16,ve=N.i(U)&65535;P[2*F+2*U]+=A*ve,D(P,2*F+2*U),P[2*F+2*U+1]+=L*ve,D(P,2*F+2*U+1),P[2*F+2*U+1]+=A*le,D(P,2*F+2*U+1),P[2*F+2*U+2]+=L*le,D(P,2*F+2*U+2)}for(N=0;N<k;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=k;N<2*k;N++)P[N]=0;return new c(P,0)};function D(N,k){for(;(N[k]&65535)!=N[k];)N[k+1]+=N[k]>>>16,N[k]&=65535,k++}function j(N,k){this.g=N,this.h=k}function B(N,k){if(C(k))throw Error("division by zero");if(C(N))return new j(v,v);if(b(N))return k=B(I(N),k),new j(I(k.g),I(k.h));if(b(k))return k=B(N,I(k)),new j(I(k.g),k.h);if(N.g.length>30){if(b(N)||b(k))throw Error("slowDivide_ only works with positive integers.");for(var P=x,F=k;F.l(N)<=0;)P=M(P),F=M(F);var U=$(P,1),L=$(F,1);for(F=$(F,2),P=$(P,2);!C(F);){var A=L.add(F);A.l(N)<=0&&(U=U.add(P),L=A),F=$(F,1),P=$(P,1)}return k=O(N,U.j(k)),new j(U,k)}for(U=v;N.l(k)>=0;){for(P=Math.max(1,Math.floor(N.m()/k.m())),F=Math.ceil(Math.log(P)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),L=p(P),A=L.j(k);b(A)||A.l(N)>0;)P-=F,L=p(P),A=L.j(k);C(L)&&(L=x),U=U.add(L),N=O(N,A)}return new j(U,N)}t.B=function(N){return B(this,N).h},t.and=function(N){const k=Math.max(this.g.length,N.g.length),P=[];for(let F=0;F<k;F++)P[F]=this.i(F)&N.i(F);return new c(P,this.h&N.h)},t.or=function(N){const k=Math.max(this.g.length,N.g.length),P=[];for(let F=0;F<k;F++)P[F]=this.i(F)|N.i(F);return new c(P,this.h|N.h)},t.xor=function(N){const k=Math.max(this.g.length,N.g.length),P=[];for(let F=0;F<k;F++)P[F]=this.i(F)^N.i(F);return new c(P,this.h^N.h)};function M(N){const k=N.g.length+1,P=[];for(let F=0;F<k;F++)P[F]=N.i(F)<<1|N.i(F-1)>>>31;return new c(P,N.h)}function $(N,k){const P=k>>5;k%=32;const F=N.g.length-P,U=[];for(let L=0;L<F;L++)U[L]=k>0?N.i(L+P)>>>k|N.i(L+P+1)<<32-k:N.i(L+P);return new c(U,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,AC=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=g,wo=c}).apply(typeof K0<"u"?K0:typeof self<"u"?self:typeof window<"u"?window:{});var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RC,Su,PC,nf,uv,jC,DC,OC;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oh=="object"&&Oh];for(var E=0;E<f.length;++E){var T=f[E];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(f,E){if(E)e:{var T=r;f=f.split(".");for(var V=0;V<f.length-1;V++){var Q=f[V];if(!(Q in T))break e;T=T[Q]}f=f[f.length-1],V=T[f],E=E(V),E!=V&&E!=null&&e(T,f,{configurable:!0,writable:!0,value:E})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(E){var T=[],V;for(V in E)Object.prototype.hasOwnProperty.call(E,V)&&T.push([V,E[V]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function d(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function h(f,E,T){return f.call.apply(f.bind,arguments)}function p(f,E,T){return p=h,p.apply(null,arguments)}function g(f,E){var T=Array.prototype.slice.call(arguments,1);return function(){var V=T.slice();return V.push.apply(V,arguments),f.apply(this,V)}}function v(f,E){function T(){}T.prototype=E.prototype,f.Z=E.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(V,Q,Z){for(var me=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)me[Qe-2]=arguments[Qe];return E.prototype[Q].apply(V,me)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const E=f.length;if(E>0){const T=Array(E);for(let V=0;V<E;V++)T[V]=f[V];return T}return[]}function C(f,E){for(let V=1;V<arguments.length;V++){const Q=arguments[V];var T=typeof Q;if(T=T!="object"?T:Q?Array.isArray(Q)?"array":T:"null",T=="array"||T=="object"&&typeof Q.length=="number"){T=f.length||0;const Z=Q.length||0;f.length=T+Z;for(let me=0;me<Z;me++)f[T+me]=Q[me]}else f.push(Q)}}class b{constructor(E,T){this.i=E,this.j=T,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function I(f){c.setTimeout(()=>{throw f},0)}function O(){var f=N;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class D{constructor(){this.h=this.g=null}add(E,T){const V=j.get();V.set(E,T),this.h?this.h.next=V:this.g=V,this.h=V}}var j=new b(()=>new B,f=>f.reset());class B{constructor(){this.next=this.g=this.h=null}set(E,T){this.h=E,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let M,$=!1,N=new D,k=()=>{const f=Promise.resolve(void 0);M=()=>{f.then(P)}};function P(){for(var f;f=O();){try{f.h.call(f.g)}catch(T){I(T)}var E=j;E.j(f),E.h<100&&(E.h++,f.next=E.g,E.g=f)}$=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,E),c.removeEventListener("test",T,E)}catch{}return f})();function A(f){return/^[\s\xa0]*$/.test(f)}function le(f,E){U.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,E)}v(le,U),le.prototype.init=function(f,E){const T=this.type=f.type,V=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget,E||(T=="mouseover"?E=f.fromElement:T=="mouseout"&&(E=f.toElement)),this.relatedTarget=E,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),pe=0;function xe(f,E,T,V,Q){this.listener=f,this.proxy=null,this.src=E,this.type=T,this.capture=!!V,this.ha=Q,this.key=++pe,this.da=this.fa=!1}function z(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function K(f,E,T){for(const V in f)E.call(T,f[V],V,f)}function te(f,E){for(const T in f)E.call(void 0,f[T],T,f)}function q(f){const E={};for(const T in f)E[T]=f[T];return E}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(f,E){let T,V;for(let Q=1;Q<arguments.length;Q++){V=arguments[Q];for(T in V)f[T]=V[T];for(let Z=0;Z<ee.length;Z++)T=ee[Z],Object.prototype.hasOwnProperty.call(V,T)&&(f[T]=V[T])}}function ye(f){this.src=f,this.g={},this.h=0}ye.prototype.add=function(f,E,T,V,Q){const Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);const me=De(f,E,V,Q);return me>-1?(E=f[me],T||(E.fa=!1)):(E=new xe(E,this.src,Z,!!V,Q),E.fa=T,f.push(E)),E};function Oe(f,E){const T=E.type;if(T in f.g){var V=f.g[T],Q=Array.prototype.indexOf.call(V,E,void 0),Z;(Z=Q>=0)&&Array.prototype.splice.call(V,Q,1),Z&&(z(E),f.g[T].length==0&&(delete f.g[T],f.h--))}}function De(f,E,T,V){for(let Q=0;Q<f.length;++Q){const Z=f[Q];if(!Z.da&&Z.listener==E&&Z.capture==!!T&&Z.ha==V)return Q}return-1}var oe="closure_lm_"+(Math.random()*1e6|0),Ee={};function Re(f,E,T,V,Q){if(Array.isArray(E)){for(let Z=0;Z<E.length;Z++)Re(f,E[Z],T,V,Q);return null}return T=St(T),f&&f[ve]?f.J(E,T,d(V)?!!V.capture:!1,Q):Fe(f,E,T,!1,V,Q)}function Fe(f,E,T,V,Q,Z){if(!E)throw Error("Invalid event type");const me=d(Q)?!!Q.capture:!!Q;let Qe=fe(f);if(Qe||(f[oe]=Qe=new ye(f)),T=Qe.add(E,T,V,me,Z),T.proxy)return T;if(V=Je(),T.proxy=V,V.src=f,V.listener=T,f.addEventListener)L||(Q=me),Q===void 0&&(Q=!1),f.addEventListener(E.toString(),V,Q);else if(f.attachEvent)f.attachEvent($t(E.toString()),V);else if(f.addListener&&f.removeListener)f.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Je(){function f(T){return E.call(f.src,f.listener,T)}const E=zn;return f}function Ze(f,E,T,V,Q){if(Array.isArray(E))for(var Z=0;Z<E.length;Z++)Ze(f,E[Z],T,V,Q);else V=d(V)?!!V.capture:!!V,T=St(T),f&&f[ve]?(f=f.i,Z=String(E).toString(),Z in f.g&&(E=f.g[Z],T=De(E,T,V,Q),T>-1&&(z(E[T]),Array.prototype.splice.call(E,T,1),E.length==0&&(delete f.g[Z],f.h--)))):f&&(f=fe(f))&&(E=f.g[E.toString()],f=-1,E&&(f=De(E,T,V,Q)),(T=f>-1?E[f]:null)&&It(T))}function It(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[ve])Oe(E.i,f);else{var T=f.type,V=f.proxy;E.removeEventListener?E.removeEventListener(T,V,f.capture):E.detachEvent?E.detachEvent($t(T),V):E.addListener&&E.removeListener&&E.removeListener(V),(T=fe(E))?(Oe(T,f),T.h==0&&(T.src=null,E[oe]=null)):z(f)}}}function $t(f){return f in Ee?Ee[f]:Ee[f]="on"+f}function zn(f,E){if(f.da)f=!0;else{E=new le(E,this);const T=f.listener,V=f.ha||f.src;f.fa&&It(f),f=T.call(V,E)}return f}function fe(f){return f=f[oe],f instanceof ye?f:null}var Pe="__closure_events_fn_"+(Math.random()*1e9>>>0);function St(f){return typeof f=="function"?f:(f[Pe]||(f[Pe]=function(E){return f.handleEvent(E)}),f[Pe])}function Ke(){F.call(this),this.i=new ye(this),this.M=this,this.G=null}v(Ke,F),Ke.prototype[ve]=!0,Ke.prototype.removeEventListener=function(f,E,T,V){Ze(this,f,E,T,V)};function tt(f,E){var T,V=f.G;if(V)for(T=[];V;V=V.G)T.push(V);if(f=f.M,V=E.type||E,typeof E=="string")E=new U(E,f);else if(E instanceof U)E.target=E.target||f;else{var Q=E;E=new U(V,f),ge(E,Q)}Q=!0;let Z,me;if(T)for(me=T.length-1;me>=0;me--)Z=E.g=T[me],Q=Lt(Z,V,!0,E)&&Q;if(Z=E.g=f,Q=Lt(Z,V,!0,E)&&Q,Q=Lt(Z,V,!1,E)&&Q,T)for(me=0;me<T.length;me++)Z=E.g=T[me],Q=Lt(Z,V,!1,E)&&Q}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var f=this.i;for(const E in f.g){const T=f.g[E];for(let V=0;V<T.length;V++)z(T[V]);delete f.g[E],f.h--}}this.G=null},Ke.prototype.J=function(f,E,T,V){return this.i.add(String(f),E,!1,T,V)},Ke.prototype.K=function(f,E,T,V){return this.i.add(String(f),E,!0,T,V)};function Lt(f,E,T,V){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();let Q=!0;for(let Z=0;Z<E.length;++Z){const me=E[Z];if(me&&!me.da&&me.capture==T){const Qe=me.listener,Gt=me.ha||me.src;me.fa&&Oe(f.i,me),Q=Qe.call(Gt,V)!==!1&&Q}}return Q&&!V.defaultPrevented}function nn(f,E){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:c.setTimeout(f,E||0)}function Sn(f){f.g=nn(()=>{f.g=null,f.i&&(f.i=!1,Sn(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class Qt extends F{constructor(E,T){super(),this.m=E,this.l=T,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Sn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zn(f){F.call(this),this.h=f,this.g={}}v(Zn,F);var os=[];function Vi(f){K(f.g,function(E,T){this.g.hasOwnProperty(T)&&It(E)},f),f.g={}}Zn.prototype.N=function(){Zn.Z.N.call(this),Vi(this)},Zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=c.JSON.stringify,$a=c.JSON.parse,ei=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function ls(){}function Ha(){}var cs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fi(){U.call(this,"d")}v(Fi,U);function Zo(){U.call(this,"c")}v(Zo,U);var Bn={},Ui=null;function Or(){return Ui=Ui||new Ke}Bn.Ia="serverreachability";function Ye(f){U.call(this,Bn.Ia,f)}v(Ye,U);function ht(f){const E=Or();tt(E,new Ye(E))}Bn.STAT_EVENT="statevent";function nt(f,E){U.call(this,Bn.STAT_EVENT,f),this.stat=E}v(nt,U);function vt(f){const E=Or();tt(E,new nt(E,f))}Bn.Ja="timingevent";function gn(f,E){U.call(this,Bn.Ja,f),this.size=E}v(gn,U);function er(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},E)}function At(){this.g=!0}At.prototype.ua=function(){this.g=!1};function Ln(f,E,T,V,Q,Z){f.info(function(){if(f.g)if(Z){var me="",Qe=Z.split("&");for(let _t=0;_t<Qe.length;_t++){var Gt=Qe[_t].split("=");if(Gt.length>1){const Xt=Gt[0];Gt=Gt[1];const or=Xt.split("_");me=or.length>=2&&or[1]=="type"?me+(Xt+"="+Gt+"&"):me+(Xt+"=redacted&")}}}else me=null;else me=Z;return"XMLHTTP REQ ("+V+") [attempt "+Q+"]: "+E+`
`+T+`
`+me})}function ft(f,E,T,V,Q,Z,me){f.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+Q+"]: "+E+`
`+T+`
`+Z+" "+me})}function yr(f,E,T,V){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+ti(f,T)+(V?" "+V:"")})}function qa(f,E){f.info(function(){return"TIMEOUT: "+E})}At.prototype.info=function(){};function ti(f,E){if(!f.g)return E;if(!E)return null;try{const Z=JSON.parse(E);if(Z){for(f=0;f<Z.length;f++)if(Array.isArray(Z[f])){var T=Z[f];if(!(T.length<2)){var V=T[1];if(Array.isArray(V)&&!(V.length<1)){var Q=V[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let me=1;me<V.length;me++)V[me]=""}}}}return as(Z)}catch{return E}}var xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sd;function ni(){}v(ni,ls),ni.prototype.g=function(){return new XMLHttpRequest},Sd=new ni;function us(f){return encodeURIComponent(String(f))}function Ga(f){var E=1;f=f.split(":");const T=[];for(;E>0&&f.length;)T.push(f.shift()),E--;return f.length&&T.push(f.join(":")),T}function _r(f,E,T,V){this.j=f,this.i=E,this.l=T,this.S=V||1,this.V=new Zn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Cd}function Cd(){this.i=null,this.g="",this.h=!1}var Td={},Rc={};function Mr(f,E,T){f.M=1,f.A=si(Er(E)),f.u=T,f.R=!0,Pc(f,null)}function Pc(f,E){f.F=Date.now(),ea(f),f.B=Er(f.A);var T=f.B,V=f.S;Array.isArray(V)||(V=[String(V)]),Bc(T.i,"t",V),f.C=0,T=f.j.L,f.h=new Cd,f.g=Md(f.j,T?E:null,!f.u),f.P>0&&(f.O=new Qt(p(f.Y,f,f.g),f.P)),E=f.V,T=f.g,V=f.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(os[0]=Q.toString()),Q=os);for(let Z=0;Z<Q.length;Z++){const me=Re(T,Q[Z],V||E.handleEvent,!1,E.h||E);if(!me)break;E.g[me.key]=me}E=f.J?q(f.J):{},f.u?(f.v||(f.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,E)):(f.v="GET",f.g.ea(f.B,f.v,null,E)),ht(),Ln(f.i,f.v,f.B,f.l,f.S,f.u)}_r.prototype.ba=function(f){f=f.target;const E=this.O;E&&vs(f)==3?E.j():this.Y(f)},_r.prototype.Y=function(f){try{if(f==this.g)e:{const Qe=vs(this.g),Gt=this.g.ya(),_t=this.g.ca();if(!(Qe<3)&&(Qe!=3||this.g&&(this.h.h||this.g.la()||Dd(this.g)))){this.K||Qe!=4||Gt==7||(Gt==8||_t<=0?ht(3):ht(2)),Ka(this);var E=this.g.ca();this.X=E;var T=Nd(this);if(this.o=E==200,ft(this.i,this.v,this.B,this.l,this.S,Qe,E),this.o){if(this.U&&!this.L){t:{if(this.g){var V,Q=this.g;if((V=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(V)){var Z=V;break t}}Z=null}if(f=Z)yr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Rt(this,f);else{this.o=!1,this.m=3,vt(12),ri(this),ta(this);break e}}if(this.R){f=!0;let Xt;for(;!this.K&&this.C<T.length;)if(Xt=kd(this,T),Xt==Rc){Qe==4&&(this.m=4,vt(14),f=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Td){this.m=4,vt(15),yr(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else yr(this.i,this.l,Xt,null),Rt(this,Xt);if(Id(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||T.length!=0||this.h.h||(this.m=1,vt(16),f=!1),this.o=this.o&&f,!f)yr(this.i,this.l,T,"[Invalid Chunked Response]"),ri(this),ta(this);else if(T.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),ua(me),me.P=!0,vt(11))}}else yr(this.i,this.l,T,null),Rt(this,T);Qe==4&&ri(this),this.o&&!this.K&&(Qe==4?sl(this.j,this):(this.o=!1,ea(this)))}else $c(this.g),E==400&&T.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),ri(this),ta(this)}}}catch{}finally{}};function Nd(f){if(!Id(f))return f.g.la();const E=Dd(f.g);if(E==="")return"";let T="";const V=E.length,Q=vs(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ri(f),ta(f),"";f.h.i=new c.TextDecoder}for(let Z=0;Z<V;Z++)f.h.h=!0,T+=f.h.i.decode(E[Z],{stream:!(Q&&Z==V-1)});return E.length=0,f.h.g+=T,f.C=0,f.h.g}function Id(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function kd(f,E){var T=f.C,V=E.indexOf(`
`,T);return V==-1?Rc:(T=Number(E.substring(T,V)),isNaN(T)?Td:(V+=1,V+T>E.length?Rc:(E=E.slice(V,V+T),f.C=V+T,E)))}_r.prototype.cancel=function(){this.K=!0,ri(this)};function ea(f){f.T=Date.now()+f.H,jc(f,f.H)}function jc(f,E){if(f.D!=null)throw Error("WatchDog timer not null");f.D=er(p(f.aa,f),E)}function Ka(f){f.D&&(c.clearTimeout(f.D),f.D=null)}_r.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(qa(this.i,this.B),this.M!=2&&(ht(),vt(17)),ri(this),this.m=2,ta(this)):jc(this,this.T-f)};function ta(f){f.j.I==0||f.K||sl(f.j,f)}function ri(f){Ka(f);var E=f.O;E&&typeof E.dispose=="function"&&E.dispose(),f.O=null,Vi(f.V),f.g&&(E=f.g,f.g=null,E.abort(),E.dispose())}function Rt(f,E){try{var T=f.j;if(T.I!=0&&(T.g==f||Oc(T.h,f))){if(!f.L&&Oc(T.h,f)&&T.I==3){try{var V=T.Ba.g.parse(E)}catch{V=null}if(Array.isArray(V)&&V.length==3){var Q=V;if(Q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)rl(T),sr(T);else break e;ws(T),vt(18)}}else T.xa=Q[1],0<T.xa-T.K&&Q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=er(p(T.Va,T),6e3));na(T.h)<=1&&T.ta&&(T.ta=void 0)}else ir(T,11)}else if((f.L||T.g==f)&&rl(T),!A(E))for(Q=T.Ba.g.parse(E),E=0;E<Q.length;E++){let _t=Q[E];const Xt=_t[0];if(!(Xt<=T.K))if(T.K=Xt,_t=_t[1],T.I==2)if(_t[0]=="c"){T.M=_t[1],T.ba=_t[2];const or=_t[3];or!=null&&(T.ka=or,T.j.info("VER="+T.ka));const ci=_t[4];ci!=null&&(T.za=ci,T.j.info("SVER="+T.za));const _s=_t[5];_s!=null&&typeof _s=="number"&&_s>0&&(V=1.5*_s,T.O=V,T.j.info("backChannelRequestTimeoutMs_="+V)),V=T;const Es=f.g;if(Es){const al=Es.g?Es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(al){var Z=V.h;Z.g||al.indexOf("spdy")==-1&&al.indexOf("quic")==-1&&al.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Qa(Z,Z.h),Z.h=null))}if(V.G){const Gc=Es.g?Es.g.getResponseHeader("X-HTTP-Session-Id"):null;Gc&&(V.wa=Gc,yt(V.J,V.G,Gc))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),V=T;var me=f;if(V.na=qc(V,V.L?V.ba:null,V.W),me.L){ra(V.h,me);var Qe=me,Gt=V.O;Gt&&(Qe.H=Gt),Qe.D&&(Ka(Qe),ea(Qe)),V.g=me}else Cn(V);T.i.length>0&&li(T)}else _t[0]!="stop"&&_t[0]!="close"||ir(T,7);else T.I==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?ir(T,7):tl(T):_t[0]!="noop"&&T.l&&T.l.qa(_t),T.A=0)}}ht(4)}catch{}}var Hm=class{constructor(f,E){this.g=f,this.map=E}};function Ya(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function na(f){return f.h?1:f.g?f.g.size:0}function Oc(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function Qa(f,E){f.g?f.g.add(E):f.h=E}function ra(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}Ya.prototype.cancel=function(){if(this.i=tr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function tr(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const T of f.g.values())E=E.concat(T.G);return E}return S(f.i)}var Ad=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nr(f,E){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const V=f[T].indexOf("=");let Q,Z=null;V>=0?(Q=f[T].substring(0,V),Z=f[T].substring(V+1)):Q=f[T],E(Q,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function ds(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;f instanceof ds?(this.l=f.l,sa(this,f.j),this.o=f.o,this.g=f.g,hs(this,f.u),this.h=f.h,zi(this,Wc(f.i)),this.m=f.m):f&&(E=String(f).match(Ad))?(this.l=!1,sa(this,E[1]||"",!0),this.o=ia(E[2]||""),this.g=ia(E[3]||"",!0),hs(this,E[4]),this.h=ia(E[5]||"",!0),zi(this,E[6]||"",!0),this.m=ia(E[7]||"")):(this.l=!1,this.i=new dt(null,this.l))}ds.prototype.toString=function(){const f=[];var E=this.j;E&&f.push(oa(E,Lc,!0),":");var T=this.g;return(T||E=="file")&&(f.push("//"),(E=this.o)&&f.push(oa(E,Lc,!0),"@"),f.push(us(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(oa(T,T.charAt(0)=="/"?aa:Vc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",oa(T,Fc)),f.join("")},ds.prototype.resolve=function(f){const E=Er(this);let T=!!f.j;T?sa(E,f.j):T=!!f.o,T?E.o=f.o:T=!!f.g,T?E.g=f.g:T=f.u!=null;var V=f.h;if(T)hs(E,f.u);else if(T=!!f.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var Q=E.h.lastIndexOf("/");Q!=-1&&(V=E.h.slice(0,Q+1)+V)}if(Q=V,Q==".."||Q==".")V="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){V=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const Z=[];for(let me=0;me<Q.length;){const Qe=Q[me++];Qe=="."?V&&me==Q.length&&Z.push(""):Qe==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),V&&me==Q.length&&Z.push("")):(Z.push(Qe),V=!0)}V=Z.join("/")}else V=Q}return T?E.h=V:T=f.i.toString()!=="",T?zi(E,Wc(f.i)):T=!!f.m,T&&(E.m=f.m),E};function Er(f){return new ds(f)}function sa(f,E,T){f.j=T?ia(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function hs(f,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);f.u=E}else f.u=null}function zi(f,E,T){E instanceof dt?(f.i=E,Ja(f.i,f.l)):(T||(E=oa(E,qm)),f.i=new dt(E,f.l))}function yt(f,E,T){f.i.set(E,T)}function si(f){return yt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ia(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function oa(f,E,T){return typeof f=="string"?(f=encodeURI(f).replace(E,Mc),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Mc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Lc=/[#\/\?@]/g,Vc=/[#\?:]/g,aa=/[#\?]/g,qm=/[#\?@]/g,Fc=/#/g;function dt(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function fs(f){f.g||(f.g=new Map,f.h=0,f.i&&nr(f.i,function(E,T){f.add(decodeURIComponent(E.replace(/\+/g," ")),T)}))}t=dt.prototype,t.add=function(f,E){fs(this),this.i=null,f=ms(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(E),this.h+=1,this};function Uc(f,E){fs(f),E=ms(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function Xa(f,E){return fs(f),E=ms(f,E),f.g.has(E)}t.forEach=function(f,E){fs(this),this.g.forEach(function(T,V){T.forEach(function(Q){f.call(E,Q,V,this)},this)},this)};function zc(f,E){fs(f);let T=[];if(typeof E=="string")Xa(f,E)&&(T=T.concat(f.g.get(ms(f,E))));else for(f=Array.from(f.g.values()),E=0;E<f.length;E++)T=T.concat(f[E]);return T}t.set=function(f,E){return fs(this),this.i=null,f=ms(this,f),Xa(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},t.get=function(f,E){return f?(f=zc(this,f),f.length>0?String(f[0]):E):E};function Bc(f,E,T){Uc(f,E),T.length>0&&(f.i=null,f.g.set(ms(f,E),S(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(let V=0;V<E.length;V++){var T=E[V];const Q=us(T);T=zc(this,T);for(let Z=0;Z<T.length;Z++){let me=Q;T[Z]!==""&&(me+="="+us(T[Z])),f.push(me)}}return this.i=f.join("&")};function Wc(f){const E=new dt;return E.i=f.i,f.g&&(E.g=new Map(f.g),E.h=f.h),E}function ms(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function Ja(f,E){E&&!f.j&&(fs(f),f.i=null,f.g.forEach(function(T,V){const Q=V.toLowerCase();V!=Q&&(Uc(this,V),Bc(this,Q,T))},f)),f.j=E}function ps(f,E){const T=new At;if(c.Image){const V=new Image;V.onload=g(vn,T,"TestLoadImage: loaded",!0,E,V),V.onerror=g(vn,T,"TestLoadImage: error",!1,E,V),V.onabort=g(vn,T,"TestLoadImage: abort",!1,E,V),V.ontimeout=g(vn,T,"TestLoadImage: timeout",!1,E,V),c.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=f}else E(!1)}function gs(f,E){const T=new At,V=new AbortController,Q=setTimeout(()=>{V.abort(),vn(T,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:V.signal}).then(Z=>{clearTimeout(Q),Z.ok?vn(T,"TestPingServer: ok",!0,E):vn(T,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Q),vn(T,"TestPingServer: error",!1,E)})}function vn(f,E,T,V,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),V(T)}catch{}}function la(){this.g=new ei}function ii(f){this.i=f.Sb||null,this.h=f.ab||!1}v(ii,ls),ii.prototype.g=function(){return new rr(this.i,this.h)};function rr(f,E){Ke.call(this),this.H=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(rr,Ke),t=rr.prototype,t.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=E,this.readyState=1,Lr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(E.body=f),(this.H||c).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Bi(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rd(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rd(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?Bi(this):Lr(this),this.readyState==3&&Rd(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Bi(this))},t.Na=function(f){this.g&&(this.response=f,Bi(this))},t.ga=function(){this.g&&Bi(this)};function Bi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Lr(f)}t.setRequestHeader=function(f,E){this.A.append(f,E)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var T=E.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=E.next();return f.join(`\r
`)};function Lr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Pd(f){let E="";return K(f,function(T,V){E+=V,E+=":",E+=T,E+=`\r
`}),E}function Za(f,E,T){e:{for(V in T){var V=!1;break e}V=!0}V||(T=Pd(T),typeof f=="string"?T!=null&&us(T):yt(f,E,T))}function Ct(f){Ke.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Ct,Ke);var jd=/^https?$/i,Gm=["POST","PUT"];t=Ct.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,E,T,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sd.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(Z){Wi(this,Z);return}if(f=T||"",T=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var Q in V)T.set(Q,V[Q]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const Z of V.keys())T.set(Z,V.get(Z));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),Q=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Gm,E,void 0)>=0)||V||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,me]of T)this.g.setRequestHeader(Z,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Z){Wi(this,Z)}};function Wi(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.o=5,$i(f),ai(f)}function $i(f){f.A||(f.A=!0,tt(f,"complete"),tt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,tt(this,"complete"),tt(this,"abort"),ai(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),Ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?oi(this):this.Xa())},t.Xa=function(){oi(this)};function oi(f){if(f.h&&typeof o<"u"){if(f.v&&vs(f)==4)setTimeout(f.Ca.bind(f),0);else if(tt(f,"readystatechange"),vs(f)==4){f.h=!1;try{const Z=f.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var T;if(!(T=E)){var V;if(V=Z===0){let me=String(f.D).match(Ad)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),V=!jd.test(me?me.toLowerCase():"")}T=V}if(T)tt(f,"complete"),tt(f,"success");else{f.o=6;try{var Q=vs(f)>2?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.ca()+"]",$i(f)}}finally{ai(f)}}}}function ai(f,E){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,E||tt(f,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function vs(f){return f.g?f.g.readyState:0}t.ca=function(){try{return vs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),$a(E)}};function Dd(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function $c(f){const E={};f=(f.g&&vs(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<f.length;V++){if(A(f[V]))continue;var T=Ga(f[V]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=E[Q]||[];E[Q]=Z,Z.push(T)}te(E,function(V){return V.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(f,E,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||E}function el(f){this.za=0,this.i=[],this.j=new At,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ys("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ys("baseRetryDelayMs",5e3,f),this.Za=ys("retryDelaySeedMs",1e4,f),this.Ta=ys("forwardChannelMaxRetries",2,f),this.va=ys("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Ya(f&&f.concurrentRequestLimit),this.Ba=new la,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=el.prototype,t.ka=8,t.I=1,t.connect=function(f,E,T,V){vt(0),this.W=f,this.H=E||{},T&&V!==void 0&&(this.H.OSID=T,this.H.OAID=V),this.F=this.X,this.J=qc(this,null,this.W),li(this)};function tl(f){if(nl(f),f.I==3){var E=f.V++,T=Er(f.J);if(yt(T,"SID",f.M),yt(T,"RID",E),yt(T,"TYPE","terminate"),xs(f,T),E=new _r(f,f.j,E),E.M=2,E.A=si(Er(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(E.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=E.A,T=!0),T||(E.g=Md(E.j,null),E.g.ea(E.A)),E.F=Date.now(),ea(E)}da(f)}function sr(f){f.g&&(ua(f),f.g.cancel(),f.g=null)}function nl(f){sr(f),f.v&&(c.clearTimeout(f.v),f.v=null),rl(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function li(f){if(!Dc(f.h)&&!f.m){f.m=!0;var E=f.Ea;M||k(),$||(M(),$=!0),N.add(E,f),f.D=0}}function Od(f,E){return na(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=E.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=er(p(f.Ea,f,E),il(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Q=new _r(this,this.j,f);let Z=this.o;if(this.U&&(Z?(Z=q(Z),ge(Z,this.U)):Z=this.U),this.u!==null||this.R||(Q.J=Z,Z=null),this.S)e:{for(var E=0,T=0;T<this.i.length;T++){t:{var V=this.i[T];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(E+=V,E>4096){E=T;break e}if(E===4096||T===this.i.length-1){E=T+1;break e}}E=1e3}else E=1e3;E=Hc(this,Q,E),T=Er(this.J),yt(T,"RID",f),yt(T,"CVER",22),this.G&&yt(T,"X-HTTP-Session-Id",this.G),xs(this,T),Z&&(this.R?E="headers="+us(Pd(Z))+"&"+E:this.u&&Za(T,this.u,Z)),Qa(this.h,Q),this.Ra&&yt(T,"TYPE","init"),this.S?(yt(T,"$req",E),yt(T,"SID","null"),Q.U=!0,Mr(Q,T,null)):Mr(Q,T,E),this.I=2}}else this.I==3&&(f?ca(this,f):this.i.length==0||Dc(this.h)||ca(this))};function ca(f,E){var T;E?T=E.l:T=f.V++;const V=Er(f.J);yt(V,"SID",f.M),yt(V,"RID",T),yt(V,"AID",f.K),xs(f,V),f.u&&f.o&&Za(V,f.u,f.o),T=new _r(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),E&&(f.i=E.G.concat(f.i)),E=Hc(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Qa(f.h,T),Mr(T,V,E)}function xs(f,E){f.H&&K(f.H,function(T,V){yt(E,V,T)}),f.l&&K({},function(T,V){yt(E,V,T)})}function Hc(f,E,T){T=Math.min(f.i.length,T);const V=f.l?p(f.l.Ka,f.l,f):null;e:{var Q=f.i;let Qe=-1;for(;;){const Gt=["count="+T];Qe==-1?T>0?(Qe=Q[0].g,Gt.push("ofs="+Qe)):Qe=0:Gt.push("ofs="+Qe);let _t=!0;for(let Xt=0;Xt<T;Xt++){var Z=Q[Xt].g;const or=Q[Xt].map;if(Z-=Qe,Z<0)Qe=Math.max(0,Q[Xt].g-100),_t=!1;else try{Z="req"+Z+"_"||"";try{var me=or instanceof Map?or:Object.entries(or);for(const[ci,_s]of me){let Es=_s;d(_s)&&(Es=as(_s)),Gt.push(Z+ci+"="+encodeURIComponent(Es))}}catch(ci){throw Gt.push(Z+"type="+encodeURIComponent("_badmap")),ci}}catch{V&&V(or)}}if(_t){me=Gt.join("&");break e}}me=void 0}return f=f.i.splice(0,T),E.G=f,me}function Cn(f){if(!f.g&&!f.v){f.Y=1;var E=f.Da;M||k(),$||(M(),$=!0),N.add(E,f),f.A=0}}function ws(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=er(p(f.Da,f),il(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Hi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=er(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),sr(this),Hi(this))};function ua(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Hi(f){f.g=new _r(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var E=Er(f.na);yt(E,"RID","rpc"),yt(E,"SID",f.M),yt(E,"AID",f.K),yt(E,"CI",f.F?"0":"1"),!f.F&&f.ia&&yt(E,"TO",f.ia),yt(E,"TYPE","xmlhttp"),xs(f,E),f.u&&f.o&&Za(E,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=si(Er(E)),T.u=null,T.R=!0,Pc(T,f)}t.Va=function(){this.C!=null&&(this.C=null,sr(this),ws(this),vt(19))};function rl(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function sl(f,E){var T=null;if(f.g==E){rl(f),ua(f),f.g=null;var V=2}else if(Oc(f.h,E))T=E.G,ra(f.h,E),V=1;else return;if(f.I!=0){if(E.o)if(V==1){T=E.u?E.u.length:0,E=Date.now()-E.F;var Q=f.D;V=Or(),tt(V,new gn(V,T)),li(f)}else Cn(f);else if(Q=E.m,Q==3||Q==0&&E.X>0||!(V==1&&Od(f,E)||V==2&&ws(f)))switch(T&&T.length>0&&(E=f.h,E.i=E.i.concat(T)),Q){case 1:ir(f,5);break;case 4:ir(f,10);break;case 3:ir(f,6);break;default:ir(f,2)}}}function il(f,E){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*E}function ir(f,E){if(f.j.info("Error code "+E),E==2){var T=p(f.bb,f),V=f.Ua;const Q=!V;V=new ds(V||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||sa(V,"https"),si(V),Q?ps(V.toString(),T):gs(V.toString(),T)}else vt(2);f.I=0,f.l&&f.l.pa(E),da(f),nl(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function da(f){if(f.I=0,f.ja=[],f.l){const E=tr(f.h);(E.length!=0||f.i.length!=0)&&(C(f.ja,E),C(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function qc(f,E,T){var V=T instanceof ds?Er(T):new ds(T);if(V.g!="")E&&(V.g=E+"."+V.g),hs(V,V.u);else{var Q=c.location;V=Q.protocol,E=E?E+"."+Q.hostname:Q.hostname,Q=+Q.port;const Z=new ds(null);V&&sa(Z,V),E&&(Z.g=E),Q&&hs(Z,Q),T&&(Z.h=T),V=Z}return T=f.G,E=f.wa,T&&E&&yt(V,T,E),yt(V,"VER",f.ka),xs(f,V),V}function Md(f,E,T){if(E&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Aa&&!f.ma?new Ct(new ii({ab:T})):new Ct(f.ma),E.Fa(f.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ld(){}t=Ld.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ol(){}ol.prototype.g=function(f,E){return new yn(f,E)};function yn(f,E){Ke.call(this),this.g=new el(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(f?f["X-WebChannel-Client-Profile"]=E.sa:f={"X-WebChannel-Client-Profile":E.sa}),this.g.U=f,(f=E&&E.Qb)&&!A(f)&&(this.g.u=f),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!A(E)&&(this.g.G=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new qi(this)}v(yn,Ke),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){tl(this.g)},yn.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=as(f),f=T);E.i.push(new Hm(E.Ya++,f)),E.I==3&&li(E)},yn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,yn.Z.N.call(this)};function Vd(f){Fi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const T in E){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}v(Vd,Fi);function Fd(){Zo.call(this),this.status=1}v(Fd,Zo);function qi(f){this.g=f}v(qi,Ld),qi.prototype.ra=function(){tt(this.g,"a")},qi.prototype.qa=function(f){tt(this.g,new Vd(f))},qi.prototype.pa=function(f){tt(this.g,new Fd)},qi.prototype.oa=function(){tt(this.g,"b")},ol.prototype.createWebChannel=ol.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,OC=function(){return new ol},DC=function(){return Or()},jC=Bn,uv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,nf=xr,wr.COMPLETE="complete",PC=wr,Ha.EventType=cs,cs.OPEN="a",cs.CLOSE="b",cs.ERROR="c",cs.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,Su=Ha,Ct.prototype.listenOnce=Ct.prototype.K,Ct.prototype.getLastError=Ct.prototype.Ha,Ct.prototype.getLastErrorCode=Ct.prototype.ya,Ct.prototype.getStatus=Ct.prototype.ca,Ct.prototype.getResponseJson=Ct.prototype.La,Ct.prototype.getResponseText=Ct.prototype.la,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Fa,RC=Ct}).apply(typeof Oh<"u"?Oh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc="12.9.0";function FO(t){pc=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new iy("@firebase/firestore");function Ol(){return Pa.logLevel}function _e(t,...e){if(Pa.logLevel<=lt.DEBUG){const n=e.map(py);Pa.debug(`Firestore (${pc}): ${t}`,...n)}}function Ii(t,...e){if(Pa.logLevel<=lt.ERROR){const n=e.map(py);Pa.error(`Firestore (${pc}): ${t}`,...n)}}function ja(t,...e){if(Pa.logLevel<=lt.WARN){const n=e.map(py);Pa.warn(`Firestore (${pc}): ${t}`,...n)}}function py(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,MC(t,r,n)}function MC(t,e,n){let r=`FIRESTORE (${pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ii(r),new Error(r)}function wt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||MC(e,s,r)}function Xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(jn.UNAUTHENTICATED)))}shutdown(){}}class zO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class BO{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new Ia;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ia,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},d=h=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ia)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new LC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new jn(e)}}class WO{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class $O{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new WO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const r=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Y0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=qO(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function dv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return kg(s)===kg(o)?ct(s,o):kg(s)?1:-1}return ct(t.length,e.length)}const GO=55296,KO=57343;function kg(t){const e=t.charCodeAt(0);return e>=GO&&e<=KO}function Jl(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="__name__";class ks{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ks.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ks?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=ks.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return ct(e.length,n.length)}static compareSegments(e,n){const r=ks.isNumericId(e),s=ks.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ks.extractNumericId(e).compare(ks.extractNumericId(n)):dv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wo.fromString(e.substring(4,e.length-2))}}class Dt extends ks{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Dt(n)}static emptyPath(){return new Dt([])}}const YO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends ks{construct(e,n,r){return new En(e,n,r)}static isValidIdentifier(e){return YO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q0}static keyField(){return new En([Q0])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Ae(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Ae(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ae(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(r+=d,s++):(o(),s++)}if(o(),c)throw new Ae(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(n)}static emptyPath(){return new En([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Dt.fromString(e))}static fromName(e){return new Me(Dt.fromString(e).popFirst(5))}static empty(){return new Me(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t,e,n){if(!n)throw new Ae(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QO(t,e,n,r){if(e===!0&&r===!0)throw new Ae(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function X0(t){if(!Me.isDocumentKey(t))throw new Ae(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function J0(t){if(Me.isDocumentKey(t))throw new Ae(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function FC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function _o(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vy(t);throw new Ae(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t,e){const n={typeString:t};return e&&(n.value=e),n}function cd(t,e){if(!FC(t))throw new Ae(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(s&&typeof c!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ae(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=-62135596800,eE=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*eE);return new xt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Z0)throw new Ae(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eE}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cd(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Z0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:en("string",xt._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new xt(0,0))}static max(){return new Ge(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=-1;function XO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ge.fromTimestamp(r===1e9?new xt(n+1,0):new xt(n,r));return new So(s,Me.empty(),e)}function JO(t){return new So(t.readTime,t.key,zu)}class So{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new So(Ge.min(),Me.empty(),zu)}static max(){return new So(Ge.max(),Me.empty(),zu)}}function ZO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==eM)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,r)=>{n(e)}))}static reject(e){return new ne(((n,r)=>{r(e)}))}static waitFor(e){return new ne(((n,r)=>{let s=0,o=0,c=!1;e.forEach((d=>{++s,d.next((()=>{++o,c&&o===s&&n()}),(h=>r(h)))})),c=!0,o===s&&n()}))}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next((s=>s?ne.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,o)=>{r.push(n.call(this,s,o))})),this.waitFor(r)}static mapArray(e,n){return new ne(((r,s)=>{const o=e.length,c=new Array(o);let d=0;for(let h=0;h<o;h++){const p=h;n(e[p]).next((g=>{c[p]=g,++d,d===o&&r(c)}),(g=>s(g)))}}))}static doWhile(e,n){return new ne(((r,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):r()};o()}))}}function nM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=-1;function cm(t){return t==null}function Sf(t){return t===0&&1/t==-1/0}function rM(t){return typeof t=="number"&&Number.isInteger(t)&&!Sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="";function sM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=tE(e)),e=iM(t.get(n),e);return tE(e)}function iM(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case UC:n+="";break;default:n+=o}}return n}function tE(t){return t+UC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Do(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mh(this.root,e,this.comparator,!0)}}class Mh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??_n.RED,this.left=s??_n.EMPTY,this.right=o??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new _n(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rE(this.data.getIterator())}getIteratorFrom(e){return new rE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class rE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new fr([])}unionWith(e){let n=new cn(En.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new BC("Invalid base64 string: "+o):o}})(e);return new bn(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const oM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Co(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=oM.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function To(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="server_timestamp",$C="__type__",HC="__previous_value__",qC="__local_write_time__";function xy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[$C])==null?void 0:r.stringValue)===WC}function um(t){const e=t.mapValue.fields[HC];return xy(e)?um(e):e}function Bu(t){const e=Co(t.mapValue.fields[qC].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n,r,s,o,c,d,h,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=g,this.apiKey=v}}const Cf="(default)";class Wu{constructor(e,n){this.projectId=e,this.database=n||Cf}static empty(){return new Wu("","")}get isDefaultDatabase(){return this.database===Cf}isEqual(e){return e instanceof Wu&&e.projectId===this.projectId&&e.database===this.database}}function lM(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ae(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="__type__",cM="__max__",Lh={mapValue:{}},KC="__vector__",Tf="value";function No(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xy(t)?4:dM(t)?9007199254740991:uM(t)?10:11:He(28295,{value:t})}function Ws(t,e){if(t===e)return!0;const n=No(t);if(n!==No(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bu(t).isEqual(Bu(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=Co(s.timestampValue),d=Co(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return To(s.bytesValue).isEqual(To(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return Yt(s.geoPointValue.latitude)===Yt(o.geoPointValue.latitude)&&Yt(s.geoPointValue.longitude)===Yt(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Yt(s.integerValue)===Yt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=Yt(s.doubleValue),d=Yt(o.doubleValue);return c===d?Sf(c)===Sf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Jl(t.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return(function(s,o){const c=s.mapValue.fields||{},d=o.mapValue.fields||{};if(nE(c)!==nE(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!Ws(c[h],d[h])))return!1;return!0})(t,e);default:return He(52216,{left:t})}}function $u(t,e){return(t.values||[]).find((n=>Ws(n,e)))!==void 0}function Zl(t,e){if(t===e)return 0;const n=No(t),r=No(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=Yt(o.integerValue||o.doubleValue),h=Yt(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(t,e);case 3:return sE(t.timestampValue,e.timestampValue);case 4:return sE(Bu(t),Bu(e));case 5:return dv(t.stringValue,e.stringValue);case 6:return(function(o,c){const d=To(o),h=To(c);return d.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),h=c.split("/");for(let p=0;p<d.length&&p<h.length;p++){const g=ct(d[p],h[p]);if(g!==0)return g}return ct(d.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=ct(Yt(o.latitude),Yt(c.latitude));return d!==0?d:ct(Yt(o.longitude),Yt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return iE(t.arrayValue,e.arrayValue);case 10:return(function(o,c){var x,S,C,b;const d=o.fields||{},h=c.fields||{},p=(x=d[Tf])==null?void 0:x.arrayValue,g=(S=h[Tf])==null?void 0:S.arrayValue,v=ct(((C=p==null?void 0:p.values)==null?void 0:C.length)||0,((b=g==null?void 0:g.values)==null?void 0:b.length)||0);return v!==0?v:iE(p,g)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Lh.mapValue&&c===Lh.mapValue)return 0;if(o===Lh.mapValue)return 1;if(c===Lh.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),p=c.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const x=dv(h[v],g[v]);if(x!==0)return x;const S=Zl(d[h[v]],p[g[v]]);if(S!==0)return S}return ct(h.length,g.length)})(t.mapValue,e.mapValue);default:throw He(23264,{he:n})}}function sE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=Co(t),r=Co(e),s=ct(n.seconds,r.seconds);return s!==0?s:ct(n.nanos,r.nanos)}function iE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Zl(n[s],r[s]);if(o)return o}return ct(n.length,r.length)}function ec(t){return hv(t)}function hv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Co(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return To(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=hv(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${hv(n.fields[c])}`;return s+"}"})(t.mapValue):He(61005,{value:t})}function rf(t){switch(No(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=um(t);return e?16+rf(e):16;case 5:return 2*t.stringValue.length;case 6:return To(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+rf(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Do(r.fields,((o,c)=>{s+=o.length+rf(c)})),s})(t.mapValue);default:throw He(13486,{value:t})}}function fv(t){return!!t&&"integerValue"in t}function wy(t){return!!t&&"arrayValue"in t}function oE(t){return!!t&&"nullValue"in t}function aE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sf(t){return!!t&&"mapValue"in t}function uM(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[GC])==null?void 0:r.stringValue)===KC}function Pu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Do(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Pu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pu(t.arrayValue.values[n]);return e}return{...t}}function dM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(n)}setAll(e){let n=En.emptyPath(),r={},s=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=d.popLast()}c?r[d.lastSegment()]=Pu(c):s.push(d.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());sf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];sf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Do(n,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Qn(Pu(this.value))}}function YC(t){const e=[];return Do(t.fields,((n,r)=>{const s=new En([n]);if(sf(r)){const o=YC(r.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)})),new fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,r,s,o,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Dn(e,0,Ge.min(),Ge.min(),Ge.min(),Qn.empty(),0)}static newFoundDocument(e,n,r,s){return new Dn(e,1,n,Ge.min(),r,s,0)}static newNoDocument(e,n){return new Dn(e,2,n,Ge.min(),Ge.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,Ge.min(),Ge.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n){this.position=e,this.inclusive=n}}function lE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],c=t.position[s];if(o.field.isKeyField()?r=Me.comparator(Me.fromName(c.referenceValue),n.key):r=Zl(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function cE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ws(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n="asc"){this.field=e,this.dir=n}}function hM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{}class an extends QC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mM(e,n,r):n==="array-contains"?new vM(e,r):n==="in"?new yM(e,r):n==="not-in"?new xM(e,r):n==="array-contains-any"?new wM(e,r):new an(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pM(e,r):new gM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zl(n,this.value)):n!==null&&No(this.value)===No(n)&&this.matchesComparison(Zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $s extends QC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $s(e,n)}matches(e){return XC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XC(t){return t.op==="and"}function JC(t){return fM(t)&&XC(t)}function fM(t){for(const e of t.filters)if(e instanceof $s)return!1;return!0}function mv(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+ec(t.value);if(JC(t))return t.filters.map((e=>mv(e))).join(",");{const e=t.filters.map((n=>mv(n))).join(",");return`${t.op}(${e})`}}function ZC(t,e){return t instanceof an?(function(r,s){return s instanceof an&&r.op===s.op&&r.field.isEqual(s.field)&&Ws(r.value,s.value)})(t,e):t instanceof $s?(function(r,s){return s instanceof $s&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,c,d)=>o&&ZC(c,s.filters[d])),!0):!1})(t,e):void He(19439)}function eT(t){return t instanceof an?(function(n){return`${n.field.canonicalString()} ${n.op} ${ec(n.value)}`})(t):t instanceof $s?(function(n){return n.op.toString()+" {"+n.getFilters().map(eT).join(" ,")+"}"})(t):"Filter"}class mM extends an{constructor(e,n,r){super(e,n,r),this.key=Me.fromName(r.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class pM extends an{constructor(e,n){super(e,"in",n),this.keys=tT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class gM extends an{constructor(e,n){super(e,"not-in",n),this.keys=tT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function tT(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Me.fromName(r.referenceValue)))}class vM extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wy(n)&&$u(n.arrayValue,this.value)}}class yM extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$u(this.value.arrayValue,n)}}class xM extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$u(this.value.arrayValue,n)}}class wM extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>$u(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n=null,r=[],s=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function uE(t,e=null,n=[],r=[],s=null,o=null,c=null){return new _M(t,e,n,r,s,o,c)}function _y(t){const e=Xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>mv(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),cm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ec(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ec(r))).join(",")),e.Te=n}return e.Te}function Ey(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cE(t.startAt,e.startAt)&&cE(t.endAt,e.endAt)}function pv(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n=null,r=[],s=[],o=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=h,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function EM(t,e,n,r,s,o,c,d){return new dm(t,e,n,r,s,o,c,d)}function by(t){return new dm(t)}function dE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bM(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function SM(t){return t.collectionGroup!==null}function ju(t){const e=Xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new cn(En.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new If(o,r))})),n.has(En.keyField().canonicalString())||e.Ie.push(new If(En.keyField(),r))}return e.Ie}function Vs(t){const e=Xe(t);return e.Ee||(e.Ee=CM(e,ju(t))),e.Ee}function CM(t,e){if(t.limitType==="F")return uE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new If(s.field,o)}));const n=t.endAt?new Nf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nf(t.startAt.position,t.startAt.inclusive):null;return uE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gv(t,e,n){return new dm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hm(t,e){return Ey(Vs(t),Vs(e))&&t.limitType===e.limitType}function nT(t){return`${_y(Vs(t))}|lt:${t.limitType}`}function Ml(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>eT(s))).join(", ")}]`),cm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>ec(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>ec(s))).join(",")),`Target(${r})`})(Vs(t))}; limitType=${t.limitType})`}function fm(t,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Me.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,s){for(const o of ju(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(c,d,h){const p=lE(c,d,h);return c.inclusive?p<=0:p<0})(r.startAt,ju(r),s)||r.endAt&&!(function(c,d,h){const p=lE(c,d,h);return c.inclusive?p>=0:p>0})(r.endAt,ju(r),s))})(t,e)}function TM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rT(t){return(e,n)=>{let r=!1;for(const s of ju(t)){const o=NM(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function NM(t,e,n){const r=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(o,c,d){const h=c.data.field(o),p=d.data.field(o);return h!==null&&p!==null?Zl(h,p):He(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Do(this.inner,((n,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return zC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=new Wt(Me.comparator);function ki(){return IM}const sT=new Wt(Me.comparator);function Cu(...t){let e=sT;for(const n of t)e=e.insert(n.key,n);return e}function iT(t){let e=sT;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Na(){return Du()}function oT(){return Du()}function Du(){return new Ua((t=>t.toString()),((t,e)=>t.isEqual(e)))}const kM=new Wt(Me.comparator),AM=new cn(Me.comparator);function ut(...t){let e=AM;for(const n of t)e=e.add(n);return e}const RM=new cn(ct);function PM(){return RM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(e)?"-0":e}}function aT(t){return{integerValue:""+t}}function jM(t,e){return rM(e)?aT(e):Sy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(){this._=void 0}}function DM(t,e,n){return t instanceof kf?(function(s,o){const c={fields:{[$C]:{stringValue:WC},[qC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&xy(o)&&(o=um(o)),o&&(c.fields[HC]=o),{mapValue:c}})(n,e):t instanceof Hu?cT(t,e):t instanceof qu?uT(t,e):(function(s,o){const c=lT(s,o),d=hE(c)+hE(s.Ae);return fv(c)&&fv(s.Ae)?aT(d):Sy(s.serializer,d)})(t,e)}function OM(t,e,n){return t instanceof Hu?cT(t,e):t instanceof qu?uT(t,e):n}function lT(t,e){return t instanceof Af?(function(r){return fv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class kf extends mm{}class Hu extends mm{constructor(e){super(),this.elements=e}}function cT(t,e){const n=dT(e);for(const r of t.elements)n.some((s=>Ws(s,r)))||n.push(r);return{arrayValue:{values:n}}}class qu extends mm{constructor(e){super(),this.elements=e}}function uT(t,e){let n=dT(e);for(const r of t.elements)n=n.filter((s=>!Ws(s,r)));return{arrayValue:{values:n}}}class Af extends mm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function hE(t){return Yt(t.integerValue||t.doubleValue)}function dT(t){return wy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function MM(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Hu&&s instanceof Hu||r instanceof qu&&s instanceof qu?Jl(r.elements,s.elements,Ws):r instanceof Af&&s instanceof Af?Ws(r.Ae,s.Ae):r instanceof kf&&s instanceof kf})(t.transform,e.transform)}class LM{constructor(e,n){this.version=e,this.transformResults=n}}class Xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xr}static exists(e){return new Xr(void 0,e)}static updateTime(e){return new Xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function of(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pm{}function hT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cy(t.key,Xr.none()):new ud(t.key,t.data,Xr.none());{const n=t.data,r=Qn.empty();let s=new cn(En.comparator);for(let o of e.fields)if(!s.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new Oo(t.key,r,new fr(s.toArray()),Xr.none())}}function VM(t,e,n){t instanceof ud?(function(s,o,c){const d=s.value.clone(),h=mE(s.fieldTransforms,o,c.transformResults);d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Oo?(function(s,o,c){if(!of(s.precondition,o))return void o.convertToUnknownDocument(c.version);const d=mE(s.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(fT(s)),h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):(function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Ou(t,e,n,r){return t instanceof ud?(function(o,c,d,h){if(!of(o.precondition,c))return d;const p=o.value.clone(),g=pE(o.fieldTransforms,h,c);return p.setAll(g),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof Oo?(function(o,c,d,h){if(!of(o.precondition,c))return d;const p=pE(o.fieldTransforms,h,c),g=c.data;return g.setAll(fT(o)),g.setAll(p),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(o,c,d){return of(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function FM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=lT(r.transform,s||null);o!=null&&(n===null&&(n=Qn.empty()),n.set(r.field,o))}return n||null}function fE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Jl(r,s,((o,c)=>MM(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ud extends pm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Oo extends pm{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function fT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function mE(t,e,n){const r=new Map;wt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const o=t[s],c=o.transform,d=e.data.field(o.field);r.set(o.field,OM(c,d,n[s]))}return r}function pE(t,e,n){const r=new Map;for(const s of t){const o=s.transform,c=n.data.field(s.field);r.set(s.field,DM(o,c,e))}return r}class Cy extends pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UM extends pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&VM(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ou(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ou(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=oT();return this.mutations.forEach((s=>{const o=e.get(s.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(s.key)?null:d;const h=hT(c,d);h!==null&&r.set(s.key,h),c.isValidDocument()||c.convertToNoDocument(Ge.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ut())}isEqual(e){return this.batchId===e.batchId&&Jl(this.mutations,e.mutations,((n,r)=>fE(n,r)))&&Jl(this.baseMutations,e.baseMutations,((n,r)=>fE(n,r)))}}class Ty{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return kM})();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new Ty(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BM=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,mt;function $M(t){switch(t){case se.OK:return He(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function mT(t){if(t===void 0)return Ii("GRPC error has no .code"),se.UNKNOWN;switch(t){case Zt.OK:return se.OK;case Zt.CANCELLED:return se.CANCELLED;case Zt.UNKNOWN:return se.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return se.INTERNAL;case Zt.UNAVAILABLE:return se.UNAVAILABLE;case Zt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Zt.NOT_FOUND:return se.NOT_FOUND;case Zt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Zt.ABORTED:return se.ABORTED;case Zt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Zt.DATA_LOSS:return se.DATA_LOSS;default:return He(39323,{code:t})}}(mt=Zt||(Zt={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=new wo([4294967295,4294967295],0);function gE(t){const e=HM().encode(t),n=new AC;return n.update(e),new Uint8Array(n.digest())}function vE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wo([n,r],0),new wo([s,o],0)]}class Ny{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tu(`Invalid padding: ${n}`);if(r<0)throw new Tu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Tu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=wo.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(wo.fromNumber(r)));return s.compare(qM)===1&&(s=new wo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=gE(e),[r,s]=vE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);if(!this.we(c))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Ny(o,s,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=gE(e),[r,s]=vE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);this.be(c)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,dd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gm(Ge.min(),s,new Wt(ct),ki(),ut())}}class dd{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new dd(r,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class pT{constructor(e,n){this.targetId=e,this.Ce=n}}class gT{constructor(e,n,r=bn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class yE{constructor(){this.ve=0,this.Fe=xE(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),r=ut();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:He(38017,{changeType:o})}})),new dd(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=xE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class GM{constructor(e){this.Ge=e,this.ze=new Map,this.je=ki(),this.He=Vh(),this.Je=Vh(),this.Ze=new Wt(ct)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(pv(o))if(r===0){const c=new Me(o.path);this.et(n,c,Dn.newNoDocument(c,Ge.min()))}else wt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(e),h=d?this.ct(d,e,c):1;if(h!==0){this.it(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let c,d;try{c=To(r).toUint8Array()}catch(h){if(h instanceof BC)return ja("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new Ny(c,s,o)}catch(h){return ja(h instanceof Tu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(n,o,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&pv(d.target)){const h=new Me(d.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,Dn.newNoDocument(h,e))}o.Be&&(n.set(c,o.ke()),o.Ke())}}));let r=ut();this.Je.forEach(((o,c)=>{let d=!0;c.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const s=new gm(e,n,this.Ze,this.je,r);return this.je=ki(),this.He=Vh(),this.Je=Vh(),this.Ze=new Wt(ct),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new yE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new cn(ct),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new cn(ct),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vh(){return new Wt(Me.comparator)}function xE(){return new Wt(Me.comparator)}const KM={asc:"ASCENDING",desc:"DESCENDING"},YM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QM={and:"AND",or:"OR"};class XM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vv(t,e){return t.useProto3Json||cm(e)?e:{value:e}}function Rf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JM(t,e){return Rf(t,e.toTimestamp())}function Fs(t){return wt(!!t,49232),Ge.fromTimestamp((function(n){const r=Co(n);return new xt(r.seconds,r.nanos)})(t))}function Iy(t,e){return yv(t,e).canonicalString()}function yv(t,e){const n=(function(s){return new Dt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function yT(t){const e=Dt.fromString(t);return wt(bT(e),10190,{key:e.toString()}),e}function xv(t,e){return Iy(t.databaseId,e.path)}function Ag(t,e){const n=yT(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(wT(n))}function xT(t,e){return Iy(t.databaseId,e)}function ZM(t){const e=yT(t);return e.length===4?Dt.emptyPath():wT(e)}function wv(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wT(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function wE(t,e,n){return{name:xv(t,e),fields:n.value.mapValue.fields}}function e4(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:He(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(p,g){return p.useProto3Json?(wt(g===void 0||typeof g=="string",58123),bn.fromBase64String(g||"")):(wt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),bn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const g=p.code===void 0?se.UNKNOWN:mT(p.code);return new Ae(g,p.message||"")})(c);n=new gT(r,s,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ag(t,r.document.name),o=Fs(r.document.updateTime),c=r.document.createTime?Fs(r.document.createTime):Ge.min(),d=new Qn({mapValue:{fields:r.document.fields}}),h=Dn.newFoundDocument(s,o,c,d),p=r.targetIds||[],g=r.removedTargetIds||[];n=new af(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ag(t,r.document),o=r.readTime?Fs(r.readTime):Ge.min(),c=Dn.newNoDocument(s,o),d=r.removedTargetIds||[];n=new af([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ag(t,r.document),o=r.removedTargetIds||[];n=new af([],o,s,null)}else{if(!("filter"in e))return He(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new WM(s,o),d=r.targetId;n=new pT(d,c)}}return n}function t4(t,e){let n;if(e instanceof ud)n={update:wE(t,e.key,e.value)};else if(e instanceof Cy)n={delete:xv(t,e.key)};else if(e instanceof Oo)n={update:wE(t,e.key,e.data),updateMask:u4(e.fieldMask)};else{if(!(e instanceof UM))return He(16599,{dt:e.type});n={verify:xv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const d=c.transform;if(d instanceof kf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Hu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof qu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Af)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw He(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:JM(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:He(27497)})(t,e.precondition)),n}function n4(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map((n=>(function(s,o){let c=s.updateTime?Fs(s.updateTime):Fs(o);return c.isEqual(Ge.min())&&(c=Fs(o)),new LM(c,s.transformResults||[])})(n,e)))):[]}function r4(t,e){return{documents:[xT(t,e.path)]}}function s4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xT(t,s);const o=(function(p){if(p.length!==0)return ET($s.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(p){if(p.length!==0)return p.map((g=>(function(x){return{field:Ll(x.field),direction:a4(x.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=vv(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:s}}function i4(t){let e=ZM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){wt(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(v){const x=_T(v);return x instanceof $s&&JC(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((x=>(function(C){return new If(Vl(C.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let x;return x=typeof v=="object"?v.value:v,cm(x)?null:x})(n.limit));let h=null;n.startAt&&(h=(function(v){const x=!!v.before,S=v.values||[];return new Nf(S,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const x=!v.before,S=v.values||[];return new Nf(S,x)})(n.endAt)),EM(e,s,c,o,d,"F",h,p)}function o4(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _T(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vl(n.unaryFilter.field);return an.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Vl(n.unaryFilter.field);return an.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vl(n.unaryFilter.field);return an.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vl(n.unaryFilter.field);return an.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(t):t.fieldFilter!==void 0?(function(n){return an.create(Vl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return $s.create(n.compositeFilter.filters.map((r=>_T(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(n.compositeFilter.op))})(t):He(30097,{filter:t})}function a4(t){return KM[t]}function l4(t){return YM[t]}function c4(t){return QM[t]}function Ll(t){return{fieldPath:t.canonicalString()}}function Vl(t){return En.fromServerFormat(t.fieldPath)}function ET(t){return t instanceof an?(function(n){if(n.op==="=="){if(aE(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NAN"}};if(oE(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aE(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NAN"}};if(oE(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ll(n.field),op:l4(n.op),value:n.value}}})(t):t instanceof $s?(function(n){const r=n.getFilters().map((s=>ET(s)));return r.length===1?r[0]:{compositeFilter:{op:c4(n.op),filters:r}}})(t):He(54877,{filter:t})}function u4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function bT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function ST(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n,r,s,o=Ge.min(),c=Ge.min(),d=bn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.yt=e}}function h4(t){const e=i4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.Sn=new m4}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(So.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(So.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class m4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new cn(Dt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new cn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CT=41943040;class Yn{static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(CT,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new tc(0)}static ar(){return new tc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="LruGarbageCollector",p4=1048576;function bE([t,e],[n,r]){const s=ct(t,n);return s===0?ct(e,r):s}class g4{constructor(e){this.Pr=e,this.buffer=new cn(bE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class v4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){_e(EE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vc(n)?_e(EE,"Ignoring IndexedDB error during garbage collection: ",n):await gc(n)}await this.Ar(3e5)}))}}class y4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(lm.ce);const r=new g4(n);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(_E)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_E):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,o,c,d,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,c=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(r=v,d=Date.now(),this.removeTargets(e,r,n)))).next((v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),Ol()<=lt.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${v} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v}))))}}function x4(t,e){return new y4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.changes=new Ua((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Ou(r.mutation,s,fr.empty(),xt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ut()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ut()){const s=Na();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((o=>{let c=Cu();return o.forEach(((d,h)=>{c=c.insert(d,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Na();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ut())))}populateOverlays(e,n,r){const s=[];return r.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,s){let o=ki();const c=Du(),d=(function(){return Du()})();return n.forEach(((h,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Oo)?o=o.insert(p.key,p):g!==void 0?(c.set(p.key,g.mutation.getFieldMask()),Ou(g.mutation,p,g.mutation.getFieldMask(),xt.now())):c.set(p.key,fr.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((p,g)=>c.set(p,g))),n.forEach(((p,g)=>d.set(p,new _4(g,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=Du();let s=new Wt(((c,d)=>c-d)),o=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((h=>{const p=n.get(h);if(p===null)return;let g=r.get(h)||fr.empty();g=d.applyToLocalView(p,g),r.set(h,g);const v=(s.get(d.batchId)||ut()).add(h);s=s.insert(d.batchId,v)}))})).next((()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,g=h.value,v=oT();g.forEach((x=>{if(!o.has(x)){const S=hT(n.get(x),r.get(x));S!==null&&v.set(x,S),o=o.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ne.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return bM(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ne.resolve(Na());let d=zu,h=o;return c.next((p=>ne.forEach(p,((g,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),o.get(g)?ne.resolve():this.remoteDocumentCache.getEntry(e,g).next((x=>{h=h.insert(g,x)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,h,p,ut()))).next((g=>({batchId:d,changes:iT(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((r=>{let s=Cu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let c=Cu();return this.indexManager.getCollectionParents(e,o).next((d=>ne.forEach(d,(h=>{const p=(function(v,x){return new dm(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((v,x)=>{c=c.insert(v,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s)))).next((c=>{o.forEach(((h,p)=>{const g=p.getKey();c.get(g)===null&&(c=c.insert(g,Dn.newInvalidDocument(g)))}));let d=Cu();return c.forEach(((h,p)=>{const g=o.get(h);g!==void 0&&Ou(g.mutation,p,fr.empty(),xt.now()),fm(n,p)&&(d=d.insert(h,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Fs(s.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(s){return{name:s.name,query:h4(s.bundledQuery),readTime:Fs(s.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.overlays=new Wt(Me.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Na();return ne.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,o)=>{this.bt(e,n,o)})),ne.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const s=Na(),o=n.length+1,c=new Me(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&s.set(h.getKey(),h)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Wt(((p,g)=>p-g));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=o.get(p.largestBatchId);g===null&&(g=Na(),o=o.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=Na(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,g)=>d.set(p,g))),!(d.size()>=s)););return ne.resolve(d)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new BM(n,r));let o=this.Lr.get(n);o===void 0&&(o=ut(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(){this.kr=new cn(mn.Kr),this.qr=new cn(mn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new mn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new mn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Me(new Dt([])),r=new mn(n,e),s=new mn(n,e+1),o=[];return this.qr.forEachInRange([r,s],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Me(new Dt([])),r=new mn(n,e),s=new mn(n,e+1);let o=ut();return this.qr.forEachInRange([r,s],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new mn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Me.comparator(e.key,n.key)||ct(e.Hr,n.Hr)}static Ur(e,n){return ct(e.Hr,n.Hr)||Me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new cn(mn.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new zM(o,n,r,s);this.mutationQueue.push(c);for(const d of s)this.Jr=this.Jr.add(new mn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),o=s<0?0:s;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?yy:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mn(n,0),s=new mn(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,s],(c=>{const d=this.Zr(c.Hr);o.push(d)})),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new cn(ct);return n.forEach((s=>{const o=new mn(s,0),c=new mn(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(d=>{r=r.add(d.Hr)}))})),ne.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Me.isDocumentKey(o)||(o=o.child(""));const c=new mn(new Me(o),0);let d=new cn(ct);return this.Jr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(h.Hr)),!0)}),c),ne.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){wt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ne.forEach(n.mutations,(s=>{const o=new mn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new mn(n,0),s=this.Jr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.ti=e,this.docs=(function(){return new Wt(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,c=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let r=ki();return n.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Dn.newInvalidDocument(s))})),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=ki();const c=n.path,d=new Me(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||ZO(JO(g),r)<=0||(s.has(g.key)||fm(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,n,r,s){He(9500)}ni(e,n){return ne.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new I4(this)}getSize(e){return ne.resolve(this.size)}}class I4 extends w4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.persistence=e,this.ri=new Ua((n=>_y(n)),Ey),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.ii=0,this.si=new ky,this.targetCount=0,this.oi=tc._r()}forEachTarget(e,n){return this.ri.forEach(((r,s)=>n(s))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new tc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),ne.waitFor(o).next((()=>s))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((c=>{o.push(s.markPotentiallyOrphaned(e,c))})),ne.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n){this._i={},this.overlays={},this.ai=new lm(0),this.ui=!1,this.ui=!0,this.ci=new C4,this.referenceDelegate=e(this),this.li=new k4(this),this.indexManager=new f4,this.remoteDocumentCache=(function(s){return new N4(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new d4(n),this.Pi=new b4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new S4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new T4(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const s=new A4(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((o=>this.referenceDelegate.Ii(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,n){return ne.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class A4 extends tM{constructor(e){super(),this.currentSequenceNumber=e}}class Ay{constructor(e){this.persistence=e,this.Ri=new ky,this.Ai=null}static Vi(e){return new Ay(e)}get di(){if(this.Ai)return this.Ai;throw He(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(r=>{const s=Me.fromPath(r);return this.mi(e,s).next((o=>{o||n.removeEntry(s,Ge.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Pf{constructor(e,n){this.persistence=e,this.fi=new Ua((r=>sM(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=x4(this,n)}static Vi(e,n){return new Pf(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ne.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((o=>o?ne.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(e,(c=>this.wr(e,c,n).next((d=>{d||(r++,o.removeEntry(c,Ge.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rf(e.data.value)),n}wr(e,n,r){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return ne.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=ut(),s=ut();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Ry(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ij()?8:nM(Mn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.gs(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(e,n,s,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new R4;return this.ys(e,n,c).next((d=>{if(o.result=d,this.As)return this.ws(e,n,c,d.size)}))})).next((()=>o.result))}ws(e,n,r,s){return r.documentReadCount<this.Vs?(Ol()<=lt.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Ml(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(Ol()<=lt.DEBUG&&_e("QueryEngine","Query:",Ml(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Ol()<=lt.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Ml(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vs(n))):ne.resolve())}gs(e,n){if(dE(n))return ne.resolve(null);let r=Vs(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=gv(n,null,"F"),r=Vs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=ut(...o);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.bs(n,d);return this.Ss(n,p,c,h.readTime)?this.gs(e,gv(n,null,"F")):this.Ds(e,p,n,h)}))))})))))}ps(e,n,r,s){return dE(n)||s.isEqual(Ge.min())?ne.resolve(null):this.fs.getDocuments(e,r).next((o=>{const c=this.bs(n,o);return this.Ss(n,c,r,s)?ne.resolve(null):(Ol()<=lt.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ml(n)),this.Ds(e,c,n,XO(s,zu)).next((d=>d)))}))}bs(e,n){let r=new cn(rT(e));return n.forEach(((s,o)=>{fm(e,o)&&(r=r.add(o))})),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(e,n,r){return Ol()<=lt.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Ml(n)),this.fs.getDocumentsMatchingQuery(e,n,So.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="LocalStore",j4=3e8;class D4{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Wt(ct),this.Fs=new Ua((o=>_y(o)),Ey),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function O4(t,e,n,r){return new D4(t,e,n,r)}async function NT(t,e){const n=Xe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],d=[];let h=ut();for(const p of s){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of o){d.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function M4(t,e){const n=Xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,h,p,g){const v=p.batch,x=v.keys();let S=ne.resolve();return x.forEach((C=>{S=S.next((()=>g.getEntry(h,C))).next((b=>{const I=p.docVersions.get(C);wt(I!==null,48541),b.version.compareTo(I)<0&&(v.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),g.addEntry(b)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(h,v)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let h=ut();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function IT(t){const e=Xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function L4(t,e){const n=Xe(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const d=[];e.targetChanges.forEach(((g,v)=>{const x=s.get(v);if(!x)return;d.push(n.li.removeMatchingKeys(o,g.removedDocuments,v).next((()=>n.li.addMatchingKeys(o,g.addedDocuments,v))));let S=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(bn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),s=s.insert(v,S),(function(b,I,O){return b.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=j4?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(x,S,g)&&d.push(n.li.updateTargetData(o,S))}));let h=ki(),p=ut();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),d.push(V4(o,c,e.documentUpdates).next((g=>{h=g.Bs,p=g.Ls}))),!r.isEqual(Ge.min())){const g=n.li.getLastRemoteSnapshotVersion(o).next((v=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));d.push(g)}return ne.waitFor(d).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,p))).next((()=>h))})).then((o=>(n.vs=s,o)))}function V4(t,e,n){let r=ut(),s=ut();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let c=ki();return n.forEach(((d,h)=>{const p=o.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),h.isNoDocument()&&h.version.isEqual(Ge.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):_e(Py,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)})),{Bs:c,Ls:s}}))}function F4(t,e){const n=Xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=yy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function U4(t,e){const n=Xe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.li.getTargetData(r,e).next((o=>o?(s=o,ne.resolve(s)):n.li.allocateTargetId(r).next((c=>(s=new go(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function _v(t,e,n){const r=Xe(t),s=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!vc(c))throw c;_e(Py,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function SE(t,e,n){const r=Xe(t);let s=Ge.min(),o=ut();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,p,g){const v=Xe(h),x=v.Fs.get(g);return x!==void 0?ne.resolve(v.vs.get(x)):v.li.getTargetData(p,g)})(r,c,Vs(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,d.targetId).next((h=>{o=h}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,n?s:Ge.min(),n?o:ut()))).next((d=>(z4(r,TM(e),d),{documents:d,ks:o})))))}function z4(t,e,n){let r=t.Ms.get(e)||Ge.min();n.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Ms.set(e,r)}class CE{constructor(){this.activeTargetIds=PM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B4{constructor(){this.vo=new CE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new CE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="ConnectivityMonitor";class NE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){_e(TE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){_e(TE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh=null;function Ev(){return Fh===null?Fh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fh++,"0x"+Fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="RestConnection",$4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class H4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Cf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,o){const c=Ev(),d=this.Qo(e,n.toUriEncodedString());_e(Rg,`Sending RPC '${e}' ${c}:`,d,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(h,s,o);const{host:p}=new URL(d),g=Di(p);return this.zo(e,d,h,r,g).then((v=>(_e(Rg,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw ja(Rg,`RPC '${e}' ${c} failed with error: `,v,"url: ",d,"request:",r),v}))}jo(e,n,r,s,o,c){return this.Wo(e,n,r,s,o)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}Qo(e,n){const r=$4[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection",wu=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class Wl extends H4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Wl.c_){const e=DC();wu(e,jC.STAT_EVENT,(n=>{n.stat===uv.PROXY?_e(An,"STAT_EVENT: detected buffering proxy"):n.stat===uv.NOPROXY&&_e(An,"STAT_EVENT: detected no buffering proxy")})),Wl.c_=!0}}zo(e,n,r,s,o){const c=Ev();return new Promise(((d,h)=>{const p=new RC;p.setWithCredentials(!0),p.listenOnce(PC.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case nf.NO_ERROR:const v=p.getResponseJson();_e(An,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),d(v);break;case nf.TIMEOUT:_e(An,`RPC '${e}' ${c} timed out`),h(new Ae(se.DEADLINE_EXCEEDED,"Request time out"));break;case nf.HTTP_ERROR:const x=p.getStatus();if(_e(An,`RPC '${e}' ${c} failed with status:`,x,"response text:",p.getResponseText()),x>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const C=S==null?void 0:S.error;if(C&&C.status&&C.message){const b=(function(O){const D=O.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(D)>=0?D:se.UNKNOWN})(C.status);h(new Ae(b,C.message))}else h(new Ae(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Ae(se.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{_e(An,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(s);_e(An,`RPC '${e}' ${c} sending request:`,s),p.send(n,"POST",g,r,15)}))}T_(e,n,r){const s=Ev(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=o.join("");_e(An,`Creating RPC '${e}' stream ${s}: ${p}`,d);const g=c.createWebChannel(p,d);this.I_(g);let v=!1,x=!1;const S=new q4({Ho:C=>{x?_e(An,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(v||(_e(An,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),_e(An,`RPC '${e}' stream ${s} sending:`,C),g.send(C))},Jo:()=>g.close()});return wu(g,Su.EventType.OPEN,(()=>{x||(_e(An,`RPC '${e}' stream ${s} transport opened.`),S.i_())})),wu(g,Su.EventType.CLOSE,(()=>{x||(x=!0,_e(An,`RPC '${e}' stream ${s} transport closed`),S.o_(),this.E_(g))})),wu(g,Su.EventType.ERROR,(C=>{x||(x=!0,ja(An,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),S.o_(new Ae(se.UNAVAILABLE,"The operation could not be completed")))})),wu(g,Su.EventType.MESSAGE,(C=>{var b;if(!x){const I=C.data[0];wt(!!I,16349);const O=I,D=(O==null?void 0:O.error)||((b=O[0])==null?void 0:b.error);if(D){_e(An,`RPC '${e}' stream ${s} received error:`,D);const j=D.status;let B=(function(N){const k=Zt[N];if(k!==void 0)return mT(k)})(j),M=D.message;j==="NOT_FOUND"&&M.includes("database")&&M.includes("does not exist")&&M.includes(this.databaseId.database)&&ja(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),B===void 0&&(B=se.INTERNAL,M="Unknown error status: "+j+" with message "+D.message),x=!0,S.o_(new Ae(B,M)),g.close()}else _e(An,`RPC '${e}' stream ${s} received:`,I),S.__(I)}})),Wl.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return OC()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t){return new Wl(t)}function Pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t){return new XM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wl.c_=!1;class kT{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&_e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="PersistentStream";class AT{constructor(e,n,r,s,o,c,d,h){this.Ci=e,this.b_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Ii(n.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new Ae(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(IE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(_e(IE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class K4 extends AT{constructor(e,n,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=e4(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ge.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ge.min():c.readTime?Fs(c.readTime):Ge.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=wv(this.serializer),n.addTarget=(function(o,c){let d;const h=c.target;if(d=pv(h)?{documents:r4(o,h)}:{query:s4(o,h).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=vT(o,c.resumeToken);const p=vv(o,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ge.min())>0){d.readTime=Rf(o,c.snapshotVersion.toTimestamp());const p=vv(o,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=o4(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=wv(this.serializer),n.removeTarget=e,this.K_(n)}}class Y4 extends AT{constructor(e,n,r,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=n4(e.writeResults,e.commitTime),r=Fs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=wv(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>t4(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{}class X4 extends Q4{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ae(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(e,yv(n,r),s,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(se.UNKNOWN,o.toString())}))}jo(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,yv(n,r),s,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ae(se.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function J4(t,e,n,r){return new X4(t,e,n,r)}class Z4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ii(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class eL{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{za(this)&&(_e(Da,"Restarting streams for network reachability change."),await(async function(h){const p=Xe(h);p.Ea.add(4),await hd(p),p.Va.set("Unknown"),p.Ea.delete(4),await ym(p)})(this))}))})),this.Va=new Z4(r,s)}}async function ym(t){if(za(t))for(const e of t.Ra)await e(!0)}async function hd(t){for(const e of t.Ra)await e(!1)}function RT(t,e){const n=Xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),My(n)?Oy(n):yc(n).O_()&&Dy(n,e))}function jy(t,e){const n=Xe(t),r=yc(n);n.Ia.delete(e),r.O_()&&PT(n,e),n.Ia.size===0&&(r.O_()?r.L_():za(n)&&n.Va.set("Unknown"))}function Dy(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yc(t).Z_(e)}function PT(t,e){t.da.$e(e),yc(t).X_(e)}function Oy(t){t.da=new GM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),yc(t).start(),t.Va.ua()}function My(t){return za(t)&&!yc(t).x_()&&t.Ia.size>0}function za(t){return Xe(t).Ea.size===0}function jT(t){t.da=void 0}async function tL(t){t.Va.set("Online")}async function nL(t){t.Ia.forEach(((e,n)=>{Dy(t,e)}))}async function rL(t,e){jT(t),My(t)?(t.Va.ha(e),Oy(t)):t.Va.set("Unknown")}async function sL(t,e,n){if(t.Va.set("Online"),e instanceof gT&&e.state===2&&e.cause)try{await(async function(s,o){const c=o.cause;for(const d of o.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ia.delete(d),s.da.removeTarget(d))})(t,e)}catch(r){_e(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jf(t,r)}else if(e instanceof af?t.da.Xe(e):e instanceof pT?t.da.st(e):t.da.tt(e),!n.isEqual(Ge.min()))try{const r=await IT(t.localStore);n.compareTo(r)>=0&&await(function(o,c){const d=o.da.Tt(c);return d.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Ia.get(p);g&&o.Ia.set(p,g.withResumeToken(h.resumeToken,c))}})),d.targetMismatches.forEach(((h,p)=>{const g=o.Ia.get(h);if(!g)return;o.Ia.set(h,g.withResumeToken(bn.EMPTY_BYTE_STRING,g.snapshotVersion)),PT(o,h);const v=new go(g.target,h,p,g.sequenceNumber);Dy(o,v)})),o.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){_e(Da,"Failed to raise snapshot:",r),await jf(t,r)}}async function jf(t,e,n){if(!vc(e))throw e;t.Ea.add(1),await hd(t),t.Va.set("Offline"),n||(n=()=>IT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(Da,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ym(t)}))}function DT(t,e){return e().catch((n=>jf(t,n,e)))}async function xm(t){const e=Xe(t),n=Io(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yy;for(;iL(e);)try{const s=await F4(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,oL(e,s)}catch(s){await jf(e,s)}OT(e)&&MT(e)}function iL(t){return za(t)&&t.Ta.length<10}function oL(t,e){t.Ta.push(e);const n=Io(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function OT(t){return za(t)&&!Io(t).x_()&&t.Ta.length>0}function MT(t){Io(t).start()}async function aL(t){Io(t).ra()}async function lL(t){const e=Io(t);for(const n of t.Ta)e.ea(n.mutations)}async function cL(t,e,n){const r=t.Ta.shift(),s=Ty.from(r,e,n);await DT(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await xm(t)}async function uL(t,e){e&&Io(t).Y_&&await(async function(r,s){if((function(c){return $M(c)&&c!==se.ABORTED})(s.code)){const o=r.Ta.shift();Io(r).B_(),await DT(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await xm(r)}})(t,e),OT(t)&&MT(t)}async function kE(t,e){const n=Xe(t);n.asyncQueue.verifyOperationInProgress(),_e(Da,"RemoteStore received new credentials");const r=za(n);n.Ea.add(3),await hd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ym(n)}async function dL(t,e){const n=Xe(t);e?(n.Ea.delete(2),await ym(n)):e||(n.Ea.add(2),await hd(n),n.Va.set("Unknown"))}function yc(t){return t.ma||(t.ma=(function(n,r,s){const o=Xe(n);return o.sa(),new K4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Zo:tL.bind(null,t),Yo:nL.bind(null,t),t_:rL.bind(null,t),J_:sL.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),My(t)?Oy(t):t.Va.set("Unknown")):(await t.ma.stop(),jT(t))}))),t.ma}function Io(t){return t.fa||(t.fa=(function(n,r,s){const o=Xe(n);return o.sa(),new Y4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:aL.bind(null,t),t_:uL.bind(null,t),ta:lL.bind(null,t),na:cL.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await xm(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(Da,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const c=Date.now()+r,d=new Ly(e,n,c,s,o);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vy(t,e){if(Ii("AsyncQueue",`${e}: ${t}`),vc(t))return new Ae(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{static emptySet(e){return new $l(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Me.comparator(n.key,r.key):(n,r)=>Me.comparator(n.key,r.key),this.keyedMap=Cu(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $l)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $l;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.ga=new Wt(Me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):He(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class nc{constructor(e,n,r,s,o,c,d,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,o){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new nc(e,n,$l.emptySet(n),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class fL{constructor(){this.queries=RE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Xe(n),o=s.queries;s.queries=RE(),o.forEach(((c,d)=>{for(const h of d.ba)h.onError(r)}))})(this,new Ae(se.ABORTED,"Firestore shutting down"))}}function RE(){return new Ua((t=>nT(t)),hm)}async function mL(t,e){const n=Xe(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.Sa()&&e.Da()&&(r=2):(o=new hL,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=Vy(c,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Fy(n)}async function pL(t,e){const n=Xe(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const c=o.ba.indexOf(e);c>=0&&(o.ba.splice(c,1),o.ba.length===0?s=e.Da()?0:1:!o.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gL(t,e){const n=Xe(t);let r=!1;for(const s of e){const o=s.query,c=n.queries.get(o);if(c){for(const d of c.ba)d.Fa(s)&&(r=!0);c.wa=s}}r&&Fy(n)}function vL(t,e,n){const r=Xe(t),s=r.queries.get(e);if(s)for(const o of s.ba)o.onError(n);r.queries.delete(e)}function Fy(t){t.Ca.forEach((e=>{e.next()}))}var bv,PE;(PE=bv||(bv={})).Ma="default",PE.Cache="cache";class yL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new nc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.key=e}}class VT{constructor(e){this.key=e}}class xL{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ut(),this.mutatedKeys=ut(),this.eu=rT(e),this.tu=new $l(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new AE,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,v)=>{const x=s.get(g),S=fm(this.query,v)?v:null,C=!!x&&this.mutatedKeys.has(x.key),b=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;x&&S?x.data.isEqual(S.data)?C!==b&&(r.track({type:3,doc:S}),I=!0):this.su(x,S)||(r.track({type:2,doc:S}),I=!0,(h&&this.eu(S,h)>0||p&&this.eu(S,p)<0)&&(d=!0)):!x&&S?(r.track({type:0,doc:S}),I=!0):x&&!S&&(r.track({type:1,doc:x}),I=!0,(h||p)&&(d=!0)),I&&(S?(c=c.add(S),o=b?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:c,iu:r,Ss:d,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,v)=>(function(S,C){const b=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Vt:I})}};return b(S)-b(C)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),s=s??!1;const d=n&&!s?this._u():[],h=this.Ya.size===0&&this.current&&!s?1:0,p=h!==this.Xa;return this.Xa=h,c.length!==0||p?{snapshot:new nc(this.query,e.tu,o,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new VT(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new LT(r))})),n}cu(e){this.Za=e.ks,this.Ya=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return nc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Uy="SyncEngine";class wL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _L{constructor(e){this.key=e,this.hu=!1}}class EL{constructor(e,n,r,s,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ua((d=>nT(d)),hm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Wt(Me.comparator),this.Au=new Map,this.Vu=new ky,this.du={},this.mu=new Map,this.fu=tc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bL(t,e,n=!0){const r=$T(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await FT(r,e,n,!0),s}async function SL(t,e){const n=$T(t);await FT(n,e,!0,!1)}async function FT(t,e,n,r){const s=await U4(t.localStore,Vs(e)),o=s.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await CL(t,e,o,c==="current",s.resumeToken)),t.isPrimaryClient&&n&&RT(t.remoteStore,s),d}async function CL(t,e,n,r,s){t.pu=(v,x,S)=>(async function(b,I,O,D){let j=I.view.ru(O);j.Ss&&(j=await SE(b.localStore,I.query,!1).then((({documents:N})=>I.view.ru(N,j))));const B=D&&D.targetChanges.get(I.targetId),M=D&&D.targetMismatches.get(I.targetId)!=null,$=I.view.applyChanges(j,b.isPrimaryClient,B,M);return DE(b,I.targetId,$.au),$.snapshot})(t,v,x,S);const o=await SE(t.localStore,e,!0),c=new xL(e,o.ks),d=c.ru(o.documents),h=dd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=c.applyChanges(d,t.isPrimaryClient,h);DE(t,n,p.au);const g=new wL(e,n,c);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function TL(t,e,n){const r=Xe(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((c=>!hm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await _v(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&jy(r.remoteStore,s.targetId),Sv(r,s.targetId)})).catch(gc)):(Sv(r,s.targetId),await _v(r.localStore,s.targetId,!0))}async function NL(t,e){const n=Xe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jy(n.remoteStore,r.targetId))}async function IL(t,e,n){const r=OL(t);try{const s=await(function(c,d){const h=Xe(c),p=xt.now(),g=d.reduce(((S,C)=>S.add(C.key)),ut());let v,x;return h.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let C=ki(),b=ut();return h.xs.getEntries(S,g).next((I=>{C=I,C.forEach(((O,D)=>{D.isValidDocument()||(b=b.add(O))}))})).next((()=>h.localDocuments.getOverlayedDocuments(S,C))).next((I=>{v=I;const O=[];for(const D of d){const j=FM(D,v.get(D.key).overlayedDocument);j!=null&&O.push(new Oo(D.key,j,YC(j.value.mapValue),Xr.exists(!0)))}return h.mutationQueue.addMutationBatch(S,p,O,d)})).next((I=>{x=I;const O=I.applyToLocalDocumentSet(v,b);return h.documentOverlayCache.saveOverlays(S,I.batchId,O)}))})).then((()=>({batchId:x.batchId,changes:iT(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(c,d,h){let p=c.du[c.currentUser.toKey()];p||(p=new Wt(ct)),p=p.insert(d,h),c.du[c.currentUser.toKey()]=p})(r,s.batchId,n),await fd(r,s.changes),await xm(r.remoteStore)}catch(s){const o=Vy(s,"Failed to persist write");n.reject(o)}}async function UT(t,e){const n=Xe(t);try{const r=await L4(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const c=n.Au.get(o);c&&(wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?wt(c.hu,14607):s.removedDocuments.size>0&&(wt(c.hu,42227),c.hu=!1))})),await fd(n,r,e)}catch(r){await gc(r)}}function jE(t,e,n){const r=Xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(c,d){const h=Xe(c);h.onlineState=d;let p=!1;h.queries.forEach(((g,v)=>{for(const x of v.ba)x.va(d)&&(p=!0)})),p&&Fy(h)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kL(t,e,n){const r=Xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let c=new Wt(Me.comparator);c=c.insert(o,Dn.newNoDocument(o,Ge.min()));const d=ut().add(o),h=new gm(Ge.min(),new Map,new Wt(ct),c,d);await UT(r,h),r.Ru=r.Ru.remove(o),r.Au.delete(e),zy(r)}else await _v(r.localStore,e,!1).then((()=>Sv(r,e,n))).catch(gc)}async function AL(t,e){const n=Xe(t),r=e.batch.batchId;try{const s=await M4(n.localStore,e);BT(n,r,null),zT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fd(n,s)}catch(s){await gc(s)}}async function RL(t,e,n){const r=Xe(t);try{const s=await(function(c,d){const h=Xe(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return h.mutationQueue.lookupMutationBatch(p,d).next((v=>(wt(v!==null,37113),g=v.keys(),h.mutationQueue.removeMutationBatch(p,v)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>h.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);BT(r,e,n),zT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fd(r,s)}catch(s){await gc(s)}}function zT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function BT(t,e,n){const r=Xe(t);let s=r.du[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Sv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||WT(t,r)}))}function WT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(jy(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),zy(t))}function DE(t,e,n){for(const r of n)r instanceof LT?(t.Vu.addReference(r.key,e),PL(t,r)):r instanceof VT?(_e(Uy,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||WT(t,r.key)):He(19791,{wu:r})}function PL(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(_e(Uy,"New document in limbo: "+n),t.Eu.add(r),zy(t))}function zy(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me(Dt.fromString(e)),r=t.fu.next();t.Au.set(r,new _L(n)),t.Ru=t.Ru.insert(n,r),RT(t.remoteStore,new go(Vs(by(n.path)),r,"TargetPurposeLimboResolution",lm.ce))}}async function fd(t,e,n){const r=Xe(t),s=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,h)=>{c.push(r.pu(h,e,n).then((p=>{var g;if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){s.push(p);const v=Ry.Es(h.targetId,p);o.push(v)}})))})),await Promise.all(c),r.Pu.J_(s),await(async function(h,p){const g=Xe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ne.forEach(p,(x=>ne.forEach(x.Ts,(S=>g.persistence.referenceDelegate.addReference(v,x.targetId,S))).next((()=>ne.forEach(x.Is,(S=>g.persistence.referenceDelegate.removeReference(v,x.targetId,S)))))))))}catch(v){if(!vc(v))throw v;_e(Py,"Failed to update sequence numbers: "+v)}for(const v of p){const x=v.targetId;if(!v.fromCache){const S=g.vs.get(x),C=S.snapshotVersion,b=S.withLastLimboFreeSnapshotVersion(C);g.vs=g.vs.insert(x,b)}}})(r.localStore,o))}async function jL(t,e){const n=Xe(t);if(!n.currentUser.isEqual(e)){_e(Uy,"User change. New user:",e.toKey());const r=await NT(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((h=>{h.reject(new Ae(se.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fd(n,r.Ns)}}function DL(t,e){const n=Xe(t),r=n.Au.get(e);if(r&&r.hu)return ut().add(r.key);{let s=ut();const o=n.Iu.get(e);if(!o)return s;for(const c of o){const d=n.Tu.get(c);s=s.unionWith(d.view.nu)}return s}}function $T(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kL.bind(null,e),e.Pu.J_=gL.bind(null,e.eventManager),e.Pu.yu=vL.bind(null,e.eventManager),e}function OL(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RL.bind(null,e),e}class Df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return O4(this.persistence,new P4,e.initialUser,this.serializer)}Cu(e){return new TT(Ay.Vi,this.serializer)}Du(e){return new B4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Df.provider={build:()=>new Df};class ML extends Df{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){wt(this.persistence.referenceDelegate instanceof Pf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new v4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new TT((r=>Pf.Vi(r,n)),this.serializer)}}class Cv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jL.bind(null,this.syncEngine),await dL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fL})()}createDatastore(e){const n=vm(e.databaseInfo.databaseId),r=G4(e.databaseInfo);return J4(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,o,c,d){return new eL(r,s,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>jE(this.syncEngine,n,0)),(function(){return NE.v()?new NE:new W4})())}createSyncEngine(e,n){return(function(s,o,c,d,h,p,g){const v=new EL(s,o,c,d,h,p);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const o=Xe(s);_e(Da,"RemoteStore shutting down."),o.Ea.add(5),await hd(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Cv.provider={build:()=>new Cv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="FirestoreClient";class VL{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=jn.UNAUTHENTICATED,this.clientId=gy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{_e(ko,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(_e(ko,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Vy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function jg(t,e){t.asyncQueue.verifyOperationInProgress(),_e(ko,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await NT(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function OE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FL(t);_e(ko,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>kE(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>kE(e.remoteStore,s))),t._onlineComponents=e}async function FL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(ko,"Using user provided OfflineComponentProvider");try{await jg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===se.FAILED_PRECONDITION||s.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;ja("Error using user provided cache. Falling back to memory cache: "+n),await jg(t,new Df)}}else _e(ko,"Using default OfflineComponentProvider"),await jg(t,new ML(void 0));return t._offlineComponents}async function HT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(ko,"Using user provided OnlineComponentProvider"),await OE(t,t._uninitializedComponentsProvider._online)):(_e(ko,"Using default OnlineComponentProvider"),await OE(t,new Cv))),t._onlineComponents}function UL(t){return HT(t).then((e=>e.syncEngine))}async function ME(t){const e=await HT(t),n=e.eventManager;return n.onListen=bL.bind(null,e.syncEngine),n.onUnlisten=TL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NL.bind(null,e.syncEngine),n}function zL(t,e,n,r){const s=new LL(r),o=new yL(e,s,n);return t.asyncQueue.enqueueAndForget((async()=>mL(await ME(t),o))),()=>{s.Nu(),t.asyncQueue.enqueueAndForget((async()=>pL(await ME(t),o)))}}function BL(t,e){const n=new Ia;return t.asyncQueue.enqueueAndForget((async()=>IL(await UL(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="ComponentProvider",LE=new Map;function $L(t,e,n,r,s){return new aM(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,qT(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firestore.googleapis.com",VE=!0;class FE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GT,this.ssl=VE}else this.host=e.host,this.ssl=e.ssl??VE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<p4)throw new Ae(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new UO;switch(r.type){case"firstParty":return new $O(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=LE.get(n);r&&(_e(WL,"Removing Datastore"),LE.delete(n),r.terminate())})(this),Promise.resolve()}}function HL(t,e,n,r={}){var p;t=_o(t,wm);const s=Di(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;s&&(tm(`https://${d}`),nm("Firestore",!0)),o.host!==GT&&o.host!==d&&ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:d,ssl:s,emulatorOptions:r};if(!Aa(h,c)&&(t._setSettings(h),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=jn.MOCK_USER;else{g=HS(r.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Ae(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new jn(x)}t._authCredentials=new zO(new LC(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _m(this.firestore,e,this._query)}}class ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(cd(n,ln._jsonSchema))return new ln(e,r||null,new Me(Dt.fromString(n.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:en("string",ln._jsonSchemaVersion),referencePath:en("string")};class Eo extends _m{constructor(e,n,r){super(e,n,by(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new Me(e))}withConverter(e){return new Eo(this.firestore,e,this._path)}}function Dg(t,e,...n){if(t=qt(t),VC("collection","path",e),t instanceof wm){const r=Dt.fromString(e,...n);return J0(r),new Eo(t,null,r)}{if(!(t instanceof ln||t instanceof Eo))throw new Ae(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return J0(r),new Eo(t.firestore,null,r)}}function lf(t,e,...n){if(t=qt(t),arguments.length===1&&(e=gy.newId()),VC("doc","path",e),t instanceof wm){const r=Dt.fromString(e,...n);return X0(r),new ln(t,null,new Me(r))}{if(!(t instanceof ln||t instanceof Eo))throw new Ae(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return X0(r),new ln(t.firestore,t instanceof Eo?t.converter:null,new Me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="AsyncQueue";class zE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kT(this,"async_queue_retry"),this._c=()=>{const r=Pg();r&&_e(UE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Pg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ia;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!vc(e))throw e;_e(UE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ii("INTERNAL UNHANDLED ERROR: ",BE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ly.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&He(47125,{Pc:BE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function BE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class rc extends wm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new zE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zE(e),this._firestoreClient=void 0,await e}}}function qL(t,e){const n=typeof t=="object"?t:rm(),r=typeof t=="string"?t:Cf,s=id(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=sy("firestore");o&&HL(s,...o)}return s}function KT(t){if(t._terminated)throw new Ae(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GL(t),t._firestoreClient}function GL(t){var r,s,o,c;const e=t._freezeSettings(),n=$L(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new VL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kr(bn.fromBase64String(e))}catch(n){throw new Ae(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kr(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cd(e,kr._jsonSchema))return kr.fromBase64String(e.bytes)}}kr._jsonSchemaVersion="firestore/bytes/1.0",kr._jsonSchema={type:en("string",kr._jsonSchemaVersion),bytes:en("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Us._jsonSchemaVersion}}static fromJSON(e){if(cd(e,Us._jsonSchema))return new Us(e.latitude,e.longitude)}}Us._jsonSchemaVersion="firestore/geoPoint/1.0",Us._jsonSchema={type:en("string",Us._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cd(e,Jr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Jr(e.vectorValues);throw new Ae(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jr._jsonSchemaVersion="firestore/vectorValue/1.0",Jr._jsonSchema={type:en("string",Jr._jsonSchemaVersion),vectorValues:en("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=/^__.*__$/;class YL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new ud(e,this.data,n,this.fieldTransforms)}}class YT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{dataSource:t})}}class $y{constructor(e,n,r,s,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new $y({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Of(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(QT(this.dataSource)&&KL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class QL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vm(e)}createContext(e,n,r,s=!1){return new $y({dataSource:e,methodName:n,targetDoc:r,path:En.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XT(t){const e=t._freezeSettings(),n=vm(t._databaseId);return new QL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XL(t,e,n,r,s,o={}){const c=t.createContext(o.merge||o.mergeFields?2:0,e,n,s);Hy("Data must be an object, but it was:",c,r);const d=JT(r,c);let h,p;if(o.merge)h=new fr(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const x=Gu(e,v,n);if(!c.contains(x))throw new Ae(se.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);t1(g,x)||g.push(x)}h=new fr(g),p=c.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,p=c.fieldTransforms;return new YL(new Qn(d),h,p)}class Em extends Wy{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Em}}function JL(t,e,n,r){const s=t.createContext(1,e,n);Hy("Data must be an object, but it was:",s,r);const o=[],c=Qn.empty();Do(r,((h,p)=>{const g=e1(e,h,n);p=qt(p);const v=s.childContextForFieldPath(g);if(p instanceof Em)o.push(g);else{const x=bm(p,v);x!=null&&(o.push(g),c.set(g,x))}}));const d=new fr(o);return new YT(c,d,s.fieldTransforms)}function ZL(t,e,n,r,s,o){const c=t.createContext(1,e,n),d=[Gu(e,r,n)],h=[s];if(o.length%2!=0)throw new Ae(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)d.push(Gu(e,o[x])),h.push(o[x+1]);const p=[],g=Qn.empty();for(let x=d.length-1;x>=0;--x)if(!t1(p,d[x])){const S=d[x];let C=h[x];C=qt(C);const b=c.childContextForFieldPath(S);if(C instanceof Em)p.push(S);else{const I=bm(C,b);I!=null&&(p.push(S),g.set(S,I))}}const v=new fr(p);return new YT(g,v,c.fieldTransforms)}function bm(t,e){if(ZT(t=qt(t)))return Hy("Unsupported field value:",e,t),JT(t,e);if(t instanceof Wy)return(function(r,s){if(!QT(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const o=[];let c=0;for(const d of r){let h=bm(d,s.childContextForArray(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}})(t,e)}return(function(r,s){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=xt.fromDate(r);return{timestampValue:Rf(s.serializer,o)}}if(r instanceof xt){const o=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rf(s.serializer,o)}}if(r instanceof Us)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kr)return{bytesValue:vT(s.serializer,r._byteString)};if(r instanceof ln){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Iy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Jr)return(function(c,d){const h=c instanceof Jr?c.toArray():c;return{mapValue:{fields:{[GC]:{stringValue:KC},[Tf]:{arrayValue:{values:h.map((g=>{if(typeof g!="number")throw d.createError("VectorValues must only contain numeric values.");return Sy(d.serializer,g)}))}}}}}})(r,s);if(ST(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${vy(r)}`)})(t,e)}function JT(t,e){const n={};return zC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Do(t,((r,s)=>{const o=bm(s,e.childContextForField(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function ZT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof Us||t instanceof kr||t instanceof ln||t instanceof Wy||t instanceof Jr||ST(t))}function Hy(t,e,n){if(!ZT(n)||!FC(n)){const r=vy(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Gu(t,e,n){if((e=qt(e))instanceof By)return e._internalPath;if(typeof e=="string")return e1(t,e);throw Of("Field path arguments must be of type string or ",t,!1,void 0,n)}const eV=new RegExp("[~\\*/\\[\\]]");function e1(t,e,n){if(e.search(eV)>=0)throw Of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new By(...e.split("."))._internalPath}catch{throw Of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Of(t,e,n,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${r}`),c&&(h+=` in document ${s}`),h+=")"),new Ae(se.INVALID_ARGUMENT,d+t+h)}function t1(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{convertValue(e,n="none"){switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(To(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Do(e,((s,o)=>{r[s]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,s,o;const n=(o=(s=(r=e.fields)==null?void 0:r[Tf].arrayValue)==null?void 0:s.values)==null?void 0:o.map((c=>Yt(c.doubleValue)));return new Jr(n)}convertGeoPoint(e){return new Us(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=um(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){const n=Co(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);wt(bT(r),9688,{name:e});const s=new Wu(r.get(1),r.get(3)),o=new Me(r.popFirst(5));return s.isEqual(n)||Ii(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends tV{constructor(e){super(),this.firestore=e}convertBytes(e){return new kr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}const WE="@firebase/firestore",$E="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Gu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nV extends r1{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function sV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ka extends r1{constructor(e,n,r,s,o,c){super(e,n,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ka._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",ka._jsonSchema={type:en("string",ka._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class cf extends ka{data(e={}){return super.data(e)}}class Hl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Nu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new cf(this._firestore,this._userDataWriter,r.key,r,new Nu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((d=>{const h=new cf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Nu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const h=new cf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Nu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),g=c.indexOf(d.doc.key)),{type:iV(d.type),doc:h,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hl._jsonSchemaVersion="firestore/querySnapshot/1.0",Hl._jsonSchema={type:en("string",Hl._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};function qE(t,e,n,...r){t=_o(t,ln);const s=_o(t.firestore,rc),o=XT(s);let c;return c=typeof(e=qt(e))=="string"||e instanceof By?ZL(o,"updateDoc",t._key,e,n,r):JL(o,"updateDoc",t._key,e),qy(s,[c.toMutation(t._key,Xr.exists(!0))])}function oV(t){return qy(_o(t.firestore,rc),[new Cy(t._key,Xr.none())])}function GE(t,e){const n=_o(t.firestore,rc),r=lf(t),s=sV(t.converter,e),o=XT(t.firestore);return qy(n,[XL(o,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Xr.exists(!1))]).then((()=>r))}function aV(t,...e){var p,g,v;t=qt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||HE(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(HE(e[r])){const x=e[r];e[r]=(p=x.next)==null?void 0:p.bind(x),e[r+1]=(g=x.error)==null?void 0:g.bind(x),e[r+2]=(v=x.complete)==null?void 0:v.bind(x)}let o,c,d;if(t instanceof ln)c=_o(t.firestore,rc),d=by(t._key.path),o={next:x=>{e[r]&&e[r](lV(c,t,x))},error:e[r+1],complete:e[r+2]};else{const x=_o(t,_m);c=_o(x.firestore,rc),d=x._query;const S=new n1(c);o={next:C=>{e[r]&&e[r](new Hl(c,S,x,C))},error:e[r+1],complete:e[r+2]},rV(t._query)}const h=KT(c);return zL(h,d,s,o)}function qy(t,e){const n=KT(t);return BL(n,e)}function lV(t,e,n){const r=n.docs.get(e._key),s=new n1(t);return new ka(t,s,e._key,r,new Nu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){FO(Va),bo(new Ci("firestore",((r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new rc(new BO(r.getProvider("auth-internal")),new HO(c,r.getProvider("app-check-internal")),lM(c,s),c);return o={useFetchStreams:n,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),Ar(WE,$E,e),Ar(WE,$E,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firebasestorage.googleapis.com",cV="storageBucket",uV=120*1e3,dV=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends ss{constructor(e,n,r=0){super(Og(e),`Firebase Storage: ${n} (${Og(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ks.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Og(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hs||(Hs={}));function Og(t){return"storage/"+t}function hV(){const t="An unknown error occurred, please check the error payload for server response.";return new Ks(Hs.UNKNOWN,t)}function fV(){return new Ks(Hs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mV(){return new Ks(Hs.CANCELED,"User canceled the upload/download.")}function pV(t){return new Ks(Hs.INVALID_URL,"Invalid URL '"+t+"'.")}function gV(t){return new Ks(Hs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function KE(t){return new Ks(Hs.INVALID_ARGUMENT,t)}function i1(){return new Ks(Hs.APP_DELETED,"The Firebase app was deleted.")}function vV(t){return new Ks(Hs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Yr.makeFromUrl(e,n)}catch{return new Yr(e,"")}if(r.path==="")return r;throw gV(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+s+c,"i"),h={bucket:1,path:3};function p(B){B.path_=decodeURIComponent(B.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",S=new RegExp(`^https?://${v}/${g}/b/${s}/o${x}`,"i"),C={bucket:1,path:3},b=n===s1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",O=new RegExp(`^https?://${b}/${s}/${I}`,"i"),j=[{regex:d,indices:h,postModify:o},{regex:S,indices:C,postModify:p},{regex:O,indices:{bucket:1,path:2},postModify:p}];for(let B=0;B<j.length;B++){const M=j[B],$=M.regex.exec(e);if($){const N=$[M.indices.bucket];let k=$[M.indices.path];k||(k=""),r=new Yr(N,k),M.postModify(r);break}}if(r==null)throw pV(e);return r}}class yV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t,e,n){let r=1,s=null,o=null,c=!1,d=0;function h(){return d===2}let p=!1;function g(...I){p||(p=!0,e.apply(null,I))}function v(I){s=setTimeout(()=>{s=null,t(S,h())},I)}function x(){o&&clearTimeout(o)}function S(I,...O){if(p){x();return}if(I){x(),g.call(null,I,...O);return}if(h()||c){x(),g.call(null,I,...O);return}r<64&&(r*=2);let j;d===1?(d=2,j=0):j=(r+Math.random())*1e3,v(j)}let C=!1;function b(I){C||(C=!0,x(),!p&&(s!==null?(I||(d=2),clearTimeout(s),v(0)):I||(d=1)))}return v(0),o=setTimeout(()=>{c=!0,b(!0)},n),b}function wV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t){return t!==void 0}function YE(t,e,n,r){if(r<e)throw KE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw KE(`Invalid value for '${t}'. Expected ${n} or less.`)}function EV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Mf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Mf||(Mf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n,r,s,o,c,d,h,p,g,v,x=!0,S=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,b)=>{this.resolve_=C,this.reject_=b,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Uh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{const h=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===Mf.NO_ERROR,h=o.getStatus();if(!d||bV(h,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Mf.ABORT;r(!1,new Uh(!1,null,g));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new Uh(p,o))})},n=(r,s)=>{const o=this.resolve_,c=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());_V(h)?o(h):o()}catch(h){c(h)}else if(d!==null){const h=hV();h.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,h)):c(h)}else if(s.canceled){const h=this.appDelete_?i1():mV();c(h)}else{const h=fV();c(h)}};this.canceled_?n(!1,new Uh(!1,null,!0)):this.backoffId_=xV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Uh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function CV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function TV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function IV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function kV(t,e,n,r,s,o,c=!0,d=!1){const h=EV(t.urlParams),p=t.url+h,g=Object.assign({},t.headers);return NV(g,e),CV(g,n),TV(g,o),IV(g,r),new SV(p,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function RV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this._service=e,n instanceof Yr?this._location=n:this._location=Yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Lf(e,n)}get root(){const e=new Yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RV(this._location.path)}get storage(){return this._service}get parent(){const e=AV(this._location.path);if(e===null)return null;const n=new Yr(this._location.bucket,e);return new Lf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vV(e)}}function QE(t,e){const n=e==null?void 0:e[cV];return n==null?null:Yr.makeFromBucketSpec(n,t)}function PV(t,e,n,r={}){t.host=`${e}:${n}`;const s=Di(e);s&&(tm(`https://${t.host}/b`),nm("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:HS(o,t.app.options.projectId))}class jV{constructor(e,n,r,s,o,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=s1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uV,this._maxUploadRetryTime=dV,this._requests=new Set,s!=null?this._bucket=Yr.makeFromBucketSpec(s,this._host):this._bucket=QE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yr.makeFromBucketSpec(this._url,e):this._bucket=QE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Lf(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new yV(i1());{const c=kV(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const XE="@firebase/storage",JE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="storage";function DV(t=rm(),e){t=qt(t);const r=id(t,o1).getImmediate({identifier:e}),s=sy("storage");return s&&OV(r,...s),r}function OV(t,e,n,r={}){PV(t,e,n,r)}function MV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new jV(n,r,s,e,Va)}function LV(){bo(new Ci(o1,MV,"PUBLIC").setMultipleInstances(!0)),Ar(XE,JE,""),Ar(XE,JE,"esm2020")}LV();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="type.googleapis.com/google.protobuf.Int64Value",FV="type.googleapis.com/google.protobuf.UInt64Value";function a1(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Vf(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Vf(e));if(typeof t=="function"||typeof t=="object")return a1(t,e=>Vf(e));throw new Error("Data cannot be encoded in JSON: "+t)}function sc(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case VV:case FV:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>sc(e)):typeof t=="function"||typeof t=="object"?a1(t,e=>sc(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xn extends ss{constructor(e,n,r){super(`${Gy}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Xn.prototype)}}function UV(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Ff(t,e){let n=UV(t),r=n,s;try{const o=e&&e.error;if(o){const c=o.status;if(typeof c=="string"){if(!ZE[c])return new Xn("internal","internal");n=ZE[c],r=c}const d=o.message;typeof d=="string"&&(r=d),s=o.details,s!==void 0&&(s=sc(s))}}catch{}return n==="ok"?null:new Xn(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,hr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||s==null||s.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="us-central1",BV=/^data: (.*?)(?:\n|$)/;function WV(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Xn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class $V{constructor(e,n,r,s,o=Tv,c=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new zV(e,n,r,s),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(o);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=Tv}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function HV(t,e,n){const r=Di(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(tm(t.emulatorOrigin+"/backends"),nm("Functions",!0))}function qV(t,e,n){const r=s=>KV(t,e,s,{});return r.stream=(s,o)=>QV(t,e,s,o),r}function l1(t){return t.emulatorOrigin&&Di(t.emulatorOrigin)?"include":void 0}async function GV(t,e,n,r,s){n["Content-Type"]="application/json";let o;try{o=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:l1(s)})}catch{return{status:0,json:null}}let c=null;try{c=await o.json()}catch{}return{status:o.status,json:c}}async function c1(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function KV(t,e,n,r){const s=t._url(e);return YV(t,s,n,r)}async function YV(t,e,n,r){n=Vf(n);const s={data:n},o=await c1(t,r),c=r.timeout||7e4,d=WV(c),h=await Promise.race([GV(e,s,o,t.fetchImpl,t),d.promise,t.cancelAllRequests]);if(d.cancel(),!h)throw new Xn("cancelled","Firebase Functions instance was deleted.");const p=Ff(h.status,h.json);if(p)throw p;if(!h.json)throw new Xn("internal","Response is not valid JSON object.");let g=h.json.data;if(typeof g>"u"&&(g=h.json.result),typeof g>"u")throw new Xn("internal","Response is missing data field.");return{data:sc(g)}}function QV(t,e,n,r){const s=t._url(e);return XV(t,s,n,r||{})}async function XV(t,e,n,r){var x;n=Vf(n);const s={data:n},o=await c1(t,r);o["Content-Type"]="application/json",o.Accept="text/event-stream";let c;try{c=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:o,signal:r==null?void 0:r.signal,credentials:l1(t)})}catch(S){if(S instanceof Error&&S.name==="AbortError"){const b=new Xn("cancelled","Request was cancelled.");return{data:Promise.reject(b),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(b)}}}}}}const C=Ff(0,null);return{data:Promise.reject(C),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(C)}}}}}}let d,h;const p=new Promise((S,C)=>{d=S,h=C});(x=r==null?void 0:r.signal)==null||x.addEventListener("abort",()=>{const S=new Xn("cancelled","Request was cancelled.");h(S)});const g=c.body.getReader(),v=JV(g,d,h,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const S=v.getReader();return{async next(){const{value:C,done:b}=await S.read();return{value:C,done:b}},async return(){return await S.cancel(),{done:!0,value:void 0}}}}},data:p}}function JV(t,e,n,r){const s=(c,d)=>{const h=c.match(BV);if(!h)return;const p=h[1];try{const g=JSON.parse(p);if("result"in g){e(sc(g.result));return}if("message"in g){d.enqueue(sc(g.message));return}if("error"in g){const v=Ff(0,g);d.error(v),n(v);return}}catch(g){if(g instanceof Xn){d.error(g),n(g);return}}},o=new TextDecoder;return new ReadableStream({start(c){let d="";return h();async function h(){if(r!=null&&r.aborted){const p=new Xn("cancelled","Request was cancelled");return c.error(p),n(p),Promise.resolve()}try{const{value:p,done:g}=await t.read();if(g){d.trim()&&s(d.trim(),c),c.close();return}if(r!=null&&r.aborted){const x=new Xn("cancelled","Request was cancelled");c.error(x),n(x),await t.cancel();return}d+=o.decode(p,{stream:!0});const v=d.split(`
`);d=v.pop()||"";for(const x of v)x.trim()&&s(x.trim(),c);return h()}catch(p){const g=p instanceof Xn?p:Ff(0,null);c.error(g),n(g)}}},cancel(){return t.cancel()}})}const eb="@firebase/functions",tb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="auth-internal",eF="app-check-internal",tF="messaging-internal";function nF(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),o=n.getProvider(ZV),c=n.getProvider(tF),d=n.getProvider(eF);return new $V(s,o,c,d,r)};bo(new Ci(Gy,e,"PUBLIC").setMultipleInstances(!0)),Ar(eb,tb,t),Ar(eb,tb,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t=rm(),e=Tv){const r=id(qt(t),Gy).getImmediate({identifier:e}),s=sy("functions");return s&&sF(r,...s),r}function sF(t,e,n){HV(qt(t),e,n)}function iF(t,e,n){return qV(qt(t),e)}nF();const oF={apiKey:"AIzaSyAW-K6O13y3Tl4I5mJT0Os9lphAkk-Vw70",authDomain:"casa-ramayon.firebaseapp.com",projectId:"casa-ramayon",storageBucket:"casa-ramayon.firebasestorage.app",messagingSenderId:"577627616386",appId:"1:577627616386:web:9b970b73ec573fbea8f09b"},Sm=KS(oF),Il=qL(Sm);DV(Sm);const Mg=OO(Sm),aF=rF(Sm);function lF(t){return iF(aF,t)}const u1=w.createContext(void 0);function cF({children:t}){const[e,n]=w.useState(null),[r,s]=w.useState(!0);w.useEffect(()=>{const d=bD(Mg,h=>{n(h),s(!1)});return()=>d()},[]);const o=async(d,h)=>{await wD(Mg,d,h)},c=async()=>{await SD(Mg)};return l.jsx(u1.Provider,{value:{user:e,loading:r,signIn:o,signOut:c},children:t})}function Ky(){const t=w.useContext(u1);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const d1=w.createContext(void 0);function uF(t){const e=t.replace(/\D/g,""),n=parseInt(e,10);return isNaN(n)?0:n}function dF(t){return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function hF({children:t}){const[e,n]=w.useState([]),[r,s]=w.useState(!1),o=(v,x=1)=>{n(S=>S.find(b=>b.product.id===v.id)?S.map(b=>b.product.id===v.id?{...b,quantity:b.quantity+x}:b):[...S,{product:v,quantity:x}])},c=v=>{n(x=>x.filter(S=>S.product.id!==v))},d=(v,x)=>{if(x<=0){c(v);return}n(S=>S.map(C=>C.product.id===v?{...C,quantity:x}:C))},h=()=>n([]),p=e.reduce((v,x)=>v+x.quantity,0),g=dF(e.reduce((v,x)=>v+uF(x.product.price)*x.quantity,0));return l.jsx(d1.Provider,{value:{items:e,addToCart:o,removeFromCart:c,updateQuantity:d,clearCart:h,itemCount:p,totalFormatted:g,cartOpen:r,setCartOpen:s,openCart:()=>s(!0)},children:t})}function Yy(){const t=w.useContext(d1);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t}const h1="dmg61dxrz",fF="casa_ramayon",uf=()=>!!h1,mF=async(t,e="general")=>{var o;const n=new FormData;n.append("file",t),n.append("upload_preset",fF),n.append("folder",`casa_ramayon/${e}`);const r=await fetch(`https://api.cloudinary.com/v1_1/${h1}/image/upload`,{method:"POST",body:n});if(!r.ok){const c=await r.json();throw new Error(((o=c.error)==null?void 0:o.message)||"Failed to upload image")}return(await r.json()).secure_url},nb=[],rb=[],sb=[],ib=[],ob=[{id:"1",name:"Amigo Mentor - Casa Ramayon",price:"$50.000",period:"mensual",description:"Nuestra categora ms exclusiva. Incluye beneficios premium en eventos, formacin y la posibilidad de utilizar el espacio para tus propios eventos.",benefits:["Brindis Privados: Invitacin exclusiva a previas de inauguraciones artsticas o nuevos ciclos.","Pase Libre Cultural: Entrada libre a todos los eventos pagos de la agenda anual.","Acceso Total a Formacin: 50% de descuento en talleres, clnicas y seminarios.","Experiencias Exclusivas (+1): Invitado a eventos especiales para la comunidad.","Beneficios en Obra y Tienda: 15% o 20% de descuento en compra de obras.","Casa Ramayon con vos: Uso del espacio con 50% de descuento una vez al ao."],featured:!0,isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"2",name:"Amigo Aliado - Casa Ramayon",price:"$20.000",period:"mensual",description:"Una forma accesible de sumarte a la comunidad. Pensado para quienes quieren acercarse a la cultura y disfrutar de beneficios en la casa.",benefits:["10% de descuento en la Yerbatera.","20% de descuento en todos los cursos y talleres de La Casa.","30% de descuento en entradas a conciertos.","Prioridad en eventos con capacidad reducida."],featured:!1,isActive:!0,createdAt:new Date,updatedAt:new Date}],ab=[],lb=[],cb=[],ub=[{id:"historia",slug:"historia",title:"Nuestra Historia",content:"Casa Ramayon naci en...",isActive:!0,updatedAt:new Date},{id:"espacio",slug:"espacio",title:"El Espacio",content:"Nuestras instalaciones incluyen...",isActive:!0,updatedAt:new Date}],f1=w.createContext(void 0),et={events:"casa_ramayon_events",products:"casa_ramayon_products",workshops:"casa_ramayon_workshops",guidedTours:"casa_ramayon_guided_tours",memberships:"casa_ramayon_memberships",sponsors:"casa_ramayon_sponsors",teamMembers:"casa_ramayon_team_members",pages:"casa_ramayon_pages",subscribers:"casa_ramayon_subscribers"},Ns=(t,e)=>{try{const n=localStorage.getItem(t);if(n)return JSON.parse(n)}catch(n){console.error("Error loading from localStorage:",n)}return e},zh=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error("Error saving to localStorage:",n)}};function pF({children:t}){const[e,n]=w.useState([]),[r,s]=w.useState([]),[o,c]=w.useState([]),[d,h]=w.useState([]),[p,g]=w.useState([]),[v,x]=w.useState([]),[S,C]=w.useState([]),[b,I]=w.useState([]),[O,D]=w.useState([]),[j,B]=w.useState(!0),[M,$]=w.useState(!1);w.useEffect(()=>{if(M)n(Ns(et.events,nb)),s(Ns(et.products,rb)),c(Ns(et.workshops,sb)),h(Ns(et.guidedTours,ib)),g(Ns(et.memberships,ob)),x(Ns(et.sponsors,ab)),C(Ns(et.teamMembers,cb)),I(Ns(et.pages,ub)),D(Ns(et.subscribers,lb)),B(!1);else{const fe=[],Pe=(St,Ke,tt,Lt)=>aV(Dg(Il,St),nn=>{const Sn=nn.docs.map(Qt=>{var Zn,os;return{id:Qt.id,...Qt.data(),createdAt:((Zn=Qt.data().createdAt)==null?void 0:Zn.toDate())||new Date,updatedAt:((os=Qt.data().updatedAt)==null?void 0:os.toDate())||new Date}});tt(Sn)},nn=>{console.error(`Error fetching ${St}:`,nn),$(!0),tt(Ns(Ke,Lt))});return fe.push(Pe("events",et.events,n,nb)),fe.push(Pe("products",et.products,s,rb)),fe.push(Pe("workshops",et.workshops,c,sb)),fe.push(Pe("guidedTours",et.guidedTours,h,ib)),fe.push(Pe("memberships",et.memberships,g,ob)),fe.push(Pe("sponsors",et.sponsors,x,ab)),fe.push(Pe("teamMembers",et.teamMembers,C,cb)),fe.push(Pe("pages",et.pages,I,ub)),fe.push(Pe("subscribers",et.subscribers,D,lb)),setTimeout(()=>B(!1),2e3),()=>fe.forEach(St=>St())}},[M]);const N=async(fe,Pe,St,Ke,tt)=>{const Lt={...St,createdAt:new Date,updatedAt:new Date};if(M){const nn=Date.now().toString(),Sn={...Lt,id:nn},Qt=[...Ke,Sn];tt(Qt),zh(Pe,Qt)}else await GE(Dg(Il,fe),{...Lt,createdAt:xt.now(),updatedAt:xt.now()})},k=async(fe,Pe,St,Ke,tt,Lt)=>{const nn={...Ke,updatedAt:new Date};if(M){const Sn=tt.map(Qt=>Qt.id===St?{...Qt,...nn}:Qt);Lt(Sn),zh(Pe,Sn)}else await qE(lf(Il,fe,St),{...nn,updatedAt:xt.now()})},P=async(fe,Pe,St,Ke,tt)=>{if(M){const Lt=Ke.filter(nn=>nn.id!==St);tt(Lt),zh(Pe,Lt)}else await oV(lf(Il,fe,St))},F=fe=>N("events",et.events,fe,e,n),U=(fe,Pe)=>k("events",et.events,fe,Pe,e,n),L=fe=>P("events",et.events,fe,e,n),A=fe=>N("products",et.products,fe,r,s),le=(fe,Pe)=>k("products",et.products,fe,Pe,r,s),ve=fe=>P("products",et.products,fe,r,s),pe=fe=>N("workshops",et.workshops,fe,o,c),xe=(fe,Pe)=>k("workshops",et.workshops,fe,Pe,o,c),z=fe=>P("workshops",et.workshops,fe,o,c),K=fe=>N("guidedTours",et.guidedTours,fe,d,h),te=(fe,Pe)=>k("guidedTours",et.guidedTours,fe,Pe,d,h),q=fe=>P("guidedTours",et.guidedTours,fe,d,h),ee=fe=>N("memberships",et.memberships,fe,p,g),ge=(fe,Pe)=>k("memberships",et.memberships,fe,Pe,p,g),ye=fe=>P("memberships",et.memberships,fe,p,g),Oe=fe=>N("sponsors",et.sponsors,fe,v,x),De=(fe,Pe)=>k("sponsors",et.sponsors,fe,Pe,v,x),oe=fe=>P("sponsors",et.sponsors,fe,v,x),Ee=fe=>N("teamMembers",et.teamMembers,fe,S,C),Re=(fe,Pe)=>k("teamMembers",et.teamMembers,fe,Pe,S,C),Fe=fe=>P("teamMembers",et.teamMembers,fe,S,C),Je=async fe=>{const Pe=fe.trim().toLowerCase();if(!Pe)throw new Error("Por favor ingres un email vlido");if(O.some(Ke=>Ke.email.toLowerCase()===Pe))throw new Error("Este email ya est suscrito");await N("subscribers",et.subscribers,{email:Pe},O,D)},Ze=fe=>P("subscribers",et.subscribers,fe,O,D),It=async(fe,Pe)=>{const St={...Pe,updatedAt:new Date};if(M){const Ke=b.map(tt=>tt.slug===fe?{...tt,...St}:tt);b.find(tt=>tt.slug===fe)||Ke.push({id:fe,slug:fe,title:Pe.title||"",content:Pe.content||"",isActive:Pe.isActive??!0,updatedAt:new Date}),I(Ke),zh(et.pages,Ke)}else{const Ke=b.find(tt=>tt.slug===fe);Ke?await qE(lf(Il,"pages",Ke.id),{...St,updatedAt:xt.now()}):await GE(Dg(Il,"pages"),{slug:fe,...St,updatedAt:xt.now()})}},$t=async(fe,Pe)=>{if(!uf())throw new Error("Cloudinary no est configurado. Agreg VITE_CLOUDINARY_CLOUD_NAME y VITE_CLOUDINARY_UPLOAD_PRESET en tu archivo .env. Ver Configuracin en el panel.");return await mF(fe,Pe)},zn=async fe=>{console.log("Image deletion not implemented:",fe)};return l.jsx(f1.Provider,{value:{events:e,products:r,workshops:o,guidedTours:d,memberships:p,sponsors:v,teamMembers:S,pages:b,subscribers:O,loading:j,useLocalStorage:M,addEvent:F,updateEvent:U,deleteEvent:L,addProduct:A,updateProduct:le,deleteProduct:ve,addWorkshop:pe,updateWorkshop:xe,deleteWorkshop:z,addGuidedTour:K,updateGuidedTour:te,deleteGuidedTour:q,addMembership:ee,updateMembership:ge,deleteMembership:ye,addSponsor:Oe,updateSponsor:De,deleteSponsor:oe,addTeamMember:Ee,updateTeamMember:Re,deleteTeamMember:Fe,updatePage:It,addSubscriber:Je,deleteSubscriber:Ze,uploadImage:$t,deleteImage:zn},children:t})}function Un(){const t=w.useContext(f1);if(t===void 0)throw new Error("useData must be used within a DataProvider");return t}function gF({children:t}){const{user:e,loading:n}=Ky(),r=Gs(),s=localStorage.getItem("casa_ramayon_demo_auth")==="true";return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):!e&&!s?l.jsx(jS,{to:"/panel/login",state:{from:r},replace:!0}):l.jsx(l.Fragment,{children:t})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:c,...d},h)=>w.createElement("svg",{ref:h,...yF,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:m1("lucide",s),...d},[...c.map(([p,g])=>w.createElement(p,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(t,e)=>{const n=w.forwardRef(({className:r,...s},o)=>w.createElement(xF,{ref:o,iconNode:e,className:m1(`lucide-${vF(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=We("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=We("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=We("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=We("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=We("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=We("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=We("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=We("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=We("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=We("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=We("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=We("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=We("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=We("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=We("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=We("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=We("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=We("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=We("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=We("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=We("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=We("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=We("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=We("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=We("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=We("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=We("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=We("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=We("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=We("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=We("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=We("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=We("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=We("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=We("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=We("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=We("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=We("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=We("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=We("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=We("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function mb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function tx(...t){return e=>{let n=!1;const r=t.map(s=>{const o=mb(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():mb(t[s],null)}}}}function at(...t){return w.useCallback(tx(...t),t)}var Ao=w.forwardRef((t,e)=>{const{children:n,...r}=t,s=w.Children.toArray(n),o=s.find(HF);if(o){const c=o.props.children,d=s.map(h=>h===o?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:h);return l.jsx(kv,{...r,ref:e,children:w.isValidElement(c)?w.cloneElement(c,void 0,d):null})}return l.jsx(kv,{...r,ref:e,children:n})});Ao.displayName="Slot";var kv=w.forwardRef((t,e)=>{const{children:n,...r}=t;if(w.isValidElement(n)){const s=GF(n);return w.cloneElement(n,{...qF(r,n.props),ref:e?tx(e,s):s})}return w.Children.count(n)>1?w.Children.only(null):null});kv.displayName="SlotClone";var v1=({children:t})=>l.jsx(l.Fragment,{children:t});function HF(t){return w.isValidElement(t)&&t.type===v1}function qF(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...d)=>{o(...d),s(...d)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function GF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function y1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=y1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function x1(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=y1(t))&&(r&&(r+=" "),r+=e);return r}const pb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,gb=x1,Nm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return gb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,c=Object.keys(s).map(p=>{const g=n==null?void 0:n[p],v=o==null?void 0:o[p];if(g===null)return null;const x=pb(g)||pb(v);return s[p][x]}),d=n&&Object.entries(n).reduce((p,g)=>{let[v,x]=g;return x===void 0||(p[v]=x),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:v,className:x,...S}=g;return Object.entries(S).every(C=>{let[b,I]=C;return Array.isArray(I)?I.includes({...o,...d}[b]):{...o,...d}[b]===I})?[...p,v,x]:p},[]);return gb(t,c,h,n==null?void 0:n.class,n==null?void 0:n.className)},KF=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},YF=(t,e)=>({classGroupId:t,validator:e}),w1=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Uf="-",vb=[],QF="arbitrary..",XF=t=>{const e=ZF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return JF(c);const d=c.split(Uf),h=d[0]===""&&d.length>1?1:0;return _1(d,h,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const h=r[c],p=n[c];return h?p?KF(p,h):h:p||vb}return n[c]||vb}}},_1=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const s=t[e],o=n.nextPart.get(s);if(o){const p=_1(t,e+1,o);if(p)return p}const c=n.validators;if(c===null)return;const d=e===0?t.join(Uf):t.slice(e).join(Uf),h=c.length;for(let p=0;p<h;p++){const g=c[p];if(g.validator(d))return g.classGroupId}},JF=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?QF+r:void 0})(),ZF=t=>{const{theme:e,classGroups:n}=t;return e3(n,e)},e3=(t,e)=>{const n=w1();for(const r in t){const s=t[r];nx(s,n,r,e)}return n},nx=(t,e,n,r)=>{const s=t.length;for(let o=0;o<s;o++){const c=t[o];t3(c,e,n,r)}},t3=(t,e,n,r)=>{if(typeof t=="string"){n3(t,e,n);return}if(typeof t=="function"){r3(t,e,n,r);return}s3(t,e,n,r)},n3=(t,e,n)=>{const r=t===""?e:E1(e,t);r.classGroupId=n},r3=(t,e,n,r)=>{if(i3(t)){nx(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(YF(n,t))},s3=(t,e,n,r)=>{const s=Object.entries(t),o=s.length;for(let c=0;c<o;c++){const[d,h]=s[c];nx(h,E1(e,d),n,r)}},E1=(t,e)=>{let n=t;const r=e.split(Uf),s=r.length;for(let o=0;o<s;o++){const c=r[o];let d=n.nextPart.get(c);d||(d=w1(),n.nextPart.set(c,d)),n=d}return n},i3=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,o3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const s=(o,c)=>{n[o]=c,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let c=n[o];if(c!==void 0)return c;if((c=r[o])!==void 0)return s(o,c),c},set(o,c){o in n?n[o]=c:s(o,c)}}},Av="!",yb=":",a3=[],xb=(t,e,n,r,s)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),l3=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let c=0,d=0,h=0,p;const g=s.length;for(let b=0;b<g;b++){const I=s[b];if(c===0&&d===0){if(I===yb){o.push(s.slice(h,b)),h=b+1;continue}if(I==="/"){p=b;continue}}I==="["?c++:I==="]"?c--:I==="("?d++:I===")"&&d--}const v=o.length===0?s:s.slice(h);let x=v,S=!1;v.endsWith(Av)?(x=v.slice(0,-1),S=!0):v.startsWith(Av)&&(x=v.slice(1),S=!0);const C=p&&p>h?p-h:void 0;return xb(o,S,x,C)};if(e){const s=e+yb,o=r;r=c=>c.startsWith(s)?o(c.slice(s.length)):xb(a3,!1,c,void 0,!0)}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},c3=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let o=0;o<n.length;o++){const c=n[o],d=c[0]==="[",h=e.has(c);d||h?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(c)):s.push(c)}return s.length>0&&(s.sort(),r.push(...s)),r}},u3=t=>({cache:o3(t.cacheSize),parseClassName:l3(t),sortModifiers:c3(t),...XF(t)}),d3=/\s+/,h3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,c=[],d=t.trim().split(d3);let h="";for(let p=d.length-1;p>=0;p-=1){const g=d[p],{isExternal:v,modifiers:x,hasImportantModifier:S,baseClassName:C,maybePostfixModifierPosition:b}=n(g);if(v){h=g+(h.length>0?" "+h:h);continue}let I=!!b,O=r(I?C.substring(0,b):C);if(!O){if(!I){h=g+(h.length>0?" "+h:h);continue}if(O=r(C),!O){h=g+(h.length>0?" "+h:h);continue}I=!1}const D=x.length===0?"":x.length===1?x[0]:o(x).join(":"),j=S?D+Av:D,B=j+O;if(c.indexOf(B)>-1)continue;c.push(B);const M=s(O,I);for(let $=0;$<M.length;++$){const N=M[$];c.push(j+N)}h=g+(h.length>0?" "+h:h)}return h},f3=(...t)=>{let e=0,n,r,s="";for(;e<t.length;)(n=t[e++])&&(r=b1(n))&&(s&&(s+=" "),s+=r);return s},b1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=b1(t[r]))&&(n&&(n+=" "),n+=e);return n},m3=(t,...e)=>{let n,r,s,o;const c=h=>{const p=e.reduce((g,v)=>v(g),t());return n=u3(p),r=n.cache.get,s=n.cache.set,o=d,d(h)},d=h=>{const p=r(h);if(p)return p;const g=h3(h,n);return s(h,g),g};return o=c,(...h)=>o(f3(...h))},p3=[],on=t=>{const e=n=>n[t]||p3;return e.isThemeGetter=!0,e},S1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,C1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,g3=/^\d+\/\d+$/,v3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,y3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,x3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,w3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Al=t=>g3.test(t),rt=t=>!!t&&!Number.isNaN(Number(t)),lo=t=>!!t&&Number.isInteger(Number(t)),Vg=t=>t.endsWith("%")&&rt(t.slice(0,-1)),yi=t=>v3.test(t),E3=()=>!0,b3=t=>y3.test(t)&&!x3.test(t),T1=()=>!1,S3=t=>w3.test(t),C3=t=>_3.test(t),T3=t=>!Te(t)&&!Ne(t),N3=t=>_c(t,k1,T1),Te=t=>S1.test(t),Sa=t=>_c(t,A1,b3),Fg=t=>_c(t,P3,rt),wb=t=>_c(t,N1,T1),I3=t=>_c(t,I1,C3),Bh=t=>_c(t,R1,S3),Ne=t=>C1.test(t),_u=t=>Ec(t,A1),k3=t=>Ec(t,j3),_b=t=>Ec(t,N1),A3=t=>Ec(t,k1),R3=t=>Ec(t,I1),Wh=t=>Ec(t,R1,!0),_c=(t,e,n)=>{const r=S1.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Ec=(t,e,n=!1)=>{const r=C1.exec(t);return r?r[1]?e(r[1]):n:!1},N1=t=>t==="position"||t==="percentage",I1=t=>t==="image"||t==="url",k1=t=>t==="length"||t==="size"||t==="bg-size",A1=t=>t==="length",P3=t=>t==="number",j3=t=>t==="family-name",R1=t=>t==="shadow",D3=()=>{const t=on("color"),e=on("font"),n=on("text"),r=on("font-weight"),s=on("tracking"),o=on("leading"),c=on("breakpoint"),d=on("container"),h=on("spacing"),p=on("radius"),g=on("shadow"),v=on("inset-shadow"),x=on("text-shadow"),S=on("drop-shadow"),C=on("blur"),b=on("perspective"),I=on("aspect"),O=on("ease"),D=on("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...B(),Ne,Te],$=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],k=()=>[Ne,Te,h],P=()=>[Al,"full","auto",...k()],F=()=>[lo,"none","subgrid",Ne,Te],U=()=>["auto",{span:["full",lo,Ne,Te]},lo,Ne,Te],L=()=>[lo,"auto",Ne,Te],A=()=>["auto","min","max","fr",Ne,Te],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ve=()=>["start","end","center","stretch","center-safe","end-safe"],pe=()=>["auto",...k()],xe=()=>[Al,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],z=()=>[t,Ne,Te],K=()=>[...B(),_b,wb,{position:[Ne,Te]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",A3,N3,{size:[Ne,Te]}],ee=()=>[Vg,_u,Sa],ge=()=>["","none","full",p,Ne,Te],ye=()=>["",rt,_u,Sa],Oe=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[rt,Vg,_b,wb],Ee=()=>["","none",C,Ne,Te],Re=()=>["none",rt,Ne,Te],Fe=()=>["none",rt,Ne,Te],Je=()=>[rt,Ne,Te],Ze=()=>[Al,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[yi],breakpoint:[yi],color:[E3],container:[yi],"drop-shadow":[yi],ease:["in","out","in-out"],font:[T3],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[yi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[yi],shadow:[yi],spacing:["px",rt],text:[yi],"text-shadow":[yi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Al,Te,Ne,I]}],container:["container"],columns:[{columns:[rt,Te,Ne,d]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[lo,"auto",Ne,Te]}],basis:[{basis:[Al,"full","auto",d,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[rt,Al,"auto","initial","none",Te]}],grow:[{grow:["",rt,Ne,Te]}],shrink:[{shrink:["",rt,Ne,Te]}],order:[{order:[lo,"first","last","none",Ne,Te]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...ve(),"normal"]}],"justify-self":[{"justify-self":["auto",...ve()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...ve(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ve(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...ve(),"baseline"]}],"place-self":[{"place-self":["auto",...ve()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:pe()}],mx:[{mx:pe()}],my:[{my:pe()}],ms:[{ms:pe()}],me:[{me:pe()}],mt:[{mt:pe()}],mr:[{mr:pe()}],mb:[{mb:pe()}],ml:[{ml:pe()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:xe()}],w:[{w:[d,"screen",...xe()]}],"min-w":[{"min-w":[d,"screen","none",...xe()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...xe()]}],h:[{h:["screen","lh",...xe()]}],"min-h":[{"min-h":["screen","lh","none",...xe()]}],"max-h":[{"max-h":["screen","lh",...xe()]}],"font-size":[{text:["base",n,_u,Sa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ne,Fg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Vg,Te]}],"font-family":[{font:[k3,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ne,Te]}],"line-clamp":[{"line-clamp":[rt,"none",Ne,Fg]}],leading:[{leading:[o,...k()]}],"list-image":[{"list-image":["none",Ne,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[rt,"from-font","auto",Ne,Sa]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[rt,"auto",Ne,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},lo,Ne,Te],radial:["",Ne,Te],conic:[lo,Ne,Te]},R3,I3]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:ge()}],"rounded-s":[{"rounded-s":ge()}],"rounded-e":[{"rounded-e":ge()}],"rounded-t":[{"rounded-t":ge()}],"rounded-r":[{"rounded-r":ge()}],"rounded-b":[{"rounded-b":ge()}],"rounded-l":[{"rounded-l":ge()}],"rounded-ss":[{"rounded-ss":ge()}],"rounded-se":[{"rounded-se":ge()}],"rounded-ee":[{"rounded-ee":ge()}],"rounded-es":[{"rounded-es":ge()}],"rounded-tl":[{"rounded-tl":ge()}],"rounded-tr":[{"rounded-tr":ge()}],"rounded-br":[{"rounded-br":ge()}],"rounded-bl":[{"rounded-bl":ge()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Oe(),"hidden","none"]}],"divide-style":[{divide:[...Oe(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...Oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[rt,Ne,Te]}],"outline-w":[{outline:["",rt,_u,Sa]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",g,Wh,Bh]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",v,Wh,Bh]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[rt,Sa]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",x,Wh,Bh]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[rt,Ne,Te]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[rt]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[Ne,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[rt]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,Te]}],filter:[{filter:["","none",Ne,Te]}],blur:[{blur:Ee()}],brightness:[{brightness:[rt,Ne,Te]}],contrast:[{contrast:[rt,Ne,Te]}],"drop-shadow":[{"drop-shadow":["","none",S,Wh,Bh]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",rt,Ne,Te]}],"hue-rotate":[{"hue-rotate":[rt,Ne,Te]}],invert:[{invert:["",rt,Ne,Te]}],saturate:[{saturate:[rt,Ne,Te]}],sepia:[{sepia:["",rt,Ne,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,Te]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[rt,Ne,Te]}],"backdrop-contrast":[{"backdrop-contrast":[rt,Ne,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",rt,Ne,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[rt,Ne,Te]}],"backdrop-invert":[{"backdrop-invert":["",rt,Ne,Te]}],"backdrop-opacity":[{"backdrop-opacity":[rt,Ne,Te]}],"backdrop-saturate":[{"backdrop-saturate":[rt,Ne,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",rt,Ne,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[rt,"initial",Ne,Te]}],ease:[{ease:["linear","initial",O,Ne,Te]}],delay:[{delay:[rt,Ne,Te]}],animate:[{animate:["none",D,Ne,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ne,Te]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:Re()}],"rotate-x":[{"rotate-x":Re()}],"rotate-y":[{"rotate-y":Re()}],"rotate-z":[{"rotate-z":Re()}],scale:[{scale:Fe()}],"scale-x":[{"scale-x":Fe()}],"scale-y":[{"scale-y":Fe()}],"scale-z":[{"scale-z":Fe()}],"scale-3d":["scale-3d"],skew:[{skew:Je()}],"skew-x":[{"skew-x":Je()}],"skew-y":[{"skew-y":Je()}],transform:[{transform:[Ne,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ze()}],"translate-x":[{"translate-x":Ze()}],"translate-y":[{"translate-y":Ze()}],"translate-z":[{"translate-z":Ze()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,Te]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[rt,_u,Sa,Fg]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},O3=m3(D3);function ce(...t){return O3(x1(t))}const Ku=Nm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function he({className:t,variant:e,size:n,asChild:r=!1,...s}){const o=r?Ao:"button";return l.jsx(o,{"data-slot":"button",className:ce(Ku({variant:e,size:n,className:t})),...s})}function M3(t,e){const n=w.createContext(e),r=o=>{const{children:c,...d}=o,h=w.useMemo(()=>d,Object.values(d));return l.jsx(n.Provider,{value:h,children:c})};r.displayName=t+"Provider";function s(o){const c=w.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function Qs(t,e=[]){let n=[];function r(o,c){const d=w.createContext(c),h=n.length;n=[...n,c];const p=v=>{var O;const{scope:x,children:S,...C}=v,b=((O=x==null?void 0:x[t])==null?void 0:O[h])||d,I=w.useMemo(()=>C,Object.values(C));return l.jsx(b.Provider,{value:I,children:S})};p.displayName=o+"Provider";function g(v,x){var b;const S=((b=x==null?void 0:x[t])==null?void 0:b[h])||d,C=w.useContext(S);if(C)return C;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[p,g]}const s=()=>{const o=n.map(c=>w.createContext(c));return function(d){const h=(d==null?void 0:d[t])||o;return w.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return s.scopeName=t,[r,L3(s,...e)]}function L3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const c=r.reduce((d,{useScope:h,scopeName:p})=>{const v=h(o)[`__scope${p}`];return{...d,...v}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function Ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}var V3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Be=V3.reduce((t,e)=>{const n=w.forwardRef((r,s)=>{const{asChild:o,...c}=r,d=o?Ao:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(d,{...c,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Rv(t,e){t&&nd.flushSync(()=>t.dispatchEvent(e))}function zt(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Ai({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=F3({defaultProp:e,onChange:n}),o=t!==void 0,c=o?t:r,d=zt(n),h=w.useCallback(p=>{if(o){const v=typeof p=="function"?p(t):p;v!==t&&d(v)}else s(p)},[o,t,s,d]);return[c,h]}function F3({defaultProp:t,onChange:e}){const n=w.useState(t),[r]=n,s=w.useRef(r),o=zt(e);return w.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var U3=w.createContext(void 0);function Im(t){const e=w.useContext(U3);return t||e||"ltr"}var tn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{};function z3(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var vr=t=>{const{present:e,children:n}=t,r=B3(e),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),o=at(r.ref,W3(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:o}):null};vr.displayName="Presence";function B3(t){const[e,n]=w.useState(),r=w.useRef({}),s=w.useRef(t),o=w.useRef("none"),c=t?"mounted":"unmounted",[d,h]=z3(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const p=$h(r.current);o.current=d==="mounted"?p:"none"},[d]),tn(()=>{const p=r.current,g=s.current;if(g!==t){const x=o.current,S=$h(p);t?h("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(g&&x!==S?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,h]),tn(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,v=S=>{const b=$h(r.current).includes(S.animationName);if(S.target===e&&b&&(h("ANIMATION_END"),!s.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},x=S=>{S.target===e&&(o.current=$h(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:w.useCallback(p=>{p&&(r.current=getComputedStyle(p)),n(p)},[])}}function $h(t){return(t==null?void 0:t.animationName)||"none"}function W3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $3=nR.useId||(()=>{}),H3=0;function zs(t){const[e,n]=w.useState($3());return tn(()=>{n(r=>r??String(H3++))},[t]),t||(e?`radix-${e}`:"")}function km(t){const e=t+"CollectionProvider",[n,r]=Qs(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=S=>{const{scope:C,children:b}=S,I=ue.useRef(null),O=ue.useRef(new Map).current;return l.jsx(s,{scope:C,itemMap:O,collectionRef:I,children:b})};c.displayName=e;const d=t+"CollectionSlot",h=ue.forwardRef((S,C)=>{const{scope:b,children:I}=S,O=o(d,b),D=at(C,O.collectionRef);return l.jsx(Ao,{ref:D,children:I})});h.displayName=d;const p=t+"CollectionItemSlot",g="data-radix-collection-item",v=ue.forwardRef((S,C)=>{const{scope:b,children:I,...O}=S,D=ue.useRef(null),j=at(C,D),B=o(p,b);return ue.useEffect(()=>(B.itemMap.set(D,{ref:D,...O}),()=>void B.itemMap.delete(D))),l.jsx(Ao,{[g]:"",ref:j,children:I})});v.displayName=p;function x(S){const C=o(t+"CollectionConsumer",S);return ue.useCallback(()=>{const I=C.collectionRef.current;if(!I)return[];const O=Array.from(I.querySelectorAll(`[${g}]`));return Array.from(C.itemMap.values()).sort((B,M)=>O.indexOf(B.ref.current)-O.indexOf(M.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:c,Slot:h,ItemSlot:v},x,r]}function q3(t,e=globalThis==null?void 0:globalThis.document){const n=zt(t);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var G3="DismissableLayer",Pv="dismissableLayer.update",K3="dismissableLayer.pointerDownOutside",Y3="dismissableLayer.focusOutside",Eb,P1=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Am=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:c,onDismiss:d,...h}=t,p=w.useContext(P1),[g,v]=w.useState(null),x=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=w.useState({}),C=at(e,N=>v(N)),b=Array.from(p.layers),[I]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),O=b.indexOf(I),D=g?b.indexOf(g):-1,j=p.layersWithOutsidePointerEventsDisabled.size>0,B=D>=O,M=J3(N=>{const k=N.target,P=[...p.branches].some(F=>F.contains(k));!B||P||(s==null||s(N),c==null||c(N),N.defaultPrevented||d==null||d())},x),$=Z3(N=>{const k=N.target;[...p.branches].some(F=>F.contains(k))||(o==null||o(N),c==null||c(N),N.defaultPrevented||d==null||d())},x);return q3(N=>{D===p.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&d&&(N.preventDefault(),d()))},x),w.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Eb=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),bb(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Eb)}},[g,x,n,p]),w.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),bb())},[g,p]),w.useEffect(()=>{const N=()=>S({});return document.addEventListener(Pv,N),()=>document.removeEventListener(Pv,N)},[]),l.jsx(Be.div,{...h,ref:C,style:{pointerEvents:j?B?"auto":"none":void 0,...t.style},onFocusCapture:Ue(t.onFocusCapture,$.onFocusCapture),onBlurCapture:Ue(t.onBlurCapture,$.onBlurCapture),onPointerDownCapture:Ue(t.onPointerDownCapture,M.onPointerDownCapture)})});Am.displayName=G3;var Q3="DismissableLayerBranch",X3=w.forwardRef((t,e)=>{const n=w.useContext(P1),r=w.useRef(null),s=at(e,r);return w.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(Be.div,{...t,ref:s})});X3.displayName=Q3;function J3(t,e=globalThis==null?void 0:globalThis.document){const n=zt(t),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const o=d=>{if(d.target&&!r.current){let h=function(){j1(K3,n,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Z3(t,e=globalThis==null?void 0:globalThis.document){const n=zt(t),r=w.useRef(!1);return w.useEffect(()=>{const s=o=>{o.target&&!r.current&&j1(Y3,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bb(){const t=new CustomEvent(Pv);document.dispatchEvent(t)}function j1(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Rv(s,o):s.dispatchEvent(o)}function rx(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var e6="VisuallyHidden",sx=w.forwardRef((t,e)=>l.jsx(Be.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));sx.displayName=e6;var t6=sx,bc="NavigationMenu",[ix,D1,n6]=km(bc),[jv,r6,s6]=km(bc),[ox]=Qs(bc,[n6,s6]),[i6,jr]=ox(bc),[o6,a6]=ox(bc),O1=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:s,defaultValue:o,delayDuration:c=200,skipDelayDuration:d=300,orientation:h="horizontal",dir:p,...g}=t,[v,x]=w.useState(null),S=at(e,P=>x(P)),C=Im(p),b=w.useRef(0),I=w.useRef(0),O=w.useRef(0),[D,j]=w.useState(!0),[B="",M]=Ai({prop:r,onChange:P=>{const F=P!=="",U=d>0;F?(window.clearTimeout(O.current),U&&j(!1)):(window.clearTimeout(O.current),O.current=window.setTimeout(()=>j(!0),d)),s==null||s(P)},defaultProp:o}),$=w.useCallback(()=>{window.clearTimeout(I.current),I.current=window.setTimeout(()=>M(""),150)},[M]),N=w.useCallback(P=>{window.clearTimeout(I.current),M(P)},[M]),k=w.useCallback(P=>{B===P?window.clearTimeout(I.current):b.current=window.setTimeout(()=>{window.clearTimeout(I.current),M(P)},c)},[B,M,c]);return w.useEffect(()=>()=>{window.clearTimeout(b.current),window.clearTimeout(I.current),window.clearTimeout(O.current)},[]),l.jsx(L1,{scope:n,isRootMenu:!0,value:B,dir:C,orientation:h,rootNavigationMenu:v,onTriggerEnter:P=>{window.clearTimeout(b.current),D?k(P):N(P)},onTriggerLeave:()=>{window.clearTimeout(b.current),$()},onContentEnter:()=>window.clearTimeout(I.current),onContentLeave:$,onItemSelect:P=>{M(F=>F===P?"":P)},onItemDismiss:()=>M(""),children:l.jsx(Be.nav,{"aria-label":"Main","data-orientation":h,dir:C,...g,ref:S})})});O1.displayName=bc;var M1="NavigationMenuSub",l6=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:s,defaultValue:o,orientation:c="horizontal",...d}=t,h=jr(M1,n),[p="",g]=Ai({prop:r,onChange:s,defaultProp:o});return l.jsx(L1,{scope:n,isRootMenu:!1,value:p,dir:h.dir,orientation:c,rootNavigationMenu:h.rootNavigationMenu,onTriggerEnter:v=>g(v),onItemSelect:v=>g(v),onItemDismiss:()=>g(""),children:l.jsx(Be.div,{"data-orientation":c,...d,ref:e})})});l6.displayName=M1;var L1=t=>{const{scope:e,isRootMenu:n,rootNavigationMenu:r,dir:s,orientation:o,children:c,value:d,onItemSelect:h,onItemDismiss:p,onTriggerEnter:g,onTriggerLeave:v,onContentEnter:x,onContentLeave:S}=t,[C,b]=w.useState(null),[I,O]=w.useState(new Map),[D,j]=w.useState(null);return l.jsx(i6,{scope:e,isRootMenu:n,rootNavigationMenu:r,value:d,previousValue:rx(d),baseId:zs(),dir:s,orientation:o,viewport:C,onViewportChange:b,indicatorTrack:D,onIndicatorTrackChange:j,onTriggerEnter:zt(g),onTriggerLeave:zt(v),onContentEnter:zt(x),onContentLeave:zt(S),onItemSelect:zt(h),onItemDismiss:zt(p),onViewportContentChange:w.useCallback((B,M)=>{O($=>($.set(B,M),new Map($)))},[]),onViewportContentRemove:w.useCallback(B=>{O(M=>M.has(B)?(M.delete(B),new Map(M)):M)},[]),children:l.jsx(ix.Provider,{scope:e,children:l.jsx(o6,{scope:e,items:I,children:c})})})},V1="NavigationMenuList",F1=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,s=jr(V1,n),o=l.jsx(Be.ul,{"data-orientation":s.orientation,...r,ref:e});return l.jsx(Be.div,{style:{position:"relative"},ref:s.onIndicatorTrackChange,children:l.jsx(ix.Slot,{scope:n,children:s.isRootMenu?l.jsx(K1,{asChild:!0,children:o}):o})})});F1.displayName=V1;var U1="NavigationMenuItem",[c6,z1]=ox(U1),B1=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,...s}=t,o=zs(),c=r||o||"LEGACY_REACT_AUTO_VALUE",d=w.useRef(null),h=w.useRef(null),p=w.useRef(null),g=w.useRef(()=>{}),v=w.useRef(!1),x=w.useCallback((C="start")=>{if(d.current){g.current();const b=Ov(d.current);b.length&&cx(C==="start"?b:b.reverse())}},[]),S=w.useCallback(()=>{if(d.current){const C=Ov(d.current);C.length&&(g.current=v6(C))}},[]);return l.jsx(c6,{scope:n,value:c,triggerRef:h,contentRef:d,focusProxyRef:p,wasEscapeCloseRef:v,onEntryKeyDown:x,onFocusProxyEnter:x,onRootContentClose:S,onContentFocusOutside:S,children:l.jsx(Be.li,{...s,ref:e})})});B1.displayName=U1;var Dv="NavigationMenuTrigger",W1=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,disabled:r,...s}=t,o=jr(Dv,t.__scopeNavigationMenu),c=z1(Dv,t.__scopeNavigationMenu),d=w.useRef(null),h=at(d,c.triggerRef,e),p=Q1(o.baseId,c.value),g=X1(o.baseId,c.value),v=w.useRef(!1),x=w.useRef(!1),S=c.value===o.value;return l.jsxs(l.Fragment,{children:[l.jsx(ix.ItemSlot,{scope:n,value:c.value,children:l.jsx(Y1,{asChild:!0,children:l.jsx(Be.button,{id:p,disabled:r,"data-disabled":r?"":void 0,"data-state":ux(S),"aria-expanded":S,"aria-controls":g,...s,ref:h,onPointerEnter:Ue(t.onPointerEnter,()=>{x.current=!1,c.wasEscapeCloseRef.current=!1}),onPointerMove:Ue(t.onPointerMove,zf(()=>{r||x.current||c.wasEscapeCloseRef.current||v.current||(o.onTriggerEnter(c.value),v.current=!0)})),onPointerLeave:Ue(t.onPointerLeave,zf(()=>{r||(o.onTriggerLeave(),v.current=!1)})),onClick:Ue(t.onClick,()=>{o.onItemSelect(c.value),x.current=S}),onKeyDown:Ue(t.onKeyDown,C=>{const I={horizontal:"ArrowDown",vertical:o.dir==="rtl"?"ArrowLeft":"ArrowRight"}[o.orientation];S&&C.key===I&&(c.onEntryKeyDown(),C.preventDefault())})})})}),S&&l.jsxs(l.Fragment,{children:[l.jsx(t6,{"aria-hidden":!0,tabIndex:0,ref:c.focusProxyRef,onFocus:C=>{const b=c.contentRef.current,I=C.relatedTarget,O=I===d.current,D=b==null?void 0:b.contains(I);(O||!D)&&c.onFocusProxyEnter(O?"start":"end")}}),o.viewport&&l.jsx("span",{"aria-owns":g})]})]})});W1.displayName=Dv;var u6="NavigationMenuLink",Sb="navigationMenu.linkSelect",$1=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,active:r,onSelect:s,...o}=t;return l.jsx(Y1,{asChild:!0,children:l.jsx(Be.a,{"data-active":r?"":void 0,"aria-current":r?"page":void 0,...o,ref:e,onClick:Ue(t.onClick,c=>{const d=c.target,h=new CustomEvent(Sb,{bubbles:!0,cancelable:!0});if(d.addEventListener(Sb,p=>s==null?void 0:s(p),{once:!0}),Rv(d,h),!h.defaultPrevented&&!c.metaKey){const p=new CustomEvent(df,{bubbles:!0,cancelable:!0});Rv(d,p)}},{checkForDefaultPrevented:!1})})})});$1.displayName=u6;var ax="NavigationMenuIndicator",d6=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=jr(ax,t.__scopeNavigationMenu),o=!!s.value;return s.indicatorTrack?VS.createPortal(l.jsx(vr,{present:n||o,children:l.jsx(h6,{...r,ref:e})}),s.indicatorTrack):null});d6.displayName=ax;var h6=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,s=jr(ax,n),o=D1(n),[c,d]=w.useState(null),[h,p]=w.useState(null),g=s.orientation==="horizontal",v=!!s.value;w.useEffect(()=>{var b;const C=(b=o().find(I=>I.value===s.value))==null?void 0:b.ref.current;C&&d(C)},[o,s.value]);const x=()=>{c&&p({size:g?c.offsetWidth:c.offsetHeight,offset:g?c.offsetLeft:c.offsetTop})};return Mv(c,x),Mv(s.indicatorTrack,x),h?l.jsx(Be.div,{"aria-hidden":!0,"data-state":v?"visible":"hidden","data-orientation":s.orientation,...r,ref:e,style:{position:"absolute",...g?{left:0,width:h.size+"px",transform:`translateX(${h.offset}px)`}:{top:0,height:h.size+"px",transform:`translateY(${h.offset}px)`},...r.style}}):null}),ic="NavigationMenuContent",H1=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=jr(ic,t.__scopeNavigationMenu),o=z1(ic,t.__scopeNavigationMenu),c=at(o.contentRef,e),d=o.value===s.value,h={value:o.value,triggerRef:o.triggerRef,focusProxyRef:o.focusProxyRef,wasEscapeCloseRef:o.wasEscapeCloseRef,onContentFocusOutside:o.onContentFocusOutside,onRootContentClose:o.onRootContentClose,...r};return s.viewport?l.jsx(f6,{forceMount:n,...h,ref:c}):l.jsx(vr,{present:n||d,children:l.jsx(q1,{"data-state":ux(d),...h,ref:c,onPointerEnter:Ue(t.onPointerEnter,s.onContentEnter),onPointerLeave:Ue(t.onPointerLeave,zf(s.onContentLeave)),style:{pointerEvents:!d&&s.isRootMenu?"none":void 0,...h.style}})})});H1.displayName=ic;var f6=w.forwardRef((t,e)=>{const n=jr(ic,t.__scopeNavigationMenu),{onViewportContentChange:r,onViewportContentRemove:s}=n;return tn(()=>{r(t.value,{ref:e,...t})},[t,e,r]),tn(()=>()=>s(t.value),[t.value,s]),null}),df="navigationMenu.rootContentDismiss",q1=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,triggerRef:s,focusProxyRef:o,wasEscapeCloseRef:c,onRootContentClose:d,onContentFocusOutside:h,...p}=t,g=jr(ic,n),v=w.useRef(null),x=at(v,e),S=Q1(g.baseId,r),C=X1(g.baseId,r),b=D1(n),I=w.useRef(null),{onItemDismiss:O}=g;w.useEffect(()=>{const j=v.current;if(g.isRootMenu&&j){const B=()=>{var M;O(),d(),j.contains(document.activeElement)&&((M=s.current)==null||M.focus())};return j.addEventListener(df,B),()=>j.removeEventListener(df,B)}},[g.isRootMenu,t.value,s,O,d]);const D=w.useMemo(()=>{const B=b().map(F=>F.value);g.dir==="rtl"&&B.reverse();const M=B.indexOf(g.value),$=B.indexOf(g.previousValue),N=r===g.value,k=$===B.indexOf(r);if(!N&&!k)return I.current;const P=(()=>{if(M!==$){if(N&&$!==-1)return M>$?"from-end":"from-start";if(k&&M!==-1)return M>$?"to-start":"to-end"}return null})();return I.current=P,P},[g.previousValue,g.value,g.dir,b,r]);return l.jsx(K1,{asChild:!0,children:l.jsx(Am,{id:C,"aria-labelledby":S,"data-motion":D,"data-orientation":g.orientation,...p,ref:x,disableOutsidePointerEvents:!1,onDismiss:()=>{var B;const j=new Event(df,{bubbles:!0,cancelable:!0});(B=v.current)==null||B.dispatchEvent(j)},onFocusOutside:Ue(t.onFocusOutside,j=>{var M;h();const B=j.target;(M=g.rootNavigationMenu)!=null&&M.contains(B)&&j.preventDefault()}),onPointerDownOutside:Ue(t.onPointerDownOutside,j=>{var N;const B=j.target,M=b().some(k=>{var P;return(P=k.ref.current)==null?void 0:P.contains(B)}),$=g.isRootMenu&&((N=g.viewport)==null?void 0:N.contains(B));(M||$||!g.isRootMenu)&&j.preventDefault()}),onKeyDown:Ue(t.onKeyDown,j=>{var $;const B=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!B){const N=Ov(j.currentTarget),k=document.activeElement,P=N.findIndex(L=>L===k),U=j.shiftKey?N.slice(0,P).reverse():N.slice(P+1,N.length);cx(U)?j.preventDefault():($=o.current)==null||$.focus()}}),onEscapeKeyDown:Ue(t.onEscapeKeyDown,j=>{c.current=!0})})})}),lx="NavigationMenuViewport",G1=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=!!jr(lx,t.__scopeNavigationMenu).value;return l.jsx(vr,{present:n||o,children:l.jsx(m6,{...r,ref:e})})});G1.displayName=lx;var m6=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,children:r,...s}=t,o=jr(lx,n),c=at(e,o.onViewportChange),d=a6(ic,t.__scopeNavigationMenu),[h,p]=w.useState(null),[g,v]=w.useState(null),x=h?(h==null?void 0:h.width)+"px":void 0,S=h?(h==null?void 0:h.height)+"px":void 0,C=!!o.value,b=C?o.value:o.previousValue;return Mv(g,()=>{g&&p({width:g.offsetWidth,height:g.offsetHeight})}),l.jsx(Be.div,{"data-state":ux(C),"data-orientation":o.orientation,...s,ref:c,style:{pointerEvents:!C&&o.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":x,"--radix-navigation-menu-viewport-height":S,...s.style},onPointerEnter:Ue(t.onPointerEnter,o.onContentEnter),onPointerLeave:Ue(t.onPointerLeave,zf(o.onContentLeave)),children:Array.from(d.items).map(([O,{ref:D,forceMount:j,...B}])=>{const M=b===O;return l.jsx(vr,{present:j||M,children:l.jsx(q1,{...B,ref:tx(D,$=>{M&&$&&v($)})})},O)})})}),p6="FocusGroup",K1=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,s=jr(p6,n);return l.jsx(jv.Provider,{scope:n,children:l.jsx(jv.Slot,{scope:n,children:l.jsx(Be.div,{dir:s.dir,...r,ref:e})})})}),Cb=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],g6="FocusGroupItem",Y1=w.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,s=r6(n),o=jr(g6,n);return l.jsx(jv.ItemSlot,{scope:n,children:l.jsx(Be.button,{...r,ref:e,onKeyDown:Ue(t.onKeyDown,c=>{if(["Home","End",...Cb].includes(c.key)){let h=s().map(v=>v.ref.current);if([o.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(c.key)&&h.reverse(),Cb.includes(c.key)){const v=h.indexOf(c.currentTarget);h=h.slice(v+1)}setTimeout(()=>cx(h)),c.preventDefault()}})})})});function Ov(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function cx(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}function v6(t){return t.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{t.forEach(e=>{const n=e.dataset.tabindex;e.setAttribute("tabindex",n)})}}function Mv(t,e){const n=zt(e);tn(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}function ux(t){return t?"open":"closed"}function Q1(t,e){return`${t}-trigger-${e}`}function X1(t,e){return`${t}-content-${e}`}function zf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var y6=O1,x6=F1,w6=B1,_6=W1,E6=$1,b6=H1,S6=G1;function C6({className:t,children:e,viewport:n=!0,...r}){return l.jsxs(y6,{"data-slot":"navigation-menu","data-viewport":n,className:ce("group/navigation-menu relative flex max-w-max flex-1 items-center justify-center",t),...r,children:[e,n&&l.jsx(A6,{})]})}function T6({className:t,...e}){return l.jsx(x6,{"data-slot":"navigation-menu-list",className:ce("group flex flex-1 list-none items-center justify-center gap-1",t),...e})}function Tb({className:t,...e}){return l.jsx(w6,{"data-slot":"navigation-menu-item",className:ce("relative",t),...e})}const N6=Nm("group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=open]:hover:bg-accent data-[state=open]:text-accent-foreground data-[state=open]:focus:bg-accent data-[state=open]:bg-accent/50 focus-visible:ring-ring/50 outline-none transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1");function I6({className:t,children:e,...n}){return l.jsxs(_6,{"data-slot":"navigation-menu-trigger",className:ce(N6(),"group",t),...n,children:[e," ",l.jsx(wc,{className:"relative top-[1px] ml-1 size-3 transition duration-300 group-data-[state=open]:rotate-180","aria-hidden":"true"})]})}function k6({className:t,...e}){return l.jsx(b6,{"data-slot":"navigation-menu-content",className:ce("data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 top-0 left-0 w-full p-2 pr-2.5 md:absolute md:w-auto","group-data-[viewport=false]/navigation-menu:bg-popover group-data-[viewport=false]/navigation-menu:text-popover-foreground group-data-[viewport=false]/navigation-menu:data-[state=open]:animate-in group-data-[viewport=false]/navigation-menu:data-[state=closed]:animate-out group-data-[viewport=false]/navigation-menu:data-[state=closed]:zoom-out-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:zoom-in-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:fade-in-0 group-data-[viewport=false]/navigation-menu:data-[state=closed]:fade-out-0 group-data-[viewport=false]/navigation-menu:top-full group-data-[viewport=false]/navigation-menu:mt-1.5 group-data-[viewport=false]/navigation-menu:overflow-hidden group-data-[viewport=false]/navigation-menu:rounded-md group-data-[viewport=false]/navigation-menu:border group-data-[viewport=false]/navigation-menu:shadow group-data-[viewport=false]/navigation-menu:duration-200 **:data-[slot=navigation-menu-link]:focus:ring-0 **:data-[slot=navigation-menu-link]:focus:outline-none",t),...e})}function A6({className:t,...e}){return l.jsx("div",{className:"absolute top-full left-0 isolate z-50 flex justify-center",children:l.jsx(S6,{"data-slot":"navigation-menu-viewport",className:ce("origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]",t),...e})})}function Nb({className:t,...e}){return l.jsx(E6,{"data-slot":"navigation-menu-link",className:ce("data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus-visible:ring-ring/50 [&_svg:not([class*='text-'])]:text-muted-foreground flex flex-col gap-1 rounded-sm p-2 text-sm transition-all outline-none focus-visible:ring-[3px] focus-visible:outline-1 [&_svg:not([class*='size-'])]:size-4",t),...e})}var Ug="focusScope.autoFocusOnMount",zg="focusScope.autoFocusOnUnmount",Ib={bubbles:!1,cancelable:!0},R6="FocusScope",dx=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...c}=t,[d,h]=w.useState(null),p=zt(s),g=zt(o),v=w.useRef(null),x=at(e,b=>h(b)),S=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let b=function(j){if(S.paused||!d)return;const B=j.target;d.contains(B)?v.current=B:uo(v.current,{select:!0})},I=function(j){if(S.paused||!d)return;const B=j.relatedTarget;B!==null&&(d.contains(B)||uo(v.current,{select:!0}))},O=function(j){if(document.activeElement===document.body)for(const M of j)M.removedNodes.length>0&&uo(d)};document.addEventListener("focusin",b),document.addEventListener("focusout",I);const D=new MutationObserver(O);return d&&D.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",I),D.disconnect()}}},[r,d,S.paused]),w.useEffect(()=>{if(d){Ab.add(S);const b=document.activeElement;if(!d.contains(b)){const O=new CustomEvent(Ug,Ib);d.addEventListener(Ug,p),d.dispatchEvent(O),O.defaultPrevented||(P6(L6(J1(d)),{select:!0}),document.activeElement===b&&uo(d))}return()=>{d.removeEventListener(Ug,p),setTimeout(()=>{const O=new CustomEvent(zg,Ib);d.addEventListener(zg,g),d.dispatchEvent(O),O.defaultPrevented||uo(b??document.body,{select:!0}),d.removeEventListener(zg,g),Ab.remove(S)},0)}}},[d,p,g,S]);const C=w.useCallback(b=>{if(!n&&!r||S.paused)return;const I=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,O=document.activeElement;if(I&&O){const D=b.currentTarget,[j,B]=j6(D);j&&B?!b.shiftKey&&O===B?(b.preventDefault(),n&&uo(j,{select:!0})):b.shiftKey&&O===j&&(b.preventDefault(),n&&uo(B,{select:!0})):O===D&&b.preventDefault()}},[n,r,S.paused]);return l.jsx(Be.div,{tabIndex:-1,...c,ref:x,onKeyDown:C})});dx.displayName=R6;function P6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(uo(r,{select:e}),document.activeElement!==n)return}function j6(t){const e=J1(t),n=kb(e,t),r=kb(e.reverse(),t);return[n,r]}function J1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kb(t,e){for(const n of t)if(!D6(n,{upTo:e}))return n}function D6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function O6(t){return t instanceof HTMLInputElement&&"select"in t}function uo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&O6(t)&&e&&t.select()}}var Ab=M6();function M6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Rb(t,e),t.unshift(e)},remove(e){var n;t=Rb(t,e),(n=t[0])==null||n.resume()}}}function Rb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function L6(t){return t.filter(e=>e.tagName!=="A")}var V6="Portal",hx=w.forwardRef((t,e)=>{var d;const{container:n,...r}=t,[s,o]=w.useState(!1);tn(()=>o(!0),[]);const c=n||s&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?VS.createPortal(l.jsx(Be.div,{...r,ref:e}),c):null});hx.displayName=V6;var Bg=0;function Z1(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Pb()),document.body.insertAdjacentElement("beforeend",t[1]??Pb()),Bg++,()=>{Bg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Bg--}},[])}function Pb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var As=function(){return As=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},As.apply(this,arguments)};function eN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function F6(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var hf="right-scroll-bar-position",ff="width-before-scroll-bar",U6="with-scroll-bars-hidden",z6="--removed-body-scroll-bar-size";function Wg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function B6(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var W6=typeof window<"u"?w.useLayoutEffect:w.useEffect,jb=new WeakMap;function $6(t,e){var n=B6(null,function(r){return t.forEach(function(s){return Wg(s,r)})});return W6(function(){var r=jb.get(n);if(r){var s=new Set(r),o=new Set(t),c=n.current;s.forEach(function(d){o.has(d)||Wg(d,null)}),o.forEach(function(d){s.has(d)||Wg(d,c)})}jb.set(n,t)},[t]),n}function H6(t){return t}function q6(t,e){e===void 0&&(e=H6);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var c=e(o,r);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(o){for(r=!0;n.length;){var c=n;n=[],c.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){r=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(o),c=n}var h=function(){var g=c;c=[],g.forEach(o)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(g){c.push(g),p()},filter:function(g){return c=c.filter(g),n}}}};return s}function G6(t){t===void 0&&(t={});var e=q6(null);return e.options=As({async:!0,ssr:!1},t),e}var tN=function(t){var e=t.sideCar,n=eN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,As({},n))};tN.isSideCarExport=!0;function K6(t,e){return t.useMedium(e),tN}var nN=G6(),$g=function(){},Rm=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:$g,onWheelCapture:$g,onTouchMoveCapture:$g}),s=r[0],o=r[1],c=t.forwardProps,d=t.children,h=t.className,p=t.removeScrollBar,g=t.enabled,v=t.shards,x=t.sideCar,S=t.noRelative,C=t.noIsolation,b=t.inert,I=t.allowPinchZoom,O=t.as,D=O===void 0?"div":O,j=t.gapMode,B=eN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=x,$=$6([n,e]),N=As(As({},B),s);return w.createElement(w.Fragment,null,g&&w.createElement(M,{sideCar:nN,removeScrollBar:p,shards:v,noRelative:S,noIsolation:C,inert:b,setCallbacks:o,allowPinchZoom:!!I,lockRef:n,gapMode:j}),c?w.cloneElement(w.Children.only(d),As(As({},N),{ref:$})):w.createElement(D,As({},N,{className:h,ref:$}),d))});Rm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rm.classNames={fullWidth:ff,zeroRight:hf};var Y6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Q6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Y6();return e&&t.setAttribute("nonce",e),t}function X6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function J6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Z6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Q6())&&(X6(e,n),J6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},e5=function(){var t=Z6();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},rN=function(){var t=e5(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},t5={left:0,top:0,right:0,gap:0},Hg=function(t){return parseInt(t||"",10)||0},n5=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Hg(n),Hg(r),Hg(s)]},r5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return t5;var e=n5(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},s5=rN(),ql="data-scroll-locked",i5=function(t,e,n,r){var s=t.left,o=t.top,c=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(U6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(ql,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hf,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(ff,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(hf," .").concat(hf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ff," .").concat(ff,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ql,`] {
    `).concat(z6,": ").concat(d,`px;
  }
`)},Db=function(){var t=parseInt(document.body.getAttribute(ql)||"0",10);return isFinite(t)?t:0},o5=function(){w.useEffect(function(){return document.body.setAttribute(ql,(Db()+1).toString()),function(){var t=Db()-1;t<=0?document.body.removeAttribute(ql):document.body.setAttribute(ql,t.toString())}},[])},a5=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;o5();var o=w.useMemo(function(){return r5(s)},[s]);return w.createElement(s5,{styles:i5(o,!e,s,n?"":"!important")})},Lv=!1;if(typeof window<"u")try{var Hh=Object.defineProperty({},"passive",{get:function(){return Lv=!0,!0}});window.addEventListener("test",Hh,Hh),window.removeEventListener("test",Hh,Hh)}catch{Lv=!1}var Rl=Lv?{passive:!1}:!1,l5=function(t){return t.tagName==="TEXTAREA"},sN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!l5(t)&&n[e]==="visible")},c5=function(t){return sN(t,"overflowY")},u5=function(t){return sN(t,"overflowX")},Ob=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=iN(t,r);if(s){var o=oN(t,r),c=o[1],d=o[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},d5=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},h5=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},iN=function(t,e){return t==="v"?c5(e):u5(e)},oN=function(t,e){return t==="v"?d5(e):h5(e)},f5=function(t,e){return t==="h"&&e==="rtl"?-1:1},m5=function(t,e,n,r,s){var o=f5(t,window.getComputedStyle(e).direction),c=o*r,d=n.target,h=e.contains(d),p=!1,g=c>0,v=0,x=0;do{if(!d)break;var S=oN(t,d),C=S[0],b=S[1],I=S[2],O=b-I-o*C;(C||O)&&iN(t,d)&&(v+=O,x+=C);var D=d.parentNode;d=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(g&&Math.abs(v)<1||!g&&Math.abs(x)<1)&&(p=!0),p},qh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Mb=function(t){return[t.deltaX,t.deltaY]},Lb=function(t){return t&&"current"in t?t.current:t},p5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},g5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},v5=0,Pl=[];function y5(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),s=w.useState(v5++)[0],o=w.useState(rN)[0],c=w.useRef(t);w.useEffect(function(){c.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var b=F6([t.lockRef.current],(t.shards||[]).map(Lb),!0).filter(Boolean);return b.forEach(function(I){return I.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var d=w.useCallback(function(b,I){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!c.current.allowPinchZoom;var O=qh(b),D=n.current,j="deltaX"in b?b.deltaX:D[0]-O[0],B="deltaY"in b?b.deltaY:D[1]-O[1],M,$=b.target,N=Math.abs(j)>Math.abs(B)?"h":"v";if("touches"in b&&N==="h"&&$.type==="range")return!1;var k=window.getSelection(),P=k&&k.anchorNode,F=P?P===$||P.contains($):!1;if(F)return!1;var U=Ob(N,$);if(!U)return!0;if(U?M=N:(M=N==="v"?"h":"v",U=Ob(N,$)),!U)return!1;if(!r.current&&"changedTouches"in b&&(j||B)&&(r.current=M),!M)return!0;var L=r.current||M;return m5(L,I,b,L==="h"?j:B)},[]),h=w.useCallback(function(b){var I=b;if(!(!Pl.length||Pl[Pl.length-1]!==o)){var O="deltaY"in I?Mb(I):qh(I),D=e.current.filter(function(M){return M.name===I.type&&(M.target===I.target||I.target===M.shadowParent)&&p5(M.delta,O)})[0];if(D&&D.should){I.cancelable&&I.preventDefault();return}if(!D){var j=(c.current.shards||[]).map(Lb).filter(Boolean).filter(function(M){return M.contains(I.target)}),B=j.length>0?d(I,j[0]):!c.current.noIsolation;B&&I.cancelable&&I.preventDefault()}}},[]),p=w.useCallback(function(b,I,O,D){var j={name:b,delta:I,target:O,should:D,shadowParent:x5(O)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(B){return B!==j})},1)},[]),g=w.useCallback(function(b){n.current=qh(b),r.current=void 0},[]),v=w.useCallback(function(b){p(b.type,Mb(b),b.target,d(b,t.lockRef.current))},[]),x=w.useCallback(function(b){p(b.type,qh(b),b.target,d(b,t.lockRef.current))},[]);w.useEffect(function(){return Pl.push(o),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:x}),document.addEventListener("wheel",h,Rl),document.addEventListener("touchmove",h,Rl),document.addEventListener("touchstart",g,Rl),function(){Pl=Pl.filter(function(b){return b!==o}),document.removeEventListener("wheel",h,Rl),document.removeEventListener("touchmove",h,Rl),document.removeEventListener("touchstart",g,Rl)}},[]);var S=t.removeScrollBar,C=t.inert;return w.createElement(w.Fragment,null,C?w.createElement(o,{styles:g5(s)}):null,S?w.createElement(a5,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function x5(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const w5=K6(nN,y5);var fx=w.forwardRef(function(t,e){return w.createElement(Rm,As({},t,{ref:e,sideCar:w5}))});fx.classNames=Rm.classNames;var _5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},jl=new WeakMap,Gh=new WeakMap,Kh={},qg=0,aN=function(t){return t&&(t.host||aN(t.parentNode))},E5=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=aN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},b5=function(t,e,n,r){var s=E5(e,Array.isArray(t)?t:[t]);Kh[n]||(Kh[n]=new WeakMap);var o=Kh[n],c=[],d=new Set,h=new Set(s),p=function(v){!v||d.has(v)||(d.add(v),p(v.parentNode))};s.forEach(p);var g=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(x){if(d.has(x))g(x);else try{var S=x.getAttribute(r),C=S!==null&&S!=="false",b=(jl.get(x)||0)+1,I=(o.get(x)||0)+1;jl.set(x,b),o.set(x,I),c.push(x),b===1&&C&&Gh.set(x,!0),I===1&&x.setAttribute(n,"true"),C||x.setAttribute(r,"true")}catch(O){console.error("aria-hidden: cannot operate on ",x,O)}})};return g(e),d.clear(),qg++,function(){c.forEach(function(v){var x=jl.get(v)-1,S=o.get(v)-1;jl.set(v,x),o.set(v,S),x||(Gh.has(v)||v.removeAttribute(r),Gh.delete(v)),S||v.removeAttribute(n)}),qg--,qg||(jl=new WeakMap,jl=new WeakMap,Gh=new WeakMap,Kh={})}},lN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=_5(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),b5(r,s,n,"aria-hidden")):function(){return null}},mx="Dialog",[cN,uN]=Qs(mx),[S5,is]=cN(mx),dN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:c=!0}=t,d=w.useRef(null),h=w.useRef(null),[p=!1,g]=Ai({prop:r,defaultProp:s,onChange:o});return l.jsx(S5,{scope:e,triggerRef:d,contentRef:h,contentId:zs(),titleId:zs(),descriptionId:zs(),open:p,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(v=>!v),[g]),modal:c,children:n})};dN.displayName=mx;var hN="DialogTrigger",fN=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=is(hN,n),o=at(e,s.triggerRef);return l.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":vx(s.open),...r,ref:o,onClick:Ue(t.onClick,s.onOpenToggle)})});fN.displayName=hN;var px="DialogPortal",[C5,mN]=cN(px,{forceMount:void 0}),pN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=is(px,e);return l.jsx(C5,{scope:e,forceMount:n,children:w.Children.map(r,c=>l.jsx(vr,{present:n||o.open,children:l.jsx(hx,{asChild:!0,container:s,children:c})}))})};pN.displayName=px;var Bf="DialogOverlay",gN=w.forwardRef((t,e)=>{const n=mN(Bf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=is(Bf,t.__scopeDialog);return o.modal?l.jsx(vr,{present:r||o.open,children:l.jsx(T5,{...s,ref:e})}):null});gN.displayName=Bf;var T5=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=is(Bf,n);return l.jsx(fx,{as:Ao,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(Be.div,{"data-state":vx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Oa="DialogContent",vN=w.forwardRef((t,e)=>{const n=mN(Oa,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=is(Oa,t.__scopeDialog);return l.jsx(vr,{present:r||o.open,children:o.modal?l.jsx(N5,{...s,ref:e}):l.jsx(I5,{...s,ref:e})})});vN.displayName=Oa;var N5=w.forwardRef((t,e)=>{const n=is(Oa,t.__scopeDialog),r=w.useRef(null),s=at(e,n.contentRef,r);return w.useEffect(()=>{const o=r.current;if(o)return lN(o)},[]),l.jsx(yN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(t.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ue(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:Ue(t.onFocusOutside,o=>o.preventDefault())})}),I5=w.forwardRef((t,e)=>{const n=is(Oa,t.__scopeDialog),r=w.useRef(!1),s=w.useRef(!1);return l.jsx(yN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var h,p;(h=t.onInteractOutside)==null||h.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=o.target;((p=n.triggerRef.current)==null?void 0:p.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),yN=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...c}=t,d=is(Oa,n),h=w.useRef(null),p=at(e,h);return Z1(),l.jsxs(l.Fragment,{children:[l.jsx(dx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(Am,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":vx(d.open),...c,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(A5,{titleId:d.titleId}),l.jsx(P5,{contentRef:h,descriptionId:d.descriptionId})]})]})}),gx="DialogTitle",xN=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=is(gx,n);return l.jsx(Be.h2,{id:s.titleId,...r,ref:e})});xN.displayName=gx;var wN="DialogDescription",_N=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=is(wN,n);return l.jsx(Be.p,{id:s.descriptionId,...r,ref:e})});_N.displayName=wN;var EN="DialogClose",bN=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=is(EN,n);return l.jsx(Be.button,{type:"button",...r,ref:e,onClick:Ue(t.onClick,()=>s.onOpenChange(!1))})});bN.displayName=EN;function vx(t){return t?"open":"closed"}var SN="DialogTitleWarning",[k5,CN]=M3(SN,{contentName:Oa,titleName:gx,docsSlug:"dialog"}),A5=({titleId:t})=>{const e=CN(SN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},R5="DialogDescriptionWarning",P5=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${CN(R5).contentName}}.`;return w.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},yx=dN,j5=fN,xx=pN,wx=gN,_x=vN,Ex=xN,TN=_N,Pm=bN;function D5({...t}){return l.jsx(yx,{"data-slot":"sheet",...t})}function O5({...t}){return l.jsx(xx,{"data-slot":"sheet-portal",...t})}function M5({className:t,...e}){return l.jsx(wx,{"data-slot":"sheet-overlay",className:ce("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function L5({className:t,children:e,side:n="right",...r}){return l.jsxs(O5,{children:[l.jsx(M5,{}),l.jsxs(_x,{"data-slot":"sheet-content",className:ce("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...r,children:[e,l.jsxs(Pm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[l.jsx(md,{className:"size-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function V5({className:t,...e}){return l.jsx("div",{"data-slot":"sheet-header",className:ce("flex flex-col gap-1.5 p-4",t),...e})}function F5({className:t,...e}){return l.jsx("div",{"data-slot":"sheet-footer",className:ce("mt-auto flex flex-col gap-2 p-4",t),...e})}function U5({className:t,...e}){return l.jsx(Ex,{"data-slot":"sheet-title",className:ce("text-foreground font-semibold",t),...e})}const z5="/";function B5({open:t,onOpenChange:e}){const{items:n,removeFromCart:r,updateQuantity:s,itemCount:o,totalFormatted:c}=Yy();return l.jsx(D5,{open:t,onOpenChange:e,children:l.jsxs(L5,{side:"right",className:"flex flex-col w-full sm:max-w-md",children:[l.jsx(V5,{children:l.jsxs(U5,{className:"flex items-center gap-2",children:[l.jsx(Zy,{className:"h-5 w-5"}),"Carrito de compras",o>0&&l.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",o," ",o===1?"producto":"productos",")"]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:n.length===0?l.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Tu carrito est vaco. Agreg productos desde la tienda."}):l.jsx("ul",{className:"space-y-4",children:n.map(({product:d,quantity:h})=>l.jsxs("li",{className:"flex gap-3 p-3 rounded-lg border bg-muted/30",children:[l.jsx("div",{className:"w-16 h-16 shrink-0 rounded overflow-hidden bg-muted",children:l.jsx("img",{src:d.image||`${z5}placeholder.svg`,alt:d.name,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-medium truncate",children:d.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:d.price}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsxs("div",{className:"flex items-center border rounded-md",children:[l.jsx(he,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>s(d.id,h-1),children:l.jsx(FF,{className:"h-3 w-3"})}),l.jsx("span",{className:"px-2 text-sm w-8 text-center font-mono",children:h}),l.jsx(he,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>s(d.id,h+1),children:l.jsx(pn,{className:"h-3 w-3"})})]}),l.jsx(he,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>r(d.id),children:l.jsx(Ys,{className:"h-3 w-3"})})]})]})]},d.id))})}),n.length>0&&l.jsxs(F5,{className:"flex flex-col gap-4 border-t px-6 pt-6 pb-6 mt-auto shrink-0",children:[l.jsxs("div",{className:"flex justify-between items-center text-lg font-medium w-full",children:[l.jsx("span",{children:"Total"}),l.jsx("span",{className:"text-primary",children:c})]}),l.jsx(he,{className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",onClick:()=>{alert("Procesando compra...")},children:"Comprar"})]})]})})}const Vb={nosotros:{label:"Nosotros",items:[{label:"Historia",href:"#historia",description:"Conoc nuestra historia"},{label:"El Espacio",href:"#espacio",description:"Descubr nuestras instalaciones"},{label:"Equipo",href:"#equipo",description:"Las personas detrs de Casa Ramayon"}]},programacion:{label:"Programacin",items:[{label:"Prximos Eventos",href:"#events",description:"Agenda de eventos y entradas"},{label:"Talleres y Formacin",href:"#talleres",description:"Cursos y workshops"},{label:"Visitas Guiadas",href:"#visitas",description:"Programa 'Visit la casa'"}]},tienda:{label:"Tienda",items:[{label:"Obras de Arte",href:"#shop",description:"Catlogo de obras en venta"},{label:"Tienda de Objetos",href:"#objetos",description:"Merch, yerbas, libros y vinos"}]},comunidad:{label:"Comunidad",items:[{label:"Hacete Amigo",href:"#amigo",description:"Membresas y socios"},{label:"Patrocinadores",href:"#sponsors",description:"Apoyos y colaboradores"}]}};function W5(){const[t,e]=w.useState(!1),[n,r]=w.useState(null),{itemCount:s,cartOpen:o,setCartOpen:c}=Yy(),d=h=>{r(n===h?null:h)};return l.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border",children:l.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[l.jsxs("div",{className:"flex items-center justify-between h-20",children:[l.jsxs(js,{to:"/",className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-serif font-medium text-lg",children:"CR"})}),l.jsx("span",{className:"text-xl lg:text-2xl font-serif italic tracking-wide text-foreground",children:"Casa Ramayon"})]}),l.jsx(C6,{className:"hidden lg:flex",children:l.jsxs(T6,{children:[Object.entries(Vb).map(([h,p])=>l.jsxs(Tb,{children:[l.jsx(I6,{className:"bg-transparent",children:p.label}),l.jsx(k6,{children:l.jsx("ul",{className:"grid w-[300px] gap-1 p-2",children:p.items.map(g=>l.jsx("li",{children:l.jsx(Nb,{asChild:!0,children:l.jsxs("a",{href:g.href,className:ce("block select-none rounded-md p-3 leading-none no-underline outline-none transition-colors","hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground"),children:[l.jsx("div",{className:"text-sm font-medium leading-none",children:g.label}),l.jsx("p",{className:"line-clamp-2 text-xs leading-snug text-muted-foreground mt-1",children:g.description})]})})},g.href))})})]},h)),l.jsx(Tb,{children:l.jsx(Nb,{href:"#contacto",className:ce("group inline-flex h-10 w-max items-center justify-center rounded-md bg-transparent px-4 py-2 text-sm font-medium transition-colors","hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground"),children:"Contacto"})})]})}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(he,{variant:"ghost",size:"icon",className:"relative",onClick:()=>c(!0),"aria-label":`Carrito de compras${s>0?` (${s} productos)`:""}`,children:[l.jsx(Zy,{className:"h-5 w-5"}),s>0&&l.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[10px] font-medium text-primary-foreground",children:s>99?"99+":s})]}),l.jsx(he,{className:"hidden md:inline-flex bg-primary text-primary-foreground hover:bg-primary/90 gap-2",asChild:!0,children:l.jsxs("a",{href:"#amigo",children:[l.jsx(Iv,{className:"h-4 w-4"}),"Hacete Amigo"]})}),l.jsx(he,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>e(!t),children:t?l.jsx(md,{className:"h-6 w-6"}):l.jsx(g1,{className:"h-6 w-6"})})]})]}),t&&l.jsxs("nav",{className:"lg:hidden py-4 space-y-1 border-t border-border max-h-[calc(100vh-5rem)] overflow-y-auto",children:[Object.entries(Vb).map(([h,p])=>l.jsxs("div",{className:"border-b border-border/50 last:border-0",children:[l.jsxs("button",{onClick:()=>d(h),className:"flex items-center justify-between w-full py-3 text-left text-base font-medium hover:text-accent transition-colors",children:[p.label,l.jsx(wc,{className:ce("h-4 w-4 transition-transform",n===h&&"rotate-180")})]}),n===h&&l.jsx("div",{className:"pb-3 pl-4 space-y-2",children:p.items.map(g=>l.jsx("a",{href:g.href,className:"block py-2 text-sm text-muted-foreground hover:text-foreground transition-colors",onClick:()=>e(!1),children:g.label},g.href))})]},h)),l.jsx("a",{href:"#contacto",className:"block py-3 text-base font-medium hover:text-accent transition-colors",onClick:()=>e(!1),children:"Contacto"}),l.jsx("div",{className:"pt-4",children:l.jsx(he,{className:"w-full bg-primary text-primary-foreground hover:bg-primary/90 gap-2",onClick:()=>e(!1),asChild:!0,children:l.jsxs("a",{href:"#amigo",children:[l.jsx(Iv,{className:"h-4 w-4"}),"Hacete Amigo"]})})})]}),l.jsx(B5,{open:o,onOpenChange:c})]})})}const $5=()=>l.jsxs("section",{className:"relative min-h-[90vh] flex items-center justify-center pt-20",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("img",{src:"/casa_ramayon.png",alt:"Galera de arte cultural",className:"w-full h-full object-cover opacity-70"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background/50 via-background/80 to-background"})]}),l.jsxs("div",{className:"container mx-auto px-4 lg:px-8 relative z-10 text-center",children:[l.jsxs("h1",{className:"text-5xl md:text-7xl lg:text-8xl font-light tracking-tight mb-6 text-balance",children:["Arte con Historia",l.jsx("br",{})]}),l.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto mb-10 leading-relaxed",children:"Descubre eventos culturales, reserva tu mesa y explora materiales de arte seleccionados para tu viaje creativo."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(he,{asChild:!0,size:"lg",className:"bg-primary text-primary-foreground hover:bg-primary/90 text-base",children:l.jsxs("a",{href:"#events",children:["Explorar Eventos",l.jsx(Nv,{className:"ml-2 h-5 w-5"})]})}),l.jsx(he,{asChild:!0,size:"lg",variant:"outline",className:"text-base bg-transparent",children:l.jsx("a",{href:"#shop",children:"Ver Tienda"})})]})]})]});function Tt({className:t,...e}){return l.jsx("div",{"data-slot":"card",className:ce("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function Bt({className:t,...e}){return l.jsx("div",{"data-slot":"card-header",className:ce("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function On({className:t,...e}){return l.jsx("div",{"data-slot":"card-title",className:ce("leading-none font-semibold",t),...e})}function Hr({className:t,...e}){return l.jsx("div",{"data-slot":"card-description",className:ce("text-muted-foreground text-sm",t),...e})}function Nt({className:t,...e}){return l.jsx("div",{"data-slot":"card-content",className:ce("px-6",t),...e})}function H5({className:t,...e}){return l.jsx("div",{"data-slot":"card-footer",className:ce("flex items-center px-6 [.border-t]:pt-6",t),...e})}const q5="/";function G5(){const{events:t,loading:e}=Un(),n=t.filter(r=>r.isActive);return e?l.jsx("section",{id:"events",className:"py-24 bg-muted/30",children:l.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:"Cargando eventos..."})]})})}):l.jsx("section",{id:"events",className:"py-24 bg-muted/30",children:l.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-light tracking-tight mb-4",children:["Prximos ",l.jsx("span",{className:"italic",children:"Eventos"})]}),l.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Sumrgete en experiencias culturales seleccionadas que inspiran e iluminan"})]}),n.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-muted-foreground",children:"No hay eventos disponibles en este momento."})}):l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(r=>l.jsxs(Tt,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"relative h-64 overflow-hidden",children:[l.jsx("img",{src:r.image||`${q5}placeholder.svg`,alt:r.title,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"}),l.jsx("div",{className:"absolute top-4 right-4",children:l.jsx("span",{className:"bg-background/90 backdrop-blur-sm text-foreground px-3 py-1 rounded-full text-sm font-mono",children:r.category})})]}),l.jsxs(Nt,{className:"p-6",children:[l.jsx("h3",{className:"text-2xl font-medium mb-4",children:r.title}),l.jsxs("div",{className:"space-y-2 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(xc,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm font-mono",children:r.date})]}),r.location&&l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(Qy,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm font-mono",children:r.location})]}),l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(WF,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm font-mono",children:r.price})]})]}),l.jsx(he,{className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",children:"Reservar Entradas"})]})]},r.id))}),n.length>0&&l.jsx("div",{className:"text-center mt-12",children:l.jsx(he,{variant:"outline",size:"lg",children:"Ver Todos los Eventos"})})]})})}function ze({className:t,type:e,...n}){return l.jsx("input",{type:e,"data-slot":"input",className:ce("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var K5="Label",NN=w.forwardRef((t,e)=>l.jsx(Be.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));NN.displayName=K5;var Y5=NN;function Se({className:t,...e}){return l.jsx(Y5,{"data-slot":"label",className:ce("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function Q5(){const[t,e]=w.useState({name:"",email:"",date:"",time:"",guests:"2"}),n=r=>{r.preventDefault(),console.log("Booking submitted:",t),alert("Reserva confirmada! Recibirs un correo de confirmacin pronto.")};return l.jsx("section",{id:"bookings",className:"py-24",children:l.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-light tracking-tight mb-6",children:["Reserva tu ",l.jsx("span",{className:"italic",children:"mesa"})]}),l.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed mb-8",children:"Experimenta nuestro espacio cultural con asientos reservados para exposiciones, espectculos y talleres. Disfruta de un ambiente ntimo diseado para entusiastas del arte."}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(xc,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-lg mb-1",children:"Programacin Flexible"}),l.jsx("p",{className:"text-muted-foreground",children:"Elige tu fecha y hora preferidas para cualquier evento"})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(ex,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-lg mb-1",children:"Reservas Grupales"}),l.jsx("p",{className:"text-muted-foreground",children:"Reserva espacio para reuniones ntimas o grupos ms grandes"})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(bF,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-lg mb-1",children:"Confirmacin Inmediata"}),l.jsx("p",{className:"text-muted-foreground",children:"Recibe confirmacin de reserva inmediata por correo electrnico"})]})]})]})]}),l.jsxs(Tt,{className:"shadow-xl",children:[l.jsx(Bt,{children:l.jsx(On,{className:"text-2xl font-light",children:"Hacer una Reserva"})}),l.jsx(Nt,{children:l.jsxs("form",{onSubmit:n,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(Se,{htmlFor:"name",children:"Nombre Completo"}),l.jsx(ze,{id:"name",type:"text",placeholder:"Ingresa tu nombre",value:t.name,onChange:r=>e({...t,name:r.target.value}),className:"mt-2",required:!0})]}),l.jsxs("div",{children:[l.jsx(Se,{htmlFor:"email",children:"Correo Electrnico"}),l.jsx(ze,{id:"email",type:"email",placeholder:"tu@correo.com",value:t.email,onChange:r=>e({...t,email:r.target.value}),className:"mt-2",required:!0})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Se,{htmlFor:"date",children:"Fecha"}),l.jsx(ze,{id:"date",type:"date",value:t.date,onChange:r=>e({...t,date:r.target.value}),className:"mt-2",required:!0})]}),l.jsxs("div",{children:[l.jsx(Se,{htmlFor:"time",children:"Hora"}),l.jsx(ze,{id:"time",type:"time",value:t.time,onChange:r=>e({...t,time:r.target.value}),className:"mt-2",required:!0})]})]}),l.jsxs("div",{children:[l.jsx(Se,{htmlFor:"guests",children:"Nmero de Invitados"}),l.jsx(ze,{id:"guests",type:"number",min:"1",max:"20",value:t.guests,onChange:r=>e({...t,guests:r.target.value}),className:"mt-2",required:!0})]}),l.jsx(he,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",children:"Confirmar Reserva"})]})})]})]})})})}const X5="/";function J5(){const{products:t,loading:e}=Un(),{addToCart:n,openCart:r}=Yy(),s=t.filter(d=>d.isActive),o=d=>{n(d),r()},c=d=>{n(d)};return e?l.jsx("section",{id:"shop",className:"py-24 bg-muted/30",children:l.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:"Cargando productos..."})]})})}):l.jsx("section",{id:"shop",className:"py-24 bg-muted/30",children:l.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-light tracking-tight mb-4",children:["Materiales de ",l.jsx("span",{className:"italic",children:"Arte"})]}),l.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Materiales premium seleccionados para artistas en cada etapa de su viaje creativo"})]}),s.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-muted-foreground",children:"No hay productos disponibles en este momento."})}):l.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(d=>l.jsxs(Tt,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted",children:[l.jsx("img",{src:d.image||`${X5}placeholder.svg`,alt:d.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"}),l.jsx("div",{className:"absolute top-4 left-4",children:l.jsx("span",{className:"bg-background/90 backdrop-blur-sm text-foreground px-3 py-1 rounded-full text-xs font-mono",children:d.category})})]}),l.jsxs(Nt,{className:"p-6",children:[l.jsx("h3",{className:"text-xl font-medium mb-2",children:d.name}),l.jsx("p",{className:"text-2xl font-light text-accent",children:d.price})]}),l.jsxs(H5,{className:"p-6 pt-0 flex flex-col sm:flex-row gap-2",children:[l.jsxs(he,{className:"flex-1 bg-primary text-primary-foreground hover:bg-primary/90",onClick:()=>o(d),children:[l.jsx(Jy,{className:"mr-2 h-4 w-4"}),"Comprar"]}),l.jsxs(he,{variant:"outline",className:"flex-1",onClick:()=>c(d),children:[l.jsx(Zy,{className:"mr-2 h-4 w-4"}),"Agregar al Carrito"]})]})]},d.id))}),s.length>0&&l.jsx("div",{className:"text-center mt-12",children:l.jsx(he,{variant:"outline",size:"lg",children:"Ver Catlogo Completo"})})]})})}var bx="Collapsible",[Z5,IN]=Qs(bx),[eU,Sx]=Z5(bx),kN=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:o,onOpenChange:c,...d}=t,[h=!1,p]=Ai({prop:r,defaultProp:s,onChange:c});return l.jsx(eU,{scope:n,disabled:o,contentId:zs(),open:h,onOpenToggle:w.useCallback(()=>p(g=>!g),[p]),children:l.jsx(Be.div,{"data-state":Ix(h),"data-disabled":o?"":void 0,...d,ref:e})})});kN.displayName=bx;var AN="CollapsibleTrigger",Cx=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=Sx(AN,n);return l.jsx(Be.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Ix(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:Ue(t.onClick,s.onOpenToggle)})});Cx.displayName=AN;var Tx="CollapsibleContent",Nx=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Sx(Tx,t.__scopeCollapsible);return l.jsx(vr,{present:n||s.open,children:({present:o})=>l.jsx(tU,{...r,ref:e,present:o})})});Nx.displayName=Tx;var tU=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=t,c=Sx(Tx,n),[d,h]=w.useState(r),p=w.useRef(null),g=at(e,p),v=w.useRef(0),x=v.current,S=w.useRef(0),C=S.current,b=c.open||d,I=w.useRef(b),O=w.useRef(void 0);return w.useEffect(()=>{const D=requestAnimationFrame(()=>I.current=!1);return()=>cancelAnimationFrame(D)},[]),tn(()=>{const D=p.current;if(D){O.current=O.current||{transitionDuration:D.style.transitionDuration,animationName:D.style.animationName},D.style.transitionDuration="0s",D.style.animationName="none";const j=D.getBoundingClientRect();v.current=j.height,S.current=j.width,I.current||(D.style.transitionDuration=O.current.transitionDuration,D.style.animationName=O.current.animationName),h(r)}},[c.open,r]),l.jsx(Be.div,{"data-state":Ix(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!b,...o,ref:g,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...t.style},children:b&&s})});function Ix(t){return t?"open":"closed"}var RN=kN,nU=Cx,rU=Nx,Oi="Accordion",sU=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[kx,iU,oU]=km(Oi),[jm]=Qs(Oi,[oU,IN]),Ax=IN(),PN=ue.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,o=r;return l.jsx(kx.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?l.jsx(uU,{...o,ref:e}):l.jsx(cU,{...s,ref:e})})});PN.displayName=Oi;var[jN,aU]=jm(Oi),[DN,lU]=jm(Oi,{collapsible:!1}),cU=ue.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:o=!1,...c}=t,[d,h]=Ai({prop:n,defaultProp:r,onChange:s});return l.jsx(jN,{scope:t.__scopeAccordion,value:d?[d]:[],onItemOpen:h,onItemClose:ue.useCallback(()=>o&&h(""),[o,h]),children:l.jsx(DN,{scope:t.__scopeAccordion,collapsible:o,children:l.jsx(ON,{...c,ref:e})})})}),uU=ue.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...o}=t,[c=[],d]=Ai({prop:n,defaultProp:r,onChange:s}),h=ue.useCallback(g=>d((v=[])=>[...v,g]),[d]),p=ue.useCallback(g=>d((v=[])=>v.filter(x=>x!==g)),[d]);return l.jsx(jN,{scope:t.__scopeAccordion,value:c,onItemOpen:h,onItemClose:p,children:l.jsx(DN,{scope:t.__scopeAccordion,collapsible:!0,children:l.jsx(ON,{...o,ref:e})})})}),[dU,Dm]=jm(Oi),ON=ue.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:o="vertical",...c}=t,d=ue.useRef(null),h=at(d,e),p=iU(n),v=Im(s)==="ltr",x=Ue(t.onKeyDown,S=>{var k;if(!sU.includes(S.key))return;const C=S.target,b=p().filter(P=>{var F;return!((F=P.ref.current)!=null&&F.disabled)}),I=b.findIndex(P=>P.ref.current===C),O=b.length;if(I===-1)return;S.preventDefault();let D=I;const j=0,B=O-1,M=()=>{D=I+1,D>B&&(D=j)},$=()=>{D=I-1,D<j&&(D=B)};switch(S.key){case"Home":D=j;break;case"End":D=B;break;case"ArrowRight":o==="horizontal"&&(v?M():$());break;case"ArrowDown":o==="vertical"&&M();break;case"ArrowLeft":o==="horizontal"&&(v?$():M());break;case"ArrowUp":o==="vertical"&&$();break}const N=D%O;(k=b[N].ref.current)==null||k.focus()});return l.jsx(dU,{scope:n,disabled:r,direction:s,orientation:o,children:l.jsx(kx.Slot,{scope:n,children:l.jsx(Be.div,{...c,"data-orientation":o,ref:h,onKeyDown:r?void 0:x})})})}),Wf="AccordionItem",[hU,Rx]=jm(Wf),MN=ue.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,o=Dm(Wf,n),c=aU(Wf,n),d=Ax(n),h=zs(),p=r&&c.value.includes(r)||!1,g=o.disabled||t.disabled;return l.jsx(hU,{scope:n,open:p,disabled:g,triggerId:h,children:l.jsx(RN,{"data-orientation":o.orientation,"data-state":BN(p),...d,...s,ref:e,disabled:g,open:p,onOpenChange:v=>{v?c.onItemOpen(r):c.onItemClose(r)}})})});MN.displayName=Wf;var LN="AccordionHeader",VN=ue.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Dm(Oi,n),o=Rx(LN,n);return l.jsx(Be.h3,{"data-orientation":s.orientation,"data-state":BN(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:e})});VN.displayName=LN;var Vv="AccordionTrigger",FN=ue.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Dm(Oi,n),o=Rx(Vv,n),c=lU(Vv,n),d=Ax(n);return l.jsx(kx.ItemSlot,{scope:n,children:l.jsx(nU,{"aria-disabled":o.open&&!c.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...d,...r,ref:e})})});FN.displayName=Vv;var UN="AccordionContent",zN=ue.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Dm(Oi,n),o=Rx(UN,n),c=Ax(n);return l.jsx(rU,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...c,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});zN.displayName=UN;function BN(t){return t?"open":"closed"}var fU=PN,mU=MN,pU=VN,gU=FN,vU=zN;function yU({...t}){return l.jsx(fU,{"data-slot":"accordion",...t})}function xU({className:t,...e}){return l.jsx(mU,{"data-slot":"accordion-item",className:ce("border-b last:border-b-0",t),...e})}function wU({className:t,children:e,...n}){return l.jsx(pU,{className:"flex",children:l.jsxs(gU,{"data-slot":"accordion-trigger",className:ce("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,l.jsx(wc,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function _U({className:t,children:e,...n}){return l.jsx(vU,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:l.jsx("div",{className:ce("pt-0 pb-4",t),children:e})})}const EU=[{id:"fallback-mentor",name:"Amigo Mentor - Casa Ramayon",price:"$50.000",period:"mensual",description:"Nuestra categora ms exclusiva. Incluye beneficios premium en eventos, formacin y la posibilidad de utilizar el espacio para tus propios eventos.",benefits:["Brindis Privados: Invitacin exclusiva a previas de inauguraciones artsticas o nuevos ciclos.","Pase Libre Cultural: Entrada libre a todos los eventos pagos de la agenda anual.","Acceso Total a Formacin: 50% de descuento en talleres, clnicas y seminarios.","Experiencias Exclusivas (+1): Invitado a eventos especiales para la comunidad.","Beneficios en Obra y Tienda: 15% o 20% de descuento en compra de obras.","Casa Ramayon con vos: Uso del espacio con 50% de descuento una vez al ao."],featured:!0,isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"fallback-aliado",name:"Amigo Aliado - Casa Ramayon",price:"$20.000",period:"mensual",description:"Una forma accesible de sumarte a la comunidad. Pensado para quienes quieren acercarse a la cultura y disfrutar de beneficios en la casa.",benefits:["10% de descuento en la Yerbatera.","20% de descuento en todos los cursos y talleres de La Casa.","30% de descuento en entradas a conciertos.","Prioridad en eventos con capacidad reducida."],featured:!1,isActive:!0,createdAt:new Date,updatedAt:new Date}],bU="3482644928";function SU(t){const e=t.period==="mensual"?"mensuales":"anuales";return`${t.price} ${e}`}function CU(t,e){const n=`https://wa.me/${bU}`,r=e.find(o=>o.id===t),s=r?`Hola, me interesa hacerme ${r.name} de Casa Ramayon.`:"Hola, me interesa el programa Hacete Amigo de Casa Ramayon.";return`${n}?text=${encodeURIComponent(s)}`}function TU(){var p;const{memberships:t,loading:e}=Un(),[n,r]=w.useState(null),[s,o]=w.useState(""),c=t.filter(g=>g.isActive).length>0?t.filter(g=>g.isActive):EU,d=g=>{o(g),r(g||null)},h=()=>{window.open(CU(n,c),"_blank","noopener,noreferrer")};return l.jsx("section",{id:"amigo",className:"py-24 bg-muted/30",children:l.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-light tracking-tight mb-4",children:["Hacete ",l.jsx("span",{className:"italic",children:"Amigo"})]}),l.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto mb-4",children:"Sumate a la comunidad de Casa Ramayon y colabor con el espacio cultural. Eleg la categora que ms te guste y disfrut de beneficios exclusivos, descuentos en eventos, talleres y mucho ms."}),l.jsx("p",{className:"text-muted-foreground text-sm max-w-2xl mx-auto",children:"Tu generosidad construye la cultura."})]}),e?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:"Cargando membresas..."})]}):l.jsx(yU,{type:"single",collapsible:!0,value:s,onValueChange:d,className:"space-y-0",children:c.map(g=>l.jsxs(xU,{value:g.id,className:"border border-border rounded-lg mb-4 overflow-hidden bg-card shadow-sm last:mb-0",children:[l.jsx(wU,{className:"px-6 py-5 hover:no-underline hover:bg-muted/30 [&[data-state=open]]:bg-muted/30",children:l.jsxs("div",{className:"flex flex-col items-start text-left gap-1",children:[l.jsx("span",{className:"font-semibold text-lg",children:g.name}),l.jsx("span",{className:"text-primary font-mono text-base font-medium",children:SU(g)})]})}),l.jsxs(_U,{className:"px-6 pb-6",children:[g.description&&l.jsx("p",{className:"text-muted-foreground mb-4",children:g.description}),l.jsx("ul",{className:"space-y-2 list-disc list-inside text-sm text-foreground/90",children:g.benefits.map((v,x)=>l.jsx("li",{className:"leading-relaxed",children:v},x))})]})]},g.id))}),l.jsxs("div",{className:"mt-10 text-center",children:[l.jsxs(he,{size:"lg",className:"bg-green-600 hover:bg-green-700 text-white gap-2",onClick:h,children:[l.jsx(VF,{className:"h-5 w-5"}),"Consultar por WhatsApp"]}),n&&l.jsxs("p",{className:"text-sm text-muted-foreground mt-3",children:["Mensaje:"," ",((p=c.find(g=>g.id===n))==null?void 0:p.name)??""]})]})]})})})}function Wa({className:t,...e}){return l.jsx("textarea",{"data-slot":"textarea",className:ce("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const Fb="mqeddaga";function NU(){const[t,e]=w.useState("idle"),n=async r=>{r.preventDefault();const s=r.currentTarget,o=new FormData(s);e("loading");try{(await fetch(`https://formspree.io/f/${Fb}`,{method:"POST",body:o,headers:{Accept:"application/json"}})).ok?(e("success"),s.reset()):e("error")}catch{e("error")}};return l.jsx("section",{id:"contact",className:"py-16 lg:py-24 bg-muted/30",children:l.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:l.jsxs("div",{className:"max-w-xl mx-auto",children:[l.jsx("h2",{className:"text-2xl lg:text-3xl font-serif font-semibold text-foreground mb-2",children:"Contacto"}),l.jsx("p",{className:"text-muted-foreground mb-8",children:"Escribinos y te respondemos a la brevedad"}),l.jsxs("form",{action:`https://formspree.io/f/${Fb}`,method:"POST",onSubmit:n,className:"space-y-4",children:[l.jsx("input",{type:"hidden",name:"_subject",value:"Contacto - Casa Ramayon"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"contact-email",children:"Tu correo"}),l.jsx(ze,{id:"contact-email",type:"email",name:"email",placeholder:"tu@email.com",required:!0,disabled:t==="loading",className:"bg-background"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"contact-message",children:"Mensaje"}),l.jsx(Wa,{id:"contact-message",name:"message",placeholder:"En qu podemos ayudarte?",rows:4,required:!0,disabled:t==="loading",className:"bg-background resize-none"})]}),l.jsxs(he,{type:"submit",disabled:t==="loading",className:"w-full sm:w-auto",children:[t==="loading"?l.jsx(pr,{className:"h-4 w-4 animate-spin mr-2"}):t==="success"?l.jsx(Cm,{className:"h-4 w-4 mr-2 text-green-600"}):l.jsx(Xy,{className:"h-4 w-4 mr-2"}),t==="loading"?"Enviando...":t==="success"?"Enviado":"Enviar"]}),t==="success"&&l.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:"Gracias! Tu mensaje fue enviado correctamente."}),t==="error"&&l.jsx("p",{className:"text-sm text-destructive",children:"Hubo un error al enviar. Intent de nuevo."})]})]})})})}const IU="mqeddaga";async function kU(t){await fetch(`https://formspree.io/f/${IU}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,subject:"Nueva suscripcin al boletn - Casa Ramayon",message:`Un usuario se suscribi al boletn: ${t}`})})}function AU(){const{addSubscriber:t}=Un(),[e,n]=w.useState(""),[r,s]=w.useState("idle"),[o,c]=w.useState(""),d=async h=>{h.preventDefault();const p=e.trim();if(p){s("loading"),c("");try{await t(p),await kU(p),n(""),s("success")}catch(g){s("error"),c((g==null?void 0:g.message)||"Error al suscribirse")}}};return l.jsx("footer",{className:"bg-primary text-primary-foreground",children:l.jsxs("div",{className:"container mx-auto px-4 lg:px-8 py-16",children:[l.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-primary-foreground text-primary rounded-full flex items-center justify-center",children:l.jsx("span",{className:"font-serif font-medium text-lg",children:"CR"})}),l.jsx("span",{className:"text-2xl font-serif italic tracking-wide",children:"Casa Ramayon"})]}),l.jsx("p",{className:"text-primary-foreground/80 leading-relaxed",children:"Celebrando el arte, la cultura y la creatividad a travs de experiencias inmersivas y materiales de calidad."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-lg mb-4",children:"Enlaces Rpidos"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx("a",{href:"#events",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Eventos"})}),l.jsx("li",{children:l.jsx("a",{href:"#bookings",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Reservas"})}),l.jsx("li",{children:l.jsx("a",{href:"#shop",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Tienda"})}),l.jsx("li",{children:l.jsx("a",{href:"#amigo",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Hacete Amigo"})}),l.jsx("li",{children:l.jsx("a",{href:"#about",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Acerca de Nosotros"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-lg mb-4",children:"Soporte"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx("a",{href:"#contact",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Contacto"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Preguntas Frecuentes"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Envos"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors",children:"Devoluciones"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-lg mb-4",children:"Mantente Actualizado"}),l.jsx("p",{className:"text-primary-foreground/80 mb-4 text-sm",children:"Suscrbete a nuestro boletn para recibir los ltimos eventos y ofertas exclusivas"}),l.jsxs("form",{onSubmit:d,className:"flex gap-2",children:[l.jsx(ze,{type:"email",placeholder:"Tu correo",value:e,onChange:h=>n(h.target.value),disabled:r==="loading",required:!0,className:"bg-primary-foreground/10 border-primary-foreground/20 text-primary-foreground placeholder:text-primary-foreground/50"}),l.jsx(he,{type:"submit",variant:"secondary",size:"icon",disabled:r==="loading","aria-label":"Suscribirse",children:r==="loading"?l.jsx(pr,{className:"h-4 w-4 animate-spin"}):r==="success"?l.jsx(Cm,{className:"h-4 w-4 text-green-600"}):l.jsx(Tm,{className:"h-4 w-4"})})]}),r==="success"&&l.jsx("p",{className:"mt-2 text-sm text-green-300",children:"Gracias por suscribirte!"}),r==="error"&&l.jsx("p",{className:"mt-2 text-sm text-red-200",children:o})]})]}),l.jsxs("div",{className:"border-t border-primary-foreground/20 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex flex-col items-center md:items-start gap-1 text-center md:text-left",children:[l.jsx("p",{className:"text-primary-foreground/60 text-sm font-mono",children:"2025 Casa Ramayon. Todos los derechos reservados."}),l.jsxs("p",{className:"text-primary-foreground/60 text-sm font-mono",children:["Sitio creado por"," ",l.jsx("a",{href:"https://www.linkedin.com/in/federicotomadin/",target:"_blank",rel:"noopener noreferrer",className:"text-primary-foreground/80 hover:text-primary-foreground underline underline-offset-2 transition-colors",children:"Federico Tomadin"})]})]}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsx(he,{variant:"ghost",size:"icon",className:"text-primary-foreground hover:text-primary-foreground/80",asChild:!0,children:l.jsx("a",{href:"https://www.instagram.com/casaramayon/",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:l.jsx(DF,{className:"h-5 w-5"})})})})]})]})})}function RU(){return l.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[l.jsx(W5,{}),l.jsxs("main",{children:[l.jsx($5,{}),l.jsx(G5,{}),l.jsx(Q5,{}),l.jsx(J5,{}),l.jsx(TU,{}),l.jsx(NU,{})]}),l.jsx(AU,{})]})}const PU=Nm("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function qr({className:t,variant:e,...n}){return l.jsx("div",{"data-slot":"alert",role:"alert",className:ce(PU({variant:e}),t),...n})}function Gr({className:t,...e}){return l.jsx("div",{"data-slot":"alert-description",className:ce("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function jU(){const[t,e]=w.useState(""),[n,r]=w.useState(""),[s,o]=w.useState(""),[c,d]=w.useState(!1),{signIn:h}=Ky(),p=Jf(),[g,v]=w.useState(!1),x=async C=>{C.preventDefault(),o(""),d(!0);try{await h(t,n),p("/panel")}catch(b){console.error("Login error:",b),o(b.code==="auth/invalid-credential"?"Credenciales invlidas":"Error al iniciar sesin. Verifica tu conexin.")}finally{d(!1)}},S=()=>{localStorage.setItem("casa_ramayon_demo_auth","true"),p("/panel")};return l.jsx("div",{className:"min-h-screen bg-muted/30 flex items-center justify-center p-4",children:l.jsxs(Tt,{className:"w-full max-w-md",children:[l.jsxs(Bt,{className:"text-center",children:[l.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:l.jsx(MF,{className:"w-6 h-6 text-primary"})}),l.jsx(On,{className:"text-2xl",children:"Panel de Administracin"}),l.jsx(Hr,{children:"Casa Ramayon"})]}),l.jsxs(Nt,{children:[s&&l.jsx(qr,{variant:"destructive",className:"mb-4",children:l.jsx(Gr,{children:s})}),g?l.jsxs("div",{className:"space-y-4",children:[l.jsx(qr,{children:l.jsx(Gr,{children:"El modo demo usa almacenamiento local del navegador. Los datos se guardarn en este dispositivo hasta que configures Firebase."})}),l.jsx(he,{className:"w-full",onClick:S,children:"Acceder al Panel Demo"}),l.jsx(he,{variant:"outline",className:"w-full",onClick:()=>v(!1),children:"Volver al Login"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"email",children:"Email"}),l.jsx(ze,{id:"email",type:"email",placeholder:"admin@casaramayon.com",value:t,onChange:C=>e(C.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"password",children:"Contrasea"}),l.jsx(ze,{id:"password",type:"password",value:n,onChange:C=>r(C.target.value),required:!0})]}),l.jsxs(he,{type:"submit",className:"w-full",disabled:c,children:[c&&l.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin"}),"Iniciar Sesin"]})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t",children:[l.jsx("p",{className:"text-sm text-muted-foreground text-center mb-3",children:"No tienes Firebase configurado?"}),l.jsx(he,{variant:"outline",className:"w-full",onClick:()=>v(!0),children:"Modo Demo (LocalStorage)"})]})]})]})]})})}function Fv(t,[e,n]){return Math.min(n,Math.max(e,t))}function DU(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var Px="ScrollArea",[WN]=Qs(Px),[OU,Dr]=WN(Px),$N=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...c}=t,[d,h]=w.useState(null),[p,g]=w.useState(null),[v,x]=w.useState(null),[S,C]=w.useState(null),[b,I]=w.useState(null),[O,D]=w.useState(0),[j,B]=w.useState(0),[M,$]=w.useState(!1),[N,k]=w.useState(!1),P=at(e,U=>h(U)),F=Im(s);return l.jsx(OU,{scope:n,type:r,dir:F,scrollHideDelay:o,scrollArea:d,viewport:p,onViewportChange:g,content:v,onContentChange:x,scrollbarX:S,onScrollbarXChange:C,scrollbarXEnabled:M,onScrollbarXEnabledChange:$,scrollbarY:b,onScrollbarYChange:I,scrollbarYEnabled:N,onScrollbarYEnabledChange:k,onCornerWidthChange:D,onCornerHeightChange:B,children:l.jsx(Be.div,{dir:F,...c,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":O+"px","--radix-scroll-area-corner-height":j+"px",...t.style}})})});$N.displayName=Px;var HN="ScrollAreaViewport",qN=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=t,c=Dr(HN,n),d=w.useRef(null),h=at(e,d,c.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(Be.div,{"data-radix-scroll-area-viewport":"",...o,ref:h,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});qN.displayName=HN;var Xs="ScrollAreaScrollbar",GN=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Dr(Xs,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:c}=s,d=t.orientation==="horizontal";return w.useEffect(()=>(d?o(!0):c(!0),()=>{d?o(!1):c(!1)}),[d,o,c]),s.type==="hover"?l.jsx(MU,{...r,ref:e,forceMount:n}):s.type==="scroll"?l.jsx(LU,{...r,ref:e,forceMount:n}):s.type==="auto"?l.jsx(KN,{...r,ref:e,forceMount:n}):s.type==="always"?l.jsx(jx,{...r,ref:e}):null});GN.displayName=Xs;var MU=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Dr(Xs,t.__scopeScrollArea),[o,c]=w.useState(!1);return w.useEffect(()=>{const d=s.scrollArea;let h=0;if(d){const p=()=>{window.clearTimeout(h),c(!0)},g=()=>{h=window.setTimeout(()=>c(!1),s.scrollHideDelay)};return d.addEventListener("pointerenter",p),d.addEventListener("pointerleave",g),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",p),d.removeEventListener("pointerleave",g)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(vr,{present:n||o,children:l.jsx(KN,{"data-state":o?"visible":"hidden",...r,ref:e})})}),LU=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Dr(Xs,t.__scopeScrollArea),o=t.orientation==="horizontal",c=Mm(()=>h("SCROLL_END"),100),[d,h]=DU("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(d==="idle"){const p=window.setTimeout(()=>h("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(p)}},[d,s.scrollHideDelay,h]),w.useEffect(()=>{const p=s.viewport,g=o?"scrollLeft":"scrollTop";if(p){let v=p[g];const x=()=>{const S=p[g];v!==S&&(h("SCROLL"),c()),v=S};return p.addEventListener("scroll",x),()=>p.removeEventListener("scroll",x)}},[s.viewport,o,h,c]),l.jsx(vr,{present:n||d!=="hidden",children:l.jsx(jx,{"data-state":d==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ue(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Ue(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),KN=w.forwardRef((t,e)=>{const n=Dr(Xs,t.__scopeScrollArea),{forceMount:r,...s}=t,[o,c]=w.useState(!1),d=t.orientation==="horizontal",h=Mm(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;c(d?p:g)}},10);return oc(n.viewport,h),oc(n.content,h),l.jsx(vr,{present:r||o,children:l.jsx(jx,{"data-state":o?"visible":"hidden",...s,ref:e})})}),jx=w.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Dr(Xs,t.__scopeScrollArea),o=w.useRef(null),c=w.useRef(0),[d,h]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=ZN(d.viewport,d.content),g={...r,sizes:d,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:x=>o.current=x,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:x=>c.current=x};function v(x,S){return WU(x,c.current,d,S)}return n==="horizontal"?l.jsx(VU,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const x=s.viewport.scrollLeft,S=Ub(x,d,s.dir);o.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:x=>{s.viewport&&(s.viewport.scrollLeft=x)},onDragScroll:x=>{s.viewport&&(s.viewport.scrollLeft=v(x,s.dir))}}):n==="vertical"?l.jsx(FU,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const x=s.viewport.scrollTop,S=Ub(x,d);o.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:x=>{s.viewport&&(s.viewport.scrollTop=x)},onDragScroll:x=>{s.viewport&&(s.viewport.scrollTop=v(x))}}):null}),VU=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,o=Dr(Xs,t.__scopeScrollArea),[c,d]=w.useState(),h=w.useRef(null),p=at(e,h,o.onScrollbarXChange);return w.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),l.jsx(QN,{"data-orientation":"horizontal",...s,ref:p,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Om(n)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.x),onDragScroll:g=>t.onDragScroll(g.x),onWheelScroll:(g,v)=>{if(o.viewport){const x=o.viewport.scrollLeft+g.deltaX;t.onWheelScroll(x),tI(x,v)&&g.preventDefault()}},onResize:()=>{h.current&&o.viewport&&c&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Hf(c.paddingLeft),paddingEnd:Hf(c.paddingRight)}})}})}),FU=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,o=Dr(Xs,t.__scopeScrollArea),[c,d]=w.useState(),h=w.useRef(null),p=at(e,h,o.onScrollbarYChange);return w.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),l.jsx(QN,{"data-orientation":"vertical",...s,ref:p,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Om(n)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.y),onDragScroll:g=>t.onDragScroll(g.y),onWheelScroll:(g,v)=>{if(o.viewport){const x=o.viewport.scrollTop+g.deltaY;t.onWheelScroll(x),tI(x,v)&&g.preventDefault()}},onResize:()=>{h.current&&o.viewport&&c&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Hf(c.paddingTop),paddingEnd:Hf(c.paddingBottom)}})}})}),[UU,YN]=WN(Xs),QN=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:g,onResize:v,...x}=t,S=Dr(Xs,n),[C,b]=w.useState(null),I=at(e,P=>b(P)),O=w.useRef(null),D=w.useRef(""),j=S.viewport,B=r.content-r.viewport,M=zt(g),$=zt(h),N=Mm(v,10);function k(P){if(O.current){const F=P.clientX-O.current.left,U=P.clientY-O.current.top;p({x:F,y:U})}}return w.useEffect(()=>{const P=F=>{const U=F.target;(C==null?void 0:C.contains(U))&&M(F,B)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[j,C,B,M]),w.useEffect($,[r,$]),oc(C,N),oc(S.content,N),l.jsx(UU,{scope:n,scrollbar:C,hasThumb:s,onThumbChange:zt(o),onThumbPointerUp:zt(c),onThumbPositionChange:$,onThumbPointerDown:zt(d),children:l.jsx(Be.div,{...x,ref:I,style:{position:"absolute",...x.style},onPointerDown:Ue(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),O.current=C.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S.viewport&&(S.viewport.style.scrollBehavior="auto"),k(P))}),onPointerMove:Ue(t.onPointerMove,k),onPointerUp:Ue(t.onPointerUp,P=>{const F=P.target;F.hasPointerCapture(P.pointerId)&&F.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=D.current,S.viewport&&(S.viewport.style.scrollBehavior=""),O.current=null})})})}),$f="ScrollAreaThumb",XN=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=YN($f,t.__scopeScrollArea);return l.jsx(vr,{present:n||s.hasThumb,children:l.jsx(zU,{ref:e,...r})})}),zU=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,o=Dr($f,n),c=YN($f,n),{onThumbPositionChange:d}=c,h=at(e,v=>c.onThumbChange(v)),p=w.useRef(void 0),g=Mm(()=>{p.current&&(p.current(),p.current=void 0)},100);return w.useEffect(()=>{const v=o.viewport;if(v){const x=()=>{if(g(),!p.current){const S=$U(v,d);p.current=S,d()}};return d(),v.addEventListener("scroll",x),()=>v.removeEventListener("scroll",x)}},[o.viewport,g,d]),l.jsx(Be.div,{"data-state":c.hasThumb?"visible":"hidden",...s,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ue(t.onPointerDownCapture,v=>{const S=v.target.getBoundingClientRect(),C=v.clientX-S.left,b=v.clientY-S.top;c.onThumbPointerDown({x:C,y:b})}),onPointerUp:Ue(t.onPointerUp,c.onThumbPointerUp)})});XN.displayName=$f;var Dx="ScrollAreaCorner",JN=w.forwardRef((t,e)=>{const n=Dr(Dx,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(BU,{...t,ref:e}):null});JN.displayName=Dx;var BU=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Dr(Dx,n),[o,c]=w.useState(0),[d,h]=w.useState(0),p=!!(o&&d);return oc(s.scrollbarX,()=>{var v;const g=((v=s.scrollbarX)==null?void 0:v.offsetHeight)||0;s.onCornerHeightChange(g),h(g)}),oc(s.scrollbarY,()=>{var v;const g=((v=s.scrollbarY)==null?void 0:v.offsetWidth)||0;s.onCornerWidthChange(g),c(g)}),p?l.jsx(Be.div,{...r,ref:e,style:{width:o,height:d,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Hf(t){return t?parseInt(t,10):0}function ZN(t,e){const n=t/e;return isNaN(n)?0:n}function Om(t){const e=ZN(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function WU(t,e,n,r="ltr"){const s=Om(n),o=s/2,c=e||o,d=s-c,h=n.scrollbar.paddingStart+c,p=n.scrollbar.size-n.scrollbar.paddingEnd-d,g=n.content-n.viewport,v=r==="ltr"?[0,g]:[g*-1,0];return eI([h,p],v)(t)}function Ub(t,e,n="ltr"){const r=Om(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,c=e.content-e.viewport,d=o-r,h=n==="ltr"?[0,c]:[c*-1,0],p=Fv(t,h);return eI([0,c],[0,d])(p)}function eI(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function tI(t,e){return t>0&&t<e}var $U=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function s(){const o={left:t.scrollLeft,top:t.scrollTop},c=n.left!==o.left,d=n.top!==o.top;(c||d)&&e(),n=o,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function Mm(t,e){const n=zt(t),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function oc(t,e){const n=zt(e);tn(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var HU=$N,qU=qN,GU=JN;function KU({className:t,children:e,...n}){return l.jsxs(HU,{"data-slot":"scroll-area",className:ce("relative",t),...n,children:[l.jsx(qU,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),l.jsx(YU,{}),l.jsx(GU,{})]})}function YU({className:t,orientation:e="vertical",...n}){return l.jsx(GN,{"data-slot":"scroll-area-scrollbar",orientation:e,className:ce("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:l.jsx(XN,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var QU="Separator",zb="horizontal",XU=["horizontal","vertical"],nI=w.forwardRef((t,e)=>{const{decorative:n,orientation:r=zb,...s}=t,o=JU(r)?r:zb,d=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return l.jsx(Be.div,{"data-orientation":o,...d,...s,ref:e})});nI.displayName=QU;function JU(t){return XU.includes(t)}var ZU=nI;function rI({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return l.jsx(ZU,{"data-slot":"separator",decorative:n,orientation:e,className:ce("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}const Bb=[{name:"Dashboard",href:"/panel",icon:OF},{name:"Eventos",href:"/panel/eventos",icon:xc},{name:"Talleres",href:"/panel/talleres",icon:kF},{name:"Visitas Guiadas",href:"/panel/visitas",icon:Qy},{name:"Productos",href:"/panel/productos",icon:Jy},{name:"Equipo",href:"/panel/equipo",icon:ex},{name:"Membresas",href:"/panel/membresias",icon:Iv},{name:"Patrocinadores",href:"/panel/sponsors",icon:wF},{name:"Pginas",href:"/panel/paginas",icon:IF},{name:"Suscriptores",href:"/panel/suscriptores",icon:Tm},{name:"Configuracin",href:"/panel/configuracion",icon:zF}];function e9(){var h,p;const[t,e]=w.useState(!1),n=Gs(),r=Jf(),{user:s,signOut:o}=Ky(),c=async()=>{localStorage.removeItem("casa_ramayon_demo_auth");try{await o()}catch{}r("/panel/login")},d=localStorage.getItem("casa_ramayon_demo_auth")==="true";return l.jsxs("div",{className:"min-h-screen bg-background",children:[t&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>e(!1)}),l.jsx("aside",{className:ce("fixed top-0 left-0 z-50 h-full w-64 bg-card border-r transform transition-transform duration-200 ease-in-out lg:translate-x-0",t?"translate-x-0":"-translate-x-full"),children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:[l.jsxs(js,{to:"/panel",className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:"CR"})}),l.jsx("span",{className:"font-semibold",children:"Casa Ramayon"})]}),l.jsx(he,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>e(!1),children:l.jsx(md,{className:"h-5 w-5"})})]}),l.jsx(KU,{className:"flex-1 py-4",children:l.jsx("nav",{className:"px-2 space-y-1",children:Bb.map(g=>{const v=g.href==="/panel"?n.pathname==="/panel":n.pathname.startsWith(g.href);return l.jsxs(js,{to:g.href,onClick:()=>e(!1),className:ce("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",v?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[l.jsx(g.icon,{className:"h-5 w-5"}),g.name,v&&l.jsx(p1,{className:"h-4 w-4 ml-auto"})]},g.name)})})}),l.jsxs("div",{className:"p-4 border-t",children:[d&&l.jsx("div",{className:"mb-3 px-3 py-2 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:l.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:"Modo Demo"})}),l.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 mb-2",children:[l.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs font-medium",children:d?"D":((h=s==null?void 0:s.email)==null?void 0:h.charAt(0).toUpperCase())||"A"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:d?"Demo Admin":(s==null?void 0:s.email)||"Admin"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Administrador"})]})]}),l.jsx(rI,{className:"my-2"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(he,{variant:"ghost",className:"w-full justify-start gap-3 text-muted-foreground",asChild:!0,children:l.jsxs(js,{to:"/",children:[l.jsx(PF,{className:"h-4 w-4"}),"Ver Sitio"]})}),l.jsxs(he,{variant:"ghost",className:"w-full justify-start gap-3 text-muted-foreground hover:text-destructive",onClick:c,children:[l.jsx(LF,{className:"h-4 w-4"}),"Cerrar Sesin"]})]})]})]})}),l.jsxs("div",{className:"lg:pl-64",children:[l.jsxs("header",{className:"sticky top-0 z-30 h-16 bg-background/95 backdrop-blur border-b flex items-center px-4 lg:px-8",children:[l.jsx(he,{variant:"ghost",size:"icon",className:"lg:hidden mr-2",onClick:()=>e(!0),children:l.jsx(g1,{className:"h-5 w-5"})}),l.jsx("h1",{className:"text-lg font-semibold",children:((p=Bb.find(g=>g.href==="/panel"?n.pathname==="/panel":n.pathname.startsWith(g.href)))==null?void 0:p.name)||"Panel"})]}),l.jsx("main",{className:"p-4 lg:p-8",children:l.jsx(oP,{})})]})]})}function t9(){const{events:t,products:e,loading:n,useLocalStorage:r}=Un(),s=t.filter(c=>c.isActive).length,o=e.filter(c=>c.isActive).length;return n?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-3xl font-light tracking-tight",children:["Bienvenido al ",l.jsx("span",{className:"italic",children:"Panel"})]}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestiona los eventos y productos de Casa Ramayon"})]}),r&&l.jsx(Tt,{className:"border-amber-500/20 bg-amber-500/5",children:l.jsx(Nt,{className:"pt-6",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg",children:l.jsx(NF,{className:"h-5 w-5 text-amber-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-amber-600",children:"Modo Local"}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Los datos se guardan en el almacenamiento local del navegador. Para sincronizacin en la nube, configura Firebase en el archivo"," ",l.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:".env"})]})]})]})})}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Tt,{children:[l.jsxs(Bt,{className:"flex flex-row items-center justify-between pb-2",children:[l.jsx(On,{className:"text-sm font-medium",children:"Total Eventos"}),l.jsx(xc,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Nt,{children:[l.jsx("div",{className:"text-2xl font-bold",children:t.length}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[s," activos"]})]})]}),l.jsxs(Tt,{children:[l.jsxs(Bt,{className:"flex flex-row items-center justify-between pb-2",children:[l.jsx(On,{className:"text-sm font-medium",children:"Total Productos"}),l.jsx(Jy,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Nt,{children:[l.jsx("div",{className:"text-2xl font-bold",children:e.length}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[o," activos"]})]})]}),l.jsxs(Tt,{children:[l.jsxs(Bt,{className:"flex flex-row items-center justify-between pb-2",children:[l.jsx(On,{className:"text-sm font-medium",children:"Categoras Eventos"}),l.jsx(fb,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Nt,{children:[l.jsx("div",{className:"text-2xl font-bold",children:new Set(t.map(c=>c.category)).size}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"tipos diferentes"})]})]}),l.jsxs(Tt,{children:[l.jsxs(Bt,{className:"flex flex-row items-center justify-between pb-2",children:[l.jsx(On,{className:"text-sm font-medium",children:"Categoras Productos"}),l.jsx(fb,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Nt,{children:[l.jsx("div",{className:"text-2xl font-bold",children:new Set(e.map(c=>c.category)).size}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"tipos diferentes"})]})]})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs(Tt,{children:[l.jsxs(Bt,{children:[l.jsx(On,{children:"Eventos"}),l.jsx(Hr,{children:"Gestiona los prximos eventos culturales"})]}),l.jsxs(Nt,{className:"space-y-4",children:[l.jsx("div",{className:"space-y-2",children:t.slice(0,3).map(c=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:c.title}),l.jsx("p",{className:"text-xs text-muted-foreground",children:c.date})]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${c.isActive?"bg-green-500/10 text-green-600":"bg-muted text-muted-foreground"}`,children:c.isActive?"Activo":"Inactivo"})]},c.id))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(he,{asChild:!0,children:l.jsxs(js,{to:"/panel/eventos",children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Nuevo Evento"]})}),l.jsx(he,{variant:"outline",asChild:!0,children:l.jsxs(js,{to:"/panel/eventos",children:["Ver Todos",l.jsx(Nv,{className:"ml-2 h-4 w-4"})]})})]})]})]}),l.jsxs(Tt,{children:[l.jsxs(Bt,{children:[l.jsx(On,{children:"Materiales de Arte"}),l.jsx(Hr,{children:"Administra el catlogo de productos"})]}),l.jsxs(Nt,{className:"space-y-4",children:[l.jsx("div",{className:"space-y-2",children:e.slice(0,3).map(c=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:c.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:c.price})]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${c.isActive?"bg-green-500/10 text-green-600":"bg-muted text-muted-foreground"}`,children:c.isActive?"Activo":"Inactivo"})]},c.id))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(he,{asChild:!0,children:l.jsxs(js,{to:"/panel/productos",children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Nuevo Producto"]})}),l.jsx(he,{variant:"outline",asChild:!0,children:l.jsxs(js,{to:"/panel/productos",children:["Ver Todos",l.jsx(Nv,{className:"ml-2 h-4 w-4"})]})})]})]})]})]})]})}const sI=6048e5,n9=864e5,Wb=Symbol.for("constructDateFrom");function un(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Wb in t?t[Wb](e):t instanceof Date?new t.constructor(e):new Date(e)}function bt(t,e){return un(e||t,t)}function iI(t,e,n){const r=bt(t,n==null?void 0:n.in);return isNaN(e)?un(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function oI(t,e,n){const r=bt(t,n==null?void 0:n.in);if(isNaN(e))return un(t,NaN);if(!e)return r;const s=r.getDate(),o=un(t,r.getTime());o.setMonth(r.getMonth()+e+1,0);const c=o.getDate();return s>=c?o:(r.setFullYear(o.getFullYear(),o.getMonth(),s),r)}let r9={};function pd(){return r9}function ac(t,e){var d,h,p,g;const n=pd(),r=(e==null?void 0:e.weekStartsOn)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,s=bt(t,e==null?void 0:e.in),o=s.getDay(),c=(o<r?7:0)+o-r;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function Yu(t,e){return ac(t,{...e,weekStartsOn:1})}function aI(t,e){const n=bt(t,e==null?void 0:e.in),r=n.getFullYear(),s=un(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=Yu(s),c=un(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const d=Yu(c);return n.getTime()>=o.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function $b(t){const e=bt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Sc(t,...e){const n=un.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Qu(t,e){const n=bt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function lI(t,e,n){const[r,s]=Sc(n==null?void 0:n.in,t,e),o=Qu(r),c=Qu(s),d=+o-$b(o),h=+c-$b(c);return Math.round((d-h)/n9)}function s9(t,e){const n=aI(t,e),r=un(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Yu(r)}function i9(t,e,n){return iI(t,e*7,n)}function o9(t,e,n){return oI(t,e*12,n)}function a9(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=un.bind(null,s));const o=bt(s,r);(!n||n<o||isNaN(+o))&&(n=o)}),un(r,n||NaN)}function l9(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=un.bind(null,s));const o=bt(s,r);(!n||n>o||isNaN(+o))&&(n=o)}),un(r,n||NaN)}function c9(t,e,n){const[r,s]=Sc(n==null?void 0:n.in,t,e);return+Qu(r)==+Qu(s)}function cI(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function u9(t){return!(!cI(t)&&typeof t!="number"||isNaN(+bt(t)))}function d9(t,e,n){const[r,s]=Sc(n==null?void 0:n.in,t,e),o=r.getFullYear()-s.getFullYear(),c=r.getMonth()-s.getMonth();return o*12+c}function h9(t,e){const n=bt(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function f9(t,e){const[n,r]=Sc(t,e.start,e.end);return{start:n,end:r}}function m9(t,e){const{start:n,end:r}=f9(e==null?void 0:e.in,t);let s=+n>+r;const o=s?+n:+r,c=s?r:n;c.setHours(0,0,0,0),c.setDate(1);let d=1;const h=[];for(;+c<=o;)h.push(un(n,c)),c.setMonth(c.getMonth()+d);return s?h.reverse():h}function p9(t,e){const n=bt(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function g9(t,e){const n=bt(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function uI(t,e){const n=bt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function dI(t,e){var d,h,p,g;const n=pd(),r=(e==null?void 0:e.weekStartsOn)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,s=bt(t,e==null?void 0:e.in),o=s.getDay(),c=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}function v9(t,e){return dI(t,{...e,weekStartsOn:1})}const y9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},x9=(t,e,n)=>{let r;const s=y9[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Gl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const w9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},E9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},b9={date:Gl({formats:w9,defaultWidth:"full"}),time:Gl({formats:_9,defaultWidth:"full"}),dateTime:Gl({formats:E9,defaultWidth:"full"})},S9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},C9=(t,e,n,r)=>S9[t];function Rs(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,d=n!=null&&n.width?String(n.width):c;s=t.formattingValues[d]||t.formattingValues[c]}else{const c=t.defaultWidth,d=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[d]||t.values[c]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const T9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},N9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},I9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},k9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},A9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},R9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},P9=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},j9={ordinalNumber:P9,era:Rs({values:T9,defaultWidth:"wide"}),quarter:Rs({values:N9,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Rs({values:I9,defaultWidth:"wide"}),day:Rs({values:k9,defaultWidth:"wide"}),dayPeriod:Rs({values:A9,defaultWidth:"wide",formattingValues:R9,defaultFormattingWidth:"wide"})};function Ps(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const c=o[0],d=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(d)?O9(d,v=>v.test(c)):D9(d,v=>v.test(c));let p;p=t.valueCallback?t.valueCallback(h):h,p=n.valueCallback?n.valueCallback(p):p;const g=e.slice(c.length);return{value:p,rest:g}}}function D9(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function O9(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function hI(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],o=e.match(t.parsePattern);if(!o)return null;let c=t.valueCallback?t.valueCallback(o[0]):o[0];c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}const M9=/^(\d+)(th|st|nd|rd)?/i,L9=/\d+/i,V9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},F9={any:[/^b/i,/^(a|c)/i]},U9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},z9={any:[/1/i,/2/i,/3/i,/4/i]},B9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},W9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},H9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},q9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},G9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},K9={ordinalNumber:hI({matchPattern:M9,parsePattern:L9,valueCallback:t=>parseInt(t,10)}),era:Ps({matchPatterns:V9,defaultMatchWidth:"wide",parsePatterns:F9,defaultParseWidth:"any"}),quarter:Ps({matchPatterns:U9,defaultMatchWidth:"wide",parsePatterns:z9,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ps({matchPatterns:B9,defaultMatchWidth:"wide",parsePatterns:W9,defaultParseWidth:"any"}),day:Ps({matchPatterns:$9,defaultMatchWidth:"wide",parsePatterns:H9,defaultParseWidth:"any"}),dayPeriod:Ps({matchPatterns:q9,defaultMatchWidth:"any",parsePatterns:G9,defaultParseWidth:"any"})},Ox={code:"en-US",formatDistance:x9,formatLong:b9,formatRelative:C9,localize:j9,match:K9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Y9(t,e){const n=bt(t,e==null?void 0:e.in);return lI(n,uI(n))+1}function fI(t,e){const n=bt(t,e==null?void 0:e.in),r=+Yu(n)-+s9(n);return Math.round(r/sI)+1}function mI(t,e){var g,v,x,S;const n=bt(t,e==null?void 0:e.in),r=n.getFullYear(),s=pd(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((S=(x=s.locale)==null?void 0:x.options)==null?void 0:S.firstWeekContainsDate)??1,c=un((e==null?void 0:e.in)||t,0);c.setFullYear(r+1,0,o),c.setHours(0,0,0,0);const d=ac(c,e),h=un((e==null?void 0:e.in)||t,0);h.setFullYear(r,0,o),h.setHours(0,0,0,0);const p=ac(h,e);return+n>=+d?r+1:+n>=+p?r:r-1}function Q9(t,e){var d,h,p,g;const n=pd(),r=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,s=mI(t,e),o=un((e==null?void 0:e.in)||t,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),ac(o,e)}function pI(t,e){const n=bt(t,e==null?void 0:e.in),r=+ac(n,e)-+Q9(n,e);return Math.round(r/sI)+1}function Et(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const co={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Et(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Et(n+1,2)},d(t,e){return Et(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Et(t.getHours()%12||12,e.length)},H(t,e){return Et(t.getHours(),e.length)},m(t,e){return Et(t.getMinutes(),e.length)},s(t,e){return Et(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Et(s,e.length)}},Dl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Hb={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return co.y(t,e)},Y:function(t,e,n,r){const s=mI(t,r),o=s>0?s:1-s;if(e==="YY"){const c=o%100;return Et(c,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Et(o,e.length)},R:function(t,e){const n=aI(t);return Et(n,e.length)},u:function(t,e){const n=t.getFullYear();return Et(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Et(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Et(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return co.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Et(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=pI(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Et(s,e.length)},I:function(t,e,n){const r=fI(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Et(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):co.d(t,e)},D:function(t,e,n){const r=Y9(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Et(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Et(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Et(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Et(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Dl.noon:r===0?s=Dl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Dl.evening:r>=12?s=Dl.afternoon:r>=4?s=Dl.morning:s=Dl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return co.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):co.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):co.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):co.s(t,e)},S:function(t,e){return co.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Gb(r);case"XXXX":case"XX":return Ta(r);case"XXXXX":case"XXX":default:return Ta(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Gb(r);case"xxxx":case"xx":return Ta(r);case"xxxxx":case"xxx":default:return Ta(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+qb(r,":");case"OOOO":default:return"GMT"+Ta(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+qb(r,":");case"zzzz":default:return"GMT"+Ta(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Et(r,e.length)},T:function(t,e,n){return Et(+t,e.length)}};function qb(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+e+Et(o,2)}function Gb(t,e){return t%60===0?(t>0?"-":"+")+Et(Math.abs(t)/60,2):Ta(t,e)}function Ta(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Et(Math.trunc(r/60),2),o=Et(r%60,2);return n+s+e+o}const Kb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},gI=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},X9=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Kb(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Kb(r,e)).replace("{{time}}",gI(s,e))},J9={p:gI,P:X9},Z9=/^D+$/,ez=/^Y+$/,tz=["D","DD","YY","YYYY"];function nz(t){return Z9.test(t)}function rz(t){return ez.test(t)}function sz(t,e,n){const r=iz(t,e,n);if(console.warn(r),tz.includes(t))throw new RangeError(r)}function iz(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,az=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lz=/^'([^]*?)'?$/,cz=/''/g,uz=/[a-zA-Z]/;function Xu(t,e,n){var g,v,x,S,C,b,I,O;const r=pd(),s=(n==null?void 0:n.locale)??r.locale??Ox,o=(n==null?void 0:n.firstWeekContainsDate)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((S=(x=r.locale)==null?void 0:x.options)==null?void 0:S.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((b=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:b.weekStartsOn)??r.weekStartsOn??((O=(I=r.locale)==null?void 0:I.options)==null?void 0:O.weekStartsOn)??0,d=bt(t,n==null?void 0:n.in);if(!u9(d))throw new RangeError("Invalid time value");let h=e.match(az).map(D=>{const j=D[0];if(j==="p"||j==="P"){const B=J9[j];return B(D,s.formatLong)}return D}).join("").match(oz).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const j=D[0];if(j==="'")return{isToken:!1,value:dz(D)};if(Hb[j])return{isToken:!0,value:D};if(j.match(uz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:D}});s.localize.preprocessor&&(h=s.localize.preprocessor(d,h));const p={firstWeekContainsDate:o,weekStartsOn:c,locale:s};return h.map(D=>{if(!D.isToken)return D.value;const j=D.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&rz(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&nz(j))&&sz(j,e,String(t));const B=Hb[j[0]];return B(d,j,s.localize,p)}).join("")}function dz(t){const e=t.match(lz);return e?e[1].replace(cz,"'"):t}function hz(t,e){const n=bt(t,e==null?void 0:e.in),r=n.getFullYear(),s=n.getMonth(),o=un(n,0);return o.setFullYear(r,s+1,0),o.setHours(0,0,0,0),o.getDate()}function fz(t,e){return bt(t,e==null?void 0:e.in).getMonth()}function mz(t,e){return bt(t,e==null?void 0:e.in).getFullYear()}function pz(t,e){return+bt(t)>+bt(e)}function gz(t,e){return+bt(t)<+bt(e)}function vz(t,e,n){const[r,s]=Sc(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function yz(t,e,n){const[r,s]=Sc(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()}function xz(t,e,n){const r=bt(t,n==null?void 0:n.in),s=r.getFullYear(),o=r.getDate(),c=un(t,0);c.setFullYear(s,e,15),c.setHours(0,0,0,0);const d=hz(c);return r.setMonth(e,Math.min(o,d)),r}function wz(t,e,n){const r=bt(t,n==null?void 0:n.in);return isNaN(+r)?un(t,NaN):(r.setFullYear(e),r)}const _z={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},Ez=(t,e,n)=>{let r;const s=_z[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},bz={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},Sz={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Cz={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Tz={date:Gl({formats:bz,defaultWidth:"full"}),time:Gl({formats:Sz,defaultWidth:"full"}),dateTime:Gl({formats:Cz,defaultWidth:"full"})},Nz={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Iz={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},kz=(t,e,n,r)=>e.getHours()!==1?Iz[t]:Nz[t],Az={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},Rz={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Pz={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},jz={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},Dz={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},Oz={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Mz=(t,e)=>Number(t)+"",Lz={ordinalNumber:Mz,era:Rs({values:Az,defaultWidth:"wide"}),quarter:Rs({values:Rz,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Rs({values:Pz,defaultWidth:"wide"}),day:Rs({values:jz,defaultWidth:"wide"}),dayPeriod:Rs({values:Dz,defaultWidth:"wide",formattingValues:Oz,defaultFormattingWidth:"wide"})},Vz=/^(\d+)()?/i,Fz=/\d+/i,Uz={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},zz={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},Bz={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Wz={any:[/1/i,/2/i,/3/i,/4/i]},$z={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Hz={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},qz={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},Gz={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Kz={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},Yz={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Qz={ordinalNumber:hI({matchPattern:Vz,parsePattern:Fz,valueCallback:function(t){return parseInt(t,10)}}),era:Ps({matchPatterns:Uz,defaultMatchWidth:"wide",parsePatterns:zz,defaultParseWidth:"any"}),quarter:Ps({matchPatterns:Bz,defaultMatchWidth:"wide",parsePatterns:Wz,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ps({matchPatterns:$z,defaultMatchWidth:"wide",parsePatterns:Hz,defaultParseWidth:"any"}),day:Ps({matchPatterns:qz,defaultMatchWidth:"wide",parsePatterns:Gz,defaultParseWidth:"any"}),dayPeriod:Ps({matchPatterns:Kz,defaultMatchWidth:"any",parsePatterns:Yz,defaultParseWidth:"any"})},Kl={code:"es",formatDistance:Ez,formatLong:Tz,formatRelative:kz,localize:Lz,match:Qz,options:{weekStartsOn:1,firstWeekContainsDate:1}};function vI(t){const[e,n]=w.useState(void 0);return tn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let c,d;if("borderBoxSize"in o){const h=o.borderBoxSize,p=Array.isArray(h)?h[0]:h;c=p.inlineSize,d=p.blockSize}else c=t.offsetWidth,d=t.offsetHeight;n({width:c,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Mx="Switch",[Xz]=Qs(Mx),[Jz,Zz]=Xz(Mx),yI=w.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:c,disabled:d,value:h="on",onCheckedChange:p,form:g,...v}=t,[x,S]=w.useState(null),C=at(e,j=>S(j)),b=w.useRef(!1),I=x?g||!!x.closest("form"):!0,[O=!1,D]=Ai({prop:s,defaultProp:o,onChange:p});return l.jsxs(Jz,{scope:n,checked:O,disabled:d,children:[l.jsx(Be.button,{type:"button",role:"switch","aria-checked":O,"aria-required":c,"data-state":_I(O),"data-disabled":d?"":void 0,disabled:d,value:h,...v,ref:C,onClick:Ue(t.onClick,j=>{D(B=>!B),I&&(b.current=j.isPropagationStopped(),b.current||j.stopPropagation())})}),I&&l.jsx(eB,{control:x,bubbles:!b.current,name:r,value:h,checked:O,required:c,disabled:d,form:g,style:{transform:"translateX(-100%)"}})]})});yI.displayName=Mx;var xI="SwitchThumb",wI=w.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=Zz(xI,n);return l.jsx(Be.span,{"data-state":_I(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});wI.displayName=xI;var eB=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,o=w.useRef(null),c=rx(n),d=vI(e);return w.useEffect(()=>{const h=o.current,p=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==n&&v){const x=new Event("click",{bubbles:r});v.call(h,n),h.dispatchEvent(x)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...t.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function _I(t){return t?"checked":"unchecked"}var tB=yI,nB=wI;function Ri({className:t,...e}){return l.jsx(tB,{"data-slot":"switch",className:ce("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(nB,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}const Gg={},Iu={};function Mu(t,e){try{const r=(Gg[t]||(Gg[t]=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return r in Iu?Iu[r]:Yb(r,r.split(":"))}catch{if(t in Iu)return Iu[t];const n=t==null?void 0:t.match(rB);return n?Yb(t,n.slice(1)):NaN}}const rB=/([+-]\d\d):?(\d\d)?/;function Yb(t,e){const n=+e[0],r=+(e[1]||0);return Iu[t]=n>0?n*60+r:n*60-r}class Ds extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Mu(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),EI(this),Uv(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new Ds(...n,e):new Ds(Date.now(),e)}withTimeZone(e){return new Ds(+this,e)}getTimezoneOffset(){return-Mu(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),Uv(this),+this}[Symbol.for("constructDateFrom")](e){return new Ds(+new Date(e),this.timeZone)}}const Qb=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!Qb.test(t))return;const e=t.replace(Qb,"$1UTC");Ds.prototype[e]&&(t.startsWith("get")?Ds.prototype[t]=function(){return this.internal[e]()}:(Ds.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),sB(this),+this},Ds.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),Uv(this),+this}))});function Uv(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function sB(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),EI(t)}function EI(t){const e=Mu(t.timeZone,t),n=new Date(+t);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+t).getTimezoneOffset(),s=-new Date(+n).getTimezoneOffset(),o=r-s,c=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();o&&c&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+o);const d=r-e;d&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+d);const h=Mu(t.timeZone,t),g=-new Date(+t).getTimezoneOffset()-h,v=h!==e,x=g-d;if(v&&x){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+x);const S=Mu(t.timeZone,t),C=h-S;C&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+C),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+C))}}class Pn extends Ds{static tz(e,...n){return n.length?new Pn(...n,e):new Pn(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),s=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,s]=this.tzComponents();return`${e} GMT${n}${r}${s} (${iB(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[n,r,s]}withTimeZone(e){return new Pn(+this,e)}[Symbol.for("constructDateFrom")](e){return new Pn(+new Date(e),this.timeZone)}}function iB(t,e){return new Intl.DateTimeFormat("en-GB",{timeZone:t,timeZoneName:"long"}).format(e).slice(12)}var je;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(je||(je={}));var Ut;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Ut||(Ut={}));var Qr;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Qr||(Qr={}));var ur;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(ur||(ur={}));const Xb=5,oB=4;function aB(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,s=e.addDays(t,-r+1),o=e.addDays(s,Xb*7-1);return e.getMonth(t)===e.getMonth(o)?Xb:oB}function bI(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-6):e.addDays(n,-1*(r-1))}function lB(t,e){const n=bI(t,e),r=aB(t,e);return e.addDays(n,r*7-1)}class Mi{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?Pn.tz(this.options.timeZone):new this.Date},this.newDate=(r,s,o)=>{var c;return(c=this.overrides)!=null&&c.newDate?this.overrides.newDate(r,s,o):this.options.timeZone?new Pn(r,s,o,this.options.timeZone):new Date(r,s,o)},this.addDays=(r,s)=>{var o;return(o=this.overrides)!=null&&o.addDays?this.overrides.addDays(r,s):iI(r,s)},this.addMonths=(r,s)=>{var o;return(o=this.overrides)!=null&&o.addMonths?this.overrides.addMonths(r,s):oI(r,s)},this.addWeeks=(r,s)=>{var o;return(o=this.overrides)!=null&&o.addWeeks?this.overrides.addWeeks(r,s):i9(r,s)},this.addYears=(r,s)=>{var o;return(o=this.overrides)!=null&&o.addYears?this.overrides.addYears(r,s):o9(r,s)},this.differenceInCalendarDays=(r,s)=>{var o;return(o=this.overrides)!=null&&o.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):lI(r,s)},this.differenceInCalendarMonths=(r,s)=>{var o;return(o=this.overrides)!=null&&o.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):d9(r,s)},this.eachMonthOfInterval=r=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):m9(r)},this.endOfBroadcastWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):lB(r,this)},this.endOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(r):v9(r)},this.endOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(r):h9(r)},this.endOfWeek=(r,s)=>{var o;return(o=this.overrides)!=null&&o.endOfWeek?this.overrides.endOfWeek(r,s):dI(r,this.options)},this.endOfYear=r=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(r):g9(r)},this.format=(r,s,o)=>{var d;const c=(d=this.overrides)!=null&&d.format?this.overrides.format(r,s,this.options):Xu(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(r):fI(r)},this.getMonth=(r,s)=>{var o;return(o=this.overrides)!=null&&o.getMonth?this.overrides.getMonth(r,this.options):fz(r,this.options)},this.getYear=(r,s)=>{var o;return(o=this.overrides)!=null&&o.getYear?this.overrides.getYear(r,this.options):mz(r,this.options)},this.getWeek=(r,s)=>{var o;return(o=this.overrides)!=null&&o.getWeek?this.overrides.getWeek(r,this.options):pI(r,this.options)},this.isAfter=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isAfter?this.overrides.isAfter(r,s):pz(r,s)},this.isBefore=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isBefore?this.overrides.isBefore(r,s):gz(r,s)},this.isDate=r=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(r):cI(r)},this.isSameDay=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isSameDay?this.overrides.isSameDay(r,s):c9(r,s)},this.isSameMonth=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isSameMonth?this.overrides.isSameMonth(r,s):vz(r,s)},this.isSameYear=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isSameYear?this.overrides.isSameYear(r,s):yz(r,s)},this.max=r=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(r):a9(r)},this.min=r=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(r):l9(r)},this.setMonth=(r,s)=>{var o;return(o=this.overrides)!=null&&o.setMonth?this.overrides.setMonth(r,s):xz(r,s)},this.setYear=(r,s)=>{var o;return(o=this.overrides)!=null&&o.setYear?this.overrides.setYear(r,s):wz(r,s)},this.startOfBroadcastWeek=(r,s)=>{var o;return(o=this.overrides)!=null&&o.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):bI(r,this)},this.startOfDay=r=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(r):Qu(r)},this.startOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(r):Yu(r)},this.startOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(r):p9(r)},this.startOfWeek=(r,s)=>{var o;return(o=this.overrides)!=null&&o.startOfWeek?this.overrides.startOfWeek(r,this.options):ac(r,this.options)},this.startOfYear=r=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(r):uI(r)},this.options={locale:Ox,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let s=0;s<10;s++)r[s.toString()]=n.format(s);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}}const Js=new Mi;class SI{constructor(e,n,r=Js){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class cB{constructor(e,n){this.date=e,this.weeks=n}}class uB{constructor(e,n){this.days=n,this.weekNumber=e}}function _i(t,e,n=!1,r=Js){let{from:s,to:o}=t;const{differenceInCalendarDays:c,isSameDay:d}=r;return s&&o?(c(o,s)<0&&([s,o]=[o,s]),c(e,s)>=(n?1:0)&&c(o,e)>=(n?1:0)):!n&&o?d(o,e):!n&&s?d(s,e):!1}function CI(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Lx(t){return!!(t&&typeof t=="object"&&"from"in t)}function TI(t){return!!(t&&typeof t=="object"&&"after"in t)}function NI(t){return!!(t&&typeof t=="object"&&"before"in t)}function II(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function kI(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Ei(t,e,n=Js){const r=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:o,isAfter:c}=n;return r.some(d=>{if(typeof d=="boolean")return d;if(n.isDate(d))return s(t,d);if(kI(d,n))return d.includes(t);if(Lx(d))return _i(d,t,!1,n);if(II(d))return Array.isArray(d.dayOfWeek)?d.dayOfWeek.includes(t.getDay()):d.dayOfWeek===t.getDay();if(CI(d)){const h=o(d.before,t),p=o(d.after,t),g=h>0,v=p<0;return c(d.before,d.after)?v&&g:g||v}return TI(d)?o(t,d.after)>0:NI(d)?o(d.before,t)>0:typeof d=="function"?d(t):!1})}function dB(t,e,n,r,s){const{disabled:o,hidden:c,modifiers:d,showOutsideDays:h,broadcastCalendar:p,today:g}=e,{isSameDay:v,isSameMonth:x,startOfMonth:S,isBefore:C,endOfMonth:b,isAfter:I}=s,O=n&&S(n),D=r&&b(r),j={[Ut.focused]:[],[Ut.outside]:[],[Ut.disabled]:[],[Ut.hidden]:[],[Ut.today]:[]},B={};for(const M of t){const{date:$,displayMonth:N}=M,k=!!(N&&!x($,N)),P=!!(O&&C($,O)),F=!!(D&&I($,D)),U=!!(o&&Ei($,o,s)),L=!!(c&&Ei($,c,s))||P||F||!p&&!h&&k||p&&h===!1&&k,A=v($,g??s.today());k&&j.outside.push(M),U&&j.disabled.push(M),L&&j.hidden.push(M),A&&j.today.push(M),d&&Object.keys(d).forEach(le=>{const ve=d==null?void 0:d[le];ve&&Ei($,ve,s)&&(B[le]?B[le].push(M):B[le]=[M])})}return M=>{const $={[Ut.focused]:!1,[Ut.disabled]:!1,[Ut.hidden]:!1,[Ut.outside]:!1,[Ut.today]:!1},N={};for(const k in j){const P=j[k];$[k]=P.some(F=>F===M)}for(const k in B)N[k]=B[k].some(P=>P===M);return{...$,...N}}}function hB(t,e,n={}){return Object.entries(t).filter(([,s])=>s===!0).reduce((s,[o])=>(n[o]?s.push(n[o]):e[Ut[o]]?s.push(e[Ut[o]]):e[Qr[o]]&&s.push(e[Qr[o]]),s),[e[je.Day]])}function fB(t){return ue.createElement("button",{...t})}function mB(t){return ue.createElement("span",{...t})}function pB(t){const{size:e=24,orientation:n="left",className:r}=t;return ue.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&ue.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&ue.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&ue.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&ue.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function gB(t){const{day:e,modifiers:n,...r}=t;return ue.createElement("td",{...r})}function vB(t){const{day:e,modifiers:n,...r}=t,s=ue.useRef(null);return ue.useEffect(()=>{var o;n.focused&&((o=s.current)==null||o.focus())},[n.focused]),ue.createElement("button",{ref:s,...r})}function yB(t){const{options:e,className:n,components:r,classNames:s,...o}=t,c=[s[je.Dropdown],n].join(" "),d=e==null?void 0:e.find(({value:h})=>h===o.value);return ue.createElement("span",{"data-disabled":o.disabled,className:s[je.DropdownRoot]},ue.createElement(r.Select,{className:c,...o},e==null?void 0:e.map(({value:h,label:p,disabled:g})=>ue.createElement(r.Option,{key:h,value:h,disabled:g},p))),ue.createElement("span",{className:s[je.CaptionLabel],"aria-hidden":!0},d==null?void 0:d.label,ue.createElement(r.Chevron,{orientation:"down",size:18,className:s[je.Chevron]})))}function xB(t){return ue.createElement("div",{...t})}function wB(t){return ue.createElement("div",{...t})}function _B(t){const{calendarMonth:e,displayIndex:n,...r}=t;return ue.createElement("div",{...r},t.children)}function EB(t){const{calendarMonth:e,displayIndex:n,...r}=t;return ue.createElement("div",{...r})}function bB(t){return ue.createElement("table",{...t})}function SB(t){return ue.createElement("div",{...t})}const AI=w.createContext(void 0);function gd(){const t=w.useContext(AI);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function CB(t){const{components:e}=gd();return ue.createElement(e.Dropdown,{...t})}function TB(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:s,...o}=t,{components:c,classNames:d,labels:{labelPrevious:h,labelNext:p}}=gd(),g=w.useCallback(x=>{s&&(n==null||n(x))},[s,n]),v=w.useCallback(x=>{r&&(e==null||e(x))},[r,e]);return ue.createElement("nav",{...o},ue.createElement(c.PreviousMonthButton,{type:"button",className:d[je.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":h(r),onClick:v},ue.createElement(c.Chevron,{disabled:r?void 0:!0,className:d[je.Chevron],orientation:"left"})),ue.createElement(c.NextMonthButton,{type:"button",className:d[je.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":p(s),onClick:g},ue.createElement(c.Chevron,{disabled:s?void 0:!0,orientation:"right",className:d[je.Chevron]})))}function NB(t){const{components:e}=gd();return ue.createElement(e.Button,{...t})}function IB(t){return ue.createElement("option",{...t})}function kB(t){const{components:e}=gd();return ue.createElement(e.Button,{...t})}function AB(t){const{rootRef:e,...n}=t;return ue.createElement("div",{...n,ref:e})}function RB(t){return ue.createElement("select",{...t})}function PB(t){const{week:e,...n}=t;return ue.createElement("tr",{...n})}function jB(t){return ue.createElement("th",{...t})}function DB(t){return ue.createElement("thead",{"aria-hidden":!0},ue.createElement("tr",{...t}))}function OB(t){const{week:e,...n}=t;return ue.createElement("th",{...n})}function MB(t){return ue.createElement("th",{...t})}function LB(t){return ue.createElement("tbody",{...t})}function VB(t){const{components:e}=gd();return ue.createElement(e.Dropdown,{...t})}const FB=Object.freeze(Object.defineProperty({__proto__:null,Button:fB,CaptionLabel:mB,Chevron:pB,Day:gB,DayButton:vB,Dropdown:yB,DropdownNav:xB,Footer:wB,Month:_B,MonthCaption:EB,MonthGrid:bB,Months:SB,MonthsDropdown:CB,Nav:TB,NextMonthButton:NB,Option:IB,PreviousMonthButton:kB,Root:AB,Select:RB,Week:PB,WeekNumber:OB,WeekNumberHeader:MB,Weekday:jB,Weekdays:DB,Weeks:LB,YearsDropdown:VB},Symbol.toStringTag,{value:"Module"}));function UB(t){return{...FB,...t}}function zB(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function Vx(){const t={};for(const e in je)t[je[e]]=`rdp-${je[e]}`;for(const e in Ut)t[Ut[e]]=`rdp-${Ut[e]}`;for(const e in Qr)t[Qr[e]]=`rdp-${Qr[e]}`;for(const e in ur)t[ur[e]]=`rdp-${ur[e]}`;return t}function RI(t,e,n){return(n??new Mi(e)).format(t,"LLLL y")}const BB=RI;function WB(t,e,n){return(n??new Mi(e)).format(t,"d")}function $B(t,e=Js){return e.format(t,"LLLL")}function HB(t,e=Js){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function qB(){return""}function GB(t,e,n){return(n??new Mi(e)).format(t,"cccccc")}function PI(t,e=Js){return e.format(t,"yyyy")}const KB=PI,YB=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:RI,formatDay:WB,formatMonthCaption:BB,formatMonthDropdown:$B,formatWeekNumber:HB,formatWeekNumberHeader:qB,formatWeekdayName:GB,formatYearCaption:KB,formatYearDropdown:PI},Symbol.toStringTag,{value:"Module"}));function QB(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...YB,...t}}function XB(t,e,n,r,s){const{startOfMonth:o,startOfYear:c,endOfYear:d,eachMonthOfInterval:h,getMonth:p}=s;return h({start:c(t),end:d(t)}).map(x=>{const S=r.formatMonthDropdown(x,s),C=p(x),b=e&&x<o(e)||n&&x>o(n)||!1;return{value:C,label:S,disabled:b}})}function JB(t,e={},n={}){let r={...e==null?void 0:e[je.Day]};return Object.entries(t).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...n==null?void 0:n[s]}}),r}function ZB(t,e,n){const r=t.today(),s=e?t.startOfISOWeek(r):t.startOfWeek(r),o=[];for(let c=0;c<7;c++){const d=t.addDays(s,c);o.push(d)}return o}function eW(t,e,n,r){if(!t||!e)return;const{startOfYear:s,endOfYear:o,addYears:c,getYear:d,isBefore:h,isSameYear:p}=r,g=s(t),v=o(e),x=[];let S=g;for(;h(S,v)||p(S,v);)x.push(S),S=c(S,1);return x.map(C=>{const b=n.formatYearDropdown(C,r);return{value:d(C),label:b,disabled:!1}})}function jI(t,e,n){return(n??new Mi(e)).format(t,"LLLL y")}const tW=jI;function nW(t,e,n,r){let s=(r??new Mi(n)).format(t,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function DI(t,e,n,r){let s=(r??new Mi(n)).format(t,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const rW=DI;function sW(){return""}function iW(t){return"Choose the Month"}function oW(t){return"Go to the Next Month"}function aW(t){return"Go to the Previous Month"}function lW(t,e,n){return(n??new Mi(e)).format(t,"cccc")}function cW(t,e){return`Week ${t}`}function uW(t){return"Week Number"}function dW(t){return"Choose the Year"}const hW=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:tW,labelDay:rW,labelDayButton:DI,labelGrid:jI,labelGridcell:nW,labelMonthDropdown:iW,labelNav:sW,labelNext:oW,labelPrevious:aW,labelWeekNumber:cW,labelWeekNumberHeader:uW,labelWeekday:lW,labelYearDropdown:dW},Symbol.toStringTag,{value:"Module"})),vd=t=>t instanceof HTMLElement?t:null,Kg=t=>[...t.querySelectorAll("[data-animated-month]")??[]],fW=t=>vd(t.querySelector("[data-animated-month]")),Yg=t=>vd(t.querySelector("[data-animated-caption]")),Qg=t=>vd(t.querySelector("[data-animated-weeks]")),mW=t=>vd(t.querySelector("[data-animated-nav]")),pW=t=>vd(t.querySelector("[data-animated-weekdays]"));function gW(t,e,{classNames:n,months:r,focused:s,dateLib:o}){const c=w.useRef(null),d=w.useRef(r),h=w.useRef(!1);w.useLayoutEffect(()=>{const p=d.current;if(d.current=r,!e||!t.current||!(t.current instanceof HTMLElement)||r.length===0||p.length===0||r.length!==p.length)return;const g=o.isSameMonth(r[0].date,p[0].date),v=o.isAfter(r[0].date,p[0].date),x=v?n[ur.caption_after_enter]:n[ur.caption_before_enter],S=v?n[ur.weeks_after_enter]:n[ur.weeks_before_enter],C=c.current,b=t.current.cloneNode(!0);if(b instanceof HTMLElement?(Kg(b).forEach(j=>{if(!(j instanceof HTMLElement))return;const B=fW(j);B&&j.contains(B)&&j.removeChild(B);const M=Yg(j);M&&M.classList.remove(x);const $=Qg(j);$&&$.classList.remove(S)}),c.current=b):c.current=null,h.current||g||s)return;const I=C instanceof HTMLElement?Kg(C):[],O=Kg(t.current);if(O&&O.every(D=>D instanceof HTMLElement)&&I&&I.every(D=>D instanceof HTMLElement)){h.current=!0,t.current.style.isolation="isolate";const D=mW(t.current);D&&(D.style.zIndex="1"),O.forEach((j,B)=>{const M=I[B];if(!M)return;j.style.position="relative",j.style.overflow="hidden";const $=Yg(j);$&&$.classList.add(x);const N=Qg(j);N&&N.classList.add(S);const k=()=>{h.current=!1,t.current&&(t.current.style.isolation=""),D&&(D.style.zIndex=""),$&&$.classList.remove(x),N&&N.classList.remove(S),j.style.position="",j.style.overflow="",j.contains(M)&&j.removeChild(M)};M.style.pointerEvents="none",M.style.position="absolute",M.style.overflow="hidden",M.setAttribute("aria-hidden","true");const P=pW(M);P&&(P.style.opacity="0");const F=Yg(M);F&&(F.classList.add(v?n[ur.caption_before_exit]:n[ur.caption_after_exit]),F.addEventListener("animationend",k));const U=Qg(M);U&&U.classList.add(v?n[ur.weeks_before_exit]:n[ur.weeks_after_exit]),j.insertBefore(M,j.firstChild)})}})}function vW(t,e,n,r){const s=t[0],o=t[t.length-1],{ISOWeek:c,fixedWeeks:d,broadcastCalendar:h}=n??{},{addDays:p,differenceInCalendarDays:g,differenceInCalendarMonths:v,endOfBroadcastWeek:x,endOfISOWeek:S,endOfMonth:C,endOfWeek:b,isAfter:I,startOfBroadcastWeek:O,startOfISOWeek:D,startOfWeek:j}=r,B=h?O(s,r):c?D(s):j(s),M=h?x(o):c?S(C(o)):b(C(o)),$=g(M,B),N=v(o,s)+1,k=[];for(let U=0;U<=$;U++){const L=p(B,U);if(e&&I(L,e))break;k.push(L)}const F=(h?35:42)*N;if(d&&k.length<F){const U=F-k.length;for(let L=0;L<U;L++){const A=p(k[k.length-1],1);k.push(A)}}return k}function yW(t){const e=[];return t.reduce((n,r)=>{const s=r.weeks.reduce((o,c)=>[...o,...c.days],e);return[...n,...s]},e)}function xW(t,e,n,r){const{numberOfMonths:s=1}=n,o=[];for(let c=0;c<s;c++){const d=r.addMonths(t,c);if(e&&d>e)break;o.push(d)}return o}function Jb(t,e,n,r){const{month:s,defaultMonth:o,today:c=r.today(),numberOfMonths:d=1}=t;let h=s||o||c;const{differenceInCalendarMonths:p,addMonths:g,startOfMonth:v}=r;if(n&&p(n,h)<d-1){const x=-1*(d-1);h=g(n,x)}return e&&p(h,e)<0&&(h=e),v(h)}function wW(t,e,n,r){const{addDays:s,endOfBroadcastWeek:o,endOfISOWeek:c,endOfMonth:d,endOfWeek:h,getISOWeek:p,getWeek:g,startOfBroadcastWeek:v,startOfISOWeek:x,startOfWeek:S}=r,C=t.reduce((b,I)=>{const O=n.broadcastCalendar?v(I,r):n.ISOWeek?x(I):S(I),D=n.broadcastCalendar?o(I):n.ISOWeek?c(d(I)):h(d(I)),j=e.filter(N=>N>=O&&N<=D),B=n.broadcastCalendar?35:42;if(n.fixedWeeks&&j.length<B){const N=e.filter(k=>{const P=B-j.length;return k>D&&k<=s(D,P)});j.push(...N)}const M=j.reduce((N,k)=>{const P=n.ISOWeek?p(k):g(k),F=N.find(L=>L.weekNumber===P),U=new SI(k,I,r);return F?F.days.push(U):N.push(new uB(P,[U])),N},[]),$=new cB(I,M);return b.push($),b},[]);return n.reverseMonths?C.reverse():C}function _W(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:s,startOfDay:o,startOfMonth:c,endOfMonth:d,addYears:h,endOfYear:p,newDate:g,today:v}=e,{fromYear:x,toYear:S,fromMonth:C,toMonth:b}=t;!n&&C&&(n=C),!n&&x&&(n=e.newDate(x,0,1)),!r&&b&&(r=b),!r&&S&&(r=g(S,11,31));const I=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=c(n):x?n=g(x,0,1):!n&&I&&(n=s(h(t.today??v(),-100))),r?r=d(r):S?r=g(S,11,31):!r&&I&&(r=p(t.today??v())),[n&&o(n),r&&o(r)]}function EW(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:o=1}=n,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:h}=r,p=s?o:1,g=c(t);if(!e)return d(g,p);if(!(h(e,t)<o))return d(g,p)}function bW(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:o}=n,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:h}=r,p=s?o??1:1,g=c(t);if(!e)return d(g,-p);if(!(h(g,e)<=0))return d(g,-p)}function SW(t){const e=[];return t.reduce((n,r)=>[...n,...r.weeks],e)}function Lm(t,e){const[n,r]=w.useState(t);return[e===void 0?n:e,r]}function CW(t,e){const[n,r]=_W(t,e),{startOfMonth:s,endOfMonth:o}=e,c=Jb(t,n,r,e),[d,h]=Lm(c,t.month?c:void 0);w.useEffect(()=>{const $=Jb(t,n,r,e);h($)},[t.timeZone]);const p=xW(d,r,t,e),g=vW(p,t.endMonth?o(t.endMonth):void 0,t,e),v=wW(p,g,t,e),x=SW(v),S=yW(v),C=bW(d,n,t,e),b=EW(d,r,t,e),{disableNavigation:I,onMonthChange:O}=t,D=$=>x.some(N=>N.days.some(k=>k.isEqualTo($))),j=$=>{if(I)return;let N=s($);n&&N<s(n)&&(N=s(n)),r&&N>s(r)&&(N=s(r)),h(N),O==null||O(N)};return{months:v,weeks:x,days:S,navStart:n,navEnd:r,previousMonth:C,nextMonth:b,goToMonth:j,goToDay:$=>{D($)||j($.date)}}}var Is;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(Is||(Is={}));function Zb(t){return!t[Ut.disabled]&&!t[Ut.hidden]&&!t[Ut.outside]}function TW(t,e,n,r){let s,o=-1;for(const c of t){const d=e(c);Zb(d)&&(d[Ut.focused]&&o<Is.FocusedModifier?(s=c,o=Is.FocusedModifier):r!=null&&r.isEqualTo(c)&&o<Is.LastFocused?(s=c,o=Is.LastFocused):n(c.date)&&o<Is.Selected?(s=c,o=Is.Selected):d[Ut.today]&&o<Is.Today&&(s=c,o=Is.Today))}return s||(s=t.find(c=>Zb(e(c)))),s}function NW(t,e,n,r,s,o,c){const{ISOWeek:d,broadcastCalendar:h}=o,{addDays:p,addMonths:g,addWeeks:v,addYears:x,endOfBroadcastWeek:S,endOfISOWeek:C,endOfWeek:b,max:I,min:O,startOfBroadcastWeek:D,startOfISOWeek:j,startOfWeek:B}=c;let $={day:p,week:v,month:g,year:x,startOfWeek:N=>h?D(N,c):d?j(N):B(N),endOfWeek:N=>h?S(N):d?C(N):b(N)}[t](n,e==="after"?1:-1);return e==="before"&&r?$=I([r,$]):e==="after"&&s&&($=O([s,$])),$}function OI(t,e,n,r,s,o,c,d=0){if(d>365)return;const h=NW(t,e,n.date,r,s,o,c),p=!!(o.disabled&&Ei(h,o.disabled,c)),g=!!(o.hidden&&Ei(h,o.hidden,c)),v=h,x=new SI(h,v,c);return!p&&!g?x:OI(t,e,x,r,s,o,c,d+1)}function IW(t,e,n,r,s){const{autoFocus:o}=t,[c,d]=w.useState(),h=TW(e.days,n,r||(()=>!1),c),[p,g]=w.useState(o?h:void 0);return{isFocusTarget:b=>!!(h!=null&&h.isEqualTo(b)),setFocused:g,focused:p,blur:()=>{d(p),g(void 0)},moveFocus:(b,I)=>{if(!p)return;const O=OI(b,I,p,e.navStart,e.navEnd,t,s);O&&(e.goToDay(O),g(O))}}}function kW(t,e){const{selected:n,required:r,onSelect:s}=t,[o,c]=Lm(n,s?n:void 0),d=s?n:o,{isSameDay:h}=e,p=S=>(d==null?void 0:d.some(C=>h(C,S)))??!1,{min:g,max:v}=t;return{selected:d,select:(S,C,b)=>{let I=[...d??[]];if(p(S)){if((d==null?void 0:d.length)===g||r&&(d==null?void 0:d.length)===1)return;I=d==null?void 0:d.filter(O=>!h(O,S))}else(d==null?void 0:d.length)===v?I=[S]:I=[...I,S];return s||c(I),s==null||s(I,S,C,b),I},isSelected:p}}function AW(t,e,n=0,r=0,s=!1,o=Js){const{from:c,to:d}=e||{},{isSameDay:h,isAfter:p,isBefore:g}=o;let v;if(!c&&!d)v={from:t,to:n>0?void 0:t};else if(c&&!d)h(c,t)?s?v={from:c,to:void 0}:v=void 0:g(t,c)?v={from:t,to:c}:v={from:c,to:t};else if(c&&d)if(h(c,t)&&h(d,t))s?v={from:c,to:d}:v=void 0;else if(h(c,t))v={from:c,to:n>0?void 0:t};else if(h(d,t))v={from:t,to:n>0?void 0:t};else if(g(t,c))v={from:t,to:d};else if(p(t,c))v={from:c,to:t};else if(p(t,d))v={from:c,to:t};else throw new Error("Invalid range");if(v!=null&&v.from&&(v!=null&&v.to)){const x=o.differenceInCalendarDays(v.to,v.from);r>0&&x>r?v={from:t,to:void 0}:n>1&&x<n&&(v={from:t,to:void 0})}return v}function RW(t,e,n=Js){const r=Array.isArray(e)?e:[e];let s=t.from;const o=n.differenceInCalendarDays(t.to,t.from),c=Math.min(o,6);for(let d=0;d<=c;d++){if(r.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function eS(t,e,n=Js){return _i(t,e.from,!1,n)||_i(t,e.to,!1,n)||_i(e,t.from,!1,n)||_i(e,t.to,!1,n)}function PW(t,e,n=Js){const r=Array.isArray(e)?e:[e];if(r.filter(d=>typeof d!="function").some(d=>typeof d=="boolean"?d:n.isDate(d)?_i(t,d,!1,n):kI(d,n)?d.some(h=>_i(t,h,!1,n)):Lx(d)?d.from&&d.to?eS(t,{from:d.from,to:d.to},n):!1:II(d)?RW(t,d.dayOfWeek,n):CI(d)?n.isAfter(d.before,d.after)?eS(t,{from:n.addDays(d.after,1),to:n.addDays(d.before,-1)},n):Ei(t.from,d,n)||Ei(t.to,d,n):TI(d)||NI(d)?Ei(t.from,d,n)||Ei(t.to,d,n):!1))return!0;const c=r.filter(d=>typeof d=="function");if(c.length){let d=t.from;const h=n.differenceInCalendarDays(t.to,t.from);for(let p=0;p<=h;p++){if(c.some(g=>g(d)))return!0;d=n.addDays(d,1)}}return!1}function jW(t,e){const{disabled:n,excludeDisabled:r,selected:s,required:o,onSelect:c}=t,[d,h]=Lm(s,c?s:void 0),p=c?s:d;return{selected:p,select:(x,S,C)=>{const{min:b,max:I}=t,O=x?AW(x,p,b,I,o,e):void 0;return r&&n&&(O!=null&&O.from)&&O.to&&PW({from:O.from,to:O.to},n,e)&&(O.from=x,O.to=void 0),c||h(O),c==null||c(O,x,S,C),O},isSelected:x=>p&&_i(p,x,!1,e)}}function DW(t,e){const{selected:n,required:r,onSelect:s}=t,[o,c]=Lm(n,s?n:void 0),d=s?n:o,{isSameDay:h}=e;return{selected:d,select:(v,x,S)=>{let C=v;return!r&&d&&d&&h(v,d)&&(C=void 0),s||c(C),s==null||s(C,v,x,S),C},isSelected:v=>d?h(d,v):!1}}function OW(t,e){const n=DW(t,e),r=kW(t,e),s=jW(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return s;default:return}}function MW(t){var Or;let e=t;e.timeZone&&(e={...t},e.today&&(e.today=new Pn(e.today,e.timeZone)),e.month&&(e.month=new Pn(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new Pn(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new Pn(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new Pn(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new Pn(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=(Or=e.selected)==null?void 0:Or.map(Ye=>new Pn(Ye,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new Pn(e.selected.from,e.timeZone):void 0,to:e.selected.to?new Pn(e.selected.to,e.timeZone):void 0}));const{components:n,formatters:r,labels:s,dateLib:o,locale:c,classNames:d}=w.useMemo(()=>{const Ye={...Ox,...e.locale};return{dateLib:new Mi({locale:Ye,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:UB(e.components),formatters:QB(e.formatters),labels:{...hW,...e.labels},locale:Ye,classNames:{...Vx(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:h,mode:p,navLayout:g,numberOfMonths:v=1,onDayBlur:x,onDayClick:S,onDayFocus:C,onDayKeyDown:b,onDayMouseEnter:I,onDayMouseLeave:O,onNextClick:D,onPrevClick:j,showWeekNumber:B,styles:M}=e,{formatCaption:$,formatDay:N,formatMonthDropdown:k,formatWeekNumber:P,formatWeekNumberHeader:F,formatWeekdayName:U,formatYearDropdown:L}=r,A=CW(e,o),{days:le,months:ve,navStart:pe,navEnd:xe,previousMonth:z,nextMonth:K,goToMonth:te}=A,q=dB(le,e,pe,xe,o),{isSelected:ee,select:ge,selected:ye}=OW(e,o)??{},{blur:Oe,focused:De,isFocusTarget:oe,moveFocus:Ee,setFocused:Re}=IW(e,A,q,ee??(()=>!1),o),{labelDayButton:Fe,labelGridcell:Je,labelGrid:Ze,labelMonthDropdown:It,labelNav:$t,labelPrevious:zn,labelNext:fe,labelWeekday:Pe,labelWeekNumber:St,labelWeekNumberHeader:Ke,labelYearDropdown:tt}=s,Lt=w.useMemo(()=>ZB(o,e.ISOWeek),[o,e.ISOWeek]),nn=p!==void 0||S!==void 0,Sn=w.useCallback(()=>{z&&(te(z),j==null||j(z))},[z,te,j]),Qt=w.useCallback(()=>{K&&(te(K),D==null||D(K))},[te,K,D]),Zn=w.useCallback((Ye,ht)=>nt=>{nt.preventDefault(),nt.stopPropagation(),Re(Ye),ge==null||ge(Ye.date,ht,nt),S==null||S(Ye.date,ht,nt)},[ge,S,Re]),os=w.useCallback((Ye,ht)=>nt=>{Re(Ye),C==null||C(Ye.date,ht,nt)},[C,Re]),Vi=w.useCallback((Ye,ht)=>nt=>{Oe(),x==null||x(Ye.date,ht,nt)},[Oe,x]),as=w.useCallback((Ye,ht)=>nt=>{const vt={ArrowLeft:[nt.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[nt.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[nt.shiftKey?"year":"week","after"],ArrowUp:[nt.shiftKey?"year":"week","before"],PageUp:[nt.shiftKey?"year":"month","before"],PageDown:[nt.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(vt[nt.key]){nt.preventDefault(),nt.stopPropagation();const[gn,er]=vt[nt.key];Ee(gn,er)}b==null||b(Ye.date,ht,nt)},[Ee,b,e.dir]),$a=w.useCallback((Ye,ht)=>nt=>{I==null||I(Ye.date,ht,nt)},[I]),ei=w.useCallback((Ye,ht)=>nt=>{O==null||O(Ye.date,ht,nt)},[O]),ls=w.useCallback(Ye=>ht=>{const nt=Number(ht.target.value),vt=o.setMonth(o.startOfMonth(Ye),nt);te(vt)},[o,te]),Ha=w.useCallback(Ye=>ht=>{const nt=Number(ht.target.value),vt=o.setYear(o.startOfMonth(Ye),nt);te(vt)},[o,te]),{className:cs,style:Fi}=w.useMemo(()=>({className:[d[je.Root],e.className].filter(Boolean).join(" "),style:{...M==null?void 0:M[je.Root],...e.style}}),[d,e.className,e.style,M]),Zo=zB(e),Bn=w.useRef(null);gW(Bn,!!e.animate,{classNames:d,months:ve,focused:De,dateLib:o});const Ui={dayPickerProps:e,selected:ye,select:ge,isSelected:ee,months:ve,nextMonth:K,previousMonth:z,goToMonth:te,getModifiers:q,components:n,classNames:d,styles:M,labels:s,formatters:r};return ue.createElement(AI.Provider,{value:Ui},ue.createElement(n.Root,{rootRef:e.animate?Bn:void 0,className:cs,style:Fi,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...Zo},ue.createElement(n.Months,{className:d[je.Months],style:M==null?void 0:M[je.Months]},!e.hideNavigation&&!g&&ue.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:d[je.Nav],style:M==null?void 0:M[je.Nav],"aria-label":$t(),onPreviousClick:Sn,onNextClick:Qt,previousMonth:z,nextMonth:K}),ve.map((Ye,ht)=>{const nt=XB(Ye.date,pe,xe,r,o),vt=eW(pe,xe,r,o);return ue.createElement(n.Month,{"data-animated-month":e.animate?"true":void 0,className:d[je.Month],style:M==null?void 0:M[je.Month],key:ht,displayIndex:ht,calendarMonth:Ye},g==="around"&&!e.hideNavigation&&ht===0&&ue.createElement(n.PreviousMonthButton,{type:"button",className:d[je.PreviousMonthButton],tabIndex:z?void 0:-1,"aria-disabled":z?void 0:!0,"aria-label":zn(z),onClick:Sn,"data-animated-button":e.animate?"true":void 0},ue.createElement(n.Chevron,{disabled:z?void 0:!0,className:d[je.Chevron],orientation:e.dir==="rtl"?"right":"left"})),ue.createElement(n.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:d[je.MonthCaption],style:M==null?void 0:M[je.MonthCaption],calendarMonth:Ye,displayIndex:ht},h!=null&&h.startsWith("dropdown")?ue.createElement(n.DropdownNav,{className:d[je.Dropdowns],style:M==null?void 0:M[je.Dropdowns]},h==="dropdown"||h==="dropdown-months"?ue.createElement(n.MonthsDropdown,{className:d[je.MonthsDropdown],"aria-label":It(),classNames:d,components:n,disabled:!!e.disableNavigation,onChange:ls(Ye.date),options:nt,style:M==null?void 0:M[je.Dropdown],value:o.getMonth(Ye.date)}):ue.createElement("span",null,k(Ye.date,o)),h==="dropdown"||h==="dropdown-years"?ue.createElement(n.YearsDropdown,{className:d[je.YearsDropdown],"aria-label":tt(o.options),classNames:d,components:n,disabled:!!e.disableNavigation,onChange:Ha(Ye.date),options:vt,style:M==null?void 0:M[je.Dropdown],value:o.getYear(Ye.date)}):ue.createElement("span",null,L(Ye.date,o)),ue.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},$(Ye.date,o.options,o))):ue.createElement(n.CaptionLabel,{className:d[je.CaptionLabel],role:"status","aria-live":"polite"},$(Ye.date,o.options,o))),g==="around"&&!e.hideNavigation&&ht===v-1&&ue.createElement(n.NextMonthButton,{type:"button",className:d[je.NextMonthButton],tabIndex:K?void 0:-1,"aria-disabled":K?void 0:!0,"aria-label":fe(K),onClick:Qt,"data-animated-button":e.animate?"true":void 0},ue.createElement(n.Chevron,{disabled:K?void 0:!0,className:d[je.Chevron],orientation:e.dir==="rtl"?"left":"right"})),ht===v-1&&g==="after"&&!e.hideNavigation&&ue.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:d[je.Nav],style:M==null?void 0:M[je.Nav],"aria-label":$t(),onPreviousClick:Sn,onNextClick:Qt,previousMonth:z,nextMonth:K}),ue.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":p==="multiple"||p==="range","aria-label":Ze(Ye.date,o.options,o)||void 0,className:d[je.MonthGrid],style:M==null?void 0:M[je.MonthGrid]},!e.hideWeekdays&&ue.createElement(n.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:d[je.Weekdays],style:M==null?void 0:M[je.Weekdays]},B&&ue.createElement(n.WeekNumberHeader,{"aria-label":Ke(o.options),className:d[je.WeekNumberHeader],style:M==null?void 0:M[je.WeekNumberHeader],scope:"col"},F()),Lt.map((gn,er)=>ue.createElement(n.Weekday,{"aria-label":Pe(gn,o.options,o),className:d[je.Weekday],key:er,style:M==null?void 0:M[je.Weekday],scope:"col"},U(gn,o.options,o)))),ue.createElement(n.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:d[je.Weeks],style:M==null?void 0:M[je.Weeks]},Ye.weeks.map((gn,er)=>ue.createElement(n.Week,{className:d[je.Week],key:gn.weekNumber,style:M==null?void 0:M[je.Week],week:gn},B&&ue.createElement(n.WeekNumber,{week:gn,style:M==null?void 0:M[je.WeekNumber],"aria-label":St(gn.weekNumber,{locale:c}),className:d[je.WeekNumber],scope:"row",role:"rowheader"},P(gn.weekNumber,o)),gn.days.map(At=>{const{date:Ln}=At,ft=q(At);if(ft[Ut.focused]=!ft.hidden&&!!(De!=null&&De.isEqualTo(At)),ft[Qr.selected]=(ee==null?void 0:ee(Ln))||ft.selected,Lx(ye)){const{from:xr,to:wr}=ye;ft[Qr.range_start]=!!(xr&&wr&&o.isSameDay(Ln,xr)),ft[Qr.range_end]=!!(xr&&wr&&o.isSameDay(Ln,wr)),ft[Qr.range_middle]=_i(ye,Ln,!0,o)}const yr=JB(ft,M,e.modifiersStyles),qa=hB(ft,d,e.modifiersClassNames),ti=!nn&&!ft.hidden?Je(Ln,ft,o.options,o):void 0;return ue.createElement(n.Day,{key:`${o.format(Ln,"yyyy-MM-dd")}_${o.format(At.displayMonth,"yyyy-MM")}`,day:At,modifiers:ft,className:qa.join(" "),style:yr,role:"gridcell","aria-selected":ft.selected||void 0,"aria-label":ti,"data-day":o.format(Ln,"yyyy-MM-dd"),"data-month":At.outside?o.format(Ln,"yyyy-MM"):void 0,"data-selected":ft.selected||void 0,"data-disabled":ft.disabled||void 0,"data-hidden":ft.hidden||void 0,"data-outside":At.outside||void 0,"data-focused":ft.focused||void 0,"data-today":ft.today||void 0},!ft.hidden&&nn?ue.createElement(n.DayButton,{className:d[je.DayButton],style:M==null?void 0:M[je.DayButton],type:"button",day:At,modifiers:ft,disabled:ft.disabled||void 0,tabIndex:oe(At)?0:-1,"aria-label":Fe(Ln,ft,o.options,o),onClick:Zn(At,ft),onBlur:Vi(At,ft),onFocus:os(At,ft),onKeyDown:as(At,ft),onMouseEnter:$a(At,ft),onMouseLeave:ei(At,ft)},N(Ln,o.options,o)):!ft.hidden&&N(At.date,o.options,o))}))))))})),e.footer&&ue.createElement(n.Footer,{className:d[je.Footer],style:M==null?void 0:M[je.Footer],role:"status","aria-live":"polite"},e.footer)))}function MI({className:t,classNames:e,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:s="ghost",formatters:o,components:c,...d}){const h=Vx();return l.jsx(MW,{showOutsideDays:n,className:ce("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,t),captionLayout:r,formatters:{formatMonthDropdown:p=>p.toLocaleString("default",{month:"short"}),...o},classNames:{root:ce("w-fit",h.root),months:ce("flex gap-4 flex-col md:flex-row relative",h.months),month:ce("flex flex-col w-full gap-4",h.month),nav:ce("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",h.nav),button_previous:ce(Ku({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",h.button_previous),button_next:ce(Ku({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",h.button_next),month_caption:ce("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",h.month_caption),dropdowns:ce("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",h.dropdowns),dropdown_root:ce("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",h.dropdown_root),dropdown:ce("absolute bg-popover inset-0 opacity-0",h.dropdown),caption_label:ce("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",h.caption_label),table:"w-full border-collapse",weekdays:ce("flex",h.weekdays),weekday:ce("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",h.weekday),week:ce("flex w-full mt-2",h.week),week_number_header:ce("select-none w-(--cell-size)",h.week_number_header),week_number:ce("text-[0.8rem] select-none text-muted-foreground",h.week_number),day:ce("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",h.day),range_start:ce("rounded-l-md bg-accent",h.range_start),range_middle:ce("rounded-none",h.range_middle),range_end:ce("rounded-r-md bg-accent",h.range_end),today:ce("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",h.today),outside:ce("text-muted-foreground aria-selected:text-muted-foreground",h.outside),disabled:ce("text-muted-foreground opacity-50",h.disabled),hidden:ce("invisible",h.hidden),...e},components:{Root:({className:p,rootRef:g,...v})=>l.jsx("div",{"data-slot":"calendar",ref:g,className:ce(p),...v}),Chevron:({className:p,orientation:g,...v})=>g==="left"?l.jsx(_F,{className:ce("size-4",p),...v}):g==="right"?l.jsx(p1,{className:ce("size-4",p),...v}):l.jsx(wc,{className:ce("size-4",p),...v}),DayButton:LW,WeekNumber:({children:p,...g})=>l.jsx("td",{...g,children:l.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:p})}),...c},...d})}function LW({className:t,day:e,modifiers:n,...r}){const s=Vx(),o=w.useRef(null);return w.useEffect(()=>{var c;n.focused&&((c=o.current)==null||c.focus())},[n.focused]),l.jsx(he,{ref:o,variant:"ghost",size:"icon","data-day":e.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:ce("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",s.day,t),...r})}function LI({...t}){return l.jsx(RN,{"data-slot":"collapsible",...t})}function VI({...t}){return l.jsx(Cx,{"data-slot":"collapsible-trigger",...t})}function FI({...t}){return l.jsx(Nx,{"data-slot":"collapsible-content",...t})}const VW=["top","right","bottom","left"],Ro=Math.min,dr=Math.max,qf=Math.round,Yh=Math.floor,Bs=t=>({x:t,y:t}),FW={left:"right",right:"left",bottom:"top",top:"bottom"},UW={start:"end",end:"start"};function zv(t,e,n){return dr(t,Ro(e,n))}function Pi(t,e){return typeof t=="function"?t(e):t}function ji(t){return t.split("-")[0]}function Cc(t){return t.split("-")[1]}function Fx(t){return t==="x"?"y":"x"}function Ux(t){return t==="y"?"height":"width"}const zW=new Set(["top","bottom"]);function Os(t){return zW.has(ji(t))?"y":"x"}function zx(t){return Fx(Os(t))}function BW(t,e,n){n===void 0&&(n=!1);const r=Cc(t),s=zx(t),o=Ux(s);let c=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=Gf(c)),[c,Gf(c)]}function WW(t){const e=Gf(t);return[Bv(t),e,Bv(e)]}function Bv(t){return t.replace(/start|end/g,e=>UW[e])}const tS=["left","right"],nS=["right","left"],$W=["top","bottom"],HW=["bottom","top"];function qW(t,e,n){switch(t){case"top":case"bottom":return n?e?nS:tS:e?tS:nS;case"left":case"right":return e?$W:HW;default:return[]}}function GW(t,e,n,r){const s=Cc(t);let o=qW(ji(t),n==="start",r);return s&&(o=o.map(c=>c+"-"+s),e&&(o=o.concat(o.map(Bv)))),o}function Gf(t){return t.replace(/left|right|bottom|top/g,e=>FW[e])}function KW(t){return{top:0,right:0,bottom:0,left:0,...t}}function UI(t){return typeof t!="number"?KW(t):{top:t,right:t,bottom:t,left:t}}function Kf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function rS(t,e,n){let{reference:r,floating:s}=t;const o=Os(e),c=zx(e),d=Ux(c),h=ji(e),p=o==="y",g=r.x+r.width/2-s.width/2,v=r.y+r.height/2-s.height/2,x=r[d]/2-s[d]/2;let S;switch(h){case"top":S={x:g,y:r.y-s.height};break;case"bottom":S={x:g,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:v};break;case"left":S={x:r.x-s.width,y:v};break;default:S={x:r.x,y:r.y}}switch(Cc(e)){case"start":S[c]-=x*(n&&p?-1:1);break;case"end":S[c]+=x*(n&&p?-1:1);break}return S}const YW=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:c}=n,d=o.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:t,floating:e,strategy:s}),{x:g,y:v}=rS(p,r,h),x=r,S={},C=0;for(let b=0;b<d.length;b++){const{name:I,fn:O}=d[b],{x:D,y:j,data:B,reset:M}=await O({x:g,y:v,initialPlacement:r,placement:x,strategy:s,middlewareData:S,rects:p,platform:c,elements:{reference:t,floating:e}});g=D??g,v=j??v,S={...S,[I]:{...S[I],...B}},M&&C<=50&&(C++,typeof M=="object"&&(M.placement&&(x=M.placement),M.rects&&(p=M.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:s}):M.rects),{x:g,y:v}=rS(p,x,h)),b=-1)}return{x:g,y:v,placement:x,strategy:s,middlewareData:S}};async function Ju(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:c,elements:d,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:x=!1,padding:S=0}=Pi(e,t),C=UI(S),I=d[x?v==="floating"?"reference":"floating":v],O=Kf(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(I)))==null||n?I:I.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:p,rootBoundary:g,strategy:h})),D=v==="floating"?{x:r,y:s,width:c.floating.width,height:c.floating.height}:c.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),B=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},M=Kf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:D,offsetParent:j,strategy:h}):D);return{top:(O.top-M.top+C.top)/B.y,bottom:(M.bottom-O.bottom+C.bottom)/B.y,left:(O.left-M.left+C.left)/B.x,right:(M.right-O.right+C.right)/B.x}}const QW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:c,elements:d,middlewareData:h}=e,{element:p,padding:g=0}=Pi(t,e)||{};if(p==null)return{};const v=UI(g),x={x:n,y:r},S=zx(s),C=Ux(S),b=await c.getDimensions(p),I=S==="y",O=I?"top":"left",D=I?"bottom":"right",j=I?"clientHeight":"clientWidth",B=o.reference[C]+o.reference[S]-x[S]-o.floating[C],M=x[S]-o.reference[S],$=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let N=$?$[j]:0;(!N||!await(c.isElement==null?void 0:c.isElement($)))&&(N=d.floating[j]||o.floating[C]);const k=B/2-M/2,P=N/2-b[C]/2-1,F=Ro(v[O],P),U=Ro(v[D],P),L=F,A=N-b[C]-U,le=N/2-b[C]/2+k,ve=zv(L,le,A),pe=!h.arrow&&Cc(s)!=null&&le!==ve&&o.reference[C]/2-(le<L?F:U)-b[C]/2<0,xe=pe?le<L?le-L:le-A:0;return{[S]:x[S]+xe,data:{[S]:ve,centerOffset:le-ve-xe,...pe&&{alignmentOffset:xe}},reset:pe}}}),XW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:c,initialPlacement:d,platform:h,elements:p}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:b=!0,...I}=Pi(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const O=ji(s),D=Os(d),j=ji(d)===d,B=await(h.isRTL==null?void 0:h.isRTL(p.floating)),M=x||(j||!b?[Gf(d)]:WW(d)),$=C!=="none";!x&&$&&M.push(...GW(d,b,C,B));const N=[d,...M],k=await Ju(e,I),P=[];let F=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&P.push(k[O]),v){const le=BW(s,c,B);P.push(k[le[0]],k[le[1]])}if(F=[...F,{placement:s,overflows:P}],!P.every(le=>le<=0)){var U,L;const le=(((U=o.flip)==null?void 0:U.index)||0)+1,ve=N[le];if(ve&&(!(v==="alignment"?D!==Os(ve):!1)||F.every(z=>Os(z.placement)===D?z.overflows[0]>0:!0)))return{data:{index:le,overflows:F},reset:{placement:ve}};let pe=(L=F.filter(xe=>xe.overflows[0]<=0).sort((xe,z)=>xe.overflows[1]-z.overflows[1])[0])==null?void 0:L.placement;if(!pe)switch(S){case"bestFit":{var A;const xe=(A=F.filter(z=>{if($){const K=Os(z.placement);return K===D||K==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(K=>K>0).reduce((K,te)=>K+te,0)]).sort((z,K)=>z[1]-K[1])[0])==null?void 0:A[0];xe&&(pe=xe);break}case"initialPlacement":pe=d;break}if(s!==pe)return{reset:{placement:pe}}}return{}}}};function sS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function iS(t){return VW.some(e=>t[e]>=0)}const JW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Pi(t,e);switch(r){case"referenceHidden":{const o=await Ju(e,{...s,elementContext:"reference"}),c=sS(o,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:iS(c)}}}case"escaped":{const o=await Ju(e,{...s,altBoundary:!0}),c=sS(o,n.floating);return{data:{escapedOffsets:c,escaped:iS(c)}}}default:return{}}}}},zI=new Set(["left","top"]);async function ZW(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),c=ji(n),d=Cc(n),h=Os(n)==="y",p=zI.has(c)?-1:1,g=o&&h?-1:1,v=Pi(e,t);let{mainAxis:x,crossAxis:S,alignmentAxis:C}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return d&&typeof C=="number"&&(S=d==="end"?C*-1:C),h?{x:S*g,y:x*p}:{x:x*p,y:S*g}}const e$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:c,middlewareData:d}=e,h=await ZW(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:o+h.y,data:{...h,placement:c}}}}},t$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:d={fn:I=>{let{x:O,y:D}=I;return{x:O,y:D}}},...h}=Pi(t,e),p={x:n,y:r},g=await Ju(e,h),v=Os(ji(s)),x=Fx(v);let S=p[x],C=p[v];if(o){const I=x==="y"?"top":"left",O=x==="y"?"bottom":"right",D=S+g[I],j=S-g[O];S=zv(D,S,j)}if(c){const I=v==="y"?"top":"left",O=v==="y"?"bottom":"right",D=C+g[I],j=C-g[O];C=zv(D,C,j)}const b=d.fn({...e,[x]:S,[v]:C});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[x]:o,[v]:c}}}}}},n$=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:c}=e,{offset:d=0,mainAxis:h=!0,crossAxis:p=!0}=Pi(t,e),g={x:n,y:r},v=Os(s),x=Fx(v);let S=g[x],C=g[v];const b=Pi(d,e),I=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(h){const j=x==="y"?"height":"width",B=o.reference[x]-o.floating[j]+I.mainAxis,M=o.reference[x]+o.reference[j]-I.mainAxis;S<B?S=B:S>M&&(S=M)}if(p){var O,D;const j=x==="y"?"width":"height",B=zI.has(ji(s)),M=o.reference[v]-o.floating[j]+(B&&((O=c.offset)==null?void 0:O[v])||0)+(B?0:I.crossAxis),$=o.reference[v]+o.reference[j]+(B?0:((D=c.offset)==null?void 0:D[v])||0)-(B?I.crossAxis:0);C<M?C=M:C>$&&(C=$)}return{[x]:S,[v]:C}}}},r$=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:c,elements:d}=e,{apply:h=()=>{},...p}=Pi(t,e),g=await Ju(e,p),v=ji(s),x=Cc(s),S=Os(s)==="y",{width:C,height:b}=o.floating;let I,O;v==="top"||v==="bottom"?(I=v,O=x===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(O=v,I=x==="end"?"top":"bottom");const D=b-g.top-g.bottom,j=C-g.left-g.right,B=Ro(b-g[I],D),M=Ro(C-g[O],j),$=!e.middlewareData.shift;let N=B,k=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=D),$&&!x){const F=dr(g.left,0),U=dr(g.right,0),L=dr(g.top,0),A=dr(g.bottom,0);S?k=C-2*(F!==0||U!==0?F+U:dr(g.left,g.right)):N=b-2*(L!==0||A!==0?L+A:dr(g.top,g.bottom))}await h({...e,availableWidth:k,availableHeight:N});const P=await c.getDimensions(d.floating);return C!==P.width||b!==P.height?{reset:{rects:!0}}:{}}}};function Vm(){return typeof window<"u"}function Tc(t){return BI(t)?(t.nodeName||"").toLowerCase():"#document"}function mr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zs(t){var e;return(e=(BI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function BI(t){return Vm()?t instanceof Node||t instanceof mr(t).Node:!1}function ts(t){return Vm()?t instanceof Element||t instanceof mr(t).Element:!1}function qs(t){return Vm()?t instanceof HTMLElement||t instanceof mr(t).HTMLElement:!1}function oS(t){return!Vm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof mr(t).ShadowRoot}const s$=new Set(["inline","contents"]);function yd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ns(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!s$.has(s)}const i$=new Set(["table","td","th"]);function o$(t){return i$.has(Tc(t))}const a$=[":popover-open",":modal"];function Fm(t){return a$.some(e=>{try{return t.matches(e)}catch{return!1}})}const l$=["transform","translate","scale","rotate","perspective"],c$=["transform","translate","scale","rotate","perspective","filter"],u$=["paint","layout","strict","content"];function Bx(t){const e=Wx(),n=ts(t)?ns(t):t;return l$.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||c$.some(r=>(n.willChange||"").includes(r))||u$.some(r=>(n.contain||"").includes(r))}function d$(t){let e=Po(t);for(;qs(e)&&!lc(e);){if(Bx(e))return e;if(Fm(e))return null;e=Po(e)}return null}function Wx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const h$=new Set(["html","body","#document"]);function lc(t){return h$.has(Tc(t))}function ns(t){return mr(t).getComputedStyle(t)}function Um(t){return ts(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Po(t){if(Tc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||oS(t)&&t.host||Zs(t);return oS(e)?e.host:e}function WI(t){const e=Po(t);return lc(e)?t.ownerDocument?t.ownerDocument.body:t.body:qs(e)&&yd(e)?e:WI(e)}function Zu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=WI(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),c=mr(s);if(o){const d=Wv(c);return e.concat(c,c.visualViewport||[],yd(s)?s:[],d&&n?Zu(d):[])}return e.concat(s,Zu(s,[],n))}function Wv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function $I(t){const e=ns(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=qs(t),o=s?t.offsetWidth:n,c=s?t.offsetHeight:r,d=qf(n)!==o||qf(r)!==c;return d&&(n=o,r=c),{width:n,height:r,$:d}}function $x(t){return ts(t)?t:t.contextElement}function Yl(t){const e=$x(t);if(!qs(e))return Bs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=$I(e);let c=(o?qf(n.width):n.width)/r,d=(o?qf(n.height):n.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const f$=Bs(0);function HI(t){const e=mr(t);return!Wx()||!e.visualViewport?f$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function m$(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==mr(t)?!1:e}function Ma(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=$x(t);let c=Bs(1);e&&(r?ts(r)&&(c=Yl(r)):c=Yl(t));const d=m$(o,n,r)?HI(o):Bs(0);let h=(s.left+d.x)/c.x,p=(s.top+d.y)/c.y,g=s.width/c.x,v=s.height/c.y;if(o){const x=mr(o),S=r&&ts(r)?mr(r):r;let C=x,b=Wv(C);for(;b&&r&&S!==C;){const I=Yl(b),O=b.getBoundingClientRect(),D=ns(b),j=O.left+(b.clientLeft+parseFloat(D.paddingLeft))*I.x,B=O.top+(b.clientTop+parseFloat(D.paddingTop))*I.y;h*=I.x,p*=I.y,g*=I.x,v*=I.y,h+=j,p+=B,C=mr(b),b=Wv(C)}}return Kf({width:g,height:v,x:h,y:p})}function zm(t,e){const n=Um(t).scrollLeft;return e?e.left+n:Ma(Zs(t)).left+n}function qI(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-zm(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function p$(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",c=Zs(r),d=e?Fm(e.floating):!1;if(r===c||d&&o)return n;let h={scrollLeft:0,scrollTop:0},p=Bs(1);const g=Bs(0),v=qs(r);if((v||!v&&!o)&&((Tc(r)!=="body"||yd(c))&&(h=Um(r)),qs(r))){const S=Ma(r);p=Yl(r),g.x=S.x+r.clientLeft,g.y=S.y+r.clientTop}const x=c&&!v&&!o?qI(c,h):Bs(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+g.x+x.x,y:n.y*p.y-h.scrollTop*p.y+g.y+x.y}}function g$(t){return Array.from(t.getClientRects())}function v$(t){const e=Zs(t),n=Um(t),r=t.ownerDocument.body,s=dr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=dr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+zm(t);const d=-n.scrollTop;return ns(r).direction==="rtl"&&(c+=dr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:c,y:d}}const aS=25;function y$(t,e){const n=mr(t),r=Zs(t),s=n.visualViewport;let o=r.clientWidth,c=r.clientHeight,d=0,h=0;if(s){o=s.width,c=s.height;const g=Wx();(!g||g&&e==="fixed")&&(d=s.offsetLeft,h=s.offsetTop)}const p=zm(r);if(p<=0){const g=r.ownerDocument,v=g.body,x=getComputedStyle(v),S=g.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,C=Math.abs(r.clientWidth-v.clientWidth-S);C<=aS&&(o-=C)}else p<=aS&&(o+=p);return{width:o,height:c,x:d,y:h}}const x$=new Set(["absolute","fixed"]);function w$(t,e){const n=Ma(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=qs(t)?Yl(t):Bs(1),c=t.clientWidth*o.x,d=t.clientHeight*o.y,h=s*o.x,p=r*o.y;return{width:c,height:d,x:h,y:p}}function lS(t,e,n){let r;if(e==="viewport")r=y$(t,n);else if(e==="document")r=v$(Zs(t));else if(ts(e))r=w$(e,n);else{const s=HI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Kf(r)}function GI(t,e){const n=Po(t);return n===e||!ts(n)||lc(n)?!1:ns(n).position==="fixed"||GI(n,e)}function _$(t,e){const n=e.get(t);if(n)return n;let r=Zu(t,[],!1).filter(d=>ts(d)&&Tc(d)!=="body"),s=null;const o=ns(t).position==="fixed";let c=o?Po(t):t;for(;ts(c)&&!lc(c);){const d=ns(c),h=Bx(c);!h&&d.position==="fixed"&&(s=null),(o?!h&&!s:!h&&d.position==="static"&&!!s&&x$.has(s.position)||yd(c)&&!h&&GI(t,c))?r=r.filter(g=>g!==c):s=d,c=Po(c)}return e.set(t,r),r}function E$(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const c=[...n==="clippingAncestors"?Fm(e)?[]:_$(e,this._c):[].concat(n),r],d=c[0],h=c.reduce((p,g)=>{const v=lS(e,g,s);return p.top=dr(v.top,p.top),p.right=Ro(v.right,p.right),p.bottom=Ro(v.bottom,p.bottom),p.left=dr(v.left,p.left),p},lS(e,d,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function b$(t){const{width:e,height:n}=$I(t);return{width:e,height:n}}function S$(t,e,n){const r=qs(e),s=Zs(e),o=n==="fixed",c=Ma(t,!0,o,e);let d={scrollLeft:0,scrollTop:0};const h=Bs(0);function p(){h.x=zm(s)}if(r||!r&&!o)if((Tc(e)!=="body"||yd(s))&&(d=Um(e)),r){const S=Ma(e,!0,o,e);h.x=S.x+e.clientLeft,h.y=S.y+e.clientTop}else s&&p();o&&!r&&s&&p();const g=s&&!r&&!o?qI(s,d):Bs(0),v=c.left+d.scrollLeft-h.x-g.x,x=c.top+d.scrollTop-h.y-g.y;return{x:v,y:x,width:c.width,height:c.height}}function Xg(t){return ns(t).position==="static"}function cS(t,e){if(!qs(t)||ns(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zs(t)===n&&(n=n.ownerDocument.body),n}function KI(t,e){const n=mr(t);if(Fm(t))return n;if(!qs(t)){let s=Po(t);for(;s&&!lc(s);){if(ts(s)&&!Xg(s))return s;s=Po(s)}return n}let r=cS(t,e);for(;r&&o$(r)&&Xg(r);)r=cS(r,e);return r&&lc(r)&&Xg(r)&&!Bx(r)?n:r||d$(t)||n}const C$=async function(t){const e=this.getOffsetParent||KI,n=this.getDimensions,r=await n(t.floating);return{reference:S$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function T$(t){return ns(t).direction==="rtl"}const N$={convertOffsetParentRelativeRectToViewportRelativeRect:p$,getDocumentElement:Zs,getClippingRect:E$,getOffsetParent:KI,getElementRects:C$,getClientRects:g$,getDimensions:b$,getScale:Yl,isElement:ts,isRTL:T$};function YI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function I$(t,e){let n=null,r;const s=Zs(t);function o(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),o();const p=t.getBoundingClientRect(),{left:g,top:v,width:x,height:S}=p;if(d||e(),!x||!S)return;const C=Yh(v),b=Yh(s.clientWidth-(g+x)),I=Yh(s.clientHeight-(v+S)),O=Yh(g),j={rootMargin:-C+"px "+-b+"px "+-I+"px "+-O+"px",threshold:dr(0,Ro(1,h))||1};let B=!0;function M($){const N=$[0].intersectionRatio;if(N!==h){if(!B)return c();N?c(!1,N):r=setTimeout(()=>{c(!1,1e-7)},1e3)}N===1&&!YI(p,t.getBoundingClientRect())&&c(),B=!1}try{n=new IntersectionObserver(M,{...j,root:s.ownerDocument})}catch{n=new IntersectionObserver(M,j)}n.observe(t)}return c(!0),o}function k$(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=$x(t),g=s||o?[...p?Zu(p):[],...Zu(e)]:[];g.forEach(O=>{s&&O.addEventListener("scroll",n,{passive:!0}),o&&O.addEventListener("resize",n)});const v=p&&d?I$(p,n):null;let x=-1,S=null;c&&(S=new ResizeObserver(O=>{let[D]=O;D&&D.target===p&&S&&(S.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var j;(j=S)==null||j.observe(e)})),n()}),p&&!h&&S.observe(p),S.observe(e));let C,b=h?Ma(t):null;h&&I();function I(){const O=Ma(t);b&&!YI(b,O)&&n(),b=O,C=requestAnimationFrame(I)}return n(),()=>{var O;g.forEach(D=>{s&&D.removeEventListener("scroll",n),o&&D.removeEventListener("resize",n)}),v==null||v(),(O=S)==null||O.disconnect(),S=null,h&&cancelAnimationFrame(C)}}const A$=e$,R$=t$,P$=XW,j$=r$,D$=JW,uS=QW,O$=n$,M$=(t,e,n)=>{const r=new Map,s={platform:N$,...n},o={...s.platform,_c:r};return YW(t,e,{...s,platform:o})};var L$=typeof document<"u",V$=function(){},mf=L$?w.useLayoutEffect:V$;function Yf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Yf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Yf(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function QI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function dS(t,e){const n=QI(t);return Math.round(e*n)/n}function Jg(t){const e=w.useRef(t);return mf(()=>{e.current=t}),e}function F$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:h,open:p}=t,[g,v]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,S]=w.useState(r);Yf(x,r)||S(r);const[C,b]=w.useState(null),[I,O]=w.useState(null),D=w.useCallback(z=>{z!==$.current&&($.current=z,b(z))},[]),j=w.useCallback(z=>{z!==N.current&&(N.current=z,O(z))},[]),B=o||C,M=c||I,$=w.useRef(null),N=w.useRef(null),k=w.useRef(g),P=h!=null,F=Jg(h),U=Jg(s),L=Jg(p),A=w.useCallback(()=>{if(!$.current||!N.current)return;const z={placement:e,strategy:n,middleware:x};U.current&&(z.platform=U.current),M$($.current,N.current,z).then(K=>{const te={...K,isPositioned:L.current!==!1};le.current&&!Yf(k.current,te)&&(k.current=te,nd.flushSync(()=>{v(te)}))})},[x,e,n,U,L]);mf(()=>{p===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,v(z=>({...z,isPositioned:!1})))},[p]);const le=w.useRef(!1);mf(()=>(le.current=!0,()=>{le.current=!1}),[]),mf(()=>{if(B&&($.current=B),M&&(N.current=M),B&&M){if(F.current)return F.current(B,M,A);A()}},[B,M,A,F,P]);const ve=w.useMemo(()=>({reference:$,floating:N,setReference:D,setFloating:j}),[D,j]),pe=w.useMemo(()=>({reference:B,floating:M}),[B,M]),xe=w.useMemo(()=>{const z={position:n,left:0,top:0};if(!pe.floating)return z;const K=dS(pe.floating,g.x),te=dS(pe.floating,g.y);return d?{...z,transform:"translate("+K+"px, "+te+"px)",...QI(pe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:te}},[n,d,pe.floating,g.x,g.y]);return w.useMemo(()=>({...g,update:A,refs:ve,elements:pe,floatingStyles:xe}),[g,A,ve,pe,xe])}const U$=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?uS({element:r.current,padding:s}).fn(n):{}:r?uS({element:r,padding:s}).fn(n):{}}}},z$=(t,e)=>({...A$(t),options:[t,e]}),B$=(t,e)=>({...R$(t),options:[t,e]}),W$=(t,e)=>({...O$(t),options:[t,e]}),$$=(t,e)=>({...P$(t),options:[t,e]}),H$=(t,e)=>({...j$(t),options:[t,e]}),q$=(t,e)=>({...D$(t),options:[t,e]}),G$=(t,e)=>({...U$(t),options:[t,e]});var K$="Arrow",XI=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return l.jsx(Be.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});XI.displayName=K$;var Y$=XI,Hx="Popper",[JI,ZI]=Qs(Hx),[Q$,ek]=JI(Hx),tk=t=>{const{__scopePopper:e,children:n}=t,[r,s]=w.useState(null);return l.jsx(Q$,{scope:e,anchor:r,onAnchorChange:s,children:n})};tk.displayName=Hx;var nk="PopperAnchor",rk=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=ek(nk,n),c=w.useRef(null),d=at(e,c);return w.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:l.jsx(Be.div,{...s,ref:d})});rk.displayName=nk;var qx="PopperContent",[X$,J$]=JI(qx),sk=w.forwardRef((t,e)=>{var oe,Ee,Re,Fe,Je,Ze;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:x=!1,updatePositionStrategy:S="optimized",onPlaced:C,...b}=t,I=ek(qx,n),[O,D]=w.useState(null),j=at(e,It=>D(It)),[B,M]=w.useState(null),$=vI(B),N=($==null?void 0:$.width)??0,k=($==null?void 0:$.height)??0,P=r+(o!=="center"?"-"+o:""),F=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},U=Array.isArray(p)?p:[p],L=U.length>0,A={padding:F,boundary:U.filter(e8),altBoundary:L},{refs:le,floatingStyles:ve,placement:pe,isPositioned:xe,middlewareData:z}=F$({strategy:"fixed",placement:P,whileElementsMounted:(...It)=>k$(...It,{animationFrame:S==="always"}),elements:{reference:I.anchor},middleware:[z$({mainAxis:s+k,alignmentAxis:c}),h&&B$({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?W$():void 0,...A}),h&&$$({...A}),H$({...A,apply:({elements:It,rects:$t,availableWidth:zn,availableHeight:fe})=>{const{width:Pe,height:St}=$t.reference,Ke=It.floating.style;Ke.setProperty("--radix-popper-available-width",`${zn}px`),Ke.setProperty("--radix-popper-available-height",`${fe}px`),Ke.setProperty("--radix-popper-anchor-width",`${Pe}px`),Ke.setProperty("--radix-popper-anchor-height",`${St}px`)}}),B&&G$({element:B,padding:d}),t8({arrowWidth:N,arrowHeight:k}),x&&q$({strategy:"referenceHidden",...A})]}),[K,te]=ak(pe),q=zt(C);tn(()=>{xe&&(q==null||q())},[xe,q]);const ee=(oe=z.arrow)==null?void 0:oe.x,ge=(Ee=z.arrow)==null?void 0:Ee.y,ye=((Re=z.arrow)==null?void 0:Re.centerOffset)!==0,[Oe,De]=w.useState();return tn(()=>{O&&De(window.getComputedStyle(O).zIndex)},[O]),l.jsx("div",{ref:le.setFloating,"data-radix-popper-content-wrapper":"",style:{...ve,transform:xe?ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(Fe=z.transformOrigin)==null?void 0:Fe.x,(Je=z.transformOrigin)==null?void 0:Je.y].join(" "),...((Ze=z.hide)==null?void 0:Ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(X$,{scope:n,placedSide:K,onArrowChange:M,arrowX:ee,arrowY:ge,shouldHideArrow:ye,children:l.jsx(Be.div,{"data-side":K,"data-align":te,...b,ref:j,style:{...b.style,animation:xe?void 0:"none"}})})})});sk.displayName=qx;var ik="PopperArrow",Z$={top:"bottom",right:"left",bottom:"top",left:"right"},ok=w.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=J$(ik,r),c=Z$[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(Y$,{...s,ref:n,style:{...s.style,display:"block"}})})});ok.displayName=ik;function e8(t){return t!==null}var t8=t=>({name:"transformOrigin",options:t,fn(e){var I,O,D;const{placement:n,rects:r,middlewareData:s}=e,c=((I=s.arrow)==null?void 0:I.centerOffset)!==0,d=c?0:t.arrowWidth,h=c?0:t.arrowHeight,[p,g]=ak(n),v={start:"0%",center:"50%",end:"100%"}[g],x=(((O=s.arrow)==null?void 0:O.x)??0)+d/2,S=(((D=s.arrow)==null?void 0:D.y)??0)+h/2;let C="",b="";return p==="bottom"?(C=c?v:`${x}px`,b=`${-h}px`):p==="top"?(C=c?v:`${x}px`,b=`${r.floating.height+h}px`):p==="right"?(C=`${-h}px`,b=c?v:`${S}px`):p==="left"&&(C=`${r.floating.width+h}px`,b=c?v:`${S}px`),{data:{x:C,y:b}}}});function ak(t){const[e,n="center"]=t.split("-");return[e,n]}var n8=tk,r8=rk,s8=sk,i8=ok,o8=[" ","Enter","ArrowUp","ArrowDown"],a8=[" ","Enter"],xd="Select",[Bm,Wm,l8]=km(xd),[Nc]=Qs(xd,[l8,ZI]),$m=ZI(),[c8,Lo]=Nc(xd),[u8,d8]=Nc(xd),lk=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:c,defaultValue:d,onValueChange:h,dir:p,name:g,autoComplete:v,disabled:x,required:S,form:C}=t,b=$m(e),[I,O]=w.useState(null),[D,j]=w.useState(null),[B,M]=w.useState(!1),$=Im(p),[N=!1,k]=Ai({prop:r,defaultProp:s,onChange:o}),[P,F]=Ai({prop:c,defaultProp:d,onChange:h}),U=w.useRef(null),L=I?C||!!I.closest("form"):!0,[A,le]=w.useState(new Set),ve=Array.from(A).map(pe=>pe.props.value).join(";");return l.jsx(n8,{...b,children:l.jsxs(c8,{required:S,scope:e,trigger:I,onTriggerChange:O,valueNode:D,onValueNodeChange:j,valueNodeHasChildren:B,onValueNodeHasChildrenChange:M,contentId:zs(),value:P,onValueChange:F,open:N,onOpenChange:k,dir:$,triggerPointerDownPosRef:U,disabled:x,children:[l.jsx(Bm.Provider,{scope:e,children:l.jsx(u8,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(pe=>{le(xe=>new Set(xe).add(pe))},[]),onNativeOptionRemove:w.useCallback(pe=>{le(xe=>{const z=new Set(xe);return z.delete(pe),z})},[]),children:n})}),L?l.jsxs(Rk,{"aria-hidden":!0,required:S,tabIndex:-1,name:g,autoComplete:v,value:P,onChange:pe=>F(pe.target.value),disabled:x,form:C,children:[P===void 0?l.jsx("option",{value:""}):null,Array.from(A)]},ve):null]})})};lk.displayName=xd;var ck="SelectTrigger",uk=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=$m(n),c=Lo(ck,n),d=c.disabled||r,h=at(e,c.onTriggerChange),p=Wm(n),g=w.useRef("touch"),[v,x,S]=Pk(b=>{const I=p().filter(j=>!j.disabled),O=I.find(j=>j.value===c.value),D=jk(I,b,O);D!==void 0&&c.onValueChange(D.value)}),C=b=>{d||(c.onOpenChange(!0),S()),b&&(c.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return l.jsx(r8,{asChild:!0,...o,children:l.jsx(Be.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":Ak(c.value)?"":void 0,...s,ref:h,onClick:Ue(s.onClick,b=>{b.currentTarget.focus(),g.current!=="mouse"&&C(b)}),onPointerDown:Ue(s.onPointerDown,b=>{g.current=b.pointerType;const I=b.target;I.hasPointerCapture(b.pointerId)&&I.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(C(b),b.preventDefault())}),onKeyDown:Ue(s.onKeyDown,b=>{const I=v.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&x(b.key),!(I&&b.key===" ")&&o8.includes(b.key)&&(C(),b.preventDefault())})})})});uk.displayName=ck;var dk="SelectValue",hk=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:c="",...d}=t,h=Lo(dk,n),{onValueNodeHasChildrenChange:p}=h,g=o!==void 0,v=at(e,h.onValueNodeChange);return tn(()=>{p(g)},[p,g]),l.jsx(Be.span,{...d,ref:v,style:{pointerEvents:"none"},children:Ak(h.value)?l.jsx(l.Fragment,{children:c}):o})});hk.displayName=dk;var h8="SelectIcon",fk=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(Be.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});fk.displayName=h8;var f8="SelectPortal",mk=t=>l.jsx(hx,{asChild:!0,...t});mk.displayName=f8;var La="SelectContent",pk=w.forwardRef((t,e)=>{const n=Lo(La,t.__scopeSelect),[r,s]=w.useState();if(tn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?nd.createPortal(l.jsx(gk,{scope:t.__scopeSelect,children:l.jsx(Bm.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),o):null}return l.jsx(vk,{...t,ref:e})});pk.displayName=La;var $r=10,[gk,Vo]=Nc(La),m8="SelectContentImpl",vk=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:c,side:d,sideOffset:h,align:p,alignOffset:g,arrowPadding:v,collisionBoundary:x,collisionPadding:S,sticky:C,hideWhenDetached:b,avoidCollisions:I,...O}=t,D=Lo(La,n),[j,B]=w.useState(null),[M,$]=w.useState(null),N=at(e,oe=>B(oe)),[k,P]=w.useState(null),[F,U]=w.useState(null),L=Wm(n),[A,le]=w.useState(!1),ve=w.useRef(!1);w.useEffect(()=>{if(j)return lN(j)},[j]),Z1();const pe=w.useCallback(oe=>{const[Ee,...Re]=L().map(Ze=>Ze.ref.current),[Fe]=Re.slice(-1),Je=document.activeElement;for(const Ze of oe)if(Ze===Je||(Ze==null||Ze.scrollIntoView({block:"nearest"}),Ze===Ee&&M&&(M.scrollTop=0),Ze===Fe&&M&&(M.scrollTop=M.scrollHeight),Ze==null||Ze.focus(),document.activeElement!==Je))return},[L,M]),xe=w.useCallback(()=>pe([k,j]),[pe,k,j]);w.useEffect(()=>{A&&xe()},[A,xe]);const{onOpenChange:z,triggerPointerDownPosRef:K}=D;w.useEffect(()=>{if(j){let oe={x:0,y:0};const Ee=Fe=>{var Je,Ze;oe={x:Math.abs(Math.round(Fe.pageX)-(((Je=K.current)==null?void 0:Je.x)??0)),y:Math.abs(Math.round(Fe.pageY)-(((Ze=K.current)==null?void 0:Ze.y)??0))}},Re=Fe=>{oe.x<=10&&oe.y<=10?Fe.preventDefault():j.contains(Fe.target)||z(!1),document.removeEventListener("pointermove",Ee),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",Re,{capture:!0})}}},[j,z,K]),w.useEffect(()=>{const oe=()=>z(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[z]);const[te,q]=Pk(oe=>{const Ee=L().filter(Je=>!Je.disabled),Re=Ee.find(Je=>Je.ref.current===document.activeElement),Fe=jk(Ee,oe,Re);Fe&&setTimeout(()=>Fe.ref.current.focus())}),ee=w.useCallback((oe,Ee,Re)=>{const Fe=!ve.current&&!Re;(D.value!==void 0&&D.value===Ee||Fe)&&(P(oe),Fe&&(ve.current=!0))},[D.value]),ge=w.useCallback(()=>j==null?void 0:j.focus(),[j]),ye=w.useCallback((oe,Ee,Re)=>{const Fe=!ve.current&&!Re;(D.value!==void 0&&D.value===Ee||Fe)&&U(oe)},[D.value]),Oe=r==="popper"?$v:yk,De=Oe===$v?{side:d,sideOffset:h,align:p,alignOffset:g,arrowPadding:v,collisionBoundary:x,collisionPadding:S,sticky:C,hideWhenDetached:b,avoidCollisions:I}:{};return l.jsx(gk,{scope:n,content:j,viewport:M,onViewportChange:$,itemRefCallback:ee,selectedItem:k,onItemLeave:ge,itemTextRefCallback:ye,focusSelectedItem:xe,selectedItemText:F,position:r,isPositioned:A,searchRef:te,children:l.jsx(fx,{as:Ao,allowPinchZoom:!0,children:l.jsx(dx,{asChild:!0,trapped:D.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Ue(s,oe=>{var Ee;(Ee=D.trigger)==null||Ee.focus({preventScroll:!0}),oe.preventDefault()}),children:l.jsx(Am,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:l.jsx(Oe,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:oe=>oe.preventDefault(),...O,...De,onPlaced:()=>le(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...O.style},onKeyDown:Ue(O.onKeyDown,oe=>{const Ee=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!Ee&&oe.key.length===1&&q(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Fe=L().filter(Je=>!Je.disabled).map(Je=>Je.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Fe=Fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const Je=oe.target,Ze=Fe.indexOf(Je);Fe=Fe.slice(Ze+1)}setTimeout(()=>pe(Fe)),oe.preventDefault()}})})})})})})});vk.displayName=m8;var p8="SelectItemAlignedPosition",yk=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=Lo(La,n),c=Vo(La,n),[d,h]=w.useState(null),[p,g]=w.useState(null),v=at(e,N=>g(N)),x=Wm(n),S=w.useRef(!1),C=w.useRef(!0),{viewport:b,selectedItem:I,selectedItemText:O,focusSelectedItem:D}=c,j=w.useCallback(()=>{if(o.trigger&&o.valueNode&&d&&p&&b&&I&&O){const N=o.trigger.getBoundingClientRect(),k=p.getBoundingClientRect(),P=o.valueNode.getBoundingClientRect(),F=O.getBoundingClientRect();if(o.dir!=="rtl"){const Je=F.left-k.left,Ze=P.left-Je,It=N.left-Ze,$t=N.width+It,zn=Math.max($t,k.width),fe=window.innerWidth-$r,Pe=Fv(Ze,[$r,Math.max($r,fe-zn)]);d.style.minWidth=$t+"px",d.style.left=Pe+"px"}else{const Je=k.right-F.right,Ze=window.innerWidth-P.right-Je,It=window.innerWidth-N.right-Ze,$t=N.width+It,zn=Math.max($t,k.width),fe=window.innerWidth-$r,Pe=Fv(Ze,[$r,Math.max($r,fe-zn)]);d.style.minWidth=$t+"px",d.style.right=Pe+"px"}const U=x(),L=window.innerHeight-$r*2,A=b.scrollHeight,le=window.getComputedStyle(p),ve=parseInt(le.borderTopWidth,10),pe=parseInt(le.paddingTop,10),xe=parseInt(le.borderBottomWidth,10),z=parseInt(le.paddingBottom,10),K=ve+pe+A+z+xe,te=Math.min(I.offsetHeight*5,K),q=window.getComputedStyle(b),ee=parseInt(q.paddingTop,10),ge=parseInt(q.paddingBottom,10),ye=N.top+N.height/2-$r,Oe=L-ye,De=I.offsetHeight/2,oe=I.offsetTop+De,Ee=ve+pe+oe,Re=K-Ee;if(Ee<=ye){const Je=U.length>0&&I===U[U.length-1].ref.current;d.style.bottom="0px";const Ze=p.clientHeight-b.offsetTop-b.offsetHeight,It=Math.max(Oe,De+(Je?ge:0)+Ze+xe),$t=Ee+It;d.style.height=$t+"px"}else{const Je=U.length>0&&I===U[0].ref.current;d.style.top="0px";const It=Math.max(ye,ve+b.offsetTop+(Je?ee:0)+De)+Re;d.style.height=It+"px",b.scrollTop=Ee-ye+b.offsetTop}d.style.margin=`${$r}px 0`,d.style.minHeight=te+"px",d.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>S.current=!0)}},[x,o.trigger,o.valueNode,d,p,b,I,O,o.dir,r]);tn(()=>j(),[j]);const[B,M]=w.useState();tn(()=>{p&&M(window.getComputedStyle(p).zIndex)},[p]);const $=w.useCallback(N=>{N&&C.current===!0&&(j(),D==null||D(),C.current=!1)},[j,D]);return l.jsx(v8,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:S,onScrollButtonChange:$,children:l.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:B},children:l.jsx(Be.div,{...s,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});yk.displayName=p8;var g8="SelectPopperPosition",$v=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=$r,...o}=t,c=$m(n);return l.jsx(s8,{...c,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$v.displayName=g8;var[v8,Gx]=Nc(La,{}),Hv="SelectViewport",xk=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Vo(Hv,n),c=Gx(Hv,n),d=at(e,o.onViewportChange),h=w.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Bm.Slot,{scope:n,children:l.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ue(s.onScroll,p=>{const g=p.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:x}=c;if(x!=null&&x.current&&v){const S=Math.abs(h.current-g.scrollTop);if(S>0){const C=window.innerHeight-$r*2,b=parseFloat(v.style.minHeight),I=parseFloat(v.style.height),O=Math.max(b,I);if(O<C){const D=O+S,j=Math.min(C,D),B=D-j;v.style.height=j+"px",v.style.bottom==="0px"&&(g.scrollTop=B>0?B:0,v.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});xk.displayName=Hv;var wk="SelectGroup",[y8,x8]=Nc(wk),w8=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=zs();return l.jsx(y8,{scope:n,id:s,children:l.jsx(Be.div,{role:"group","aria-labelledby":s,...r,ref:e})})});w8.displayName=wk;var _k="SelectLabel",_8=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=x8(_k,n);return l.jsx(Be.div,{id:s.id,...r,ref:e})});_8.displayName=_k;var Qf="SelectItem",[E8,Ek]=Nc(Qf),bk=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...c}=t,d=Lo(Qf,n),h=Vo(Qf,n),p=d.value===r,[g,v]=w.useState(o??""),[x,S]=w.useState(!1),C=at(e,D=>{var j;return(j=h.itemRefCallback)==null?void 0:j.call(h,D,r,s)}),b=zs(),I=w.useRef("touch"),O=()=>{s||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(E8,{scope:n,value:r,disabled:s,textId:b,isSelected:p,onItemTextChange:w.useCallback(D=>{v(j=>j||((D==null?void 0:D.textContent)??"").trim())},[]),children:l.jsx(Bm.ItemSlot,{scope:n,value:r,disabled:s,textValue:g,children:l.jsx(Be.div,{role:"option","aria-labelledby":b,"data-highlighted":x?"":void 0,"aria-selected":p&&x,"data-state":p?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...c,ref:C,onFocus:Ue(c.onFocus,()=>S(!0)),onBlur:Ue(c.onBlur,()=>S(!1)),onClick:Ue(c.onClick,()=>{I.current!=="mouse"&&O()}),onPointerUp:Ue(c.onPointerUp,()=>{I.current==="mouse"&&O()}),onPointerDown:Ue(c.onPointerDown,D=>{I.current=D.pointerType}),onPointerMove:Ue(c.onPointerMove,D=>{var j;I.current=D.pointerType,s?(j=h.onItemLeave)==null||j.call(h):I.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(c.onPointerLeave,D=>{var j;D.currentTarget===document.activeElement&&((j=h.onItemLeave)==null||j.call(h))}),onKeyDown:Ue(c.onKeyDown,D=>{var B;((B=h.searchRef)==null?void 0:B.current)!==""&&D.key===" "||(a8.includes(D.key)&&O(),D.key===" "&&D.preventDefault())})})})})});bk.displayName=Qf;var ku="SelectItemText",Sk=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,c=Lo(ku,n),d=Vo(ku,n),h=Ek(ku,n),p=d8(ku,n),[g,v]=w.useState(null),x=at(e,O=>v(O),h.onItemTextChange,O=>{var D;return(D=d.itemTextRefCallback)==null?void 0:D.call(d,O,h.value,h.disabled)}),S=g==null?void 0:g.textContent,C=w.useMemo(()=>l.jsx("option",{value:h.value,disabled:h.disabled,children:S},h.value),[h.disabled,h.value,S]),{onNativeOptionAdd:b,onNativeOptionRemove:I}=p;return tn(()=>(b(C),()=>I(C)),[b,I,C]),l.jsxs(l.Fragment,{children:[l.jsx(Be.span,{id:h.textId,...o,ref:x}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?nd.createPortal(o.children,c.valueNode):null]})});Sk.displayName=ku;var Ck="SelectItemIndicator",Tk=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Ek(Ck,n).isSelected?l.jsx(Be.span,{"aria-hidden":!0,...r,ref:e}):null});Tk.displayName=Ck;var qv="SelectScrollUpButton",Nk=w.forwardRef((t,e)=>{const n=Vo(qv,t.__scopeSelect),r=Gx(qv,t.__scopeSelect),[s,o]=w.useState(!1),c=at(e,r.onScrollButtonChange);return tn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=h.scrollTop>0;o(p)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),s?l.jsx(kk,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});Nk.displayName=qv;var Gv="SelectScrollDownButton",Ik=w.forwardRef((t,e)=>{const n=Vo(Gv,t.__scopeSelect),r=Gx(Gv,t.__scopeSelect),[s,o]=w.useState(!1),c=at(e,r.onScrollButtonChange);return tn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<p;o(g)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),s?l.jsx(kk,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});Ik.displayName=Gv;var kk=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Vo("SelectScrollButton",n),c=w.useRef(null),d=Wm(n),h=w.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return w.useEffect(()=>()=>h(),[h]),tn(()=>{var g;const p=d().find(v=>v.ref.current===document.activeElement);(g=p==null?void 0:p.ref.current)==null||g.scrollIntoView({block:"nearest"})},[d]),l.jsx(Be.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ue(s.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:Ue(s.onPointerMove,()=>{var p;(p=o.onItemLeave)==null||p.call(o),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:Ue(s.onPointerLeave,()=>{h()})})}),b8="SelectSeparator",S8=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(Be.div,{"aria-hidden":!0,...r,ref:e})});S8.displayName=b8;var Kv="SelectArrow",C8=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=$m(n),o=Lo(Kv,n),c=Vo(Kv,n);return o.open&&c.position==="popper"?l.jsx(i8,{...s,...r,ref:e}):null});C8.displayName=Kv;function Ak(t){return t===""||t===void 0}var Rk=w.forwardRef((t,e)=>{const{value:n,...r}=t,s=w.useRef(null),o=at(e,s),c=rx(n);return w.useEffect(()=>{const d=s.current,h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==n&&g){const v=new Event("change",{bubbles:!0});g.call(d,n),d.dispatchEvent(v)}},[c,n]),l.jsx(sx,{asChild:!0,children:l.jsx("select",{...r,ref:o,defaultValue:n})})});Rk.displayName="BubbleSelect";function Pk(t){const e=zt(t),n=w.useRef(""),r=w.useRef(0),s=w.useCallback(c=>{const d=n.current+c;e(d),(function h(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>h(""),1e3))})(d)},[e]),o=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function jk(t,e,n){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let c=T8(t,Math.max(o,0));s.length===1&&(c=c.filter(p=>p!==n));const h=c.find(p=>p.textValue.toLowerCase().startsWith(s.toLowerCase()));return h!==n?h:void 0}function T8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var N8=lk,I8=uk,k8=hk,A8=fk,R8=mk,P8=pk,j8=xk,D8=bk,O8=Sk,M8=Tk,L8=Nk,V8=Ik;function wd({...t}){return l.jsx(N8,{"data-slot":"select",...t})}function _d({...t}){return l.jsx(k8,{"data-slot":"select-value",...t})}function Ed({className:t,size:e="default",children:n,...r}){return l.jsxs(I8,{"data-slot":"select-trigger","data-size":e,className:ce("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,l.jsx(A8,{asChild:!0,children:l.jsx(wc,{className:"size-4 opacity-50"})})]})}function bd({className:t,children:e,position:n="popper",...r}){return l.jsx(R8,{children:l.jsxs(P8,{"data-slot":"select-content",className:ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(F8,{}),l.jsx(j8,{className:ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),l.jsx(U8,{})]})})}function cc({className:t,children:e,...n}){return l.jsxs(D8,{"data-slot":"select-item",className:ce("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(M8,{children:l.jsx(Cm,{className:"size-4"})})}),l.jsx(O8,{children:e})]})}function F8({className:t,...e}){return l.jsx(L8,{"data-slot":"select-scroll-up-button",className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(EF,{className:"size-4"})})}function U8({className:t,...e}){return l.jsx(V8,{"data-slot":"select-scroll-down-button",className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(wc,{className:"size-4"})})}function Fo({...t}){return l.jsx(yx,{"data-slot":"dialog",...t})}function z8({...t}){return l.jsx(xx,{"data-slot":"dialog-portal",...t})}function B8({className:t,...e}){return l.jsx(wx,{"data-slot":"dialog-overlay",className:ce("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Uo({className:t,children:e,showCloseButton:n=!0,...r}){return l.jsxs(z8,{"data-slot":"dialog-portal",children:[l.jsx(B8,{}),l.jsxs(_x,{"data-slot":"dialog-content",className:ce("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,n&&l.jsxs(Pm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(md,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function zo({className:t,...e}){return l.jsx("div",{"data-slot":"dialog-header",className:ce("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Bo({className:t,...e}){return l.jsx("div",{"data-slot":"dialog-footer",className:ce("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Wo({className:t,...e}){return l.jsx(Ex,{"data-slot":"dialog-title",className:ce("text-lg leading-none font-semibold",t),...e})}function $o({className:t,...e}){return l.jsx(TN,{"data-slot":"dialog-description",className:ce("text-muted-foreground text-sm",t),...e})}var Dk="AlertDialog",[W8]=Qs(Dk,[uN]),Li=uN(),Ok=t=>{const{__scopeAlertDialog:e,...n}=t,r=Li(e);return l.jsx(yx,{...r,...n,modal:!0})};Ok.displayName=Dk;var $8="AlertDialogTrigger",H8=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Li(n);return l.jsx(j5,{...s,...r,ref:e})});H8.displayName=$8;var q8="AlertDialogPortal",Mk=t=>{const{__scopeAlertDialog:e,...n}=t,r=Li(e);return l.jsx(xx,{...r,...n})};Mk.displayName=q8;var G8="AlertDialogOverlay",Lk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Li(n);return l.jsx(wx,{...s,...r,ref:e})});Lk.displayName=G8;var Ql="AlertDialogContent",[K8,Y8]=W8(Ql),Vk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,o=Li(n),c=w.useRef(null),d=at(e,c),h=w.useRef(null);return l.jsx(k5,{contentName:Ql,titleName:Fk,docsSlug:"alert-dialog",children:l.jsx(K8,{scope:n,cancelRef:h,children:l.jsxs(_x,{role:"alertdialog",...o,...s,ref:d,onOpenAutoFocus:Ue(s.onOpenAutoFocus,p=>{var g;p.preventDefault(),(g=h.current)==null||g.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[l.jsx(v1,{children:r}),l.jsx(X8,{contentRef:c})]})})})});Vk.displayName=Ql;var Fk="AlertDialogTitle",Uk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Li(n);return l.jsx(Ex,{...s,...r,ref:e})});Uk.displayName=Fk;var zk="AlertDialogDescription",Bk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Li(n);return l.jsx(TN,{...s,...r,ref:e})});Bk.displayName=zk;var Q8="AlertDialogAction",Wk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Li(n);return l.jsx(Pm,{...s,...r,ref:e})});Wk.displayName=Q8;var $k="AlertDialogCancel",Hk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=Y8($k,n),o=Li(n),c=at(e,s);return l.jsx(Pm,{...o,...r,ref:c})});Hk.displayName=$k;var X8=({contentRef:t})=>{const e=`\`${Ql}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ql}\` by passing a \`${zk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ql}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},J8=Ok,Z8=Mk,e7=Lk,t7=Vk,n7=Wk,r7=Hk,s7=Uk,i7=Bk;function Ho({...t}){return l.jsx(J8,{"data-slot":"alert-dialog",...t})}function o7({...t}){return l.jsx(Z8,{"data-slot":"alert-dialog-portal",...t})}function a7({className:t,...e}){return l.jsx(e7,{"data-slot":"alert-dialog-overlay",className:ce("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function qo({className:t,...e}){return l.jsxs(o7,{children:[l.jsx(a7,{}),l.jsx(t7,{"data-slot":"alert-dialog-content",className:ce("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function Go({className:t,...e}){return l.jsx("div",{"data-slot":"alert-dialog-header",className:ce("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Ko({className:t,...e}){return l.jsx("div",{"data-slot":"alert-dialog-footer",className:ce("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Yo({className:t,...e}){return l.jsx(s7,{"data-slot":"alert-dialog-title",className:ce("text-lg font-semibold",t),...e})}function Qo({className:t,...e}){return l.jsx(i7,{"data-slot":"alert-dialog-description",className:ce("text-muted-foreground text-sm",t),...e})}function Xo({className:t,...e}){return l.jsx(n7,{className:ce(Ku(),t),...e})}function Jo({className:t,...e}){return l.jsx(r7,{className:ce(Ku({variant:"outline"}),t),...e})}function Ic({className:t,...e}){return l.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:l.jsx("table",{"data-slot":"table",className:ce("w-full caption-bottom text-sm",t),...e})})}function kc({className:t,...e}){return l.jsx("thead",{"data-slot":"table-header",className:ce("[&_tr]:border-b",t),...e})}function Ac({className:t,...e}){return l.jsx("tbody",{"data-slot":"table-body",className:ce("[&_tr:last-child]:border-0",t),...e})}function Pr({className:t,...e}){return l.jsx("tr",{"data-slot":"table-row",className:ce("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function it({className:t,...e}){return l.jsx("th",{"data-slot":"table-head",className:ce("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function ot({className:t,...e}){return l.jsx("td",{"data-slot":"table-cell",className:ce("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}const l7=Nm("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Jn({className:t,variant:e,asChild:n=!1,...r}){const s=n?Ao:"span";return l.jsx(s,{"data-slot":"badge",className:ce(l7({variant:e}),t),...r})}const c7=["Exposicin","Espectculo","Taller"],hS={title:"",date:"",location:"",price:"",image:"",category:"Exposicin",description:"",isActive:!0};function u7(){const{events:t,loading:e,addEvent:n,updateEvent:r,deleteEvent:s,uploadImage:o}=Un(),[c,d]=w.useState(""),[h,p]=w.useState(!1),[g,v]=w.useState(!1),[x,S]=w.useState(null),[C,b]=w.useState(hS),[I,O]=w.useState(void 0),[D,j]=w.useState(null),[B,M]=w.useState(""),[$,N]=w.useState(!1),[k,P]=w.useState(!1),F=t.filter(K=>K.title.toLowerCase().includes(c.toLowerCase())||K.category.toLowerCase().includes(c.toLowerCase())),U=()=>{S(null),b(hS),O(void 0),j(null),M(""),P(!1),p(!0)},L=K=>{try{const te={enero:0,febrero:1,marzo:2,abril:3,mayo:4,junio:5,julio:6,agosto:7,septiembre:8,octubre:9,noviembre:10,diciembre:11},q=K.match(/(\d+)\s+de\s+(\w+),?\s+(\d{4})/i);if(q){const ee=parseInt(q[1]),ge=te[q[2].toLowerCase()],ye=parseInt(q[3]);if(ge!==void 0)return new Date(ye,ge,ee)}}catch{return}},A=K=>{S(K),b({title:K.title,date:K.date,location:K.location,price:K.price,image:K.image,category:K.category,description:K.description||"",isActive:K.isActive}),O(L(K.date)),M(K.image),j(null),P(!1),p(!0)},le=K=>{S(K),v(!0)},ve=K=>{var q;const te=(q=K.target.files)==null?void 0:q[0];if(te){j(te);const ee=new FileReader;ee.onloadend=()=>{M(ee.result)},ee.readAsDataURL(te)}},pe=K=>{if(O(K),K){const te=Xu(K,"d 'de' MMMM, yyyy",{locale:Kl});b(q=>({...q,date:te})),P(!1)}else b(te=>({...te,date:""}))},xe=async()=>{N(!0);try{let K=C.image;D&&(K=await o(D,"events"));const te={...C,image:K};x?await r(x.id,te):await n(te),p(!1)}catch(K){console.error("Error saving event:",K),alert((K==null?void 0:K.message)||"Error al guardar el evento")}finally{N(!1)}},z=async()=>{if(x)try{await s(x.id),v(!1)}catch(K){console.error("Error deleting event:",K)}};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Eventos"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestiona los eventos culturales"})]}),l.jsxs(he,{onClick:U,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Nuevo Evento"]})]}),l.jsxs(Tt,{children:[l.jsx(Bt,{children:l.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(ze,{placeholder:"Buscar eventos...",value:c,onChange:K=>d(K.target.value),className:"pl-9"})]})})}),l.jsx(Nt,{children:F.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No hay eventos para mostrar"}),l.jsxs(he,{variant:"outline",className:"mt-4",onClick:U,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Crear primer evento"]})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(Ic,{children:[l.jsx(kc,{children:l.jsxs(Pr,{children:[l.jsx(it,{children:"Imagen"}),l.jsx(it,{children:"Ttulo"}),l.jsx(it,{children:"Fecha"}),l.jsx(it,{children:"Categora"}),l.jsx(it,{children:"Precio"}),l.jsx(it,{children:"Estado"}),l.jsx(it,{className:"text-right",children:"Acciones"})]})}),l.jsx(Ac,{children:F.map(K=>l.jsxs(Pr,{children:[l.jsx(ot,{children:l.jsx("div",{className:"w-16 h-12 bg-muted rounded overflow-hidden",children:K.image?l.jsx("img",{src:K.image,alt:K.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"})})})}),l.jsx(ot,{className:"font-medium",children:K.title}),l.jsx(ot,{children:K.date}),l.jsx(ot,{children:l.jsx(Jn,{variant:"secondary",children:K.category})}),l.jsx(ot,{children:K.price}),l.jsx(ot,{children:l.jsx(Jn,{variant:K.isActive?"default":"outline",children:K.isActive?"Activo":"Inactivo"})}),l.jsx(ot,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(he,{variant:"ghost",size:"icon",onClick:()=>A(K),children:l.jsx(Mo,{className:"h-4 w-4"})}),l.jsx(he,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>le(K),children:l.jsx(Ys,{className:"h-4 w-4"})})]})})]},K.id))})]})})})]}),l.jsx(Fo,{open:h,onOpenChange:p,children:l.jsxs(Uo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(zo,{children:[l.jsx(Wo,{children:x?"Editar Evento":"Nuevo Evento"}),l.jsx($o,{children:x?"Modifica los datos del evento":"Completa los datos para crear un nuevo evento"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Imagen"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-32 h-24 bg-muted rounded-lg overflow-hidden flex items-center justify-center",children:B?l.jsx("img",{src:B,alt:"Preview",className:"w-full h-full object-cover"}):l.jsx(Rr,{className:"h-8 w-8 text-muted-foreground"})}),l.jsxs("div",{children:[l.jsx(ze,{type:"file",accept:"image/*",onChange:ve,className:"max-w-[200px]"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"JPG, PNG o GIF. Max 5MB"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"title",children:"Ttulo *"}),l.jsx(ze,{id:"title",value:C.title,onChange:K=>b({...C,title:K.target.value}),placeholder:"Nombre del evento"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Categora *"}),l.jsxs(wd,{value:C.category,onValueChange:K=>b({...C,category:K}),children:[l.jsx(Ed,{children:l.jsx(_d,{})}),l.jsx(bd,{children:c7.map(K=>l.jsx(cc,{value:K,children:K},K))})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Fecha *"}),l.jsxs(LI,{open:k,onOpenChange:P,children:[l.jsx(VI,{asChild:!0,children:l.jsxs(he,{type:"button",variant:"outline",className:ce("w-full justify-start text-left font-normal",!I&&"text-muted-foreground"),children:[l.jsx(xc,{className:"mr-2 h-4 w-4"}),I?Xu(I,"d 'de' MMMM, yyyy",{locale:Kl}):l.jsx("span",{children:"Seleccionar fecha"})]})}),l.jsx(FI,{children:l.jsx("div",{className:"rounded-md border mt-2 p-2 bg-background",children:l.jsx(MI,{mode:"single",selected:I,onSelect:pe,locale:Kl})})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"location",children:"Ubicacin *"}),l.jsx(ze,{id:"location",value:C.location,onChange:K=>b({...C,location:K.target.value}),placeholder:"Gran Galera"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"price",children:"Precio *"}),l.jsx(ze,{id:"price",value:C.price,onChange:K=>b({...C,price:K.target.value}),placeholder:"$25"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"description",children:"Descripcin"}),l.jsx(Wa,{id:"description",value:C.description,onChange:K=>b({...C,description:K.target.value}),placeholder:"Descripcin del evento...",rows:3})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Se,{children:"Estado"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Los eventos inactivos no se muestran en el sitio"})]}),l.jsx(Ri,{checked:C.isActive,onCheckedChange:K=>b({...C,isActive:K})})]})]}),l.jsxs(Bo,{children:[l.jsx(he,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),l.jsxs(he,{onClick:xe,disabled:$||!C.title,children:[$&&l.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin"}),x?"Guardar Cambios":"Crear Evento"]})]})]})}),l.jsx(Ho,{open:g,onOpenChange:v,children:l.jsxs(qo,{children:[l.jsxs(Go,{children:[l.jsx(Yo,{children:"Eliminar evento?"}),l.jsxs(Qo,{children:['Esta accin no se puede deshacer. El evento "',x==null?void 0:x.title,'" ser eliminado permanentemente.']})]}),l.jsxs(Ko,{children:[l.jsx(Jo,{children:"Cancelar"}),l.jsx(Xo,{onClick:z,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Eliminar"})]})]})})]})}const d7=["Pintura","Herramientas","Lienzo","Accesorios"],fS={name:"",price:"",image:"",category:"Pintura",description:"",stock:void 0,isActive:!0};function h7(){const{products:t,loading:e,addProduct:n,updateProduct:r,deleteProduct:s,uploadImage:o}=Un(),[c,d]=w.useState(""),[h,p]=w.useState(!1),[g,v]=w.useState(!1),[x,S]=w.useState(null),[C,b]=w.useState(fS),[I,O]=w.useState(null),[D,j]=w.useState(""),[B,M]=w.useState(!1),$=t.filter(A=>A.name.toLowerCase().includes(c.toLowerCase())||A.category.toLowerCase().includes(c.toLowerCase())),N=()=>{S(null),b(fS),O(null),j(""),p(!0)},k=A=>{S(A),b({name:A.name,price:A.price,image:A.image,category:A.category,description:A.description||"",stock:A.stock,isActive:A.isActive}),j(A.image),O(null),p(!0)},P=A=>{S(A),v(!0)},F=A=>{var ve;const le=(ve=A.target.files)==null?void 0:ve[0];if(le){O(le);const pe=new FileReader;pe.onloadend=()=>{j(pe.result)},pe.readAsDataURL(le)}},U=async()=>{M(!0);try{let A=C.image;I&&(A=await o(I,"products"));const le={...C,image:A};x?await r(x.id,le):await n(le),p(!1)}catch(A){console.error("Error saving product:",A),alert((A==null?void 0:A.message)||"Error al guardar el producto")}finally{M(!1)}},L=async()=>{if(x)try{await s(x.id),v(!1)}catch(A){console.error("Error deleting product:",A)}};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Materiales de Arte"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestiona el catlogo de productos"})]}),l.jsxs(he,{onClick:N,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Nuevo Producto"]})]}),l.jsxs(Tt,{children:[l.jsx(Bt,{children:l.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(ze,{placeholder:"Buscar productos...",value:c,onChange:A=>d(A.target.value),className:"pl-9"})]})})}),l.jsx(Nt,{children:$.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No hay productos para mostrar"}),l.jsxs(he,{variant:"outline",className:"mt-4",onClick:N,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Crear primer producto"]})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(Ic,{children:[l.jsx(kc,{children:l.jsxs(Pr,{children:[l.jsx(it,{children:"Imagen"}),l.jsx(it,{children:"Nombre"}),l.jsx(it,{children:"Categora"}),l.jsx(it,{children:"Precio"}),l.jsx(it,{children:"Stock"}),l.jsx(it,{children:"Estado"}),l.jsx(it,{className:"text-right",children:"Acciones"})]})}),l.jsx(Ac,{children:$.map(A=>l.jsxs(Pr,{children:[l.jsx(ot,{children:l.jsx("div",{className:"w-16 h-16 bg-muted rounded overflow-hidden",children:A.image?l.jsx("img",{src:A.image,alt:A.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"})})})}),l.jsx(ot,{className:"font-medium",children:A.name}),l.jsx(ot,{children:l.jsx(Jn,{variant:"secondary",children:A.category})}),l.jsx(ot,{className:"font-semibold",children:A.price}),l.jsx(ot,{children:A.stock!==void 0?A.stock:""}),l.jsx(ot,{children:l.jsx(Jn,{variant:A.isActive?"default":"outline",children:A.isActive?"Activo":"Inactivo"})}),l.jsx(ot,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(he,{variant:"ghost",size:"icon",onClick:()=>k(A),children:l.jsx(Mo,{className:"h-4 w-4"})}),l.jsx(he,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>P(A),children:l.jsx(Ys,{className:"h-4 w-4"})})]})})]},A.id))})]})})})]}),l.jsx(Fo,{open:h,onOpenChange:p,children:l.jsxs(Uo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(zo,{children:[l.jsx(Wo,{children:x?"Editar Producto":"Nuevo Producto"}),l.jsx($o,{children:x?"Modifica los datos del producto":"Completa los datos para crear un nuevo producto"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Imagen"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-24 h-24 bg-muted rounded-lg overflow-hidden flex items-center justify-center",children:D?l.jsx("img",{src:D,alt:"Preview",className:"w-full h-full object-cover"}):l.jsx(Rr,{className:"h-8 w-8 text-muted-foreground"})}),l.jsxs("div",{children:[l.jsx(ze,{type:"file",accept:"image/*",onChange:F,className:"max-w-[200px]"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"JPG, PNG o GIF. Max 5MB"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"name",children:"Nombre *"}),l.jsx(ze,{id:"name",value:C.name,onChange:A=>b({...C,name:A.target.value}),placeholder:"Nombre del producto"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Categora *"}),l.jsxs(wd,{value:C.category,onValueChange:A=>b({...C,category:A}),children:[l.jsx(Ed,{children:l.jsx(_d,{})}),l.jsx(bd,{children:d7.map(A=>l.jsx(cc,{value:A,children:A},A))})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"price",children:"Precio *"}),l.jsx(ze,{id:"price",value:C.price,onChange:A=>b({...C,price:A.target.value}),placeholder:"$89.99"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"stock",children:"Stock (opcional)"}),l.jsx(ze,{id:"stock",type:"number",value:C.stock||"",onChange:A=>b({...C,stock:A.target.value?parseInt(A.target.value):void 0}),placeholder:"Cantidad"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{htmlFor:"description",children:"Descripcin"}),l.jsx(Wa,{id:"description",value:C.description,onChange:A=>b({...C,description:A.target.value}),placeholder:"Descripcin del producto...",rows:3})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Se,{children:"Estado"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Los productos inactivos no se muestran en la tienda"})]}),l.jsx(Ri,{checked:C.isActive,onCheckedChange:A=>b({...C,isActive:A})})]})]}),l.jsxs(Bo,{children:[l.jsx(he,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),l.jsxs(he,{onClick:U,disabled:B||!C.name,children:[B&&l.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin"}),x?"Guardar Cambios":"Crear Producto"]})]})]})}),l.jsx(Ho,{open:g,onOpenChange:v,children:l.jsxs(qo,{children:[l.jsxs(Go,{children:[l.jsx(Yo,{children:"Eliminar producto?"}),l.jsxs(Qo,{children:['Esta accin no se puede deshacer. El producto "',x==null?void 0:x.name,'" ser eliminado permanentemente.']})]}),l.jsxs(Ko,{children:[l.jsx(Jo,{children:"Cancelar"}),l.jsx(Xo,{onClick:L,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Eliminar"})]})]})})]})}const f7=["Arte","Msica","Danza","Literatura","Fotografa","Otro"],mS={title:"",instructor:"",description:"",date:"",duration:"",price:"",capacity:10,image:"",category:"Arte",isActive:!0};function m7(){const{workshops:t,loading:e,addWorkshop:n,updateWorkshop:r,deleteWorkshop:s,uploadImage:o}=Un(),[c,d]=w.useState(""),[h,p]=w.useState(!1),[g,v]=w.useState(!1),[x,S]=w.useState(null),[C,b]=w.useState(mS),[I,O]=w.useState(void 0),[D,j]=w.useState(null),[B,M]=w.useState(""),[$,N]=w.useState(!1),[k,P]=w.useState(!1),F=t.filter(z=>z.title.toLowerCase().includes(c.toLowerCase())||z.instructor.toLowerCase().includes(c.toLowerCase())),U=()=>{S(null),b(mS),O(void 0),j(null),M(""),P(!1),p(!0)},L=z=>{try{const K={enero:0,febrero:1,marzo:2,abril:3,mayo:4,junio:5,julio:6,agosto:7,septiembre:8,octubre:9,noviembre:10,diciembre:11},te=z.match(/(\d+)\s+de\s+(\w+),?\s+(\d{4})/i);if(te){const q=parseInt(te[1]),ee=K[te[2].toLowerCase()],ge=parseInt(te[3]);if(ee!==void 0)return new Date(ge,ee,q)}}catch{}},A=z=>{S(z),b({title:z.title,instructor:z.instructor,description:z.description,date:z.date,duration:z.duration,price:z.price,capacity:z.capacity,image:z.image,category:z.category,isActive:z.isActive}),O(L(z.date)),M(z.image),j(null),P(!1),p(!0)},le=z=>{O(z),z&&(b(K=>({...K,date:Xu(z,"d 'de' MMMM, yyyy",{locale:Kl})})),P(!1))},ve=z=>{var te;const K=(te=z.target.files)==null?void 0:te[0];if(K){j(K);const q=new FileReader;q.onloadend=()=>M(q.result),q.readAsDataURL(K)}},pe=async()=>{N(!0);try{let z=C.image;D&&(z=await o(D,"workshops"));const K={...C,image:z};x?await r(x.id,K):await n(K),p(!1)}catch(z){console.error("Error saving:",z),alert((z==null?void 0:z.message)||"Error al guardar")}finally{N(!1)}},xe=async()=>{x&&(await s(x.id),v(!1))};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Talleres y Formacin"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestiona los cursos y workshops"})]}),l.jsxs(he,{onClick:U,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Nuevo Taller"]})]}),l.jsxs(Tt,{children:[l.jsx(Bt,{children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(ze,{placeholder:"Buscar talleres...",value:c,onChange:z=>d(z.target.value),className:"pl-9"})]})}),l.jsx(Nt,{children:F.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No hay talleres para mostrar"}),l.jsxs(he,{variant:"outline",className:"mt-4",onClick:U,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Crear primer taller"]})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(Ic,{children:[l.jsx(kc,{children:l.jsxs(Pr,{children:[l.jsx(it,{children:"Imagen"}),l.jsx(it,{children:"Ttulo"}),l.jsx(it,{children:"Instructor"}),l.jsx(it,{children:"Fecha"}),l.jsx(it,{children:"Precio"}),l.jsx(it,{children:"Estado"}),l.jsx(it,{className:"text-right",children:"Acciones"})]})}),l.jsx(Ac,{children:F.map(z=>l.jsxs(Pr,{children:[l.jsx(ot,{children:l.jsx("div",{className:"w-16 h-12 bg-muted rounded overflow-hidden",children:z.image?l.jsx("img",{src:z.image,alt:z.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"})})})}),l.jsx(ot,{className:"font-medium",children:z.title}),l.jsx(ot,{children:z.instructor}),l.jsx(ot,{children:z.date}),l.jsx(ot,{children:z.price}),l.jsx(ot,{children:l.jsx(Jn,{variant:z.isActive?"default":"outline",children:z.isActive?"Activo":"Inactivo"})}),l.jsx(ot,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(he,{variant:"ghost",size:"icon",onClick:()=>A(z),children:l.jsx(Mo,{className:"h-4 w-4"})}),l.jsx(he,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>{S(z),v(!0)},children:l.jsx(Ys,{className:"h-4 w-4"})})]})})]},z.id))})]})})})]}),l.jsx(Fo,{open:h,onOpenChange:p,children:l.jsxs(Uo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(zo,{children:[l.jsx(Wo,{children:x?"Editar Taller":"Nuevo Taller"}),l.jsx($o,{children:x?"Modifica los datos del taller":"Completa los datos del nuevo taller"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Imagen"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-32 h-24 bg-muted rounded-lg overflow-hidden flex items-center justify-center",children:B?l.jsx("img",{src:B,alt:"Preview",className:"w-full h-full object-cover"}):l.jsx(Rr,{className:"h-8 w-8 text-muted-foreground"})}),l.jsx(ze,{type:"file",accept:"image/*",onChange:ve,className:"max-w-[200px]"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Ttulo *"}),l.jsx(ze,{value:C.title,onChange:z=>b({...C,title:z.target.value}),placeholder:"Nombre del taller"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Instructor *"}),l.jsx(ze,{value:C.instructor,onChange:z=>b({...C,instructor:z.target.value}),placeholder:"Nombre del instructor"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Categora"}),l.jsxs(wd,{value:C.category,onValueChange:z=>b({...C,category:z}),children:[l.jsx(Ed,{children:l.jsx(_d,{})}),l.jsx(bd,{children:f7.map(z=>l.jsx(cc,{value:z,children:z},z))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Fecha"}),l.jsxs(LI,{open:k,onOpenChange:P,children:[l.jsx(VI,{asChild:!0,children:l.jsxs(he,{type:"button",variant:"outline",className:ce("w-full justify-start text-left font-normal",!I&&"text-muted-foreground"),children:[l.jsx(xc,{className:"mr-2 h-4 w-4"}),I?Xu(I,"d 'de' MMMM, yyyy",{locale:Kl}):"Seleccionar"]})}),l.jsx(FI,{children:l.jsx("div",{className:"rounded-md border mt-2 p-2 bg-background",children:l.jsx(MI,{mode:"single",selected:I,onSelect:le,locale:Kl})})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Duracin"}),l.jsx(ze,{value:C.duration,onChange:z=>b({...C,duration:z.target.value}),placeholder:"2 horas"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Precio"}),l.jsx(ze,{value:C.price,onChange:z=>b({...C,price:z.target.value}),placeholder:"$50"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Capacidad"}),l.jsx(ze,{type:"number",value:C.capacity,onChange:z=>b({...C,capacity:parseInt(z.target.value)||0})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Descripcin"}),l.jsx(Wa,{value:C.description,onChange:z=>b({...C,description:z.target.value}),rows:3})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Se,{children:"Estado"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Talleres inactivos no se muestran"})]}),l.jsx(Ri,{checked:C.isActive,onCheckedChange:z=>b({...C,isActive:z})})]})]}),l.jsxs(Bo,{children:[l.jsx(he,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),l.jsxs(he,{onClick:pe,disabled:$||!C.title,children:[$&&l.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin"}),x?"Guardar":"Crear"]})]})]})}),l.jsx(Ho,{open:g,onOpenChange:v,children:l.jsxs(qo,{children:[l.jsxs(Go,{children:[l.jsx(Yo,{children:"Eliminar taller?"}),l.jsxs(Qo,{children:['Esta accin no se puede deshacer. El taller "',x==null?void 0:x.title,'" ser eliminado.']})]}),l.jsxs(Ko,{children:[l.jsx(Jo,{children:"Cancelar"}),l.jsx(Xo,{onClick:xe,className:"bg-destructive text-destructive-foreground",children:"Eliminar"})]})]})})]})}const pS={title:"",description:"",schedule:"",duration:"",price:"",capacity:15,image:"",isActive:!0};function p7(){const{guidedTours:t,loading:e,addGuidedTour:n,updateGuidedTour:r,deleteGuidedTour:s,uploadImage:o}=Un(),[c,d]=w.useState(""),[h,p]=w.useState(!1),[g,v]=w.useState(!1),[x,S]=w.useState(null),[C,b]=w.useState(pS),[I,O]=w.useState(null),[D,j]=w.useState(""),[B,M]=w.useState(!1),$=t.filter(L=>L.title.toLowerCase().includes(c.toLowerCase())),N=()=>{S(null),b(pS),O(null),j(""),p(!0)},k=L=>{S(L),b({title:L.title,description:L.description,schedule:L.schedule,duration:L.duration,price:L.price,capacity:L.capacity,image:L.image,isActive:L.isActive}),j(L.image),p(!0)},P=L=>{var le;const A=(le=L.target.files)==null?void 0:le[0];if(A){O(A);const ve=new FileReader;ve.onloadend=()=>j(ve.result),ve.readAsDataURL(A)}},F=async()=>{M(!0);try{let L=C.image;I&&(L=await o(I,"tours"));const A={...C,image:L};x?await r(x.id,A):await n(A),p(!1)}catch(L){console.error("Error saving guided tour:",L),alert((L==null?void 0:L.message)||"Error al guardar la visita")}finally{M(!1)}},U=async()=>{x&&(await s(x.id),v(!1))};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Visitas Guiadas"}),l.jsx("p",{className:"text-muted-foreground",children:'Programa "Visit la Casa"'})]}),l.jsxs(he,{onClick:N,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Nueva Visita"]})]}),l.jsxs(Tt,{children:[l.jsx(Bt,{children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(ze,{placeholder:"Buscar...",value:c,onChange:L=>d(L.target.value),className:"pl-9"})]})}),l.jsx(Nt,{children:$.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No hay visitas guiadas"}),l.jsxs(he,{variant:"outline",className:"mt-4",onClick:N,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Crear primera visita"]})]}):l.jsxs(Ic,{children:[l.jsx(kc,{children:l.jsxs(Pr,{children:[l.jsx(it,{children:"Imagen"}),l.jsx(it,{children:"Ttulo"}),l.jsx(it,{children:"Horario"}),l.jsx(it,{children:"Duracin"}),l.jsx(it,{children:"Precio"}),l.jsx(it,{children:"Estado"}),l.jsx(it,{className:"text-right",children:"Acciones"})]})}),l.jsx(Ac,{children:$.map(L=>l.jsxs(Pr,{children:[l.jsx(ot,{children:l.jsx("div",{className:"w-16 h-12 bg-muted rounded overflow-hidden",children:L.image?l.jsx("img",{src:L.image,alt:L.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"})})})}),l.jsx(ot,{className:"font-medium",children:L.title}),l.jsx(ot,{children:L.schedule}),l.jsx(ot,{children:L.duration}),l.jsx(ot,{children:L.price}),l.jsx(ot,{children:l.jsx(Jn,{variant:L.isActive?"default":"outline",children:L.isActive?"Activo":"Inactivo"})}),l.jsx(ot,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(he,{variant:"ghost",size:"icon",onClick:()=>k(L),children:l.jsx(Mo,{className:"h-4 w-4"})}),l.jsx(he,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>{S(L),v(!0)},children:l.jsx(Ys,{className:"h-4 w-4"})})]})})]},L.id))})]})})]}),l.jsx(Fo,{open:h,onOpenChange:p,children:l.jsxs(Uo,{className:"max-w-2xl",children:[l.jsxs(zo,{children:[l.jsx(Wo,{children:x?"Editar Visita":"Nueva Visita Guiada"}),l.jsx($o,{children:"Configura los detalles de la visita guiada"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Imagen"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-32 h-24 bg-muted rounded-lg overflow-hidden flex items-center justify-center",children:D?l.jsx("img",{src:D,alt:"Preview",className:"w-full h-full object-cover"}):l.jsx(Rr,{className:"h-8 w-8 text-muted-foreground"})}),l.jsx(ze,{type:"file",accept:"image/*",onChange:P,className:"max-w-[200px]"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Ttulo *"}),l.jsx(ze,{value:C.title,onChange:L=>b({...C,title:L.target.value}),placeholder:"Visita al jardn histrico"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Horario"}),l.jsx(ze,{value:C.schedule,onChange:L=>b({...C,schedule:L.target.value}),placeholder:"Sbados 10:00"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Duracin"}),l.jsx(ze,{value:C.duration,onChange:L=>b({...C,duration:L.target.value}),placeholder:"1.5 horas"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Capacidad"}),l.jsx(ze,{type:"number",value:C.capacity,onChange:L=>b({...C,capacity:parseInt(L.target.value)||0})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Precio"}),l.jsx(ze,{value:C.price,onChange:L=>b({...C,price:L.target.value}),placeholder:"$20 / Gratis para miembros"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Descripcin"}),l.jsx(Wa,{value:C.description,onChange:L=>b({...C,description:L.target.value}),rows:3})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Se,{children:"Activo"}),l.jsx(Ri,{checked:C.isActive,onCheckedChange:L=>b({...C,isActive:L})})]})]}),l.jsxs(Bo,{children:[l.jsx(he,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),l.jsxs(he,{onClick:F,disabled:B||!C.title,children:[B&&l.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin"}),x?"Guardar":"Crear"]})]})]})}),l.jsx(Ho,{open:g,onOpenChange:v,children:l.jsxs(qo,{children:[l.jsxs(Go,{children:[l.jsx(Yo,{children:"Eliminar visita?"}),l.jsx(Qo,{children:"Esta accin no se puede deshacer."})]}),l.jsxs(Ko,{children:[l.jsx(Jo,{children:"Cancelar"}),l.jsx(Xo,{onClick:U,className:"bg-destructive text-destructive-foreground",children:"Eliminar"})]})]})})]})}const gS={name:"",role:"",bio:"",image:"",order:0,isActive:!0};function g7(){const{teamMembers:t,loading:e,addTeamMember:n,updateTeamMember:r,deleteTeamMember:s,uploadImage:o}=Un(),[c,d]=w.useState(""),[h,p]=w.useState(!1),[g,v]=w.useState(!1),[x,S]=w.useState(null),[C,b]=w.useState(gS),[I,O]=w.useState(null),[D,j]=w.useState(""),[B,M]=w.useState(!1),$=t.filter(L=>L.name.toLowerCase().includes(c.toLowerCase())).sort((L,A)=>L.order-A.order),N=()=>{S(null),b({...gS,order:t.length}),O(null),j(""),p(!0)},k=L=>{S(L),b({name:L.name,role:L.role,bio:L.bio||"",image:L.image,order:L.order,isActive:L.isActive}),j(L.image),p(!0)},P=L=>{var le;const A=(le=L.target.files)==null?void 0:le[0];if(A){O(A);const ve=new FileReader;ve.onloadend=()=>j(ve.result),ve.readAsDataURL(A)}},F=async()=>{M(!0);try{let L=C.image;I&&(L=await o(I,"team"));const A={...C,image:L};x?await r(x.id,A):await n(A),p(!1)}catch(L){console.error("Error saving team member:",L),alert((L==null?void 0:L.message)||"Error al guardar el miembro")}finally{M(!1)}},U=async()=>{x&&(await s(x.id),v(!1))};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Equipo"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestiona los miembros del equipo"})]}),l.jsxs(he,{onClick:N,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Nuevo Miembro"]})]}),l.jsxs(Tt,{children:[l.jsx(Bt,{children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(ze,{placeholder:"Buscar...",value:c,onChange:L=>d(L.target.value),className:"pl-9"})]})}),l.jsx(Nt,{children:$.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No hay miembros del equipo"}),l.jsxs(he,{variant:"outline",className:"mt-4",onClick:N,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Agregar primer miembro"]})]}):l.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:$.map(L=>l.jsxs("div",{className:"border rounded-lg p-4 flex flex-col",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-16 h-16 bg-muted rounded-full overflow-hidden flex-shrink-0",children:L.image?l.jsx("img",{src:L.image,alt:L.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl font-medium text-muted-foreground",children:L.name.charAt(0)})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-medium truncate",children:L.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:L.role}),l.jsx(Jn,{variant:L.isActive?"default":"outline",className:"mt-2",children:L.isActive?"Activo":"Inactivo"})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[l.jsx(he,{variant:"ghost",size:"sm",onClick:()=>k(L),children:l.jsx(Mo,{className:"h-4 w-4"})}),l.jsx(he,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>{S(L),v(!0)},children:l.jsx(Ys,{className:"h-4 w-4"})})]})]},L.id))})})]}),l.jsx(Fo,{open:h,onOpenChange:p,children:l.jsxs(Uo,{children:[l.jsxs(zo,{children:[l.jsx(Wo,{children:x?"Editar Miembro":"Nuevo Miembro"}),l.jsx($o,{children:"Informacin del miembro del equipo"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Foto"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-20 h-20 bg-muted rounded-full overflow-hidden flex items-center justify-center",children:D?l.jsx("img",{src:D,alt:"Preview",className:"w-full h-full object-cover"}):l.jsx(Rr,{className:"h-6 w-6 text-muted-foreground"})}),l.jsx(ze,{type:"file",accept:"image/*",onChange:P,className:"max-w-[200px]"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Nombre *"}),l.jsx(ze,{value:C.name,onChange:L=>b({...C,name:L.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Rol *"}),l.jsx(ze,{value:C.role,onChange:L=>b({...C,role:L.target.value}),placeholder:"Director, Curador..."})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Biografa"}),l.jsx(Wa,{value:C.bio,onChange:L=>b({...C,bio:L.target.value}),rows:3})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Orden"}),l.jsx(ze,{type:"number",value:C.order,onChange:L=>b({...C,order:parseInt(L.target.value)||0})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Se,{children:"Activo"}),l.jsx(Ri,{checked:C.isActive,onCheckedChange:L=>b({...C,isActive:L})})]})]})]}),l.jsxs(Bo,{children:[l.jsx(he,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),l.jsxs(he,{onClick:F,disabled:B||!C.name,children:[B&&l.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin"}),x?"Guardar":"Crear"]})]})]})}),l.jsx(Ho,{open:g,onOpenChange:v,children:l.jsxs(qo,{children:[l.jsxs(Go,{children:[l.jsx(Yo,{children:"Eliminar miembro?"}),l.jsx(Qo,{children:"Esta accin no se puede deshacer."})]}),l.jsxs(Ko,{children:[l.jsx(Jo,{children:"Cancelar"}),l.jsx(Xo,{onClick:U,className:"bg-destructive text-destructive-foreground",children:"Eliminar"})]})]})})]})}const vS={name:"",price:"",period:"mensual",description:"",benefits:[],featured:!1,isActive:!0};function v7(){const{memberships:t,loading:e,addMembership:n,updateMembership:r,deleteMembership:s}=Un(),[o,c]=w.useState(!1),[d,h]=w.useState(!1),[p,g]=w.useState(null),[v,x]=w.useState(vS),[S,C]=w.useState(""),[b,I]=w.useState(!1),O=()=>{g(null),x(vS),c(!0)},D=N=>{g(N),x({name:N.name,price:N.price,period:N.period,description:N.description??"",benefits:[...N.benefits],featured:N.featured,isActive:N.isActive}),c(!0)},j=()=>{S.trim()&&(x({...v,benefits:[...v.benefits,S.trim()]}),C(""))},B=N=>{x({...v,benefits:v.benefits.filter((k,P)=>P!==N)})},M=async()=>{I(!0);try{p?await r(p.id,v):await n(v),c(!1)}finally{I(!1)}},$=async()=>{p&&(await s(p.id),h(!1))};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Membresas"}),l.jsx("p",{className:"text-muted-foreground",children:'Programa "Hacete Amigo"'})]}),l.jsxs(he,{onClick:O,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Nueva Membresa"]})]}),t.length===0?l.jsx(Tt,{children:l.jsxs(Nt,{className:"py-12 text-center",children:[l.jsx("p",{className:"text-muted-foreground",children:"No hay membresas configuradas"}),l.jsxs(he,{variant:"outline",className:"mt-4",onClick:O,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Crear primera membresa"]})]})}):l.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(N=>l.jsxs(Tt,{className:N.featured?"border-primary ring-2 ring-primary/20":"",children:[l.jsx(Bt,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsxs(On,{className:"flex items-center gap-2",children:[N.name,N.featured&&l.jsx(BF,{className:"h-4 w-4 fill-primary text-primary"})]}),l.jsxs(Hr,{children:[N.price," / ",N.period]})]}),l.jsx(Jn,{variant:N.isActive?"default":"outline",children:N.isActive?"Activo":"Inactivo"})]})}),l.jsxs(Nt,{children:[l.jsx("ul",{className:"space-y-2 mb-4",children:N.benefits.map((k,P)=>l.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Cm,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),k]},P))}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[l.jsx(he,{variant:"ghost",size:"sm",onClick:()=>D(N),children:l.jsx(Mo,{className:"h-4 w-4"})}),l.jsx(he,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>{g(N),h(!0)},children:l.jsx(Ys,{className:"h-4 w-4"})})]})]})]},N.id))}),l.jsx(Fo,{open:o,onOpenChange:c,children:l.jsxs(Uo,{children:[l.jsxs(zo,{children:[l.jsx(Wo,{children:p?"Editar Membresa":"Nueva Membresa"}),l.jsx($o,{children:"Configura los detalles del plan"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Nombre *"}),l.jsx(ze,{value:v.name,onChange:N=>x({...v,name:N.target.value}),placeholder:"Amigo, Amigo Plus..."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Descripcin"}),l.jsx(ze,{value:v.description??"",onChange:N=>x({...v,description:N.target.value}),placeholder:"Breve descripcin que aparece en el acorden..."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Precio *"}),l.jsx(ze,{value:v.price,onChange:N=>x({...v,price:N.target.value}),placeholder:"$50.000"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Perodo"}),l.jsxs(wd,{value:v.period,onValueChange:N=>x({...v,period:N}),children:[l.jsx(Ed,{children:l.jsx(_d,{})}),l.jsxs(bd,{children:[l.jsx(cc,{value:"mensual",children:"Mensual"}),l.jsx(cc,{value:"anual",children:"Anual"})]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Beneficios"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ze,{value:S,onChange:N=>C(N.target.value),placeholder:"Agregar beneficio...",onKeyDown:N=>N.key==="Enter"&&(N.preventDefault(),j())}),l.jsx(he,{type:"button",onClick:j,variant:"outline",children:l.jsx(pn,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"space-y-1 mt-2",children:v.benefits.map((N,k)=>l.jsxs("div",{className:"flex items-center justify-between bg-muted rounded px-3 py-2",children:[l.jsx("span",{className:"text-sm",children:N}),l.jsx(he,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>B(k),children:l.jsx(md,{className:"h-3 w-3"})})]},k))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Se,{children:"Destacado"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Resaltar este plan"})]}),l.jsx(Ri,{checked:v.featured,onCheckedChange:N=>x({...v,featured:N})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Se,{children:"Activo"}),l.jsx(Ri,{checked:v.isActive,onCheckedChange:N=>x({...v,isActive:N})})]})]}),l.jsxs(Bo,{children:[l.jsx(he,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),l.jsxs(he,{onClick:M,disabled:b||!v.name,children:[b&&l.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin"}),p?"Guardar":"Crear"]})]})]})}),l.jsx(Ho,{open:d,onOpenChange:h,children:l.jsxs(qo,{children:[l.jsxs(Go,{children:[l.jsx(Yo,{children:"Eliminar membresa?"}),l.jsx(Qo,{children:"Esta accin no se puede deshacer."})]}),l.jsxs(Ko,{children:[l.jsx(Jo,{children:"Cancelar"}),l.jsx(Xo,{onClick:$,className:"bg-destructive text-destructive-foreground",children:"Eliminar"})]})]})})]})}const y7=["Principal","Colaborador","Amigo"],yS={name:"",logo:"",website:"",tier:"Colaborador",isActive:!0};function x7(){const{sponsors:t,loading:e,addSponsor:n,updateSponsor:r,deleteSponsor:s,uploadImage:o}=Un(),[c,d]=w.useState(""),[h,p]=w.useState(!1),[g,v]=w.useState(!1),[x,S]=w.useState(null),[C,b]=w.useState(yS),[I,O]=w.useState(null),[D,j]=w.useState(""),[B,M]=w.useState(!1),$=t.filter(A=>A.name.toLowerCase().includes(c.toLowerCase())),N=()=>{S(null),b(yS),O(null),j(""),p(!0)},k=A=>{S(A),b({name:A.name,logo:A.logo,website:A.website||"",tier:A.tier,isActive:A.isActive}),j(A.logo),p(!0)},P=A=>{var ve;const le=(ve=A.target.files)==null?void 0:ve[0];if(le){O(le);const pe=new FileReader;pe.onloadend=()=>j(pe.result),pe.readAsDataURL(le)}},F=async()=>{M(!0);try{let A=C.logo;I&&(A=await o(I,"sponsors"));const le={...C,logo:A};x?await r(x.id,le):await n(le),p(!1)}catch(A){console.error("Error saving sponsor:",A),alert((A==null?void 0:A.message)||"Error al guardar el sponsor")}finally{M(!1)}},U=async()=>{x&&(await s(x.id),v(!1))},L=A=>{switch(A){case"Principal":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";case"Colaborador":return"bg-blue-500/10 text-blue-600 border-blue-500/20";case"Amigo":return"bg-green-500/10 text-green-600 border-green-500/20"}};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Patrocinadores"}),l.jsx("p",{className:"text-muted-foreground",children:"Apoyos y colaboradores"})]}),l.jsxs(he,{onClick:N,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Nuevo Patrocinador"]})]}),l.jsxs(Tt,{children:[l.jsx(Bt,{children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(ze,{placeholder:"Buscar...",value:c,onChange:A=>d(A.target.value),className:"pl-9"})]})}),l.jsx(Nt,{children:$.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No hay patrocinadores"}),l.jsxs(he,{variant:"outline",className:"mt-4",onClick:N,children:[l.jsx(pn,{className:"mr-2 h-4 w-4"}),"Agregar primer patrocinador"]})]}):l.jsxs(Ic,{children:[l.jsx(kc,{children:l.jsxs(Pr,{children:[l.jsx(it,{children:"Logo"}),l.jsx(it,{children:"Nombre"}),l.jsx(it,{children:"Nivel"}),l.jsx(it,{children:"Website"}),l.jsx(it,{children:"Estado"}),l.jsx(it,{className:"text-right",children:"Acciones"})]})}),l.jsx(Ac,{children:$.map(A=>l.jsxs(Pr,{children:[l.jsx(ot,{children:l.jsx("div",{className:"w-16 h-12 bg-muted rounded overflow-hidden flex items-center justify-center p-2",children:A.logo?l.jsx("img",{src:A.logo,alt:A.name,className:"w-full h-full object-contain"}):l.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"})})}),l.jsx(ot,{className:"font-medium",children:A.name}),l.jsx(ot,{children:l.jsx(Jn,{variant:"outline",className:L(A.tier),children:A.tier})}),l.jsx(ot,{children:A.website&&l.jsxs("a",{href:A.website,target:"_blank",rel:"noopener",className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground",children:[l.jsx(TF,{className:"h-3 w-3"}),"Visitar"]})}),l.jsx(ot,{children:l.jsx(Jn,{variant:A.isActive?"default":"outline",children:A.isActive?"Activo":"Inactivo"})}),l.jsx(ot,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(he,{variant:"ghost",size:"icon",onClick:()=>k(A),children:l.jsx(Mo,{className:"h-4 w-4"})}),l.jsx(he,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>{S(A),v(!0)},children:l.jsx(Ys,{className:"h-4 w-4"})})]})})]},A.id))})]})})]}),l.jsx(Fo,{open:h,onOpenChange:p,children:l.jsxs(Uo,{children:[l.jsxs(zo,{children:[l.jsx(Wo,{children:x?"Editar Patrocinador":"Nuevo Patrocinador"}),l.jsx($o,{children:"Informacin del patrocinador o colaborador"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Logo"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-24 h-16 bg-muted rounded-lg overflow-hidden flex items-center justify-center p-2",children:D?l.jsx("img",{src:D,alt:"Preview",className:"w-full h-full object-contain"}):l.jsx(Rr,{className:"h-6 w-6 text-muted-foreground"})}),l.jsx(ze,{type:"file",accept:"image/*",onChange:P,className:"max-w-[200px]"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Nombre *"}),l.jsx(ze,{value:C.name,onChange:A=>b({...C,name:A.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Nivel"}),l.jsxs(wd,{value:C.tier,onValueChange:A=>b({...C,tier:A}),children:[l.jsx(Ed,{children:l.jsx(_d,{})}),l.jsx(bd,{children:y7.map(A=>l.jsx(cc,{value:A,children:A},A))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Website"}),l.jsx(ze,{value:C.website,onChange:A=>b({...C,website:A.target.value}),placeholder:"https://..."})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Se,{children:"Activo"}),l.jsx(Ri,{checked:C.isActive,onCheckedChange:A=>b({...C,isActive:A})})]})]}),l.jsxs(Bo,{children:[l.jsx(he,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),l.jsxs(he,{onClick:F,disabled:B||!C.name,children:[B&&l.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin"}),x?"Guardar":"Crear"]})]})]})}),l.jsx(Ho,{open:g,onOpenChange:v,children:l.jsxs(qo,{children:[l.jsxs(Go,{children:[l.jsx(Yo,{children:"Eliminar patrocinador?"}),l.jsx(Qo,{children:"Esta accin no se puede deshacer."})]}),l.jsxs(Ko,{children:[l.jsx(Jo,{children:"Cancelar"}),l.jsx(Xo,{onClick:U,className:"bg-destructive text-destructive-foreground",children:"Eliminar"})]})]})})]})}const Zg=[{slug:"historia",title:"Historia",icon:RF,description:"La historia de Casa Ramayon"},{slug:"espacio",title:"El Espacio",icon:Qy,description:"Descripcin de las instalaciones"},{slug:"equipo",title:"Equipo",icon:ex,description:"Informacin general del equipo"},{slug:"contacto",title:"Contacto",icon:UF,description:"Informacin de contacto"}];function w7(){var B;const{pages:t,loading:e,updatePage:n,uploadImage:r}=Un(),[s,o]=w.useState(!1),[c,d]=w.useState(null),[h,p]=w.useState({title:"",subtitle:"",content:"",image:"",isActive:!0}),[g,v]=w.useState(null),[x,S]=w.useState(""),[C,b]=w.useState(!1),I=M=>t.find($=>$.slug===M),O=M=>{const $=I(M),N=Zg.find(k=>k.slug===M);d(M),p({title:($==null?void 0:$.title)||(N==null?void 0:N.title)||"",subtitle:($==null?void 0:$.subtitle)||"",content:($==null?void 0:$.content)||"",image:($==null?void 0:$.image)||"",isActive:($==null?void 0:$.isActive)??!0}),S(($==null?void 0:$.image)||""),v(null),o(!0)},D=M=>{var N;const $=(N=M.target.files)==null?void 0:N[0];if($){v($);const k=new FileReader;k.onloadend=()=>S(k.result),k.readAsDataURL($)}},j=async()=>{if(c){b(!0);try{let M=h.image;g&&(M=await r(g,"pages")),await n(c,{...h,image:M,slug:c}),o(!1)}catch(M){console.error("Error saving page:",M),alert((M==null?void 0:M.message)||"Error al guardar la pgina")}finally{b(!1)}}};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Pginas"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestiona el contenido de las pginas estticas"})]}),l.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:Zg.map(M=>{const $=I(M.slug),N=M.icon;return l.jsxs(Tt,{children:[l.jsx(Bt,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:l.jsx(N,{className:"h-5 w-5 text-primary"})}),l.jsxs("div",{children:[l.jsx(On,{className:"text-lg",children:M.title}),l.jsx(Hr,{children:M.description})]})]}),l.jsx(Jn,{variant:$!=null&&$.isActive?"default":"outline",children:$!=null&&$.isActive?"Activo":"Inactivo"})]})}),l.jsx(Nt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:$!=null&&$.content?l.jsxs("span",{children:[$.content.substring(0,50),"..."]}):l.jsx("span",{className:"italic",children:"Sin contenido"})}),l.jsxs(he,{variant:"outline",size:"sm",onClick:()=>O(M.slug),children:[l.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Editar"]})]})})]},M.slug)})}),l.jsx(Fo,{open:s,onOpenChange:o,children:l.jsxs(Uo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(zo,{children:[l.jsxs(Wo,{children:["Editar ",(B=Zg.find(M=>M.slug===c))==null?void 0:B.title]}),l.jsx($o,{children:"Modifica el contenido de esta pgina"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Imagen de cabecera"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-32 h-20 bg-muted rounded-lg overflow-hidden flex items-center justify-center",children:x?l.jsx("img",{src:x,alt:"Preview",className:"w-full h-full object-cover"}):l.jsx(Rr,{className:"h-8 w-8 text-muted-foreground"})}),l.jsx(ze,{type:"file",accept:"image/*",onChange:D,className:"max-w-[200px]"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Ttulo"}),l.jsx(ze,{value:h.title,onChange:M=>p({...h,title:M.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Subttulo (opcional)"}),l.jsx(ze,{value:h.subtitle,onChange:M=>p({...h,subtitle:M.target.value}),placeholder:"Una breve descripcin..."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Se,{children:"Contenido"}),l.jsx(Wa,{value:h.content,onChange:M=>p({...h,content:M.target.value}),rows:8,placeholder:"Escribe el contenido de la pgina..."}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Pods usar saltos de lnea para separar prrafos"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Se,{children:"Estado"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Pginas inactivas no se muestran"})]}),l.jsx(Ri,{checked:h.isActive,onCheckedChange:M=>p({...h,isActive:M})})]})]}),l.jsxs(Bo,{children:[l.jsx(he,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),l.jsxs(he,{onClick:j,disabled:C,children:[C&&l.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardar Cambios"]})]})]})})]})}const _7="https://casaramayon.com";function E7(){const{subscribers:t,loading:e,deleteSubscriber:n,useLocalStorage:r}=Un(),[s,o]=w.useState(""),[c,d]=w.useState(!1),[h,p]=w.useState(null),[g,v]=w.useState("idle"),[x,S]=w.useState(""),C=t.filter(D=>D.email.toLowerCase().includes(s.toLowerCase())),b=async()=>{var D;v("loading"),S("");try{const j=lF("sendNewsletter"),{data:B}=await j({siteUrl:_7});S((D=B.errors)!=null&&D.length?`Enviados: ${B.sent}/${B.total}. Errores: ${B.errors.slice(0,3).join("; ")}${B.errors.length>3?"...":""}`:`Newsletter enviado a ${B.sent} suscriptor(es)`),v("success")}catch(j){S((j==null?void 0:j.message)||"Error al enviar el newsletter"),v("error")}},I=async()=>{h&&(await n(h.id),d(!1))},O=D=>{var B;const j=D instanceof Date?D:((B=D.toDate)==null?void 0:B.call(D))??new Date;return new Date(j).toLocaleDateString("es-AR",{day:"2-digit",month:"short",year:"numeric"})};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(pr,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Suscriptores"}),l.jsx("p",{className:"text-muted-foreground",children:"Emails que se suscribieron al boletn desde el sitio"})]}),l.jsxs(he,{onClick:b,disabled:g==="loading"||r||t.length===0,title:r?"Necesits usar Firebase para enviar newsletters":void 0,children:[g==="loading"?l.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(Xy,{className:"mr-2 h-4 w-4"}),"Enviar newsletter"]})]}),r&&l.jsx(qr,{children:l.jsx(Gr,{children:"El newsletter se enva desde Firebase. Para usar esta funcin, activ Firebase en Configuracin (los suscriptores deben estar en Firestore)."})}),g==="success"&&l.jsx(qr,{className:"border-green-500/50 bg-green-50 dark:bg-green-950/20",children:l.jsx(Gr,{children:x})}),g==="error"&&l.jsx(qr,{variant:"destructive",children:l.jsx(Gr,{children:x})}),l.jsxs(Tt,{children:[l.jsx(Bt,{children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(ze,{placeholder:"Buscar por email...",value:s,onChange:D=>o(D.target.value),className:"pl-9"})]})}),l.jsx(Nt,{children:C.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Tm,{className:"mx-auto h-12 w-12 text-muted-foreground/50 mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:t.length===0?"An no hay suscriptores":"No hay resultados para tu bsqueda"})]}):l.jsxs(Ic,{children:[l.jsx(kc,{children:l.jsxs(Pr,{children:[l.jsx(it,{children:"Email"}),l.jsx(it,{children:"Fecha de suscripcin"}),l.jsx(it,{className:"text-right",children:"Acciones"})]})}),l.jsx(Ac,{children:C.map(D=>l.jsxs(Pr,{children:[l.jsx(ot,{className:"font-medium",children:D.email}),l.jsx(ot,{className:"text-muted-foreground",children:O(D.createdAt)}),l.jsx(ot,{className:"text-right",children:l.jsx(he,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>{p(D),d(!0)},children:l.jsx(Ys,{className:"h-4 w-4"})})})]},D.id))})]})})]}),l.jsx(Ho,{open:c,onOpenChange:d,children:l.jsxs(qo,{children:[l.jsxs(Go,{children:[l.jsx(Yo,{children:"Eliminar suscriptor?"}),l.jsxs(Qo,{children:["Se eliminar ",h==null?void 0:h.email," de la lista. Esta accin no se puede deshacer."]})]}),l.jsxs(Ko,{children:[l.jsx(Jo,{children:"Cancelar"}),l.jsx(Xo,{onClick:I,className:"bg-destructive text-destructive-foreground",children:"Eliminar"})]})]})})]})}function b7(){const{events:t,products:e,useLocalStorage:n}=Un(),[r,s]=w.useState(""),o=()=>{const p={events:t,products:e,exportedAt:new Date().toISOString()},g=new Blob([JSON.stringify(p,null,2)],{type:"application/json"}),v=URL.createObjectURL(g),x=document.createElement("a");x.href=v,x.download=`casa-ramayon-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(v),s("Datos exportados correctamente"),setTimeout(()=>s(""),3e3)},c=p=>{var x;const g=(x=p.target.files)==null?void 0:x[0];if(!g)return;const v=new FileReader;v.onload=S=>{var C;try{const b=JSON.parse((C=S.target)==null?void 0:C.result);b.events&&localStorage.setItem("casa_ramayon_events",JSON.stringify(b.events)),b.products&&localStorage.setItem("casa_ramayon_products",JSON.stringify(b.products)),s("Datos importados. Recarga la pgina para ver los cambios.")}catch{s("Error al importar los datos. Verifica el formato del archivo.")}},v.readAsText(g)},d=()=>{window.confirm("Ests seguro de que quieres eliminar todos los datos? Esta accin no se puede deshacer.")&&(localStorage.removeItem("casa_ramayon_events"),localStorage.removeItem("casa_ramayon_products"),s("Datos eliminados. Recarga la pgina."))},h=()=>{navigator.clipboard.writeText(`VITE_FIREBASE_API_KEY=your-api-key
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your-sender-id
VITE_FIREBASE_APP_ID=your-app-id`),s("Variables copiadas al portapapeles"),setTimeout(()=>s(""),3e3)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Configuracin"}),l.jsx("p",{className:"text-muted-foreground",children:"Administra la configuracin del panel"})]}),r&&l.jsxs(qr,{children:[l.jsx(kl,{className:"h-4 w-4"}),l.jsx(Gr,{children:r})]}),l.jsxs(Tt,{children:[l.jsx(Bt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(On,{className:"flex items-center gap-2",children:[l.jsx(SF,{className:"h-5 w-5"}),"Estado del Almacenamiento"]}),l.jsx(Hr,{children:"Modo actual de almacenamiento de datos"})]}),l.jsx(Jn,{variant:n?"secondary":"default",children:n?l.jsxs(l.Fragment,{children:[l.jsx(AF,{className:"mr-1 h-3 w-3"}),"Local"]}):l.jsxs(l.Fragment,{children:[l.jsx(db,{className:"mr-1 h-3 w-3"}),"Firebase"]})})]})}),l.jsxs(Nt,{children:[n?l.jsxs(qr,{children:[l.jsx(Lg,{className:"h-4 w-4"}),l.jsx(Gr,{children:"Ests usando almacenamiento local. Los datos solo estn guardados en este navegador y no se sincronizarn entre dispositivos."})]}):l.jsxs(qr,{children:[l.jsx(kl,{className:"h-4 w-4"}),l.jsx(Gr,{children:"Conectado a Firebase. Los datos se sincronizan en tiempo real."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Eventos"}),l.jsx("p",{className:"text-2xl font-bold",children:t.length})]}),l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Productos"}),l.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})]})]}),l.jsxs(Tt,{children:[l.jsx(Bt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(On,{className:"flex items-center gap-2",children:[l.jsx(jF,{className:"h-5 w-5"}),"Cloudinary - Imgenes"]}),l.jsx(Hr,{children:"Las imgenes se suben a Cloudinary (no a localStorage)"})]}),l.jsx(Jn,{variant:uf()?"default":"secondary",children:uf()?l.jsxs(l.Fragment,{children:[l.jsx(kl,{className:"mr-1 h-3 w-3"}),"Configurado"]}):l.jsxs(l.Fragment,{children:[l.jsx(Lg,{className:"mr-1 h-3 w-3"}),"Sin configurar"]})})]})}),l.jsxs(Nt,{className:"space-y-4",children:[uf()?l.jsxs(qr,{children:[l.jsx(kl,{className:"h-4 w-4"}),l.jsx(Gr,{children:"Cloudinary est configurado. Las imgenes de eventos, productos, talleres y dems se suben a la nube."})]}):l.jsxs(qr,{children:[l.jsx(Lg,{className:"h-4 w-4"}),l.jsx(Gr,{children:"Sin Cloudinary configurado no se podrn subir imgenes (eventos, productos, etc.). Configur Cloudinary para que las imgenes se guarden en la nube y estn disponibles en todos los dispositivos."})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Agreg al archivo ",l.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:".env"}),":"]}),l.jsxs("div",{className:"relative",children:[l.jsx("pre",{className:"bg-muted p-4 rounded-lg text-xs overflow-x-auto",children:`VITE_CLOUDINARY_CLOUD_NAME=tu-cloud-name
VITE_CLOUDINARY_UPLOAD_PRESET=casa_ramayon`}),l.jsxs(he,{variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>{navigator.clipboard.writeText(`VITE_CLOUDINARY_CLOUD_NAME=tu-cloud-name
VITE_CLOUDINARY_UPLOAD_PRESET=casa_ramayon`),s("Variables Cloudinary copiadas"),setTimeout(()=>s(""),3e3)},children:[l.jsx(hb,{className:"h-4 w-4 mr-1"}),"Copiar"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"Pasos:"}),l.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 list-decimal list-inside",children:[l.jsxs("li",{children:["Cre una cuenta en ",l.jsx("a",{href:"https://cloudinary.com",target:"_blank",rel:"noopener",className:"text-primary hover:underline",children:"Cloudinary"})]}),l.jsxs("li",{children:["En el Dashboard, copi tu ",l.jsx("strong",{children:"Cloud name"})]}),l.jsxs("li",{children:["Ve a Settings  Upload y cre un ",l.jsx("strong",{children:"Upload preset"})," (unsigned)"]}),l.jsxs("li",{children:["Agreg las variables al ",l.jsx("code",{className:"bg-muted px-1",children:".env"})," y reinici el servidor"]})]})]})]})]}),l.jsxs(Tt,{children:[l.jsx(Bt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(On,{className:"flex items-center gap-2",children:[l.jsx(Tm,{className:"h-5 w-5"}),"Boletn - Notificaciones al Admin"]}),l.jsx(Hr,{children:"Email a agostinaremanso@gmail.com cuando alguien se suscriba"})]}),l.jsx(Jn,{variant:"default",children:l.jsxs(l.Fragment,{children:[l.jsx(kl,{className:"mr-1 h-3 w-3"}),"Configurado"]})})]})}),l.jsxs(Nt,{className:"space-y-4",children:[l.jsxs(qr,{children:[l.jsx(kl,{className:"h-4 w-4"}),l.jsx(Gr,{children:"Las suscripciones disparan un email al admin configurado en Formspree."})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Agreg al ",l.jsx("code",{className:"bg-muted px-1 rounded",children:".env"}),":"]}),l.jsx("pre",{className:"bg-muted p-4 rounded-lg text-xs overflow-x-auto",children:`# Cre un form en https://formspree.io con agostinaremanso@gmail.com como receptor
VITE_FORMSPREE_NEWSLETTER_ID=tu-form-id`}),l.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 list-decimal list-inside",children:[l.jsxs("li",{children:["Ir a ",l.jsx("a",{href:"https://formspree.io",target:"_blank",rel:"noopener",className:"text-primary hover:underline",children:"formspree.io"})]}),l.jsx("li",{children:"Crear un nuevo formulario con agostinaremanso@gmail.com como email receptor"}),l.jsx("li",{children:"Copiar el ID del form (ej: xyzabcde) y agregar VITE_FORMSPREE_NEWSLETTER_ID=xyzabcde al .env"}),l.jsx("li",{children:"Reiniciar el servidor"})]})]})]}),l.jsxs(Tt,{children:[l.jsxs(Bt,{children:[l.jsxs(On,{className:"flex items-center gap-2",children:[l.jsx(Xy,{className:"h-5 w-5"}),"Newsletter - Enviar a suscriptores"]}),l.jsx(Hr,{children:'Para el botn "Enviar newsletter" en Suscriptores necesits Resend'})]}),l.jsxs(Nt,{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:["1. Cre cuenta en ",l.jsx("a",{href:"https://resend.com",target:"_blank",rel:"noopener",className:"text-primary hover:underline",children:"resend.com"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"2. Obten tu API key y ejecut:"}),l.jsx("code",{className:"block bg-muted p-3 rounded text-xs overflow-x-auto",children:'firebase functions:config:set resend.api_key="re_xxxxxxxxx"'}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["3. Redeploy de funciones: ",l.jsx("code",{className:"bg-muted px-1 rounded",children:"firebase deploy --only functions"})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["4. (Opcional) Para usar tu dominio como remitente, verific el dominio en Resend y configur:"," ",l.jsx("code",{className:"bg-muted px-1 rounded",children:'firebase functions:config:set resend.from="Casa Ramayon <hola@tudominio.com>"'})]})]})]}),l.jsxs(Tt,{children:[l.jsxs(Bt,{children:[l.jsxs(On,{className:"flex items-center gap-2",children:[l.jsx(db,{className:"h-5 w-5"}),"Configurar Firebase"]}),l.jsx(Hr,{children:"Configura Firebase para sincronizacin en la nube"})]}),l.jsxs(Nt,{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Para usar Firebase, crea un archivo ",l.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:".env"})," ","en la raz del proyecto con las siguientes variables:"]}),l.jsxs("div",{className:"relative",children:[l.jsx("pre",{className:"bg-muted p-4 rounded-lg text-xs overflow-x-auto",children:`VITE_FIREBASE_API_KEY=your-api-key
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your-sender-id
VITE_FIREBASE_APP_ID=your-app-id`}),l.jsxs(he,{variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:h,children:[l.jsx(hb,{className:"h-4 w-4 mr-1"}),"Copiar"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"Pasos para configurar Firebase:"}),l.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 list-decimal list-inside",children:[l.jsxs("li",{children:["Ve a ",l.jsx("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener",className:"text-primary hover:underline",children:"Firebase Console"})]}),l.jsx("li",{children:"Crea un nuevo proyecto o selecciona uno existente"}),l.jsx("li",{children:"Activa Authentication y Firestore"}),l.jsx("li",{children:"En Configuracin del proyecto, copia las credenciales de la app web"}),l.jsx("li",{children:"Crea el archivo .env con las variables"}),l.jsx("li",{children:"Reinicia el servidor de desarrollo"})]})]}),l.jsxs("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-950/30 rounded-lg border border-amber-200 dark:border-amber-800",children:[l.jsx("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200 mb-2",children:"Importante: Reglas de Firestore"}),l.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 mb-2",children:"Si los datos se pierden al abrir en incognito, las reglas de Firestore probablemente bloquean la lectura. Ejecut en la raz del proyecto:"}),l.jsx("code",{className:"block bg-amber-100 dark:bg-amber-900/50 px-3 py-2 rounded text-xs",children:"npx firebase deploy --only firestore:rules"}),l.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-2",children:["O configur las reglas manualmente en"," ",l.jsx("a",{href:"https://console.firebase.google.com/project/casa-ramayon/firestore/rules",target:"_blank",rel:"noopener",className:"text-primary hover:underline font-medium",children:"Firestore  Reglas"})," ","(ver archivo ",l.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"firestore.rules"})," en el proyecto)."]})]})]})]}),l.jsxs(Tt,{children:[l.jsxs(Bt,{children:[l.jsx(On,{children:"Gestin de Datos"}),l.jsx(Hr,{children:"Exporta, importa o elimina los datos del sistema"})]}),l.jsxs(Nt,{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsxs(he,{variant:"outline",onClick:o,children:[l.jsx(CF,{className:"mr-2 h-4 w-4"}),"Exportar Datos (JSON)"]}),l.jsxs("div",{children:[l.jsx(ze,{type:"file",accept:".json",onChange:c,className:"hidden",id:"import-file"}),l.jsx(he,{variant:"outline",asChild:!0,children:l.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[l.jsx($F,{className:"mr-2 h-4 w-4"}),"Importar Datos"]})})]})]}),l.jsx(rI,{}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-destructive mb-2",children:"Zona de Peligro"}),l.jsxs(he,{variant:"destructive",onClick:d,children:[l.jsx(Ys,{className:"mr-2 h-4 w-4"}),"Eliminar Todos los Datos Locales"]})]})]})]})]})}function S7(){return l.jsx(PP,{children:l.jsx(cF,{children:l.jsx(pF,{children:l.jsx(hF,{children:l.jsxs(lP,{children:[l.jsx(Rn,{path:"/",element:l.jsx(RU,{})}),l.jsx(Rn,{path:"/panel/login",element:l.jsx(jU,{})}),l.jsxs(Rn,{path:"/panel",element:l.jsx(gF,{children:l.jsx(e9,{})}),children:[l.jsx(Rn,{index:!0,element:l.jsx(t9,{})}),l.jsx(Rn,{path:"eventos",element:l.jsx(u7,{})}),l.jsx(Rn,{path:"talleres",element:l.jsx(m7,{})}),l.jsx(Rn,{path:"visitas",element:l.jsx(p7,{})}),l.jsx(Rn,{path:"productos",element:l.jsx(h7,{})}),l.jsx(Rn,{path:"equipo",element:l.jsx(g7,{})}),l.jsx(Rn,{path:"membresias",element:l.jsx(v7,{})}),l.jsx(Rn,{path:"sponsors",element:l.jsx(x7,{})}),l.jsx(Rn,{path:"paginas",element:l.jsx(w7,{})}),l.jsx(Rn,{path:"suscriptores",element:l.jsx(E7,{})}),l.jsx(Rn,{path:"configuracion",element:l.jsx(b7,{})})]}),l.jsx(Rn,{path:"*",element:l.jsx(jS,{to:"/",replace:!0})})]})})})})})}lR.createRoot(document.getElementById("root")).render(l.jsx(ue.StrictMode,{children:l.jsx(S7,{})}));
